import{r as b,j as t,B as l}from"./index-OixFsMgm.js";const d={pending:{color:"bg-yellow-100 text-yellow-800",label:"pending"},approved:{color:"bg-teal-100 text-teal-800",label:"approved"},in_production:{color:"bg-purple-100 text-purple-800",label:"in_production"},completed:{color:"bg-green-100 text-green-800",label:"completed"},in_transit:{color:"bg-blue-100 text-blue-800",label:"in_transit"},delivered:{color:"bg-gray-100 text-gray-800",label:"delivered"},cancelled:{color:"bg-red-100 text-red-800",label:"cancelled"}},w=s=>s?s.trim().split(" ").slice(0,2).join(" "):"غير معروف",j=b.memo(({orders:s,t:i,isRtl:a,calculateAdjustedTotal:p,calculateTotalQuantity:m,startIndex:o,viewOrder:h,openConfirmDeliveryModal:g,openReturnModal:u,user:r,submitting:c})=>t.jsx("div",{className:"overflow-x-auto rounded-lg shadow-md border border-gray-200",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-auto bg-white",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[5%]",children:"#"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:a?"رقم الطلب":"Order Number"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:a?"الحالة":"Status"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[30%]",children:a?"المنتجات":"Products"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:a?"إجمالي المبلغ":"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[10%]",children:a?"الكمية الإجمالية":"Total Quantity"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:a?"التاريخ":"Date"}),t.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:a?"الإجراءات":"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map((e,y)=>{const x=d[e.status]||d.pending;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:o+y}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:e.orderNumber}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-right",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.color}`,children:a?e.status==="pending"?"معلق":e.status==="approved"?"معتمد":e.status==="in_production"?"قيد الإنتاج":e.status==="completed"?"مكتمل":e.status==="in_transit"?"في النقل":e.status==="delivered"?"تم التسليم":"ملغى":i(`orders.status_${x.label}`)})}),t.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right truncate",children:e.items.map(n=>`(${n.quantity} ${i(`${n.unit||"unit"}`)}  ${w(n.productName)})`).join(" + ")}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:p(e)}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:m(e)}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:e.date}),t.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-right",children:t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(l,{variant:"primary",size:"sm",onClick:()=>h(e),className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full px-3 py-1 text-xs","aria-label":a?`عرض الطلب ${e.orderNumber}`:`View order ${e.orderNumber}`,children:a?"عرض":"View"}),e.status==="in_transit"&&(r==null?void 0:r.role)==="branch"&&e.branch._id===r.branchId&&t.jsx(l,{variant:"success",size:"sm",onClick:()=>g(e),className:"bg-green-500 hover:bg-green-600 text-white rounded-full px-3 py-1 text-xs",disabled:c===e.id,"aria-label":a?`تأكيد تسليم الطلب ${e.orderNumber}`:`Confirm delivery of order ${e.orderNumber}`,children:a?"تأكيد التسليم":"Confirm Delivery"}),e.status==="delivered"&&(r==null?void 0:r.role)==="branch"&&e.branch._id===r.branchId&&t.jsx(l,{variant:"secondary",size:"sm",onClick:()=>u(e,e.items[0].itemId),className:"bg-red-500 hover:bg-red-600 text-white rounded-full px-3 py-1 text-xs",disabled:c==="return","aria-label":a?`إرجاع الطلب ${e.orderNumber}`:`Return order ${e.orderNumber}`,children:a?"إرجاع":"Return"})]})})]},e.id)})})]})}));export{j as default};

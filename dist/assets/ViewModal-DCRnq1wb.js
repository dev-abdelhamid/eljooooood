import{r as g,j as e,M as j,X as o}from"./index-OixFsMgm.js";const N=g.memo(({isOpen:i,onClose:l,order:s,t:r,isRtl:t,calculateAdjustedTotal:h})=>{var n,m;return s?e.jsx(j,{isOpen:i,onClose:l,title:t?`تفاصيل الطلب #${s.orderNumber}`:`Order Details #${s.orderNumber}`,icon:o,className:"max-w-2xl w-full p-6 bg-white rounded-lg shadow-xl",dir:t?"rtl":"ltr",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"رقم الطلب":"Order Number"}),e.jsx("p",{className:"text-base text-gray-900",children:s.orderNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"الحالة":"Status"}),e.jsx("p",{className:"text-base text-gray-900",children:t?s.status==="pending"?"معلق":s.status==="approved"?"معتمد":s.status==="in_production"?"قيد الإنتاج":s.status==="completed"?"مكتمل":s.status==="in_transit"?"في النقل":s.status==="delivered"?"تم التسليم":"ملغى":r(`orders.status_${s.status}`)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"إجمالي المبلغ":"Total Amount"}),e.jsx("p",{className:"text-base font-semibold text-teal-600",children:h(s)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"التاريخ":"Date"}),e.jsx("p",{className:"text-base text-gray-900",children:s.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"الأولوية":"Priority"}),e.jsx("p",{className:"text-base text-gray-900 capitalize",children:s.priority})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"الفرع":"Branch"}),e.jsx("p",{className:"text-base text-gray-900",children:s.branchName})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:t?"المنتجات":"Products"}),e.jsx("div",{className:"border border-gray-200 rounded-md  overflow-x-scroll overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-gray-600 text-right",children:t?"المنتج":"Product"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-gray-600 text-right",children:t?"الكمية":"Quantity"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-gray-600 text-right",children:t?"السعر":"Price"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-gray-600 text-right",children:t?"القسم":"Department"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:s.items.map(a=>{var x;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:a.productName}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:t?`${a.quantity} ${r(`${a.unit||"unit"}`)}`:`${a.quantity} ${r(`${a.unit||"unit"}`)}`}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:a.price.toLocaleString(t?"ar-SA":"en-US",{style:"currency",currency:"SAR"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:((x=a.department)==null?void 0:x.name)||(t?"غير معروف":"Unknown")})]},a.itemId)})})]})})]}),((n=s.returns)==null?void 0:n.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:t?"المرتجعات":"Returns"}),e.jsx("div",{className:"border border-amber-200 rounded-md overflow-x-scroll overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-amber-100",children:[e.jsx("thead",{className:"bg-amber-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-amber-600 text-right",children:t?"المنتج":"Product"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-amber-600 text-right",children:t?"الكمية":"Quantity"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-amber-600 text-right",children:t?"السبب":"Reason"}),e.jsx("th",{className:"px-4 py-2 text-sm font-medium text-amber-600 text-right",children:t?"الحالة":"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-amber-100",children:s.returns.map((a,x)=>a.items.map((d,p)=>{var c;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:((c=s.items.find(u=>u.productId===d.productId))==null?void 0:c.productName)||(t?"غير معروف":"Unknown")}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:d.quantity}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:r(`orders.return_reasons_${d.reason}`)}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:r(`orders.return_status_${a.status}`)})]},`${x}-${p}`)}))})]})})]}),s.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?"ملاحظات":"Notes"}),e.jsx("p",{className:"text-base text-gray-900",children:s.notes})]}),((m=s.statusHistory)==null?void 0:m.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:t?"سجل الحالة":"Status History"}),e.jsx("div",{className:"border border-gray-200 rounded-md p-4",children:s.statusHistory.map((a,x)=>e.jsxs("div",{className:"flex flex-col gap-1 mb-2 last:mb-0",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsxs("strong",{children:[t?"الحالة":"Status",":"]})," ",t?a.status==="pending"?"معلق":a.status==="approved"?"معتمد":a.status==="in_production"?"قيد الإنتاج":a.status==="completed"?"مكتمل":a.status==="in_transit"?"في النقل":a.status==="delivered"?"تم التسليم":"ملغى":r(`orders.status_${a.status}`)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsxs("strong",{children:[t?"تم التغيير بواسطة":"Changed By",":"]})," ",a.changedBy]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsxs("strong",{children:[t?"التاريخ":"Date",":"]})," ",a.changedAt]}),a.notes&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsxs("strong",{children:[t?"ملاحظات":"Notes",":"]})," ",a.notes]})]},x))})]})]})}):null});export{N as default};

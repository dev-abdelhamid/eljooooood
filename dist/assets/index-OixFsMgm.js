var MV=Object.defineProperty;var cC=e=>{throw TypeError(e)};var BV=(e,t,r)=>t in e?MV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _t=(e,t,r)=>BV(e,typeof t!="symbol"?t+"":t,r),C5=(e,t,r)=>t.has(e)||cC("Cannot "+r);var Ie=(e,t,r)=>(C5(e,t,"read from private field"),r?r.call(e):t.get(e)),ir=(e,t,r)=>t.has(e)?cC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$t=(e,t,r,n)=>(C5(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Fr=(e,t,r)=>(C5(e,t,"access private method"),r);var Dv=(e,t,r,n)=>({set _(s){$t(e,t,s,r)},get _(){return Ie(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kD={exports:{}},Wb={},CD={exports:{}},Vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=Symbol.for("react.element"),UV=Symbol.for("react.portal"),$V=Symbol.for("react.fragment"),zV=Symbol.for("react.strict_mode"),qV=Symbol.for("react.profiler"),HV=Symbol.for("react.provider"),WV=Symbol.for("react.context"),VV=Symbol.for("react.forward_ref"),GV=Symbol.for("react.suspense"),KV=Symbol.for("react.memo"),YV=Symbol.for("react.lazy"),uC=Symbol.iterator;function XV(e){return e===null||typeof e!="object"?null:(e=uC&&e[uC]||e["@@iterator"],typeof e=="function"?e:null)}var ID={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PD=Object.assign,OD={};function cg(e,t,r){this.props=e,this.context=t,this.refs=OD,this.updater=r||ID}cg.prototype.isReactComponent={};cg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RD(){}RD.prototype=cg.prototype;function tE(e,t,r){this.props=e,this.context=t,this.refs=OD,this.updater=r||ID}var rE=tE.prototype=new RD;rE.constructor=tE;PD(rE,cg.prototype);rE.isPureReactComponent=!0;var dC=Array.isArray,DD=Object.prototype.hasOwnProperty,nE={current:null},LD={key:!0,ref:!0,__self:!0,__source:!0};function jD(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)DD.call(t,n)&&!LD.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:bx,type:e,key:i,ref:a,props:s,_owner:nE.current}}function QV(e,t){return{$$typeof:bx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sE(e){return typeof e=="object"&&e!==null&&e.$$typeof===bx}function ZV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fC=/\/+/g;function I5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZV(""+e.key):t.toString(36)}function H2(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bx:case UV:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+I5(a,0):n,dC(s)?(r="",e!=null&&(r=e.replace(fC,"$&/")+"/"),H2(s,t,r,"",function(c){return c})):s!=null&&(sE(s)&&(s=QV(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(fC,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",dC(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+I5(i,o);a+=H2(i,t,r,l,s)}else if(l=XV(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+I5(i,o++),a+=H2(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Lv(e,t,r){if(e==null)return e;var n=[],s=0;return H2(e,n,"","",function(i){return t.call(r,i,s++)}),n}function JV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pa={current:null},W2={transition:null},eG={ReactCurrentDispatcher:Pa,ReactCurrentBatchConfig:W2,ReactCurrentOwner:nE};function FD(){throw Error("act(...) is not supported in production builds of React.")}Vr.Children={map:Lv,forEach:function(e,t,r){Lv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Lv(e,function(){t++}),t},toArray:function(e){return Lv(e,function(t){return t})||[]},only:function(e){if(!sE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vr.Component=cg;Vr.Fragment=$V;Vr.Profiler=qV;Vr.PureComponent=tE;Vr.StrictMode=zV;Vr.Suspense=GV;Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eG;Vr.act=FD;Vr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PD({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=nE.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)DD.call(t,l)&&!LD.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:bx,type:e.type,key:s,ref:i,props:n,_owner:a}};Vr.createContext=function(e){return e={$$typeof:WV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HV,_context:e},e.Consumer=e};Vr.createElement=jD;Vr.createFactory=function(e){var t=jD.bind(null,e);return t.type=e,t};Vr.createRef=function(){return{current:null}};Vr.forwardRef=function(e){return{$$typeof:VV,render:e}};Vr.isValidElement=sE;Vr.lazy=function(e){return{$$typeof:YV,_payload:{_status:-1,_result:e},_init:JV}};Vr.memo=function(e,t){return{$$typeof:KV,type:e,compare:t===void 0?null:t}};Vr.startTransition=function(e){var t=W2.transition;W2.transition={};try{e()}finally{W2.transition=t}};Vr.unstable_act=FD;Vr.useCallback=function(e,t){return Pa.current.useCallback(e,t)};Vr.useContext=function(e){return Pa.current.useContext(e)};Vr.useDebugValue=function(){};Vr.useDeferredValue=function(e){return Pa.current.useDeferredValue(e)};Vr.useEffect=function(e,t){return Pa.current.useEffect(e,t)};Vr.useId=function(){return Pa.current.useId()};Vr.useImperativeHandle=function(e,t,r){return Pa.current.useImperativeHandle(e,t,r)};Vr.useInsertionEffect=function(e,t){return Pa.current.useInsertionEffect(e,t)};Vr.useLayoutEffect=function(e,t){return Pa.current.useLayoutEffect(e,t)};Vr.useMemo=function(e,t){return Pa.current.useMemo(e,t)};Vr.useReducer=function(e,t,r){return Pa.current.useReducer(e,t,r)};Vr.useRef=function(e){return Pa.current.useRef(e)};Vr.useState=function(e){return Pa.current.useState(e)};Vr.useSyncExternalStore=function(e,t,r){return Pa.current.useSyncExternalStore(e,t,r)};Vr.useTransition=function(){return Pa.current.useTransition()};Vr.version="18.3.1";CD.exports=Vr;var L=CD.exports;const Hr=eE(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tG=L,rG=Symbol.for("react.element"),nG=Symbol.for("react.fragment"),sG=Object.prototype.hasOwnProperty,iG=tG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aG={key:!0,ref:!0,__self:!0,__source:!0};function MD(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)sG.call(t,n)&&!aG.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:rG,type:e,key:i,ref:a,props:s,_owner:iG.current}}Wb.Fragment=nG;Wb.jsx=MD;Wb.jsxs=MD;kD.exports=Wb;var d=kD.exports,BD={exports:{}},Mo={},UD={exports:{}},$D={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ne){var ee=Z.length;Z.push(ne);e:for(;0<ee;){var X=ee-1>>>1,I=Z[X];if(0<s(I,ne))Z[X]=ne,Z[ee]=I,ee=X;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],ee=Z.pop();if(ee!==ne){Z[0]=ee;e:for(var X=0,I=Z.length,U=I>>>1;X<U;){var G=2*(X+1)-1,V=Z[G],Q=G+1,ge=Z[Q];if(0>s(V,ee))Q<I&&0>s(ge,V)?(Z[X]=ge,Z[Q]=ee,X=Q):(Z[X]=V,Z[G]=ee,X=G);else if(Q<I&&0>s(ge,ee))Z[X]=ge,Z[Q]=ee,X=Q;else break e}}return ne}function s(Z,ne){var ee=Z.sortIndex-ne.sortIndex;return ee!==0?ee:Z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,p=3,m=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var ne=r(c);ne!==null;){if(ne.callback===null)n(c);else if(ne.startTime<=Z)n(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=r(c)}}function T(Z){if(y=!1,_(Z),!x)if(r(l)!==null)x=!0,Y(R);else{var ne=r(c);ne!==null&&W(T,ne.startTime-Z)}}function R(Z,ne){x=!1,y&&(y=!1,v(P),P=-1),m=!0;var ee=p;try{for(_(ne),h=r(l);h!==null&&(!(h.expirationTime>ne)||Z&&!k());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var I=X(h.expirationTime<=ne);ne=e.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),_(ne)}else n(l);h=r(l)}if(h!==null)var U=!0;else{var G=r(c);G!==null&&W(T,G.startTime-ne),U=!1}return U}finally{h=null,p=ee,m=!1}}var B=!1,j=null,P=-1,F=5,N=-1;function k(){return!(e.unstable_now()-N<F)}function C(){if(j!==null){var Z=e.unstable_now();N=Z;var ne=!0;try{ne=j(!0,Z)}finally{ne?H():(B=!1,j=null)}}else B=!1}var H;if(typeof S=="function")H=function(){S(C)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=C,H=function(){K.postMessage(null)}}else H=function(){b(C,0)};function Y(Z){j=Z,B||(B=!0,H())}function W(Z,ne){P=b(function(){Z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Y(R))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var ee=p;p=ne;try{return Z()}finally{p=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=p;p=Z;try{return ne()}finally{p=ee}},e.unstable_scheduleCallback=function(Z,ne,ee){var X=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?X+ee:X):ee=X,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ee+I,Z={id:u++,callback:ne,priorityLevel:Z,startTime:ee,expirationTime:I,sortIndex:-1},ee>X?(Z.sortIndex=ee,t(c,Z),r(l)===null&&Z===r(c)&&(y?(v(P),P=-1):y=!0,W(T,ee-X))):(Z.sortIndex=I,t(l,Z),x||m||(x=!0,Y(R))),Z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Z){var ne=p;return function(){var ee=p;p=ne;try{return Z.apply(this,arguments)}finally{p=ee}}}})($D);UD.exports=$D;var oG=UD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lG=L,Lo=oG;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zD=new Set,by={};function ep(e,t){Vm(e,t),Vm(e+"Capture",t)}function Vm(e,t){for(by[e]=t,e=0;e<t.length;e++)zD.add(t[e])}var ad=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P3=Object.prototype.hasOwnProperty,cG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hC={},pC={};function uG(e){return P3.call(pC,e)?!0:P3.call(hC,e)?!1:cG.test(e)?pC[e]=!0:(hC[e]=!0,!1)}function dG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fG(e,t,r,n){if(t===null||typeof t>"u"||dG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oa(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mi[e]=new Oa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mi[t]=new Oa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mi[e]=new Oa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mi[e]=new Oa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mi[e]=new Oa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mi[e]=new Oa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mi[e]=new Oa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mi[e]=new Oa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mi[e]=new Oa(e,5,!1,e.toLowerCase(),null,!1,!1)});var iE=/[\-:]([a-z])/g;function aE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iE,aE);Mi[t]=new Oa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iE,aE);Mi[t]=new Oa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iE,aE);Mi[t]=new Oa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mi[e]=new Oa(e,1,!1,e.toLowerCase(),null,!1,!1)});Mi.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mi[e]=new Oa(e,1,!1,e.toLowerCase(),null,!0,!0)});function oE(e,t,r,n){var s=Mi.hasOwnProperty(t)?Mi[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fG(t,r,s,n)&&(r=null),n||s===null?uG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yd=lG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jv=Symbol.for("react.element"),Vp=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),lE=Symbol.for("react.strict_mode"),O3=Symbol.for("react.profiler"),qD=Symbol.for("react.provider"),HD=Symbol.for("react.context"),cE=Symbol.for("react.forward_ref"),R3=Symbol.for("react.suspense"),D3=Symbol.for("react.suspense_list"),uE=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),WD=Symbol.for("react.offscreen"),mC=Symbol.iterator;function r1(e){return e===null||typeof e!="object"?null:(e=mC&&e[mC]||e["@@iterator"],typeof e=="function"?e:null)}var hs=Object.assign,P5;function T1(e){if(P5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);P5=t&&t[1]||""}return`
`+P5+e}var O5=!1;function R5(e,t){if(!e||O5)return"";O5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{O5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?T1(e):""}function hG(e){switch(e.tag){case 5:return T1(e.type);case 16:return T1("Lazy");case 13:return T1("Suspense");case 19:return T1("SuspenseList");case 0:case 2:case 15:return e=R5(e.type,!1),e;case 11:return e=R5(e.type.render,!1),e;case 1:return e=R5(e.type,!0),e;default:return""}}function L3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gp:return"Fragment";case Vp:return"Portal";case O3:return"Profiler";case lE:return"StrictMode";case R3:return"Suspense";case D3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HD:return(e.displayName||"Context")+".Consumer";case qD:return(e._context.displayName||"Context")+".Provider";case cE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uE:return t=e.displayName||null,t!==null?t:L3(e.type)||"Memo";case lf:t=e._payload,e=e._init;try{return L3(e(t))}catch{}}return null}function pG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L3(t);case 8:return t===lE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mG(e){var t=VD(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fv(e){e._valueTracker||(e._valueTracker=mG(e))}function GD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VD(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j3(e,t){var r=t.checked;return hs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KD(e,t){t=t.checked,t!=null&&oE(e,"checked",t,!1)}function F3(e,t){KD(e,t);var r=Yf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?M3(e,t.type,r):t.hasOwnProperty("defaultValue")&&M3(e,t.type,Yf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function M3(e,t,r){(t!=="number"||kw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var k1=Array.isArray;function hm(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yf(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function B3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return hs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(bt(92));if(k1(r)){if(1<r.length)throw Error(bt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yf(r)}}function YD(e,t){var r=Yf(t.value),n=Yf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mv,QD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mv=Mv||document.createElement("div"),Mv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _y(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var H1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gG=["Webkit","ms","Moz","O"];Object.keys(H1).forEach(function(e){gG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),H1[t]=H1[e]})});function ZD(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||H1.hasOwnProperty(e)&&H1[e]?(""+t).trim():t+"px"}function JD(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ZD(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var yG=hs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $3(e,t){if(t){if(yG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function z3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q3=null;function dE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var H3=null,pm=null,mm=null;function wC(e){if(e=Ax(e)){if(typeof H3!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=Xb(t),H3(e.stateNode,e.type,t))}}function eL(e){pm?mm?mm.push(e):mm=[e]:pm=e}function tL(){if(pm){var e=pm,t=mm;if(mm=pm=null,wC(e),t)for(e=0;e<t.length;e++)wC(t[e])}}function rL(e,t){return e(t)}function nL(){}var D5=!1;function sL(e,t,r){if(D5)return e(t,r);D5=!0;try{return rL(e,t,r)}finally{D5=!1,(pm!==null||mm!==null)&&(nL(),tL())}}function Sy(e,t){var r=e.stateNode;if(r===null)return null;var n=Xb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(bt(231,t,typeof r));return r}var W3=!1;if(ad)try{var n1={};Object.defineProperty(n1,"passive",{get:function(){W3=!0}}),window.addEventListener("test",n1,n1),window.removeEventListener("test",n1,n1)}catch{W3=!1}function xG(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var W1=!1,Cw=null,Iw=!1,V3=null,vG={onError:function(e){W1=!0,Cw=e}};function wG(e,t,r,n,s,i,a,o,l){W1=!1,Cw=null,xG.apply(vG,arguments)}function bG(e,t,r,n,s,i,a,o,l){if(wG.apply(this,arguments),W1){if(W1){var c=Cw;W1=!1,Cw=null}else throw Error(bt(198));Iw||(Iw=!0,V3=c)}}function tp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bC(e){if(tp(e)!==e)throw Error(bt(188))}function _G(e){var t=e.alternate;if(!t){if(t=tp(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bC(s),e;if(i===n)return bC(s),t;i=i.sibling}throw Error(bt(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(bt(189))}}if(r.alternate!==n)throw Error(bt(190))}if(r.tag!==3)throw Error(bt(188));return r.stateNode.current===r?e:t}function aL(e){return e=_G(e),e!==null?oL(e):null}function oL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oL(e);if(t!==null)return t;e=e.sibling}return null}var lL=Lo.unstable_scheduleCallback,_C=Lo.unstable_cancelCallback,SG=Lo.unstable_shouldYield,AG=Lo.unstable_requestPaint,Rs=Lo.unstable_now,EG=Lo.unstable_getCurrentPriorityLevel,fE=Lo.unstable_ImmediatePriority,cL=Lo.unstable_UserBlockingPriority,Pw=Lo.unstable_NormalPriority,NG=Lo.unstable_LowPriority,uL=Lo.unstable_IdlePriority,Vb=null,au=null;function TG(e){if(au&&typeof au.onCommitFiberRoot=="function")try{au.onCommitFiberRoot(Vb,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:IG,kG=Math.log,CG=Math.LN2;function IG(e){return e>>>=0,e===0?32:31-(kG(e)/CG|0)|0}var Bv=64,Uv=4194304;function C1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ow(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=C1(o):(i&=a,i!==0&&(n=C1(i)))}else a=r&~s,a!==0?n=C1(a):i!==0&&(n=C1(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-oc(t),s=1<<r,n|=e[r],t&=~s;return n}function PG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-oc(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=PG(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function G3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dL(){var e=Bv;return Bv<<=1,!(Bv&4194240)&&(Bv=64),e}function L5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _x(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oc(t),e[t]=r}function RG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-oc(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-oc(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Cn=0;function fL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hL,pE,pL,mL,gL,K3=!1,$v=[],Lf=null,jf=null,Ff=null,Ay=new Map,Ey=new Map,df=[],DG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SC(e,t){switch(e){case"focusin":case"focusout":Lf=null;break;case"dragenter":case"dragleave":jf=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":Ay.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ey.delete(t.pointerId)}}function s1(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ax(t),t!==null&&pE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function LG(e,t,r,n,s){switch(t){case"focusin":return Lf=s1(Lf,e,t,r,n,s),!0;case"dragenter":return jf=s1(jf,e,t,r,n,s),!0;case"mouseover":return Ff=s1(Ff,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ay.set(i,s1(Ay.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ey.set(i,s1(Ey.get(i)||null,e,t,r,n,s)),!0}return!1}function yL(e){var t=i0(e.target);if(t!==null){var r=tp(t);if(r!==null){if(t=r.tag,t===13){if(t=iL(r),t!==null){e.blockedOn=t,gL(e.priority,function(){pL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function V2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Y3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);q3=n,r.target.dispatchEvent(n),q3=null}else return t=Ax(r),t!==null&&pE(t),e.blockedOn=r,!1;t.shift()}return!0}function AC(e,t,r){V2(e)&&r.delete(t)}function jG(){K3=!1,Lf!==null&&V2(Lf)&&(Lf=null),jf!==null&&V2(jf)&&(jf=null),Ff!==null&&V2(Ff)&&(Ff=null),Ay.forEach(AC),Ey.forEach(AC)}function i1(e,t){e.blockedOn===t&&(e.blockedOn=null,K3||(K3=!0,Lo.unstable_scheduleCallback(Lo.unstable_NormalPriority,jG)))}function Ny(e){function t(s){return i1(s,e)}if(0<$v.length){i1($v[0],e);for(var r=1;r<$v.length;r++){var n=$v[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lf!==null&&i1(Lf,e),jf!==null&&i1(jf,e),Ff!==null&&i1(Ff,e),Ay.forEach(t),Ey.forEach(t),r=0;r<df.length;r++)n=df[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<df.length&&(r=df[0],r.blockedOn===null);)yL(r),r.blockedOn===null&&df.shift()}var gm=yd.ReactCurrentBatchConfig,Rw=!0;function FG(e,t,r,n){var s=Cn,i=gm.transition;gm.transition=null;try{Cn=1,mE(e,t,r,n)}finally{Cn=s,gm.transition=i}}function MG(e,t,r,n){var s=Cn,i=gm.transition;gm.transition=null;try{Cn=4,mE(e,t,r,n)}finally{Cn=s,gm.transition=i}}function mE(e,t,r,n){if(Rw){var s=Y3(e,t,r,n);if(s===null)W5(e,t,n,Dw,r),SC(e,n);else if(LG(s,e,t,r,n))n.stopPropagation();else if(SC(e,n),t&4&&-1<DG.indexOf(e)){for(;s!==null;){var i=Ax(s);if(i!==null&&hL(i),i=Y3(e,t,r,n),i===null&&W5(e,t,n,Dw,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else W5(e,t,n,null,r)}}var Dw=null;function Y3(e,t,r,n){if(Dw=null,e=dE(n),e=i0(e),e!==null)if(t=tp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dw=e,null}function xL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EG()){case fE:return 1;case cL:return 4;case Pw:case NG:return 16;case uL:return 536870912;default:return 16}default:return 16}}var Sf=null,gE=null,G2=null;function vL(){if(G2)return G2;var e,t=gE,r=t.length,n,s="value"in Sf?Sf.value:Sf.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return G2=s.slice(e,1<n?1-n:void 0)}function K2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zv(){return!0}function EC(){return!1}function Bo(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zv:EC,this.isPropagationStopped=EC,this}return hs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zv)},persist:function(){},isPersistent:zv}),t}var ug={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yE=Bo(ug),Sx=hs({},ug,{view:0,detail:0}),BG=Bo(Sx),j5,F5,a1,Gb=hs({},Sx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==a1&&(a1&&e.type==="mousemove"?(j5=e.screenX-a1.screenX,F5=e.screenY-a1.screenY):F5=j5=0,a1=e),j5)},movementY:function(e){return"movementY"in e?e.movementY:F5}}),NC=Bo(Gb),UG=hs({},Gb,{dataTransfer:0}),$G=Bo(UG),zG=hs({},Sx,{relatedTarget:0}),M5=Bo(zG),qG=hs({},ug,{animationName:0,elapsedTime:0,pseudoElement:0}),HG=Bo(qG),WG=hs({},ug,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VG=Bo(WG),GG=hs({},ug,{data:0}),TC=Bo(GG),KG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XG[e])?!!t[e]:!1}function xE(){return QG}var ZG=hs({},Sx,{key:function(e){if(e.key){var t=KG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xE,charCode:function(e){return e.type==="keypress"?K2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JG=Bo(ZG),eK=hs({},Gb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kC=Bo(eK),tK=hs({},Sx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xE}),rK=Bo(tK),nK=hs({},ug,{propertyName:0,elapsedTime:0,pseudoElement:0}),sK=Bo(nK),iK=hs({},Gb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aK=Bo(iK),oK=[9,13,27,32],vE=ad&&"CompositionEvent"in window,V1=null;ad&&"documentMode"in document&&(V1=document.documentMode);var lK=ad&&"TextEvent"in window&&!V1,wL=ad&&(!vE||V1&&8<V1&&11>=V1),CC=" ",IC=!1;function bL(e,t){switch(e){case"keyup":return oK.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _L(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kp=!1;function cK(e,t){switch(e){case"compositionend":return _L(t);case"keypress":return t.which!==32?null:(IC=!0,CC);case"textInput":return e=t.data,e===CC&&IC?null:e;default:return null}}function uK(e,t){if(Kp)return e==="compositionend"||!vE&&bL(e,t)?(e=vL(),G2=gE=Sf=null,Kp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wL&&t.locale!=="ko"?null:t.data;default:return null}}var dK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dK[e.type]:t==="textarea"}function SL(e,t,r,n){eL(n),t=Lw(t,"onChange"),0<t.length&&(r=new yE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var G1=null,Ty=null;function fK(e){DL(e,0)}function Kb(e){var t=Qp(e);if(GD(t))return e}function hK(e,t){if(e==="change")return t}var AL=!1;if(ad){var B5;if(ad){var U5="oninput"in document;if(!U5){var OC=document.createElement("div");OC.setAttribute("oninput","return;"),U5=typeof OC.oninput=="function"}B5=U5}else B5=!1;AL=B5&&(!document.documentMode||9<document.documentMode)}function RC(){G1&&(G1.detachEvent("onpropertychange",EL),Ty=G1=null)}function EL(e){if(e.propertyName==="value"&&Kb(Ty)){var t=[];SL(t,Ty,e,dE(e)),sL(fK,t)}}function pK(e,t,r){e==="focusin"?(RC(),G1=t,Ty=r,G1.attachEvent("onpropertychange",EL)):e==="focusout"&&RC()}function mK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kb(Ty)}function gK(e,t){if(e==="click")return Kb(t)}function yK(e,t){if(e==="input"||e==="change")return Kb(t)}function xK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dc=typeof Object.is=="function"?Object.is:xK;function ky(e,t){if(dc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!P3.call(t,s)||!dc(e[s],t[s]))return!1}return!0}function DC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LC(e,t){var r=DC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=DC(r)}}function NL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TL(){for(var e=window,t=kw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kw(e.document)}return t}function wE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vK(e){var t=TL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NL(r.ownerDocument.documentElement,r)){if(n!==null&&wE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=LC(r,i);var a=LC(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wK=ad&&"documentMode"in document&&11>=document.documentMode,Yp=null,X3=null,K1=null,Q3=!1;function jC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q3||Yp==null||Yp!==kw(n)||(n=Yp,"selectionStart"in n&&wE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),K1&&ky(K1,n)||(K1=n,n=Lw(X3,"onSelect"),0<n.length&&(t=new yE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yp)))}function qv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xp={animationend:qv("Animation","AnimationEnd"),animationiteration:qv("Animation","AnimationIteration"),animationstart:qv("Animation","AnimationStart"),transitionend:qv("Transition","TransitionEnd")},$5={},kL={};ad&&(kL=document.createElement("div").style,"AnimationEvent"in window||(delete Xp.animationend.animation,delete Xp.animationiteration.animation,delete Xp.animationstart.animation),"TransitionEvent"in window||delete Xp.transitionend.transition);function Yb(e){if($5[e])return $5[e];if(!Xp[e])return e;var t=Xp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kL)return $5[e]=t[r];return e}var CL=Yb("animationend"),IL=Yb("animationiteration"),PL=Yb("animationstart"),OL=Yb("transitionend"),RL=new Map,FC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ih(e,t){RL.set(e,t),ep(t,[e])}for(var z5=0;z5<FC.length;z5++){var q5=FC[z5],bK=q5.toLowerCase(),_K=q5[0].toUpperCase()+q5.slice(1);ih(bK,"on"+_K)}ih(CL,"onAnimationEnd");ih(IL,"onAnimationIteration");ih(PL,"onAnimationStart");ih("dblclick","onDoubleClick");ih("focusin","onFocus");ih("focusout","onBlur");ih(OL,"onTransitionEnd");Vm("onMouseEnter",["mouseout","mouseover"]);Vm("onMouseLeave",["mouseout","mouseover"]);Vm("onPointerEnter",["pointerout","pointerover"]);Vm("onPointerLeave",["pointerout","pointerover"]);ep("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ep("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ep("onBeforeInput",["compositionend","keypress","textInput","paste"]);ep("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SK=new Set("cancel close invalid load scroll toggle".split(" ").concat(I1));function MC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bG(n,t,void 0,e),e.currentTarget=null}function DL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;MC(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;MC(s,o,c),i=l}}}if(Iw)throw e=V3,Iw=!1,V3=null,e}function qn(e,t){var r=t[r4];r===void 0&&(r=t[r4]=new Set);var n=e+"__bubble";r.has(n)||(LL(t,e,2,!1),r.add(n))}function H5(e,t,r){var n=0;t&&(n|=4),LL(r,e,n,t)}var Hv="_reactListening"+Math.random().toString(36).slice(2);function Cy(e){if(!e[Hv]){e[Hv]=!0,zD.forEach(function(r){r!=="selectionchange"&&(SK.has(r)||H5(r,!1,e),H5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hv]||(t[Hv]=!0,H5("selectionchange",!1,t))}}function LL(e,t,r,n){switch(xL(t)){case 1:var s=FG;break;case 4:s=MG;break;default:s=mE}r=s.bind(null,t,r,e),s=void 0,!W3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function W5(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=i0(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}sL(function(){var c=i,u=dE(r),h=[];e:{var p=RL.get(e);if(p!==void 0){var m=yE,x=e;switch(e){case"keypress":if(K2(r)===0)break e;case"keydown":case"keyup":m=JG;break;case"focusin":x="focus",m=M5;break;case"focusout":x="blur",m=M5;break;case"beforeblur":case"afterblur":m=M5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$G;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rK;break;case CL:case IL:case PL:m=HG;break;case OL:m=sK;break;case"scroll":m=BG;break;case"wheel":m=aK;break;case"copy":case"cut":case"paste":m=VG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kC}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var S=c,_;S!==null;){_=S;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,v!==null&&(T=Sy(S,v),T!=null&&y.push(Iy(S,T,_)))),b)break;S=S.return}0<y.length&&(p=new m(p,x,null,r,u),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==q3&&(x=r.relatedTarget||r.fromElement)&&(i0(x)||x[od]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=c,x=x?i0(x):null,x!==null&&(b=tp(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(y=NC,T="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(y=kC,T="onPointerLeave",v="onPointerEnter",S="pointer"),b=m==null?p:Qp(m),_=x==null?p:Qp(x),p=new y(T,S+"leave",m,r,u),p.target=b,p.relatedTarget=_,T=null,i0(u)===c&&(y=new y(v,S+"enter",x,r,u),y.target=_,y.relatedTarget=b,T=y),b=T,m&&x)t:{for(y=m,v=x,S=0,_=y;_;_=Pp(_))S++;for(_=0,T=v;T;T=Pp(T))_++;for(;0<S-_;)y=Pp(y),S--;for(;0<_-S;)v=Pp(v),_--;for(;S--;){if(y===v||v!==null&&y===v.alternate)break t;y=Pp(y),v=Pp(v)}y=null}else y=null;m!==null&&BC(h,p,m,y,!1),x!==null&&b!==null&&BC(h,b,x,y,!0)}}e:{if(p=c?Qp(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=hK;else if(PC(p))if(AL)R=yK;else{R=mK;var B=pK}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=gK);if(R&&(R=R(e,c))){SL(h,R,r,u);break e}B&&B(e,p,c),e==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&M3(p,"number",p.value)}switch(B=c?Qp(c):window,e){case"focusin":(PC(B)||B.contentEditable==="true")&&(Yp=B,X3=c,K1=null);break;case"focusout":K1=X3=Yp=null;break;case"mousedown":Q3=!0;break;case"contextmenu":case"mouseup":case"dragend":Q3=!1,jC(h,r,u);break;case"selectionchange":if(wK)break;case"keydown":case"keyup":jC(h,r,u)}var j;if(vE)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Kp?bL(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(wL&&r.locale!=="ko"&&(Kp||P!=="onCompositionStart"?P==="onCompositionEnd"&&Kp&&(j=vL()):(Sf=u,gE="value"in Sf?Sf.value:Sf.textContent,Kp=!0)),B=Lw(c,P),0<B.length&&(P=new TC(P,e,null,r,u),h.push({event:P,listeners:B}),j?P.data=j:(j=_L(r),j!==null&&(P.data=j)))),(j=lK?cK(e,r):uK(e,r))&&(c=Lw(c,"onBeforeInput"),0<c.length&&(u=new TC("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=j))}DL(h,t)})}function Iy(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lw(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sy(e,r),i!=null&&n.unshift(Iy(e,i,s)),i=Sy(e,t),i!=null&&n.push(Iy(e,i,s))),e=e.return}return n}function Pp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BC(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Sy(r,i),l!=null&&a.unshift(Iy(r,l,o))):s||(l=Sy(r,i),l!=null&&a.push(Iy(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var AK=/\r\n?/g,EK=/\u0000|\uFFFD/g;function UC(e){return(typeof e=="string"?e:""+e).replace(AK,`
`).replace(EK,"")}function Wv(e,t,r){if(t=UC(t),UC(e)!==t&&r)throw Error(bt(425))}function jw(){}var Z3=null,J3=null;function e4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var t4=typeof setTimeout=="function"?setTimeout:void 0,NK=typeof clearTimeout=="function"?clearTimeout:void 0,$C=typeof Promise=="function"?Promise:void 0,TK=typeof queueMicrotask=="function"?queueMicrotask:typeof $C<"u"?function(e){return $C.resolve(null).then(e).catch(kK)}:t4;function kK(e){setTimeout(function(){throw e})}function V5(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ny(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ny(t)}function Mf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dg=Math.random().toString(36).slice(2),nu="__reactFiber$"+dg,Py="__reactProps$"+dg,od="__reactContainer$"+dg,r4="__reactEvents$"+dg,CK="__reactListeners$"+dg,IK="__reactHandles$"+dg;function i0(e){var t=e[nu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[od]||r[nu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zC(e);e!==null;){if(r=e[nu])return r;e=zC(e)}return t}e=r,r=e.parentNode}return null}function Ax(e){return e=e[nu]||e[od],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function Xb(e){return e[Py]||null}var n4=[],Zp=-1;function ah(e){return{current:e}}function Gn(e){0>Zp||(e.current=n4[Zp],n4[Zp]=null,Zp--)}function Mn(e,t){Zp++,n4[Zp]=e.current,e.current=t}var Xf={},aa=ah(Xf),Za=ah(!1),j0=Xf;function Gm(e,t){var r=e.type.contextTypes;if(!r)return Xf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ja(e){return e=e.childContextTypes,e!=null}function Fw(){Gn(Za),Gn(aa)}function qC(e,t,r){if(aa.current!==Xf)throw Error(bt(168));Mn(aa,t),Mn(Za,r)}function jL(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(bt(108,pG(e)||"Unknown",s));return hs({},r,n)}function Mw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xf,j0=aa.current,Mn(aa,e),Mn(Za,Za.current),!0}function HC(e,t,r){var n=e.stateNode;if(!n)throw Error(bt(169));r?(e=jL(e,t,j0),n.__reactInternalMemoizedMergedChildContext=e,Gn(Za),Gn(aa),Mn(aa,e)):Gn(Za),Mn(Za,r)}var $u=null,Qb=!1,G5=!1;function FL(e){$u===null?$u=[e]:$u.push(e)}function PK(e){Qb=!0,FL(e)}function oh(){if(!G5&&$u!==null){G5=!0;var e=0,t=Cn;try{var r=$u;for(Cn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$u=null,Qb=!1}catch(s){throw $u!==null&&($u=$u.slice(e+1)),lL(fE,oh),s}finally{Cn=t,G5=!1}}return null}var Jp=[],em=0,Bw=null,Uw=0,sl=[],il=0,F0=null,Yu=1,Xu="";function Xh(e,t){Jp[em++]=Uw,Jp[em++]=Bw,Bw=e,Uw=t}function ML(e,t,r){sl[il++]=Yu,sl[il++]=Xu,sl[il++]=F0,F0=e;var n=Yu;e=Xu;var s=32-oc(n)-1;n&=~(1<<s),r+=1;var i=32-oc(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Yu=1<<32-oc(t)+s|r<<s|n,Xu=i+e}else Yu=1<<i|r<<s|n,Xu=e}function bE(e){e.return!==null&&(Xh(e,1),ML(e,1,0))}function _E(e){for(;e===Bw;)Bw=Jp[--em],Jp[em]=null,Uw=Jp[--em],Jp[em]=null;for(;e===F0;)F0=sl[--il],sl[il]=null,Xu=sl[--il],sl[il]=null,Yu=sl[--il],sl[il]=null}var Do=null,Io=null,Jn=!1,tc=null;function BL(e,t){var r=ll(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function WC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Do=e,Io=Mf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Do=e,Io=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=F0!==null?{id:Yu,overflow:Xu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ll(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Do=e,Io=null,!0):!1;default:return!1}}function s4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i4(e){if(Jn){var t=Io;if(t){var r=t;if(!WC(e,t)){if(s4(e))throw Error(bt(418));t=Mf(r.nextSibling);var n=Do;t&&WC(e,t)?BL(n,r):(e.flags=e.flags&-4097|2,Jn=!1,Do=e)}}else{if(s4(e))throw Error(bt(418));e.flags=e.flags&-4097|2,Jn=!1,Do=e}}}function VC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Do=e}function Vv(e){if(e!==Do)return!1;if(!Jn)return VC(e),Jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!e4(e.type,e.memoizedProps)),t&&(t=Io)){if(s4(e))throw UL(),Error(bt(418));for(;t;)BL(e,t),t=Mf(t.nextSibling)}if(VC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Io=Mf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Io=null}}else Io=Do?Mf(e.stateNode.nextSibling):null;return!0}function UL(){for(var e=Io;e;)e=Mf(e.nextSibling)}function Km(){Io=Do=null,Jn=!1}function SE(e){tc===null?tc=[e]:tc.push(e)}var OK=yd.ReactCurrentBatchConfig;function o1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(bt(309));var n=r.stateNode}if(!n)throw Error(bt(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(bt(284));if(!r._owner)throw Error(bt(290,e))}return e}function Gv(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GC(e){var t=e._init;return t(e._payload)}function $L(e){function t(v,S){if(e){var _=v.deletions;_===null?(v.deletions=[S],v.flags|=16):_.push(S)}}function r(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function n(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function s(v,S){return v=zf(v,S),v.index=0,v.sibling=null,v}function i(v,S,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<S?(v.flags|=2,S):_):(v.flags|=2,S)):(v.flags|=1048576,S)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,S,_,T){return S===null||S.tag!==6?(S=eS(_,v.mode,T),S.return=v,S):(S=s(S,_),S.return=v,S)}function l(v,S,_,T){var R=_.type;return R===Gp?u(v,S,_.props.children,T,_.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===lf&&GC(R)===S.type)?(T=s(S,_.props),T.ref=o1(v,S,_),T.return=v,T):(T=tw(_.type,_.key,_.props,null,v.mode,T),T.ref=o1(v,S,_),T.return=v,T)}function c(v,S,_,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=tS(_,v.mode,T),S.return=v,S):(S=s(S,_.children||[]),S.return=v,S)}function u(v,S,_,T,R){return S===null||S.tag!==7?(S=A0(_,v.mode,T,R),S.return=v,S):(S=s(S,_),S.return=v,S)}function h(v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=eS(""+S,v.mode,_),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jv:return _=tw(S.type,S.key,S.props,null,v.mode,_),_.ref=o1(v,null,S),_.return=v,_;case Vp:return S=tS(S,v.mode,_),S.return=v,S;case lf:var T=S._init;return h(v,T(S._payload),_)}if(k1(S)||r1(S))return S=A0(S,v.mode,_,null),S.return=v,S;Gv(v,S)}return null}function p(v,S,_,T){var R=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:o(v,S,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jv:return _.key===R?l(v,S,_,T):null;case Vp:return _.key===R?c(v,S,_,T):null;case lf:return R=_._init,p(v,S,R(_._payload),T)}if(k1(_)||r1(_))return R!==null?null:u(v,S,_,T,null);Gv(v,_)}return null}function m(v,S,_,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(_)||null,o(S,v,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jv:return v=v.get(T.key===null?_:T.key)||null,l(S,v,T,R);case Vp:return v=v.get(T.key===null?_:T.key)||null,c(S,v,T,R);case lf:var B=T._init;return m(v,S,_,B(T._payload),R)}if(k1(T)||r1(T))return v=v.get(_)||null,u(S,v,T,R,null);Gv(S,T)}return null}function x(v,S,_,T){for(var R=null,B=null,j=S,P=S=0,F=null;j!==null&&P<_.length;P++){j.index>P?(F=j,j=null):F=j.sibling;var N=p(v,j,_[P],T);if(N===null){j===null&&(j=F);break}e&&j&&N.alternate===null&&t(v,j),S=i(N,S,P),B===null?R=N:B.sibling=N,B=N,j=F}if(P===_.length)return r(v,j),Jn&&Xh(v,P),R;if(j===null){for(;P<_.length;P++)j=h(v,_[P],T),j!==null&&(S=i(j,S,P),B===null?R=j:B.sibling=j,B=j);return Jn&&Xh(v,P),R}for(j=n(v,j);P<_.length;P++)F=m(j,v,P,_[P],T),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?P:F.key),S=i(F,S,P),B===null?R=F:B.sibling=F,B=F);return e&&j.forEach(function(k){return t(v,k)}),Jn&&Xh(v,P),R}function y(v,S,_,T){var R=r1(_);if(typeof R!="function")throw Error(bt(150));if(_=R.call(_),_==null)throw Error(bt(151));for(var B=R=null,j=S,P=S=0,F=null,N=_.next();j!==null&&!N.done;P++,N=_.next()){j.index>P?(F=j,j=null):F=j.sibling;var k=p(v,j,N.value,T);if(k===null){j===null&&(j=F);break}e&&j&&k.alternate===null&&t(v,j),S=i(k,S,P),B===null?R=k:B.sibling=k,B=k,j=F}if(N.done)return r(v,j),Jn&&Xh(v,P),R;if(j===null){for(;!N.done;P++,N=_.next())N=h(v,N.value,T),N!==null&&(S=i(N,S,P),B===null?R=N:B.sibling=N,B=N);return Jn&&Xh(v,P),R}for(j=n(v,j);!N.done;P++,N=_.next())N=m(j,v,P,N.value,T),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?P:N.key),S=i(N,S,P),B===null?R=N:B.sibling=N,B=N);return e&&j.forEach(function(C){return t(v,C)}),Jn&&Xh(v,P),R}function b(v,S,_,T){if(typeof _=="object"&&_!==null&&_.type===Gp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case jv:e:{for(var R=_.key,B=S;B!==null;){if(B.key===R){if(R=_.type,R===Gp){if(B.tag===7){r(v,B.sibling),S=s(B,_.props.children),S.return=v,v=S;break e}}else if(B.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===lf&&GC(R)===B.type){r(v,B.sibling),S=s(B,_.props),S.ref=o1(v,B,_),S.return=v,v=S;break e}r(v,B);break}else t(v,B);B=B.sibling}_.type===Gp?(S=A0(_.props.children,v.mode,T,_.key),S.return=v,v=S):(T=tw(_.type,_.key,_.props,null,v.mode,T),T.ref=o1(v,S,_),T.return=v,v=T)}return a(v);case Vp:e:{for(B=_.key;S!==null;){if(S.key===B)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(v,S.sibling),S=s(S,_.children||[]),S.return=v,v=S;break e}else{r(v,S);break}else t(v,S);S=S.sibling}S=tS(_,v.mode,T),S.return=v,v=S}return a(v);case lf:return B=_._init,b(v,S,B(_._payload),T)}if(k1(_))return x(v,S,_,T);if(r1(_))return y(v,S,_,T);Gv(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(v,S.sibling),S=s(S,_),S.return=v,v=S):(r(v,S),S=eS(_,v.mode,T),S.return=v,v=S),a(v)):r(v,S)}return b}var Ym=$L(!0),zL=$L(!1),$w=ah(null),zw=null,tm=null,AE=null;function EE(){AE=tm=zw=null}function NE(e){var t=$w.current;Gn($w),e._currentValue=t}function a4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ym(e,t){zw=e,AE=tm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ya=!0),e.firstContext=null)}function hl(e){var t=e._currentValue;if(AE!==e)if(e={context:e,memoizedValue:t,next:null},tm===null){if(zw===null)throw Error(bt(308));tm=e,zw.dependencies={lanes:0,firstContext:e}}else tm=tm.next=e;return t}var a0=null;function TE(e){a0===null?a0=[e]:a0.push(e)}function qL(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,TE(t)):(r.next=s.next,s.next=r),t.interleaved=r,ld(e,n)}function ld(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cf=!1;function kE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ed(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,on&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ld(e,r)}return s=n.interleaved,s===null?(t.next=t,TE(n)):(t.next=s.next,s.next=t),n.interleaved=t,ld(e,r)}function Y2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hE(e,r)}}function KC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qw(e,t,r,n){var s=e.updateQueue;cf=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,u=c=l=null,o=i;do{var p=o.lane,m=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,y=o;switch(p=t,m=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=hs({},h,p);break e;case 2:cf=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);B0|=a,e.lanes=a,e.memoizedState=h}}function YC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(bt(191,s));s.call(n)}}}var Ex={},ou=ah(Ex),Oy=ah(Ex),Ry=ah(Ex);function o0(e){if(e===Ex)throw Error(bt(174));return e}function CE(e,t){switch(Mn(Ry,t),Mn(Oy,e),Mn(ou,Ex),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:U3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=U3(t,e)}Gn(ou),Mn(ou,t)}function Xm(){Gn(ou),Gn(Oy),Gn(Ry)}function WL(e){o0(Ry.current);var t=o0(ou.current),r=U3(t,e.type);t!==r&&(Mn(Oy,e),Mn(ou,r))}function IE(e){Oy.current===e&&(Gn(ou),Gn(Oy))}var us=ah(0);function Hw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var K5=[];function PE(){for(var e=0;e<K5.length;e++)K5[e]._workInProgressVersionPrimary=null;K5.length=0}var X2=yd.ReactCurrentDispatcher,Y5=yd.ReactCurrentBatchConfig,M0=0,fs=null,ni=null,xi=null,Ww=!1,Y1=!1,Dy=0,RK=0;function Vi(){throw Error(bt(321))}function OE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dc(e[r],t[r]))return!1;return!0}function RE(e,t,r,n,s,i){if(M0=i,fs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X2.current=e===null||e.memoizedState===null?FK:MK,e=r(n,s),Y1){i=0;do{if(Y1=!1,Dy=0,25<=i)throw Error(bt(301));i+=1,xi=ni=null,t.updateQueue=null,X2.current=BK,e=r(n,s)}while(Y1)}if(X2.current=Vw,t=ni!==null&&ni.next!==null,M0=0,xi=ni=fs=null,Ww=!1,t)throw Error(bt(300));return e}function DE(){var e=Dy!==0;return Dy=0,e}function Xc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?fs.memoizedState=xi=e:xi=xi.next=e,xi}function pl(){if(ni===null){var e=fs.alternate;e=e!==null?e.memoizedState:null}else e=ni.next;var t=xi===null?fs.memoizedState:xi.next;if(t!==null)xi=t,ni=e;else{if(e===null)throw Error(bt(310));ni=e,e={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},xi===null?fs.memoizedState=xi=e:xi=xi.next=e}return xi}function Ly(e,t){return typeof t=="function"?t(e):t}function X5(e){var t=pl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=ni,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((M0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,fs.lanes|=u,B0|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,dc(n,t.memoizedState)||(Ya=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,fs.lanes|=i,B0|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q5(e){var t=pl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);dc(i,t.memoizedState)||(Ya=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function VL(){}function GL(e,t){var r=fs,n=pl(),s=t(),i=!dc(n.memoizedState,s);if(i&&(n.memoizedState=s,Ya=!0),n=n.queue,LE(XL.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xi!==null&&xi.memoizedState.tag&1){if(r.flags|=2048,jy(9,YL.bind(null,r,n,s,t),void 0,null),Si===null)throw Error(bt(349));M0&30||KL(r,t,s)}return s}function KL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fs.updateQueue,t===null?(t={lastEffect:null,stores:null},fs.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YL(e,t,r,n){t.value=r,t.getSnapshot=n,QL(t)&&ZL(e)}function XL(e,t,r){return r(function(){QL(t)&&ZL(e)})}function QL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dc(e,r)}catch{return!0}}function ZL(e){var t=ld(e,1);t!==null&&lc(t,e,1,-1)}function XC(e){var t=Xc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:e},t.queue=e,e=e.dispatch=jK.bind(null,fs,e),[t.memoizedState,e]}function jy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fs.updateQueue,t===null?(t={lastEffect:null,stores:null},fs.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JL(){return pl().memoizedState}function Q2(e,t,r,n){var s=Xc();fs.flags|=e,s.memoizedState=jy(1|t,r,void 0,n===void 0?null:n)}function Zb(e,t,r,n){var s=pl();n=n===void 0?null:n;var i=void 0;if(ni!==null){var a=ni.memoizedState;if(i=a.destroy,n!==null&&OE(n,a.deps)){s.memoizedState=jy(t,r,i,n);return}}fs.flags|=e,s.memoizedState=jy(1|t,r,i,n)}function QC(e,t){return Q2(8390656,8,e,t)}function LE(e,t){return Zb(2048,8,e,t)}function ej(e,t){return Zb(4,2,e,t)}function tj(e,t){return Zb(4,4,e,t)}function rj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nj(e,t,r){return r=r!=null?r.concat([e]):null,Zb(4,4,rj.bind(null,t,e),r)}function jE(){}function sj(e,t){var r=pl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ij(e,t){var r=pl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aj(e,t,r){return M0&21?(dc(r,t)||(r=dL(),fs.lanes|=r,B0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ya=!0),e.memoizedState=r)}function DK(e,t){var r=Cn;Cn=r!==0&&4>r?r:4,e(!0);var n=Y5.transition;Y5.transition={};try{e(!1),t()}finally{Cn=r,Y5.transition=n}}function oj(){return pl().memoizedState}function LK(e,t,r){var n=$f(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lj(e))cj(t,r);else if(r=qL(e,t,r,n),r!==null){var s=Ca();lc(r,e,n,s),uj(r,t,n)}}function jK(e,t,r){var n=$f(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lj(e))cj(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,dc(o,a)){var l=t.interleaved;l===null?(s.next=s,TE(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=qL(e,t,s,n),r!==null&&(s=Ca(),lc(r,e,n,s),uj(r,t,n))}}function lj(e){var t=e.alternate;return e===fs||t!==null&&t===fs}function cj(e,t){Y1=Ww=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hE(e,r)}}var Vw={readContext:hl,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},FK={readContext:hl,useCallback:function(e,t){return Xc().memoizedState=[e,t===void 0?null:t],e},useContext:hl,useEffect:QC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Q2(4194308,4,rj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Q2(4194308,4,e,t)},useInsertionEffect:function(e,t){return Q2(4,2,e,t)},useMemo:function(e,t){var r=Xc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LK.bind(null,fs,e),[n.memoizedState,e]},useRef:function(e){var t=Xc();return e={current:e},t.memoizedState=e},useState:XC,useDebugValue:jE,useDeferredValue:function(e){return Xc().memoizedState=e},useTransition:function(){var e=XC(!1),t=e[0];return e=DK.bind(null,e[1]),Xc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fs,s=Xc();if(Jn){if(r===void 0)throw Error(bt(407));r=r()}else{if(r=t(),Si===null)throw Error(bt(349));M0&30||KL(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,QC(XL.bind(null,n,i,e),[e]),n.flags|=2048,jy(9,YL.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xc(),t=Si.identifierPrefix;if(Jn){var r=Xu,n=Yu;r=(n&~(1<<32-oc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RK++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MK={readContext:hl,useCallback:sj,useContext:hl,useEffect:LE,useImperativeHandle:nj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:ij,useReducer:X5,useRef:JL,useState:function(){return X5(Ly)},useDebugValue:jE,useDeferredValue:function(e){var t=pl();return aj(t,ni.memoizedState,e)},useTransition:function(){var e=X5(Ly)[0],t=pl().memoizedState;return[e,t]},useMutableSource:VL,useSyncExternalStore:GL,useId:oj,unstable_isNewReconciler:!1},BK={readContext:hl,useCallback:sj,useContext:hl,useEffect:LE,useImperativeHandle:nj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:ij,useReducer:Q5,useRef:JL,useState:function(){return Q5(Ly)},useDebugValue:jE,useDeferredValue:function(e){var t=pl();return ni===null?t.memoizedState=e:aj(t,ni.memoizedState,e)},useTransition:function(){var e=Q5(Ly)[0],t=pl().memoizedState;return[e,t]},useMutableSource:VL,useSyncExternalStore:GL,useId:oj,unstable_isNewReconciler:!1};function Yl(e,t){if(e&&e.defaultProps){t=hs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function o4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:hs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jb={isMounted:function(e){return(e=e._reactInternals)?tp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ca(),s=$f(e),i=ed(n,s);i.payload=t,r!=null&&(i.callback=r),t=Bf(e,i,s),t!==null&&(lc(t,e,s,n),Y2(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ca(),s=$f(e),i=ed(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Bf(e,i,s),t!==null&&(lc(t,e,s,n),Y2(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ca(),n=$f(e),s=ed(r,n);s.tag=2,t!=null&&(s.callback=t),t=Bf(e,s,n),t!==null&&(lc(t,e,n,r),Y2(t,e,n))}};function ZC(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ky(r,n)||!ky(s,i):!0}function dj(e,t,r){var n=!1,s=Xf,i=t.contextType;return typeof i=="object"&&i!==null?i=hl(i):(s=Ja(t)?j0:aa.current,n=t.contextTypes,i=(n=n!=null)?Gm(e,s):Xf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function JC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jb.enqueueReplaceState(t,t.state,null)}function l4(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kE(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hl(i):(i=Ja(t)?j0:aa.current,s.context=Gm(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(o4(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Jb.enqueueReplaceState(s,s.state,null),qw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qm(e,t){try{var r="",n=t;do r+=hG(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Z5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function c4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var UK=typeof WeakMap=="function"?WeakMap:Map;function fj(e,t,r){r=ed(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kw||(Kw=!0,v4=n),c4(e,t)},r}function hj(e,t,r){r=ed(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){c4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){c4(e,t),typeof n!="function"&&(Uf===null?Uf=new Set([this]):Uf.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function e6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new UK;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=eY.bind(null,e,t,r),t.then(e,e))}function t6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r6(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ed(-1,1),t.tag=2,Bf(r,t,1))),r.lanes|=1),e)}var $K=yd.ReactCurrentOwner,Ya=!1;function _a(e,t,r,n){t.child=e===null?zL(t,null,r,n):Ym(t,e.child,r,n)}function n6(e,t,r,n,s){r=r.render;var i=t.ref;return ym(t,s),n=RE(e,t,r,n,i,s),r=DE(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cd(e,t,s)):(Jn&&r&&bE(t),t.flags|=1,_a(e,t,n,s),t.child)}function s6(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!HE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pj(e,t,i,n,s)):(e=tw(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ky,r(a,n)&&e.ref===t.ref)return cd(e,t,s)}return t.flags|=1,e=zf(i,n),e.ref=t.ref,e.return=t,t.child=e}function pj(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ky(i,n)&&e.ref===t.ref)if(Ya=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ya=!0);else return t.lanes=e.lanes,cd(e,t,s)}return u4(e,t,r,n,s)}function mj(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(nm,No),No|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(nm,No),No|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Mn(nm,No),No|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Mn(nm,No),No|=n;return _a(e,t,s,r),t.child}function gj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function u4(e,t,r,n,s){var i=Ja(r)?j0:aa.current;return i=Gm(t,i),ym(t,s),r=RE(e,t,r,n,i,s),n=DE(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cd(e,t,s)):(Jn&&n&&bE(t),t.flags|=1,_a(e,t,r,s),t.child)}function i6(e,t,r,n,s){if(Ja(r)){var i=!0;Mw(t)}else i=!1;if(ym(t,s),t.stateNode===null)Z2(e,t),dj(t,r,n),l4(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=hl(c):(c=Ja(r)?j0:aa.current,c=Gm(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&JC(t,a,n,c),cf=!1;var p=t.memoizedState;a.state=p,qw(t,n,a,s),l=t.memoizedState,o!==n||p!==l||Za.current||cf?(typeof u=="function"&&(o4(t,r,u,n),l=t.memoizedState),(o=cf||ZC(t,r,o,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,HL(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Yl(t.type,o),a.props=c,h=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=hl(l):(l=Ja(r)?j0:aa.current,l=Gm(t,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&JC(t,a,n,l),cf=!1,p=t.memoizedState,a.state=p,qw(t,n,a,s);var x=t.memoizedState;o!==h||p!==x||Za.current||cf?(typeof m=="function"&&(o4(t,r,m,n),x=t.memoizedState),(c=cf||ZC(t,r,c,n,p,x,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return d4(e,t,r,n,i,s)}function d4(e,t,r,n,s,i){gj(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&HC(t,r,!1),cd(e,t,i);n=t.stateNode,$K.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ym(t,e.child,null,i),t.child=Ym(t,null,o,i)):_a(e,t,o,i),t.memoizedState=n.state,s&&HC(t,r,!0),t.child}function yj(e){var t=e.stateNode;t.pendingContext?qC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qC(e,t.context,!1),CE(e,t.containerInfo)}function a6(e,t,r,n,s){return Km(),SE(s),t.flags|=256,_a(e,t,r,n),t.child}var f4={dehydrated:null,treeContext:null,retryLane:0};function h4(e){return{baseLanes:e,cachePool:null,transitions:null}}function xj(e,t,r){var n=t.pendingProps,s=us.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Mn(us,s&1),e===null)return i4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=r_(a,n,0,null),e=A0(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=h4(r),t.memoizedState=f4,e):FE(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return zK(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=zf(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=zf(o,i):(i=A0(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?h4(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=f4,n}return i=e.child,e=i.sibling,n=zf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function FE(e,t){return t=r_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kv(e,t,r,n){return n!==null&&SE(n),Ym(t,e.child,null,r),e=FE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zK(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Z5(Error(bt(422))),Kv(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=r_({mode:"visible",children:n.children},s,0,null),i=A0(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ym(t,e.child,null,a),t.child.memoizedState=h4(a),t.memoizedState=f4,i);if(!(t.mode&1))return Kv(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(bt(419)),n=Z5(i,n,void 0),Kv(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ya||o){if(n=Si,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ld(e,s),lc(n,e,s,-1))}return qE(),n=Z5(Error(bt(421))),Kv(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=tY.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Io=Mf(s.nextSibling),Do=t,Jn=!0,tc=null,e!==null&&(sl[il++]=Yu,sl[il++]=Xu,sl[il++]=F0,Yu=e.id,Xu=e.overflow,F0=t),t=FE(t,n.children),t.flags|=4096,t)}function o6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),a4(e.return,t,r)}function J5(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function vj(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_a(e,t,n.children,r),n=us.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o6(e,r,t);else if(e.tag===19)o6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mn(us,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Hw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),J5(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}J5(t,!0,r,null,i);break;case"together":J5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Z2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),B0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,r=zf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qK(e,t,r){switch(t.tag){case 3:yj(t),Km();break;case 5:WL(t);break;case 1:Ja(t.type)&&Mw(t);break;case 4:CE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Mn($w,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mn(us,us.current&1),t.flags|=128,null):r&t.child.childLanes?xj(e,t,r):(Mn(us,us.current&1),e=cd(e,t,r),e!==null?e.sibling:null);Mn(us,us.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mn(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,mj(e,t,r)}return cd(e,t,r)}var wj,p4,bj,_j;wj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};p4=function(){};bj=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,o0(ou.current);var i=null;switch(r){case"input":s=j3(e,s),n=j3(e,n),i=[];break;case"select":s=hs({},s,{value:void 0}),n=hs({},n,{value:void 0}),i=[];break;case"textarea":s=B3(e,s),n=B3(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jw)}$3(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(by.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(by.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};_j=function(e,t,r,n){r!==n&&(t.flags|=4)};function l1(e,t){if(!Jn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HK(e,t,r){var n=t.pendingProps;switch(_E(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:return Ja(t.type)&&Fw(),Gi(t),null;case 3:return n=t.stateNode,Xm(),Gn(Za),Gn(aa),PE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tc!==null&&(_4(tc),tc=null))),p4(e,t),Gi(t),null;case 5:IE(t);var s=o0(Ry.current);if(r=t.type,e!==null&&t.stateNode!=null)bj(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(bt(166));return Gi(t),null}if(e=o0(ou.current),Vv(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nu]=t,n[Py]=i,e=(t.mode&1)!==0,r){case"dialog":qn("cancel",n),qn("close",n);break;case"iframe":case"object":case"embed":qn("load",n);break;case"video":case"audio":for(s=0;s<I1.length;s++)qn(I1[s],n);break;case"source":qn("error",n);break;case"img":case"image":case"link":qn("error",n),qn("load",n);break;case"details":qn("toggle",n);break;case"input":gC(n,i),qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qn("invalid",n);break;case"textarea":xC(n,i),qn("invalid",n)}$3(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Wv(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Wv(n.textContent,o,e),s=["children",""+o]):by.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&qn("scroll",n)}switch(r){case"input":Fv(n),yC(n,i,!0);break;case"textarea":Fv(n),vC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=jw)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XD(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[nu]=t,e[Py]=n,wj(e,t,!1,!1),t.stateNode=e;e:{switch(a=z3(r,n),r){case"dialog":qn("cancel",e),qn("close",e),s=n;break;case"iframe":case"object":case"embed":qn("load",e),s=n;break;case"video":case"audio":for(s=0;s<I1.length;s++)qn(I1[s],e);s=n;break;case"source":qn("error",e),s=n;break;case"img":case"image":case"link":qn("error",e),qn("load",e),s=n;break;case"details":qn("toggle",e),s=n;break;case"input":gC(e,n),s=j3(e,n),qn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=hs({},n,{value:void 0}),qn("invalid",e);break;case"textarea":xC(e,n),s=B3(e,n),qn("invalid",e);break;default:s=n}$3(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?JD(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QD(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_y(e,l):typeof l=="number"&&_y(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(by.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qn("scroll",e):l!=null&&oE(e,i,l,a))}switch(r){case"input":Fv(e),yC(e,n,!1);break;case"textarea":Fv(e),vC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hm(e,!!n.multiple,i,!1):n.defaultValue!=null&&hm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=jw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&t.stateNode!=null)_j(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(bt(166));if(r=o0(Ry.current),o0(ou.current),Vv(t)){if(n=t.stateNode,r=t.memoizedProps,n[nu]=t,(i=n.nodeValue!==r)&&(e=Do,e!==null))switch(e.tag){case 3:Wv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wv(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nu]=t,t.stateNode=n}return Gi(t),null;case 13:if(Gn(us),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jn&&Io!==null&&t.mode&1&&!(t.flags&128))UL(),Km(),t.flags|=98560,i=!1;else if(i=Vv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(bt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(bt(317));i[nu]=t}else Km(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gi(t),i=!1}else tc!==null&&(_4(tc),tc=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||us.current&1?oi===0&&(oi=3):qE())),t.updateQueue!==null&&(t.flags|=4),Gi(t),null);case 4:return Xm(),p4(e,t),e===null&&Cy(t.stateNode.containerInfo),Gi(t),null;case 10:return NE(t.type._context),Gi(t),null;case 17:return Ja(t.type)&&Fw(),Gi(t),null;case 19:if(Gn(us),i=t.memoizedState,i===null)return Gi(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)l1(i,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Hw(e),a!==null){for(t.flags|=128,l1(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mn(us,us.current&1|2),t.child}e=e.sibling}i.tail!==null&&Rs()>Zm&&(t.flags|=128,n=!0,l1(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hw(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),l1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Jn)return Gi(t),null}else 2*Rs()-i.renderingStartTime>Zm&&r!==1073741824&&(t.flags|=128,n=!0,l1(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Rs(),t.sibling=null,r=us.current,Mn(us,n?r&1|2:r&1),t):(Gi(t),null);case 22:case 23:return zE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?No&1073741824&&(Gi(t),t.subtreeFlags&6&&(t.flags|=8192)):Gi(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function WK(e,t){switch(_E(t),t.tag){case 1:return Ja(t.type)&&Fw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xm(),Gn(Za),Gn(aa),PE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IE(t),null;case 13:if(Gn(us),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));Km()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gn(us),null;case 4:return Xm(),null;case 10:return NE(t.type._context),null;case 22:case 23:return zE(),null;case 24:return null;default:return null}}var Yv=!1,Ji=!1,VK=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function rm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){As(e,t,n)}else r.current=null}function m4(e,t,r){try{r()}catch(n){As(e,t,n)}}var l6=!1;function GK(e,t){if(Z3=Rw,e=TL(),wE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++c===s&&(o=a),p===i&&++u===n&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(J3={focusedElem:e,selectionRange:r},Rw=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){t=Ht;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Yl(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(T){As(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}return x=l6,l6=!1,x}function X1(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&m4(t,r,i)}s=s.next}while(s!==n)}}function e_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function g4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sj(e){var t=e.alternate;t!==null&&(e.alternate=null,Sj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nu],delete t[Py],delete t[r4],delete t[CK],delete t[IK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Aj(e){return e.tag===5||e.tag===3||e.tag===4}function c6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Aj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function y4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jw));else if(n!==4&&(e=e.child,e!==null))for(y4(e,t,r),e=e.sibling;e!==null;)y4(e,t,r),e=e.sibling}function x4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(x4(e,t,r),e=e.sibling;e!==null;)x4(e,t,r),e=e.sibling}var Ci=null,Zl=!1;function ef(e,t,r){for(r=r.child;r!==null;)Ej(e,t,r),r=r.sibling}function Ej(e,t,r){if(au&&typeof au.onCommitFiberUnmount=="function")try{au.onCommitFiberUnmount(Vb,r)}catch{}switch(r.tag){case 5:Ji||rm(r,t);case 6:var n=Ci,s=Zl;Ci=null,ef(e,t,r),Ci=n,Zl=s,Ci!==null&&(Zl?(e=Ci,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ci.removeChild(r.stateNode));break;case 18:Ci!==null&&(Zl?(e=Ci,r=r.stateNode,e.nodeType===8?V5(e.parentNode,r):e.nodeType===1&&V5(e,r),Ny(e)):V5(Ci,r.stateNode));break;case 4:n=Ci,s=Zl,Ci=r.stateNode.containerInfo,Zl=!0,ef(e,t,r),Ci=n,Zl=s;break;case 0:case 11:case 14:case 15:if(!Ji&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&m4(r,t,a),s=s.next}while(s!==n)}ef(e,t,r);break;case 1:if(!Ji&&(rm(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){As(r,t,o)}ef(e,t,r);break;case 21:ef(e,t,r);break;case 22:r.mode&1?(Ji=(n=Ji)||r.memoizedState!==null,ef(e,t,r),Ji=n):ef(e,t,r);break;default:ef(e,t,r)}}function u6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new VK),t.forEach(function(n){var s=rY.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Hl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ci=o.stateNode,Zl=!1;break e;case 3:Ci=o.stateNode.containerInfo,Zl=!0;break e;case 4:Ci=o.stateNode.containerInfo,Zl=!0;break e}o=o.return}if(Ci===null)throw Error(bt(160));Ej(i,a,s),Ci=null,Zl=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){As(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nj(t,e),t=t.sibling}function Nj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hl(t,e),zc(e),n&4){try{X1(3,e,e.return),e_(3,e)}catch(y){As(e,e.return,y)}try{X1(5,e,e.return)}catch(y){As(e,e.return,y)}}break;case 1:Hl(t,e),zc(e),n&512&&r!==null&&rm(r,r.return);break;case 5:if(Hl(t,e),zc(e),n&512&&r!==null&&rm(r,r.return),e.flags&32){var s=e.stateNode;try{_y(s,"")}catch(y){As(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&KD(s,i),z3(o,a);var c=z3(o,i);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?JD(s,h):u==="dangerouslySetInnerHTML"?QD(s,h):u==="children"?_y(s,h):oE(s,u,h,c)}switch(o){case"input":F3(s,i);break;case"textarea":YD(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hm(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?hm(s,!!i.multiple,i.defaultValue,!0):hm(s,!!i.multiple,i.multiple?[]:"",!1))}s[Py]=i}catch(y){As(e,e.return,y)}}break;case 6:if(Hl(t,e),zc(e),n&4){if(e.stateNode===null)throw Error(bt(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){As(e,e.return,y)}}break;case 3:if(Hl(t,e),zc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ny(t.containerInfo)}catch(y){As(e,e.return,y)}break;case 4:Hl(t,e),zc(e);break;case 13:Hl(t,e),zc(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(UE=Rs())),n&4&&u6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ji=(c=Ji)||u,Hl(t,e),Ji=c):Hl(t,e),zc(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ht=e,u=e.child;u!==null;){for(h=Ht=u;Ht!==null;){switch(p=Ht,m=p.child,p.tag){case 0:case 11:case 14:case 15:X1(4,p,p.return);break;case 1:rm(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){As(n,r,y)}}break;case 5:rm(p,p.return);break;case 22:if(p.memoizedState!==null){f6(h);continue}}m!==null?(m.return=p,Ht=m):f6(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ZD("display",a))}catch(y){As(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){As(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hl(t,e),zc(e),n&4&&u6(e);break;case 21:break;default:Hl(t,e),zc(e)}}function zc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Aj(r)){var n=r;break e}r=r.return}throw Error(bt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_y(s,""),n.flags&=-33);var i=c6(e);x4(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=c6(e);y4(e,o,a);break;default:throw Error(bt(161))}}catch(l){As(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KK(e,t,r){Ht=e,Tj(e)}function Tj(e,t,r){for(var n=(e.mode&1)!==0;Ht!==null;){var s=Ht,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Yv;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ji;o=Yv;var c=Ji;if(Yv=a,(Ji=l)&&!c)for(Ht=s;Ht!==null;)a=Ht,l=a.child,a.tag===22&&a.memoizedState!==null?h6(s):l!==null?(l.return=a,Ht=l):h6(s);for(;i!==null;)Ht=i,Tj(i),i=i.sibling;Ht=s,Yv=o,Ji=c}d6(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ht=i):d6(e)}}function d6(e){for(;Ht!==null;){var t=Ht;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ji||e_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ji)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Yl(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&YC(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}YC(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ny(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}Ji||t.flags&512&&g4(t)}catch(p){As(t,t.return,p)}}if(t===e){Ht=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ht=r;break}Ht=t.return}}function f6(e){for(;Ht!==null;){var t=Ht;if(t===e){Ht=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ht=r;break}Ht=t.return}}function h6(e){for(;Ht!==null;){var t=Ht;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{e_(4,t)}catch(l){As(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){As(t,s,l)}}var i=t.return;try{g4(t)}catch(l){As(t,i,l)}break;case 5:var a=t.return;try{g4(t)}catch(l){As(t,a,l)}}}catch(l){As(t,t.return,l)}if(t===e){Ht=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ht=o;break}Ht=t.return}}var YK=Math.ceil,Gw=yd.ReactCurrentDispatcher,ME=yd.ReactCurrentOwner,ul=yd.ReactCurrentBatchConfig,on=0,Si=null,Hs=null,ji=0,No=0,nm=ah(0),oi=0,Fy=null,B0=0,t_=0,BE=0,Q1=null,Ga=null,UE=0,Zm=1/0,Uu=null,Kw=!1,v4=null,Uf=null,Xv=!1,Af=null,Yw=0,Z1=0,w4=null,J2=-1,ew=0;function Ca(){return on&6?Rs():J2!==-1?J2:J2=Rs()}function $f(e){return e.mode&1?on&2&&ji!==0?ji&-ji:OK.transition!==null?(ew===0&&(ew=dL()),ew):(e=Cn,e!==0||(e=window.event,e=e===void 0?16:xL(e.type)),e):1}function lc(e,t,r,n){if(50<Z1)throw Z1=0,w4=null,Error(bt(185));_x(e,r,n),(!(on&2)||e!==Si)&&(e===Si&&(!(on&2)&&(t_|=r),oi===4&&ff(e,ji)),eo(e,n),r===1&&on===0&&!(t.mode&1)&&(Zm=Rs()+500,Qb&&oh()))}function eo(e,t){var r=e.callbackNode;OG(e,t);var n=Ow(e,e===Si?ji:0);if(n===0)r!==null&&_C(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_C(r),t===1)e.tag===0?PK(p6.bind(null,e)):FL(p6.bind(null,e)),TK(function(){!(on&6)&&oh()}),r=null;else{switch(fL(n)){case 1:r=fE;break;case 4:r=cL;break;case 16:r=Pw;break;case 536870912:r=uL;break;default:r=Pw}r=Lj(r,kj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kj(e,t){if(J2=-1,ew=0,on&6)throw Error(bt(327));var r=e.callbackNode;if(xm()&&e.callbackNode!==r)return null;var n=Ow(e,e===Si?ji:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xw(e,n);else{t=n;var s=on;on|=2;var i=Ij();(Si!==e||ji!==t)&&(Uu=null,Zm=Rs()+500,S0(e,t));do try{ZK();break}catch(o){Cj(e,o)}while(!0);EE(),Gw.current=i,on=s,Hs!==null?t=0:(Si=null,ji=0,t=oi)}if(t!==0){if(t===2&&(s=G3(e),s!==0&&(n=s,t=b4(e,s))),t===1)throw r=Fy,S0(e,0),ff(e,n),eo(e,Rs()),r;if(t===6)ff(e,n);else{if(s=e.current.alternate,!(n&30)&&!XK(s)&&(t=Xw(e,n),t===2&&(i=G3(e),i!==0&&(n=i,t=b4(e,i))),t===1))throw r=Fy,S0(e,0),ff(e,n),eo(e,Rs()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(bt(345));case 2:Qh(e,Ga,Uu);break;case 3:if(ff(e,n),(n&130023424)===n&&(t=UE+500-Rs(),10<t)){if(Ow(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ca(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=t4(Qh.bind(null,e,Ga,Uu),t);break}Qh(e,Ga,Uu);break;case 4:if(ff(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-oc(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Rs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YK(n/1960))-n,10<n){e.timeoutHandle=t4(Qh.bind(null,e,Ga,Uu),n);break}Qh(e,Ga,Uu);break;case 5:Qh(e,Ga,Uu);break;default:throw Error(bt(329))}}}return eo(e,Rs()),e.callbackNode===r?kj.bind(null,e):null}function b4(e,t){var r=Q1;return e.current.memoizedState.isDehydrated&&(S0(e,t).flags|=256),e=Xw(e,t),e!==2&&(t=Ga,Ga=r,t!==null&&_4(t)),e}function _4(e){Ga===null?Ga=e:Ga.push.apply(Ga,e)}function XK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dc(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ff(e,t){for(t&=~BE,t&=~t_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oc(t),n=1<<r;e[r]=-1,t&=~n}}function p6(e){if(on&6)throw Error(bt(327));xm();var t=Ow(e,0);if(!(t&1))return eo(e,Rs()),null;var r=Xw(e,t);if(e.tag!==0&&r===2){var n=G3(e);n!==0&&(t=n,r=b4(e,n))}if(r===1)throw r=Fy,S0(e,0),ff(e,t),eo(e,Rs()),r;if(r===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qh(e,Ga,Uu),eo(e,Rs()),null}function $E(e,t){var r=on;on|=1;try{return e(t)}finally{on=r,on===0&&(Zm=Rs()+500,Qb&&oh())}}function U0(e){Af!==null&&Af.tag===0&&!(on&6)&&xm();var t=on;on|=1;var r=ul.transition,n=Cn;try{if(ul.transition=null,Cn=1,e)return e()}finally{Cn=n,ul.transition=r,on=t,!(on&6)&&oh()}}function zE(){No=nm.current,Gn(nm)}function S0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,NK(r)),Hs!==null)for(r=Hs.return;r!==null;){var n=r;switch(_E(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fw();break;case 3:Xm(),Gn(Za),Gn(aa),PE();break;case 5:IE(n);break;case 4:Xm();break;case 13:Gn(us);break;case 19:Gn(us);break;case 10:NE(n.type._context);break;case 22:case 23:zE()}r=r.return}if(Si=e,Hs=e=zf(e.current,null),ji=No=t,oi=0,Fy=null,BE=t_=B0=0,Ga=Q1=null,a0!==null){for(t=0;t<a0.length;t++)if(r=a0[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}a0=null}return e}function Cj(e,t){do{var r=Hs;try{if(EE(),X2.current=Vw,Ww){for(var n=fs.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ww=!1}if(M0=0,xi=ni=fs=null,Y1=!1,Dy=0,ME.current=null,r===null||r.return===null){oi=1,Fy=t,Hs=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=ji,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=t6(a);if(m!==null){m.flags&=-257,r6(m,a,o,i,t),m.mode&1&&e6(i,c,t),t=m,l=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(l),t.updateQueue=y}else x.add(l);break e}else{if(!(t&1)){e6(i,c,t),qE();break e}l=Error(bt(426))}}else if(Jn&&o.mode&1){var b=t6(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),r6(b,a,o,i,t),SE(Qm(l,o));break e}}i=l=Qm(l,o),oi!==4&&(oi=2),Q1===null?Q1=[i]:Q1.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=fj(i,l,t);KC(i,v);break e;case 1:o=l;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Uf===null||!Uf.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=hj(i,o,t);KC(i,T);break e}}i=i.return}while(i!==null)}Oj(r)}catch(R){t=R,Hs===r&&r!==null&&(Hs=r=r.return);continue}break}while(!0)}function Ij(){var e=Gw.current;return Gw.current=Vw,e===null?Vw:e}function qE(){(oi===0||oi===3||oi===2)&&(oi=4),Si===null||!(B0&268435455)&&!(t_&268435455)||ff(Si,ji)}function Xw(e,t){var r=on;on|=2;var n=Ij();(Si!==e||ji!==t)&&(Uu=null,S0(e,t));do try{QK();break}catch(s){Cj(e,s)}while(!0);if(EE(),on=r,Gw.current=n,Hs!==null)throw Error(bt(261));return Si=null,ji=0,oi}function QK(){for(;Hs!==null;)Pj(Hs)}function ZK(){for(;Hs!==null&&!SG();)Pj(Hs)}function Pj(e){var t=Dj(e.alternate,e,No);e.memoizedProps=e.pendingProps,t===null?Oj(e):Hs=t,ME.current=null}function Oj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WK(r,t),r!==null){r.flags&=32767,Hs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Hs=null;return}}else if(r=HK(r,t,No),r!==null){Hs=r;return}if(t=t.sibling,t!==null){Hs=t;return}Hs=t=e}while(t!==null);oi===0&&(oi=5)}function Qh(e,t,r){var n=Cn,s=ul.transition;try{ul.transition=null,Cn=1,JK(e,t,r,n)}finally{ul.transition=s,Cn=n}return null}function JK(e,t,r,n){do xm();while(Af!==null);if(on&6)throw Error(bt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(RG(e,i),e===Si&&(Hs=Si=null,ji=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xv||(Xv=!0,Lj(Pw,function(){return xm(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ul.transition,ul.transition=null;var a=Cn;Cn=1;var o=on;on|=4,ME.current=null,GK(e,r),Nj(r,e),vK(J3),Rw=!!Z3,J3=Z3=null,e.current=r,KK(r),AG(),on=o,Cn=a,ul.transition=i}else e.current=r;if(Xv&&(Xv=!1,Af=e,Yw=s),i=e.pendingLanes,i===0&&(Uf=null),TG(r.stateNode),eo(e,Rs()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kw)throw Kw=!1,e=v4,v4=null,e;return Yw&1&&e.tag!==0&&xm(),i=e.pendingLanes,i&1?e===w4?Z1++:(Z1=0,w4=e):Z1=0,oh(),null}function xm(){if(Af!==null){var e=fL(Yw),t=ul.transition,r=Cn;try{if(ul.transition=null,Cn=16>e?16:e,Af===null)var n=!1;else{if(e=Af,Af=null,Yw=0,on&6)throw Error(bt(331));var s=on;for(on|=4,Ht=e.current;Ht!==null;){var i=Ht,a=i.child;if(Ht.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ht=c;Ht!==null;){var u=Ht;switch(u.tag){case 0:case 11:case 15:X1(8,u,i)}var h=u.child;if(h!==null)h.return=u,Ht=h;else for(;Ht!==null;){u=Ht;var p=u.sibling,m=u.return;if(Sj(u),u===c){Ht=null;break}if(p!==null){p.return=m,Ht=p;break}Ht=m}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ht=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ht=a;else e:for(;Ht!==null;){if(i=Ht,i.flags&2048)switch(i.tag){case 0:case 11:case 15:X1(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ht=v;break e}Ht=i.return}}var S=e.current;for(Ht=S;Ht!==null;){a=Ht;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ht=_;else e:for(a=S;Ht!==null;){if(o=Ht,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:e_(9,o)}}catch(R){As(o,o.return,R)}if(o===a){Ht=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,Ht=T;break e}Ht=o.return}}if(on=s,oh(),au&&typeof au.onPostCommitFiberRoot=="function")try{au.onPostCommitFiberRoot(Vb,e)}catch{}n=!0}return n}finally{Cn=r,ul.transition=t}}return!1}function m6(e,t,r){t=Qm(r,t),t=fj(e,t,1),e=Bf(e,t,1),t=Ca(),e!==null&&(_x(e,1,t),eo(e,t))}function As(e,t,r){if(e.tag===3)m6(e,e,r);else for(;t!==null;){if(t.tag===3){m6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uf===null||!Uf.has(n))){e=Qm(r,e),e=hj(t,e,1),t=Bf(t,e,1),e=Ca(),t!==null&&(_x(t,1,e),eo(t,e));break}}t=t.return}}function eY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ca(),e.pingedLanes|=e.suspendedLanes&r,Si===e&&(ji&r)===r&&(oi===4||oi===3&&(ji&130023424)===ji&&500>Rs()-UE?S0(e,0):BE|=r),eo(e,t)}function Rj(e,t){t===0&&(e.mode&1?(t=Uv,Uv<<=1,!(Uv&130023424)&&(Uv=4194304)):t=1);var r=Ca();e=ld(e,t),e!==null&&(_x(e,t,r),eo(e,r))}function tY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Rj(e,r)}function rY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(bt(314))}n!==null&&n.delete(t),Rj(e,r)}var Dj;Dj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Za.current)Ya=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ya=!1,qK(e,t,r);Ya=!!(e.flags&131072)}else Ya=!1,Jn&&t.flags&1048576&&ML(t,Uw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Z2(e,t),e=t.pendingProps;var s=Gm(t,aa.current);ym(t,r),s=RE(null,t,n,e,s,r);var i=DE();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ja(n)?(i=!0,Mw(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kE(t),s.updater=Jb,t.stateNode=s,s._reactInternals=t,l4(t,n,e,r),t=d4(null,t,n,!0,i,r)):(t.tag=0,Jn&&i&&bE(t),_a(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Z2(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=sY(n),e=Yl(n,e),s){case 0:t=u4(null,t,n,e,r);break e;case 1:t=i6(null,t,n,e,r);break e;case 11:t=n6(null,t,n,e,r);break e;case 14:t=s6(null,t,n,Yl(n.type,e),r);break e}throw Error(bt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yl(n,s),u4(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yl(n,s),i6(e,t,n,s,r);case 3:e:{if(yj(t),e===null)throw Error(bt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,HL(e,t),qw(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qm(Error(bt(423)),t),t=a6(e,t,n,r,s);break e}else if(n!==s){s=Qm(Error(bt(424)),t),t=a6(e,t,n,r,s);break e}else for(Io=Mf(t.stateNode.containerInfo.firstChild),Do=t,Jn=!0,tc=null,r=zL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Km(),n===s){t=cd(e,t,r);break e}_a(e,t,n,r)}t=t.child}return t;case 5:return WL(t),e===null&&i4(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,e4(n,s)?a=null:i!==null&&e4(n,i)&&(t.flags|=32),gj(e,t),_a(e,t,a,r),t.child;case 6:return e===null&&i4(t),null;case 13:return xj(e,t,r);case 4:return CE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ym(t,null,n,r):_a(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yl(n,s),n6(e,t,n,s,r);case 7:return _a(e,t,t.pendingProps,r),t.child;case 8:return _a(e,t,t.pendingProps.children,r),t.child;case 12:return _a(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Mn($w,n._currentValue),n._currentValue=a,i!==null)if(dc(i.value,a)){if(i.children===s.children&&!Za.current){t=cd(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ed(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),a4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(bt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),a4(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}_a(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ym(t,r),s=hl(s),n=n(s),t.flags|=1,_a(e,t,n,r),t.child;case 14:return n=t.type,s=Yl(n,t.pendingProps),s=Yl(n.type,s),s6(e,t,n,s,r);case 15:return pj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yl(n,s),Z2(e,t),t.tag=1,Ja(n)?(e=!0,Mw(t)):e=!1,ym(t,r),dj(t,n,s),l4(t,n,s,r),d4(null,t,n,!0,e,r);case 19:return vj(e,t,r);case 22:return mj(e,t,r)}throw Error(bt(156,t.tag))};function Lj(e,t){return lL(e,t)}function nY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(e,t,r,n){return new nY(e,t,r,n)}function HE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sY(e){if(typeof e=="function")return HE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cE)return 11;if(e===uE)return 14}return 2}function zf(e,t){var r=e.alternate;return r===null?(r=ll(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tw(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")HE(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Gp:return A0(r.children,s,i,t);case lE:a=8,s|=8;break;case O3:return e=ll(12,r,t,s|2),e.elementType=O3,e.lanes=i,e;case R3:return e=ll(13,r,t,s),e.elementType=R3,e.lanes=i,e;case D3:return e=ll(19,r,t,s),e.elementType=D3,e.lanes=i,e;case WD:return r_(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qD:a=10;break e;case HD:a=9;break e;case cE:a=11;break e;case uE:a=14;break e;case lf:a=16,n=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=ll(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function A0(e,t,r,n){return e=ll(7,e,n,t),e.lanes=r,e}function r_(e,t,r,n){return e=ll(22,e,n,t),e.elementType=WD,e.lanes=r,e.stateNode={isHidden:!1},e}function eS(e,t,r){return e=ll(6,e,null,t),e.lanes=r,e}function tS(e,t,r){return t=ll(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iY(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L5(0),this.expirationTimes=L5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L5(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function WE(e,t,r,n,s,i,a,o,l){return e=new iY(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ll(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kE(i),e}function aY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jj(e){if(!e)return Xf;e=e._reactInternals;e:{if(tp(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var r=e.type;if(Ja(r))return jL(e,r,t)}return t}function Fj(e,t,r,n,s,i,a,o,l){return e=WE(r,n,!0,e,s,i,a,o,l),e.context=jj(null),r=e.current,n=Ca(),s=$f(r),i=ed(n,s),i.callback=t??null,Bf(r,i,s),e.current.lanes=s,_x(e,s,n),eo(e,n),e}function n_(e,t,r,n){var s=t.current,i=Ca(),a=$f(s);return r=jj(r),t.context===null?t.context=r:t.pendingContext=r,t=ed(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bf(s,t,a),e!==null&&(lc(e,s,a,i),Y2(e,s,a)),a}function Qw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function VE(e,t){g6(e,t),(e=e.alternate)&&g6(e,t)}function oY(){return null}var Mj=typeof reportError=="function"?reportError:function(e){console.error(e)};function GE(e){this._internalRoot=e}s_.prototype.render=GE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));n_(e,t,null,null)};s_.prototype.unmount=GE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;U0(function(){n_(null,e,null,null)}),t[od]=null}};function s_(e){this._internalRoot=e}s_.prototype.unstable_scheduleHydration=function(e){if(e){var t=mL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<df.length&&t!==0&&t<df[r].priority;r++);df.splice(r,0,e),r===0&&yL(e)}};function KE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y6(){}function lY(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Qw(a);i.call(c)}}var a=Fj(t,n,e,0,null,!1,!1,"",y6);return e._reactRootContainer=a,e[od]=a.current,Cy(e.nodeType===8?e.parentNode:e),U0(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Qw(l);o.call(c)}}var l=WE(e,0,!1,null,null,!1,!1,"",y6);return e._reactRootContainer=l,e[od]=l.current,Cy(e.nodeType===8?e.parentNode:e),U0(function(){n_(t,l,r,n)}),l}function a_(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Qw(a);o.call(l)}}n_(t,a,e,s)}else a=lY(r,t,e,s,n);return Qw(a)}hL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=C1(t.pendingLanes);r!==0&&(hE(t,r|1),eo(t,Rs()),!(on&6)&&(Zm=Rs()+500,oh()))}break;case 13:U0(function(){var n=ld(e,1);if(n!==null){var s=Ca();lc(n,e,1,s)}}),VE(e,1)}};pE=function(e){if(e.tag===13){var t=ld(e,134217728);if(t!==null){var r=Ca();lc(t,e,134217728,r)}VE(e,134217728)}};pL=function(e){if(e.tag===13){var t=$f(e),r=ld(e,t);if(r!==null){var n=Ca();lc(r,e,t,n)}VE(e,t)}};mL=function(){return Cn};gL=function(e,t){var r=Cn;try{return Cn=e,t()}finally{Cn=r}};H3=function(e,t,r){switch(t){case"input":if(F3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xb(n);if(!s)throw Error(bt(90));GD(n),F3(n,s)}}}break;case"textarea":YD(e,r);break;case"select":t=r.value,t!=null&&hm(e,!!r.multiple,t,!1)}};rL=$E;nL=U0;var cY={usingClientEntryPoint:!1,Events:[Ax,Qp,Xb,eL,tL,$E]},c1={findFiberByHostInstance:i0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uY={bundleType:c1.bundleType,version:c1.version,rendererPackageName:c1.rendererPackageName,rendererConfig:c1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aL(e),e===null?null:e.stateNode},findFiberByHostInstance:c1.findFiberByHostInstance||oY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qv.isDisabled&&Qv.supportsFiber)try{Vb=Qv.inject(uY),au=Qv}catch{}}Mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cY;Mo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KE(t))throw Error(bt(200));return aY(e,t,null,r)};Mo.createRoot=function(e,t){if(!KE(e))throw Error(bt(299));var r=!1,n="",s=Mj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=WE(e,1,!1,null,null,r,!1,n,s),e[od]=t.current,Cy(e.nodeType===8?e.parentNode:e),new GE(t)};Mo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=aL(t),e=e===null?null:e.stateNode,e};Mo.flushSync=function(e){return U0(e)};Mo.hydrate=function(e,t,r){if(!i_(t))throw Error(bt(200));return a_(null,e,t,!0,r)};Mo.hydrateRoot=function(e,t,r){if(!KE(e))throw Error(bt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Mj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Fj(t,null,e,1,r??null,s,!1,i,a),e[od]=t.current,Cy(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new s_(t)};Mo.render=function(e,t,r){if(!i_(t))throw Error(bt(200));return a_(null,e,t,!1,r)};Mo.unmountComponentAtNode=function(e){if(!i_(e))throw Error(bt(40));return e._reactRootContainer?(U0(function(){a_(null,null,e,!1,function(){e._reactRootContainer=null,e[od]=null})}),!0):!1};Mo.unstable_batchedUpdates=$E;Mo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!i_(r))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return a_(e,t,r,!1,n)};Mo.version="18.3.1-next-f1338f8080-20240426";function Bj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bj)}catch(e){console.error(e)}}Bj(),BD.exports=Mo;var dY=BD.exports,Uj,x6=dY;Uj=x6.createRoot,x6.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v6="popstate";function fY(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return S4("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:My(s)}return pY(t,r,null,e)}function rs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hY(){return Math.random().toString(36).substring(2,10)}function w6(e,t){return{usr:e.state,key:e.key,idx:t}}function S4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fg(t):t,state:r,key:t&&t.key||n||hY()}}function My({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pY(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=u(),v=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:v})}function p(b,v){o="PUSH";let S=S4(y.location,b,v);c=u()+1;let _=w6(S,c),T=y.createHref(S);try{a.pushState(_,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(T)}i&&l&&l({action:o,location:y.location,delta:1})}function m(b,v){o="REPLACE";let S=S4(y.location,b,v);c=u();let _=w6(S,c),T=y.createHref(S);a.replaceState(_,"",T),i&&l&&l({action:o,location:y.location,delta:0})}function x(b){return mY(b)}let y={get action(){return o},get location(){return e(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v6,h),l=b,()=>{s.removeEventListener(v6,h),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(b){return a.go(b)}};return y}function mY(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rs(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:My(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function $j(e,t,r="/"){return gY(e,t,r,!1)}function gY(e,t,r,n){let s=typeof t=="string"?fg(t):t,i=ud(s.pathname||"/",r);if(i==null)return null;let a=zj(e);yY(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kY(i);o=NY(a[l],c,n)}return o}function zj(e,t=[],r=[],n=""){let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(rs(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=td([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(rs(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),zj(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:AY(c,i.index),routesMeta:u})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of qj(i.path))s(i,a,l)}),t}function qj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=qj(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function yY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:EY(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xY=/^:[\w-]+$/,vY=3,wY=2,bY=1,_Y=10,SY=-2,b6=e=>e==="*";function AY(e,t){let r=e.split("/"),n=r.length;return r.some(b6)&&(n+=SY),t&&(n+=wY),r.filter(s=>!b6(s)).reduce((s,i)=>s+(xY.test(i)?vY:i===""?bY:_Y),n)}function EY(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function NY(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Zw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Zw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:td([i,h.pathname]),pathnameBase:OY(td([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=td([i,h.pathnameBase]))}return a}function Zw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=TY(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},p)=>{if(u==="*"){let x=o[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[p];return h&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function TY(e,t=!1,r=!0){fc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function kY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ud(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CY(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fg(e):e;return{pathname:r?r.startsWith("/")?r:IY(r,t):t,search:RY(n),hash:DY(s)}}function IY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rS(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function YE(e){let t=PY(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function XE(e,t,r,n=!1){let s;typeof e=="string"?s=fg(e):(s={...e},rs(!s.pathname||!s.pathname.includes("?"),rS("?","pathname","search",s)),rs(!s.pathname||!s.pathname.includes("#"),rS("#","pathname","hash",s)),rs(!s.search||!s.search.includes("#"),rS("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=CY(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var td=e=>e.join("/").replace(/\/\/+/g,"/"),OY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Hj=["POST","PUT","PATCH","DELETE"];new Set(Hj);var jY=["GET",...Hj];new Set(jY);var hg=L.createContext(null);hg.displayName="DataRouter";var o_=L.createContext(null);o_.displayName="DataRouterState";L.createContext(!1);var Wj=L.createContext({isTransitioning:!1});Wj.displayName="ViewTransition";var FY=L.createContext(new Map);FY.displayName="Fetchers";var MY=L.createContext(null);MY.displayName="Await";var mc=L.createContext(null);mc.displayName="Navigation";var Nx=L.createContext(null);Nx.displayName="Location";var gc=L.createContext({outlet:null,matches:[],isDataRoute:!1});gc.displayName="Route";var QE=L.createContext(null);QE.displayName="RouteError";function BY(e,{relative:t}={}){rs(pg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=L.useContext(mc),{hash:s,pathname:i,search:a}=Tx(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:td([r,i])),n.createHref({pathname:o,search:a,hash:s})}function pg(){return L.useContext(Nx)!=null}function lh(){return rs(pg(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Nx).location}var Vj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gj(e){L.useContext(mc).static||L.useLayoutEffect(e)}function yc(){let{isDataRoute:e}=L.useContext(gc);return e?ZY():UY()}function UY(){rs(pg(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(hg),{basename:t,navigator:r}=L.useContext(mc),{matches:n}=L.useContext(gc),{pathname:s}=lh(),i=JSON.stringify(YE(n)),a=L.useRef(!1);return Gj(()=>{a.current=!0}),L.useCallback((l,c={})=>{if(fc(a.current,Vj),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=XE(l,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:td([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,i,s,e])}L.createContext(null);function Kj(){let{matches:e}=L.useContext(gc),t=e[e.length-1];return t?t.params:{}}function Tx(e,{relative:t}={}){let{matches:r}=L.useContext(gc),{pathname:n}=lh(),s=JSON.stringify(YE(r));return L.useMemo(()=>XE(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function $Y(e,t){return Yj(e,t)}function Yj(e,t,r,n){var v;rs(pg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(mc),{matches:i}=L.useContext(gc),a=i[i.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let S=u&&u.path||"";Xj(l,!u||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let h=lh(),p;if(t){let S=typeof t=="string"?fg(t):t;rs(c==="/"||((v=S.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=h;let m=p.pathname||"/",x=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=$j(e,{pathname:x});fc(u||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),fc(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=VY(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:td([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:td([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&b?L.createElement(Nx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function zY(){let e=QY(),t=LY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:i},"ErrorBoundary")," or"," ",L.createElement("code",{style:i},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:s},r):null,a)}var qY=L.createElement(zY,null),HY=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(gc.Provider,{value:this.props.routeContext},L.createElement(QE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WY({routeContext:e,match:t,children:r}){let n=L.useContext(hg);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(gc.Provider,{value:e},r)}function VY(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let l=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);rs(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:h}=r,p=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,u)=>{let h,p=!1,m=null,x=null;r&&(h=i&&c.route.id?i[c.route.id]:void 0,m=c.route.errorElement||qY,a&&(o<0&&u===0?(Xj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):o===u&&(p=!0,x=c.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,u+1)),b=()=>{let v;return h?v=m:p?v=x:c.route.Component?v=L.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,L.createElement(WY,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:v})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?L.createElement(HY,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function ZE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GY(e){let t=L.useContext(hg);return rs(t,ZE(e)),t}function KY(e){let t=L.useContext(o_);return rs(t,ZE(e)),t}function YY(e){let t=L.useContext(gc);return rs(t,ZE(e)),t}function JE(e){let t=YY(e),r=t.matches[t.matches.length-1];return rs(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function XY(){return JE("useRouteId")}function QY(){var n;let e=L.useContext(QE),t=KY("useRouteError"),r=JE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ZY(){let{router:e}=GY("useNavigate"),t=JE("useNavigate"),r=L.useRef(!1);return Gj(()=>{r.current=!0}),L.useCallback(async(s,i={})=>{fc(r.current,Vj),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var _6={};function Xj(e,t,r){!t&&!_6[e]&&(_6[e]=!0,fc(!1,r))}L.memo(JY);function JY({routes:e,future:t,state:r}){return Yj(e,void 0,r,t)}function eN({to:e,replace:t,state:r,relative:n}){rs(pg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=L.useContext(mc);fc(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=L.useContext(gc),{pathname:a}=lh(),o=yc(),l=XE(e,YE(i),a,n==="path"),c=JSON.stringify(l);return L.useEffect(()=>{o(JSON.parse(c),{replace:t,state:r,relative:n})},[o,c,n,t,r]),null}function _n(e){rs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eX({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){rs(!pg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=L.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=fg(r));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:p="default"}=r,m=L.useMemo(()=>{let x=ud(l,a);return x==null?null:{location:{pathname:x,search:c,hash:u,state:h,key:p},navigationType:n}},[a,l,c,u,h,p,n]);return fc(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:L.createElement(mc.Provider,{value:o},L.createElement(Nx.Provider,{children:t,value:m}))}function S6({children:e,location:t}){return $Y(A4(e),t)}function A4(e,t=[]){let r=[];return L.Children.forEach(e,(n,s)=>{if(!L.isValidElement(n))return;let i=[...t,s];if(n.type===L.Fragment){r.push.apply(r,A4(n.props.children,i));return}rs(n.type===_n,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rs(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=A4(n.props.children,i)),r.push(a)}),r}var rw="get",nw="application/x-www-form-urlencoded";function l_(e){return e!=null&&typeof e.tagName=="string"}function tX(e){return l_(e)&&e.tagName.toLowerCase()==="button"}function rX(e){return l_(e)&&e.tagName.toLowerCase()==="form"}function nX(e){return l_(e)&&e.tagName.toLowerCase()==="input"}function sX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iX(e,t){return e.button===0&&(!t||t==="_self")&&!sX(e)}var Zv=null;function aX(){if(Zv===null)try{new FormData(document.createElement("form"),0),Zv=!1}catch{Zv=!0}return Zv}var oX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nS(e){return e!=null&&!oX.has(e)?(fc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nw}"`),null):e}function lX(e,t){let r,n,s,i,a;if(rX(e)){let o=e.getAttribute("action");n=o?ud(o,t):null,r=e.getAttribute("method")||rw,s=nS(e.getAttribute("enctype"))||nw,i=new FormData(e)}else if(tX(e)||nX(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?ud(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||rw,s=nS(e.getAttribute("formenctype"))||nS(o.getAttribute("enctype"))||nw,i=new FormData(o,e),!aX()){let{name:c,type:u,value:h}=e;if(u==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,h)}}else{if(l_(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=rw,n=null,s=nw,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cX(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ud(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function uX(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dX(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fX(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await uX(i,r);return a.links?a.links():[]}return[]}));return gX(n.flat(1).filter(dX).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function A6(e,t,r,n,s,i){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?t.filter((l,c)=>{var h;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function hX(e,t,{includeHydrateFallback:r}={}){return pX(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function pX(e){return[...new Set(e)]}function mX(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function gX(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(mX(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Qj(){let e=L.useContext(hg);return tN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yX(){let e=L.useContext(o_);return tN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rN=L.createContext(void 0);rN.displayName="FrameworkContext";function Zj(){let e=L.useContext(rN);return tN(e,"You must render this element inside a <HydratedRouter> element"),e}function xX(e,t){let r=L.useContext(rN),[n,s]=L.useState(!1),[i,a]=L.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=t,p=L.useRef(null);L.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let y=v=>{v.forEach(S=>{a(S.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),L.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{s(!0)},x=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:u1(o,m),onBlur:u1(l,x),onMouseEnter:u1(c,m),onMouseLeave:u1(u,x),onTouchStart:u1(h,m)}]:[!1,p,{}]}function u1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function vX({page:e,...t}){let{router:r}=Qj(),n=L.useMemo(()=>$j(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?L.createElement(bX,{page:e,matches:n,...t}):null}function wX(e){let{manifest:t,routeModules:r}=Zj(),[n,s]=L.useState([]);return L.useEffect(()=>{let i=!1;return fX(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function bX({page:e,matches:t,...r}){let n=lh(),{manifest:s,routeModules:i}=Zj(),{basename:a}=Qj(),{loaderData:o,matches:l}=yX(),c=L.useMemo(()=>A6(e,t,l,s,n,"data"),[e,t,l,s,n]),u=L.useMemo(()=>A6(e,t,l,s,n,"assets"),[e,t,l,s,n]),h=L.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(t.forEach(v=>{var _;let S=s.routes[v.route.id];!S||!S.hasLoader||(!c.some(T=>T.route.id===v.route.id)&&v.route.id in o&&((_=i[v.route.id])!=null&&_.shouldRevalidate)||S.hasClientLoader?y=!0:x.add(v.route.id))}),x.size===0)return[];let b=cX(e,a,"data");return y&&x.size>0&&b.searchParams.set("_routes",t.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[a,o,n,s,c,t,e,i]),p=L.useMemo(()=>hX(u,s),[u,s]),m=wX(u);return L.createElement(L.Fragment,null,h.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),p.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),m.map(({key:x,link:y})=>L.createElement("link",{key:x,...y})))}function _X(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jj&&(window.__reactRouterVersion="7.7.0")}catch{}function SX({basename:e,children:t,window:r}){let n=L.useRef();n.current==null&&(n.current=fY({window:r,v5Compat:!0}));let s=n.current,[i,a]=L.useState({action:s.action,location:s.location}),o=L.useCallback(l=>{L.startTransition(()=>a(l))},[a]);return L.useLayoutEffect(()=>s.listen(o),[s,o]),L.createElement(eX,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var eF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tF=L.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h,...p},m){let{basename:x}=L.useContext(mc),y=typeof c=="string"&&eF.test(c),b,v=!1;if(typeof c=="string"&&y&&(b=c,Jj))try{let F=new URL(window.location.href),N=c.startsWith("//")?new URL(F.protocol+c):new URL(c),k=ud(N.pathname,x);N.origin===F.origin&&k!=null?c=k+N.search+N.hash:v=!0}catch{fc(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=BY(c,{relative:s}),[_,T,R]=xX(n,p),B=NX(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:h});function j(F){t&&t(F),F.defaultPrevented||B(F)}let P=L.createElement("a",{...p,...R,href:b||S,onClick:v||i?t:j,ref:_X(m,T),target:l,"data-discover":!y&&r==="render"?"true":void 0});return _&&!y?L.createElement(L.Fragment,null,P,L.createElement(vX,{page:S})):P});tF.displayName="Link";var rF=L.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...c},u){let h=Tx(a,{relative:c.relative}),p=lh(),m=L.useContext(o_),{navigator:x,basename:y}=L.useContext(mc),b=m!=null&&PX(h)&&o===!0,v=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,S=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(S=S.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&y&&(_=ud(_,y)||_);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let R=S===v||!s&&S.startsWith(v)&&S.charAt(T)==="/",B=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),j={isActive:R,isPending:B,isTransitioning:b},P=R?t:void 0,F;typeof n=="function"?F=n(j):F=[n,R?"active":null,B?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(j):i;return L.createElement(tF,{...c,"aria-current":P,className:F,ref:u,style:N,to:a,viewTransition:o},typeof l=="function"?l(j):l)});rF.displayName="NavLink";var AX=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=rw,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...p},m)=>{let x=CX(),y=IX(o,{relative:c}),b=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&eF.test(o),S=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,R=(T==null?void 0:T.getAttribute("formmethod"))||a;x(T||_.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:s,state:i,relative:c,preventScrollReset:u,viewTransition:h})};return L.createElement("form",{ref:m,method:b,action:y,onSubmit:n?l:S,...p,"data-discover":!v&&e==="render"?"true":void 0})});AX.displayName="Form";function EX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nF(e){let t=L.useContext(hg);return rs(t,EX(e)),t}function NX(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=yc(),l=lh(),c=Tx(e,{relative:i});return L.useCallback(u=>{if(iX(u,t)){u.preventDefault();let h=r!==void 0?r:My(l)===My(c);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,c,r,n,t,e,s,i,a])}var TX=0,kX=()=>`__${String(++TX)}__`;function CX(){let{router:e}=nF("useSubmit"),{basename:t}=L.useContext(mc),r=XY();return L.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:l,body:c}=lX(n,t);if(s.navigate===!1){let u=s.fetcherKey||kX();await e.fetch(u,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function IX(e,{relative:t}={}){let{basename:r}=L.useContext(mc),n=L.useContext(gc);rs(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Tx(e||".",{relative:t})},a=lh();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:td([r,i.pathname])),My(i)}function PX(e,t={}){let r=L.useContext(Wj);rs(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nF("useViewTransitionState"),s=Tx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ud(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ud(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zw(s.pathname,a)!=null||Zw(s.pathname,i)!=null}function sF(e,t){return function(){return e.apply(t,arguments)}}const{toString:OX}=Object.prototype,{getPrototypeOf:nN}=Object,{iterator:c_,toStringTag:iF}=Symbol,u_=(e=>t=>{const r=OX.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xc=e=>(e=e.toLowerCase(),t=>u_(t)===e),d_=e=>t=>typeof t===e,{isArray:mg}=Array,Jm=d_("undefined");function kx(e){return e!==null&&!Jm(e)&&e.constructor!==null&&!Jm(e.constructor)&&to(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aF=xc("ArrayBuffer");function RX(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aF(e.buffer),t}const DX=d_("string"),to=d_("function"),oF=d_("number"),Cx=e=>e!==null&&typeof e=="object",LX=e=>e===!0||e===!1,sw=e=>{if(u_(e)!=="object")return!1;const t=nN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iF in e)&&!(c_ in e)},jX=e=>{if(!Cx(e)||kx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},FX=xc("Date"),MX=xc("File"),BX=xc("Blob"),UX=xc("FileList"),$X=e=>Cx(e)&&to(e.pipe),zX=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||to(e.append)&&((t=u_(e))==="formdata"||t==="object"&&to(e.toString)&&e.toString()==="[object FormData]"))},qX=xc("URLSearchParams"),[HX,WX,VX,GX]=["ReadableStream","Request","Response","Headers"].map(xc),KX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ix(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),mg(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(kx(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function lF(e,t){if(kx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const l0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cF=e=>!Jm(e)&&e!==l0;function E4(){const{caseless:e,skipUndefined:t}=cF(this)&&this||{},r={},n=(s,i)=>{const a=e&&lF(r,i)||i;sw(r[a])&&sw(s)?r[a]=E4(r[a],s):sw(s)?r[a]=E4({},s):mg(s)?r[a]=s.slice():(!t||!Jm(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ix(arguments[s],n);return r}const YX=(e,t,r,{allOwnKeys:n}={})=>(Ix(t,(s,i)=>{r&&to(s)?e[i]=sF(s,r):e[i]=s},{allOwnKeys:n}),e),XX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),QX=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ZX=(e,t,r,n)=>{let s,i,a;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&nN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},JX=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},eQ=e=>{if(!e)return null;if(mg(e))return e;let t=e.length;if(!oF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},tQ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nN(Uint8Array)),rQ=(e,t)=>{const n=(e&&e[c_]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},nQ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},sQ=xc("HTMLFormElement"),iQ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),E6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),aQ=xc("RegExp"),uF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ix(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},oQ=e=>{uF(e,(t,r)=>{if(to(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(to(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lQ=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return mg(e)?n(e):n(String(e).split(t)),r},cQ=()=>{},uQ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dQ(e){return!!(e&&to(e.append)&&e[iF]==="FormData"&&e[c_])}const fQ=e=>{const t=new Array(10),r=(n,s)=>{if(Cx(n)){if(t.indexOf(n)>=0)return;if(kx(n))return n;if(!("toJSON"in n)){t[s]=n;const i=mg(n)?[]:{};return Ix(n,(a,o)=>{const l=r(a,s+1);!Jm(l)&&(i[o]=l)}),t[s]=void 0,i}}return n};return r(e,0)},hQ=xc("AsyncFunction"),pQ=e=>e&&(Cx(e)||to(e))&&to(e.then)&&to(e.catch),dF=((e,t)=>e?setImmediate:t?((r,n)=>(l0.addEventListener("message",({source:s,data:i})=>{s===l0&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),l0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",to(l0.postMessage)),mQ=typeof queueMicrotask<"u"?queueMicrotask.bind(l0):typeof process<"u"&&process.nextTick||dF,gQ=e=>e!=null&&to(e[c_]),Ye={isArray:mg,isArrayBuffer:aF,isBuffer:kx,isFormData:zX,isArrayBufferView:RX,isString:DX,isNumber:oF,isBoolean:LX,isObject:Cx,isPlainObject:sw,isEmptyObject:jX,isReadableStream:HX,isRequest:WX,isResponse:VX,isHeaders:GX,isUndefined:Jm,isDate:FX,isFile:MX,isBlob:BX,isRegExp:aQ,isFunction:to,isStream:$X,isURLSearchParams:qX,isTypedArray:tQ,isFileList:UX,forEach:Ix,merge:E4,extend:YX,trim:KX,stripBOM:XX,inherits:QX,toFlatObject:ZX,kindOf:u_,kindOfTest:xc,endsWith:JX,toArray:eQ,forEachEntry:rQ,matchAll:nQ,isHTMLForm:sQ,hasOwnProperty:E6,hasOwnProp:E6,reduceDescriptors:uF,freezeMethods:oQ,toObjectSet:lQ,toCamelCase:iQ,noop:cQ,toFiniteNumber:uQ,findKey:lF,global:l0,isContextDefined:cF,isSpecCompliantForm:dQ,toJSONObject:fQ,isAsyncFn:hQ,isThenable:pQ,setImmediate:dF,asap:mQ,isIterable:gQ};function Pr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ye.inherits(Pr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const fF=Pr.prototype,hF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hF[e]={value:e}});Object.defineProperties(Pr,hF);Object.defineProperty(fF,"isAxiosError",{value:!0});Pr.from=(e,t,r,n,s,i)=>{const a=Object.create(fF);Ye.toFlatObject(e,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Pr.call(a,o,l,r,n,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const yQ=null;function N4(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function pF(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function N6(e,t,r){return e?e.concat(t).map(function(s,i){return s=pF(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function xQ(e){return Ye.isArray(e)&&!e.some(N4)}const vQ=Ye.toFlatObject(Ye,{},null,function(t){return/^is[A-Z]/.test(t)});function f_(e,t,r){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Ye.isUndefined(b[y])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(Ye.isDate(x))return x.toISOString();if(Ye.isBoolean(x))return x.toString();if(!l&&Ye.isBlob(x))throw new Pr("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(x)||Ye.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,b){let v=x;if(x&&!b&&typeof x=="object"){if(Ye.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ye.isArray(x)&&xQ(x)||(Ye.isFileList(x)||Ye.endsWith(y,"[]"))&&(v=Ye.toArray(x)))return y=pF(y),v.forEach(function(_,T){!(Ye.isUndefined(_)||_===null)&&t.append(a===!0?N6([y],T,i):a===null?y:y+"[]",c(_))}),!1}return N4(x)?!0:(t.append(N6(b,y,i),c(x)),!1)}const h=[],p=Object.assign(vQ,{defaultVisitor:u,convertValue:c,isVisitable:N4});function m(x,y){if(!Ye.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(x),Ye.forEach(x,function(v,S){(!(Ye.isUndefined(v)||v===null)&&s.call(t,v,Ye.isString(S)?S.trim():S,y,p))===!0&&m(v,y?y.concat(S):[S])}),h.pop()}}if(!Ye.isObject(e))throw new TypeError("data must be an object");return m(e),t}function T6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function sN(e,t){this._pairs=[],e&&f_(e,this,t)}const mF=sN.prototype;mF.append=function(t,r){this._pairs.push([t,r])};mF.toString=function(t){const r=t?function(n){return t.call(this,n,T6)}:T6;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function wQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gF(e,t,r){if(!t)return e;const n=r&&r.encode||wQ;Ye.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Ye.isURLSearchParams(t)?t.toString():new sN(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class k6{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ye.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bQ=typeof URLSearchParams<"u"?URLSearchParams:sN,_Q=typeof FormData<"u"?FormData:null,SQ=typeof Blob<"u"?Blob:null,AQ={isBrowser:!0,classes:{URLSearchParams:bQ,FormData:_Q,Blob:SQ},protocols:["http","https","file","blob","url","data"]},iN=typeof window<"u"&&typeof document<"u",T4=typeof navigator=="object"&&navigator||void 0,EQ=iN&&(!T4||["ReactNative","NativeScript","NS"].indexOf(T4.product)<0),NQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TQ=iN&&window.location.href||"http://localhost",kQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iN,hasStandardBrowserEnv:EQ,hasStandardBrowserWebWorkerEnv:NQ,navigator:T4,origin:TQ},Symbol.toStringTag,{value:"Module"})),ea={...kQ,...AQ};function CQ(e,t){return f_(e,new ea.classes.URLSearchParams,{visitor:function(r,n,s,i){return ea.isNode&&Ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function IQ(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function PQ(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function xF(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=r.length;return a=!a&&Ye.isArray(s)?s.length:a,l?(Ye.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!Ye.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&Ye.isArray(s[a])&&(s[a]=PQ(s[a])),!o)}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const r={};return Ye.forEachEntry(e,(n,s)=>{t(IQ(n),s,r,0)}),r}return null}function OQ(e,t,r){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Px={transitional:yF,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ye.isObject(t);if(i&&Ye.isHTMLForm(t)&&(t=new FormData(t)),Ye.isFormData(t))return s?JSON.stringify(xF(t)):t;if(Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)||Ye.isReadableStream(t))return t;if(Ye.isArrayBufferView(t))return t.buffer;if(Ye.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CQ(t,this.formSerializer).toString();if((o=Ye.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return f_(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),OQ(t)):t}],transformResponse:[function(t){const r=this.transitional||Px.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ye.isResponse(t)||Ye.isReadableStream(t))return t;if(t&&Ye.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Pr.from(o,Pr.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],e=>{Px.headers[e]={}});const RQ=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DQ=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&RQ[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},C6=Symbol("internals");function d1(e){return e&&String(e).trim().toLowerCase()}function iw(e){return e===!1||e==null?e:Ye.isArray(e)?e.map(iw):String(e)}function LQ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const jQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sS(e,t,r,n,s){if(Ye.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Ye.isString(t)){if(Ye.isString(n))return t.indexOf(n)!==-1;if(Ye.isRegExp(n))return n.test(t)}}function FQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function MQ(e,t){const r=Ye.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}class ro{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(o,l,c){const u=d1(l);if(!u)throw new Error("header name must be a non-empty string");const h=Ye.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=iw(o))}const a=(o,l)=>Ye.forEach(o,(c,u)=>i(c,u,l));if(Ye.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(Ye.isString(t)&&(t=t.trim())&&!jQ(t))a(DQ(t),r);else if(Ye.isObject(t)&&Ye.isIterable(t)){let o={},l,c;for(const u of t){if(!Ye.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?Ye.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=d1(t),t){const n=Ye.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return LQ(s);if(Ye.isFunction(r))return r.call(this,s,n);if(Ye.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=d1(t),t){const n=Ye.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||sS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=d1(a),a){const o=Ye.findKey(n,a);o&&(!r||sS(n,n[o],o,r))&&(delete n[o],s=!0)}}return Ye.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||sS(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Ye.forEach(this,(s,i)=>{const a=Ye.findKey(n,i);if(a){r[a]=iw(s),delete r[i];return}const o=t?FQ(i):String(i).trim();o!==i&&delete r[i],r[o]=iw(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ye.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[C6]=this[C6]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=d1(a);n[o]||(MQ(s,a),n[o]=!0)}return Ye.isArray(t)?t.forEach(i):i(t),this}}ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(ro.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ye.freezeMethods(ro);function iS(e,t){const r=this||Px,n=t||r,s=ro.from(n.headers);let i=n.data;return Ye.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function vF(e){return!!(e&&e.__CANCEL__)}function gg(e,t,r){Pr.call(this,e??"canceled",Pr.ERR_CANCELED,t,r),this.name="CanceledError"}Ye.inherits(gg,Pr,{__CANCEL__:!0});function wF(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Pr("Request failed with status code "+r.status,[Pr.ERR_BAD_REQUEST,Pr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function BQ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UQ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[i];a||(a=c),r[s]=l,n[s]=c;let h=i,p=0;for(;h!==s;)p+=r[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-a<t)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function $Q(e,t){let r=0,n=1e3/t,s,i;const a=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?a(c,u):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},n-h)))},()=>s&&a(s)]}const Jw=(e,t,r=3)=>{let n=0;const s=UQ(50,250);return $Q(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-n,c=s(l),u=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},I6=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},P6=e=>(...t)=>Ye.asap(()=>e(...t)),zQ=ea.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ea.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ea.origin),ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent)):()=>!0,qQ=ea.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];Ye.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ye.isString(n)&&a.push("path="+n),Ye.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bF(e,t,r){let n=!HQ(t);return e&&(n||r==!1)?WQ(e,t):t}const O6=e=>e instanceof ro?{...e}:e;function $0(e,t){t=t||{};const r={};function n(c,u,h,p){return Ye.isPlainObject(c)&&Ye.isPlainObject(u)?Ye.merge.call({caseless:p},c,u):Ye.isPlainObject(u)?Ye.merge({},u):Ye.isArray(u)?u.slice():u}function s(c,u,h,p){if(Ye.isUndefined(u)){if(!Ye.isUndefined(c))return n(void 0,c,h,p)}else return n(c,u,h,p)}function i(c,u){if(!Ye.isUndefined(u))return n(void 0,u)}function a(c,u){if(Ye.isUndefined(u)){if(!Ye.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,h)=>s(O6(c),O6(u),h,!0)};return Ye.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||s,p=h(e[u],t[u],u);Ye.isUndefined(p)&&h!==o||(r[u]=p)}),r}const _F=e=>{const t=$0({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=ro.from(a),t.url=gF(bF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ye.isFormData(r)){if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ye.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&a.set(u,h)})}}if(ea.hasStandardBrowserEnv&&(n&&Ye.isFunction(n)&&(n=n(t)),n||n!==!1&&zQ(t.url))){const l=s&&i&&qQ.read(i);l&&a.set(s,l)}return t},VQ=typeof XMLHttpRequest<"u",GQ=VQ&&function(e){return new Promise(function(r,n){const s=_F(e);let i=s.data;const a=ro.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,h,p,m,x;function y(){m&&m(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const _=ro.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:e,request:b};wF(function(j){r(j),y()},function(j){n(j),y()},R),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(n(new Pr("Request aborted",Pr.ECONNABORTED,e,b)),b=null)},b.onerror=function(T){const R=T&&T.message?T.message:"Network Error",B=new Pr(R,Pr.ERR_NETWORK,e,b);B.event=T||null,n(B),b=null},b.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||yF;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),n(new Pr(T,R.clarifyTimeoutError?Pr.ETIMEDOUT:Pr.ECONNABORTED,e,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&Ye.forEach(a.toJSON(),function(T,R){b.setRequestHeader(R,T)}),Ye.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),c&&([p,x]=Jw(c,!0),b.addEventListener("progress",p)),l&&b.upload&&([h,m]=Jw(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=_=>{b&&(n(!_||_.type?new gg(null,e,b):_),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const S=BQ(s.url);if(S&&ea.protocols.indexOf(S)===-1){n(new Pr("Unsupported protocol "+S+":",Pr.ERR_BAD_REQUEST,e));return}b.send(i||null)})},KQ=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Pr?u:new gg(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,i(new Pr(`timeout ${t} of ms exceeded`,Pr.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>Ye.asap(o),l}},YQ=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},XQ=async function*(e,t){for await(const r of QQ(e))yield*YQ(r,t)},QQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},R6=(e,t,r,n)=>{const s=XQ(e,t);let i=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){o(),l.close();return}let h=u.byteLength;if(r){let p=i+=h;r(p)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},D6=64*1024,{isFunction:Jv}=Ye,ZQ=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ye.global),{ReadableStream:L6,TextEncoder:j6}=Ye.global,F6=(e,...t)=>{try{return!!e(...t)}catch{return!1}},JQ=e=>{e=Ye.merge.call({skipUndefined:!0},ZQ,e);const{fetch:t,Request:r,Response:n}=e,s=t?Jv(t):typeof fetch=="function",i=Jv(r),a=Jv(n);if(!s)return!1;const o=s&&Jv(L6),l=s&&(typeof j6=="function"?(x=>y=>x.encode(y))(new j6):async x=>new Uint8Array(await new r(x).arrayBuffer())),c=i&&o&&F6(()=>{let x=!1;const y=new r(ea.origin,{body:new L6,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),u=a&&o&&F6(()=>Ye.isReadableStream(new n("").body)),h={stream:u&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(y,b)=>{let v=y&&y[x];if(v)return v.call(y);throw new Pr(`Response type '${x}' is not supported`,Pr.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(Ye.isBlob(x))return x.size;if(Ye.isSpecCompliantForm(x))return(await new r(ea.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(x)||Ye.isArrayBuffer(x))return x.byteLength;if(Ye.isURLSearchParams(x)&&(x=x+""),Ye.isString(x))return(await l(x)).byteLength},m=async(x,y)=>{const b=Ye.toFiniteNumber(x.getContentLength());return b??p(y)};return async x=>{let{url:y,method:b,data:v,signal:S,cancelToken:_,timeout:T,onDownloadProgress:R,onUploadProgress:B,responseType:j,headers:P,withCredentials:F="same-origin",fetchOptions:N}=_F(x),k=t||fetch;j=j?(j+"").toLowerCase():"text";let C=KQ([S,_&&_.toAbortSignal()],T),H=null;const z=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let K;try{if(B&&c&&b!=="get"&&b!=="head"&&(K=await m(P,v))!==0){let X=new r(y,{method:"POST",body:v,duplex:"half"}),I;if(Ye.isFormData(v)&&(I=X.headers.get("content-type"))&&P.setContentType(I),X.body){const[U,G]=I6(K,Jw(P6(B)));v=R6(X.body,D6,U,G)}}Ye.isString(F)||(F=F?"include":"omit");const Y=i&&"credentials"in r.prototype,W={...N,signal:C,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:v,duplex:"half",credentials:Y?F:void 0};H=i&&new r(y,W);let Z=await(i?k(H,N):k(y,W));const ne=u&&(j==="stream"||j==="response");if(u&&(R||ne&&z)){const X={};["status","statusText","headers"].forEach(V=>{X[V]=Z[V]});const I=Ye.toFiniteNumber(Z.headers.get("content-length")),[U,G]=R&&I6(I,Jw(P6(R),!0))||[];Z=new n(R6(Z.body,D6,U,()=>{G&&G(),z&&z()}),X)}j=j||"text";let ee=await h[Ye.findKey(h,j)||"text"](Z,x);return!ne&&z&&z(),await new Promise((X,I)=>{wF(X,I,{data:ee,headers:ro.from(Z.headers),status:Z.status,statusText:Z.statusText,config:x,request:H})})}catch(Y){throw z&&z(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Pr("Network Error",Pr.ERR_NETWORK,x,H),{cause:Y.cause||Y}):Pr.from(Y,Y&&Y.code,x,H)}}},eZ=new Map,SF=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let a=i.length,o=a,l,c,u=eZ;for(;o--;)l=i[o],c=u.get(l),c===void 0&&u.set(l,c=o?new Map:JQ(t)),u=c;return c};SF();const k4={http:yQ,xhr:GQ,fetch:{get:SF}};Ye.forEach(k4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const M6=e=>`- ${e}`,tZ=e=>Ye.isFunction(e)||e===null||e===!1,AF={getAdapter:(e,t)=>{e=Ye.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let a=0;a<r;a++){n=e[a];let o;if(s=n,!tZ(n)&&(s=k4[(o=String(n)).toLowerCase()],s===void 0))throw new Pr(`Unknown adapter '${o}'`);if(s&&(Ye.isFunction(s)||(s=s.get(t))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(M6).join(`
`):" "+M6(a[0]):"as no adapter specified";throw new Pr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:k4};function aS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gg(null,e)}function B6(e){return aS(e),e.headers=ro.from(e.headers),e.data=iS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AF.getAdapter(e.adapter||Px.adapter,e)(e).then(function(n){return aS(e),n.data=iS.call(e,e.transformResponse,n),n.headers=ro.from(n.headers),n},function(n){return vF(n)||(aS(e),n&&n.response&&(n.response.data=iS.call(e,e.transformResponse,n.response),n.response.headers=ro.from(n.response.headers))),Promise.reject(n)})}const EF="1.12.2",h_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{h_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const U6={};h_.transitional=function(t,r,n){function s(i,a){return"[Axios v"+EF+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(t===!1)throw new Pr(s(a," has been removed"+(r?" in "+r:"")),Pr.ERR_DEPRECATED);return r&&!U6[a]&&(U6[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,o):!0}};h_.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function rZ(e,t,r){if(typeof e!="object")throw new Pr("options must be an object",Pr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const o=e[i],l=o===void 0||a(o,i,e);if(l!==!0)throw new Pr("option "+i+" must be "+l,Pr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Pr("Unknown option "+i,Pr.ERR_BAD_OPTION)}}const aw={assertOptions:rZ,validators:h_},qc=aw.validators;class E0{constructor(t){this.defaults=t||{},this.interceptors={request:new k6,response:new k6}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$0(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&aw.assertOptions(n,{silentJSONParsing:qc.transitional(qc.boolean),forcedJSONParsing:qc.transitional(qc.boolean),clarifyTimeoutError:qc.transitional(qc.boolean)},!1),s!=null&&(Ye.isFunction(s)?r.paramsSerializer={serialize:s}:aw.assertOptions(s,{encode:qc.function,serialize:qc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),aw.assertOptions(r,{baseUrl:qc.spelling("baseURL"),withXsrfToken:qc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&Ye.merge(i.common,i[r.method]);i&&Ye.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=ro.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,p;if(!l){const x=[B6.bind(this),void 0];for(x.unshift(...o),x.push(...c),p=x.length,u=Promise.resolve(r);h<p;)u=u.then(x[h++],x[h++]);return u}p=o.length;let m=r;for(;h<p;){const x=o[h++],y=o[h++];try{m=x(m)}catch(b){y.call(this,b);break}}try{u=B6.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,p=c.length;h<p;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=$0(this.defaults,t);const r=bF(t.baseURL,t.url,t.allowAbsoluteUrls);return gF(r,t.params,t.paramsSerializer)}}Ye.forEach(["delete","get","head","options"],function(t){E0.prototype[t]=function(r,n){return this.request($0(n||{},{method:t,url:r,data:(n||{}).data}))}});Ye.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,o){return this.request($0(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}E0.prototype[t]=r(),E0.prototype[t+"Form"]=r(!0)});class aN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,o){n.reason||(n.reason=new gg(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new aN(function(s){t=s}),cancel:t}}}function nZ(e){return function(r){return e.apply(null,r)}}function sZ(e){return Ye.isObject(e)&&e.isAxiosError===!0}const C4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(C4).forEach(([e,t])=>{C4[t]=e});function NF(e){const t=new E0(e),r=sF(E0.prototype.request,t);return Ye.extend(r,E0.prototype,t,{allOwnKeys:!0}),Ye.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return NF($0(e,s))},r}const an=NF(Px);an.Axios=E0;an.CanceledError=gg;an.CancelToken=aN;an.isCancel=vF;an.VERSION=EF;an.toFormData=f_;an.AxiosError=Pr;an.Cancel=an.CanceledError;an.all=function(t){return Promise.all(t)};an.spread=nZ;an.isAxiosError=sZ;an.mergeConfig=$0;an.AxiosHeaders=ro;an.formToJSON=e=>xF(Ye.isHTMLForm(e)?new FormData(e):e);an.getAdapter=AF.getAdapter;an.HttpStatusCode=C4;an.default=an;const iZ=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var aZ=e=>!iZ.has(e&&e.code);const oZ=eE(aZ),oN="axios-retry";function TF(e){const t=["ERR_CANCELED","ECONNABORTED"];return e.response||!e.code||t.includes(e.code)?!1:oZ(e)}const kF=["get","head","options"],lZ=kF.concat(["put","delete"]);function lN(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status===429||e.response.status>=500&&e.response.status<=599)}function cZ(e){var t;return(t=e.config)!=null&&t.method?lN(e)&&kF.indexOf(e.config.method)!==-1:!1}function CF(e){var t;return(t=e.config)!=null&&t.method?lN(e)&&lZ.indexOf(e.config.method)!==-1:!1}function IF(e){return TF(e)||CF(e)}function cN(e=void 0){var n;const t=(n=e==null?void 0:e.response)==null?void 0:n.headers["retry-after"];if(!t)return 0;let r=(Number(t)||0)*1e3;return r===0&&(r=(new Date(t).valueOf()||0)-Date.now()),Math.max(0,r)}function uZ(e=0,t=void 0){return Math.max(0,cN(t))}function dZ(e=0,t=void 0,r=100){const n=2**e*r,s=Math.max(n,cN(t)),i=s*.2*Math.random();return s+i}function fZ(e=100){return(t=0,r=void 0)=>{const n=t*e;return Math.max(n,cN(r))}}const hZ={retries:3,retryCondition:IF,retryDelay:uZ,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function pZ(e,t){return{...hZ,...t,...e[oN]}}function $6(e,t,r=!1){const n=pZ(e,t||{});return n.retryCount=n.retryCount||0,(!n.lastRequestTime||r)&&(n.lastRequestTime=Date.now()),e[oN]=n,n}function mZ(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}async function gZ(e,t){const{retries:r,retryCondition:n}=e,s=(e.retryCount||0)<r&&n(t);if(typeof s=="object")try{return await s!==!1}catch{return!1}return s}async function yZ(e,t,r,n){var l;t.retryCount+=1;const{retryDelay:s,shouldResetTimeout:i,onRetry:a}=t,o=s(t.retryCount,r);if(mZ(e,n),!i&&n.timeout&&t.lastRequestTime){const c=Date.now()-t.lastRequestTime,u=n.timeout-c-o;if(u<=0)return Promise.reject(r);n.timeout=u}return n.transformRequest=[c=>c],await a(t.retryCount,r,n),(l=n.signal)!=null&&l.aborted?Promise.resolve(e(n)):new Promise(c=>{var p;const u=()=>{clearTimeout(h),c(e(n))},h=setTimeout(()=>{var m;c(e(n)),(m=n.signal)!=null&&m.removeEventListener&&n.signal.removeEventListener("abort",u)},o);(p=n.signal)!=null&&p.addEventListener&&n.signal.addEventListener("abort",u,{once:!0})})}async function xZ(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}const xd=(e,t)=>{const r=e.interceptors.request.use(s=>{var i;return $6(s,t,!0),(i=s[oN])!=null&&i.validateResponse&&(s.validateStatus=()=>!1),s}),n=e.interceptors.response.use(null,async s=>{var o;const{config:i}=s;if(!i)return Promise.reject(s);const a=$6(i,t);return s.response&&((o=a.validateResponse)!=null&&o.call(a,s.response))?s.response:await gZ(a,s)?yZ(e,a,s,i):(await xZ(a,s),Promise.reject(s))});return{requestInterceptorId:r,responseInterceptorId:n}};xd.isNetworkError=TF;xd.isSafeRequestError=cZ;xd.isIdempotentRequestError=CF;xd.isNetworkOrIdempotentRequestError=IF;xd.exponentialDelay=dZ;xd.linearDelay=fZ;xd.isRetryableError=lN;function PF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=PF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function N0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=PF(e))&&(n&&(n+=" "),n+=t);return n}function vZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}vZ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ox=e=>typeof e=="number"&&!isNaN(e),z0=e=>typeof e=="string",dd=e=>typeof e=="function",wZ=e=>z0(e)||Ox(e),I4=e=>z0(e)||dd(e)?e:null,bZ=(e,t)=>e===!1||Ox(e)&&e>0?e:t,P4=e=>L.isValidElement(e)||z0(e)||dd(e)||Ox(e);function _Z(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function SZ({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:h}){let p=r?`${e}--${a}`:e,m=r?`${t}--${a}`:t,x=L.useRef(0);return L.useLayoutEffect(()=>{let y=c.current,b=p.split(" "),v=S=>{S.target===c.current&&(h(),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),x.current===0&&S.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),L.useEffect(()=>{let y=c.current,b=()=>{y.removeEventListener("animationend",b),n?_Z(y,l,s):l()};u||(o?b():(x.current=1,y.className+=` ${m}`,y.addEventListener("animationend",b)))},[u]),Hr.createElement(Hr.Fragment,null,i)}}function z6(e,t){return{content:OF(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function OF(e,t,r=!1){return L.isValidElement(e)&&!z0(e.type)?L.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):dd(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function AZ({closeToast:e,theme:t,ariaLabel:r="close"}){return Hr.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},Hr.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Hr.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function EZ({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let h=s||a&&o===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(p.transform=`scaleX(${o})`);let m=N0("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),x=dd(i)?i({rtl:l,type:n,defaultClassName:m}):N0(m,i),y={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&r()}};return Hr.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Hr.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Hr.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:x,style:p,...y}))}var NZ=1,RF=()=>`${NZ++}`;function TZ(e,t,r){let n=1,s=0,i=[],a=[],o=t,l=new Map,c=new Set,u=S=>(c.add(S),()=>c.delete(S)),h=()=>{a=Array.from(l.values()),c.forEach(S=>S())},p=({containerId:S,toastId:_,updateId:T})=>{let R=S?S!==e:e!==1,B=l.has(_)&&T==null;return R||B},m=(S,_)=>{l.forEach(T=>{var R;(_==null||_===T.props.toastId)&&((R=T.toggle)==null||R.call(T,S))})},x=S=>{var _,T;(T=(_=S.props)==null?void 0:_.onClose)==null||T.call(_,S.removalReason),S.isActive=!1},y=S=>{if(S==null)l.forEach(x);else{let _=l.get(S);_&&x(_)}h()},b=()=>{s-=i.length,i=[]},v=S=>{var _,T;let{toastId:R,updateId:B}=S.props,j=B==null;S.staleId&&l.delete(S.staleId),S.isActive=!0,l.set(R,S),h(),r(z6(S,j?"added":"updated")),j&&((T=(_=S.props).onOpen)==null||T.call(_))};return{id:e,props:o,observe:u,toggle:m,removeToast:y,toasts:l,clearQueue:b,buildToast:(S,_)=>{if(p(_))return;let{toastId:T,updateId:R,data:B,staleId:j,delay:P}=_,F=R==null;F&&s++;let N={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(_).filter(([C,H])=>H!=null)),toastId:T,updateId:R,data:B,isIn:!1,className:I4(_.className||o.toastClassName),progressClassName:I4(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:bZ(_.autoClose,o.autoClose),closeToast(C){l.get(T).removalReason=C,y(T)},deleteToast(){let C=l.get(T);if(C!=null){if(r(z6(C,"removed")),l.delete(T),s--,s<0&&(s=0),i.length>0){v(i.shift());return}h()}}};N.closeButton=o.closeButton,_.closeButton===!1||P4(_.closeButton)?N.closeButton=_.closeButton:_.closeButton===!0&&(N.closeButton=P4(o.closeButton)?o.closeButton:!0);let k={content:S,props:N,staleId:j};o.limit&&o.limit>0&&s>o.limit&&F?i.push(k):Ox(P)?setTimeout(()=>{v(k)},P):v(k)},setProps(S){o=S},setToggle:(S,_)=>{let T=l.get(S);T&&(T.toggle=_)},isToastActive:S=>{var _;return(_=l.get(S))==null?void 0:_.isActive},getSnapshot:()=>a}}var Na=new Map,By=[],O4=new Set,kZ=e=>O4.forEach(t=>t(e)),DF=()=>Na.size>0;function CZ(){By.forEach(e=>jF(e.content,e.options)),By=[]}var IZ=(e,{containerId:t})=>{var r;return(r=Na.get(t||1))==null?void 0:r.toasts.get(e)};function LF(e,t){var r;if(t)return!!((r=Na.get(t))!=null&&r.isToastActive(e));let n=!1;return Na.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function PZ(e){if(!DF()){By=By.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||wZ(e))Na.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Na.get(e.containerId);t?t.removeToast(e.id):Na.forEach(r=>{r.removeToast(e.id)})}}var OZ=(e={})=>{Na.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function jF(e,t){P4(e)&&(DF()||By.push({content:e,options:t}),Na.forEach(r=>{r.buildToast(e,t)}))}function RZ(e){var t;(t=Na.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function FF(e,t){Na.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function DZ(e){let t=e.containerId||1;return{subscribe(r){let n=TZ(t,e,kZ);Na.set(t,n);let s=n.observe(r);return CZ(),()=>{s(),Na.delete(t)}},setProps(r){var n;(n=Na.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Na.get(t))==null?void 0:r.getSnapshot()}}}function LZ(e){return O4.add(e),()=>{O4.delete(e)}}function jZ(e){return e&&(z0(e.toastId)||Ox(e.toastId))?e.toastId:RF()}function Rx(e,t){return jF(e,t),t.toastId}function p_(e,t){return{...t,type:t&&t.type||e,toastId:jZ(t)}}function m_(e){return(t,r)=>Rx(t,p_(e,r))}function ke(e,t){return Rx(e,p_("default",t))}ke.loading=(e,t)=>Rx(e,p_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FZ(e,{pending:t,error:r,success:n},s){let i;t&&(i=z0(t)?ke.loading(t,s):ke.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,u,h)=>{if(u==null){ke.dismiss(i);return}let p={type:c,...a,...s,data:h},m=z0(u)?{render:u}:u;return i?ke.update(i,{...p,...m}):ke(m.render,{...p,...m}),h},l=dd(e)?e():e;return l.then(c=>o("success",n,c)).catch(c=>o("error",r,c)),l}ke.promise=FZ;ke.success=m_("success");ke.info=m_("info");ke.error=m_("error");ke.warning=m_("warning");ke.warn=ke.warning;ke.dark=(e,t)=>Rx(e,p_("default",{theme:"dark",...t}));function MZ(e){PZ(e)}ke.dismiss=MZ;ke.clearWaitingQueue=OZ;ke.isActive=LF;ke.update=(e,t={})=>{let r=IZ(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:RF()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,Rx(a,i)}};ke.done=e=>{ke.update(e,{progress:1})};ke.onChange=LZ;ke.play=e=>FF(!0,e);ke.pause=e=>FF(!1,e);function BZ(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=L.useRef(DZ(e)).current;s(e);let i=(t=L.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function a(o){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:LF,count:i==null?void 0:i.length}}function UZ(e){let[t,r]=L.useState(!1),[n,s]=L.useState(!1),i=L.useRef(null),a=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:h}=e;RZ({id:e.toastId,containerId:e.containerId,fn:r}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||v(),window.addEventListener("focus",b),window.addEventListener("blur",v)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",v)}function x(j){if(e.draggable===!0||e.draggable===j.pointerType){S();let P=i.current;a.canCloseOnClick=!0,a.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(a.start=j.clientX,a.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(a.start=j.clientY,a.removalDistance=P.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(j){let{top:P,bottom:F,left:N,right:k}=i.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=N&&j.clientX<=k&&j.clientY>=P&&j.clientY<=F?v():b()}function b(){r(!0)}function v(){r(!1)}function S(){a.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",R)}function _(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",R)}function T(j){let P=i.current;if(a.canDrag&&P){a.didMove=!0,t&&v(),e.draggableDirection==="x"?a.delta=j.clientX-a.start:a.delta=j.clientY-a.start,a.start!==j.clientX&&(a.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;P.style.transform=`translate3d(${F},0)`,P.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function R(){_();let j=i.current;if(a.canDrag&&a.didMove&&j){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let B={onPointerDown:x,onPointerUp:y};return o&&l&&(B.onMouseEnter=v,e.stacked||(B.onMouseLeave=b)),h&&(B.onClick=j=>{u&&u(j),a.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:v,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:B}}var $Z=typeof window<"u"?L.useLayoutEffect:L.useEffect,g_=({theme:e,type:t,isLoading:r,...n})=>Hr.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function zZ(e){return Hr.createElement(g_,{...e},Hr.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function qZ(e){return Hr.createElement(g_,{...e},Hr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function HZ(e){return Hr.createElement(g_,{...e},Hr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function WZ(e){return Hr.createElement(g_,{...e},Hr.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function VZ(){return Hr.createElement("div",{className:"Toastify__spinner"})}var R4={info:qZ,warning:zZ,success:HZ,error:WZ,spinner:VZ},GZ=e=>e in R4;function KZ({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(dd(n)?s=n({...i,isLoading:r}):L.isValidElement(n)?s=L.cloneElement(n,i):r?s=R4.spinner():GZ(t)&&(s=R4[t](i))),s}var YZ=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=UZ(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:p,transition:m,position:x,className:y,style:b,progressClassName:v,updateId:S,role:_,progress:T,rtl:R,toastId:B,deleteToast:j,isIn:P,isLoading:F,closeOnClick:N,theme:k,ariaLabel:C}=e,H=N0("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":N}),z=dd(y)?y({rtl:R,position:x,type:u,defaultClassName:H}):N0(H,y),K=KZ(e),Y=!!T||!l,W={closeToast:p,type:u,theme:k},Z=null;return a===!1||(dd(a)?Z=a(W):L.isValidElement(a)?Z=L.cloneElement(a,W):Z=AZ(W)),Hr.createElement(m,{isIn:P,done:j,position:x,preventExitTransition:r,nodeRef:n,playToast:i},Hr.createElement("div",{id:B,tabIndex:0,onClick:c,"data-in":P,className:z,...s,style:b,ref:n,...P&&{role:_,"aria-label":C}},K!=null&&Hr.createElement("div",{className:N0("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},K),OF(o,e,!t),Z,!e.customProgressBar&&Hr.createElement(EZ,{...S&&!Y?{key:`p-${S}`}:{},rtl:R,theme:k,delay:l,isRunning:t,isIn:P,closeToast:p,hide:h,type:u,className:v,controlledProgress:Y,progress:T||0})))},XZ=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),QZ=SZ(XZ("bounce",!0)),ZZ={position:"top-right",transition:QZ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function MF(e){let t={...ZZ,...e},r=e.stacked,[n,s]=L.useState(!0),i=L.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=BZ(t),{className:c,style:u,rtl:h,containerId:p,hotKeys:m}=t;function x(b){let v=N0("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":h});return dd(c)?c({position:b,rtl:h,defaultClassName:v}):N0(v,I4(c))}function y(){r&&(s(!0),ke.play())}return $Z(()=>{var b;if(r){let v=i.current.querySelectorAll('[data-in="true"]'),S=12,_=(b=t.position)==null?void 0:b.includes("top"),T=0,R=0;Array.from(v).reverse().forEach((B,j)=>{let P=B;P.classList.add("Toastify__toast--stacked"),j>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=_?"top":"bot");let F=T*(n?.2:1)+(n?0:S*j);P.style.setProperty("--y",`${_?F:F*-1}px`),P.style.setProperty("--g",`${S}`),P.style.setProperty("--s",`${1-(n?R:0)}`),T+=P.offsetHeight,R+=.025})}},[n,l,r]),L.useEffect(()=>{function b(v){var S;let _=i.current;m(v)&&((S=_.querySelector('[tabIndex="0"]'))==null||S.focus(),s(!1),ke.pause()),v.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(s(!0),ke.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),Hr.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{r&&(s(!1),ke.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((b,v)=>{let S=v.length?{...u}:{...u,pointerEvents:"none"};return Hr.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":r,style:S,key:`c-${b}`},v.map(({content:_,props:T})=>Hr.createElement(YZ,{...T,stacked:r,collapseAll:y,isIn:o(T.toastId,T.containerId),key:`t-${T.key}`},_)))}))}var JZ={};const BF=JZ.REACT_APP_API_URL||"https://eljoodia-server-production.up.railway.app/api",ru=an.create({baseURL:BF,timeout:3e4,headers:{"Content-Type":"application/json"}});xd(ru,{retries:3,retryDelay:e=>e*1e3});ru.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`[${new Date().toISOString()}] Notifications API request:`,{url:e.url,method:e.method,headers:e.headers}),e},e=>(console.error(`[${new Date().toISOString()}] Notifications API request error:`,e),Promise.reject(e)));ru.interceptors.response.use(e=>e.data,async e=>{var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T;const t=e.config;console.error(`[${new Date().toISOString()}] Notifications API response error:`,{url:(n=e.config)==null?void 0:n.url,method:(s=e.config)==null?void 0:s.method,status:(i=e.response)==null?void 0:i.status,data:(a=e.response)==null?void 0:a.data,message:e.message});let r=((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||"  ";if(((c=e.response)==null?void 0:c.status)===400&&(r=((h=(u=e.response)==null?void 0:u.data)==null?void 0:h.message)||"  "),((p=e.response)==null?void 0:p.status)===403&&(r=((x=(m=e.response)==null?void 0:m.data)==null?void 0:x.message)||"   "),((y=e.response)==null?void 0:y.status)===404&&(r=((v=(b=e.response)==null?void 0:b.data)==null?void 0:v.message)||"  "),((S=e.response)==null?void 0:S.status)===429&&(r="      "),((_=e.response)==null?void 0:_.status)===401&&!t._retry){t._retry=!0;try{const R=localStorage.getItem("refreshToken");if(!R)return console.error(`[${new Date().toISOString()}] No refresh token available`),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",ke.error("      ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:"      ",status:401});const B=await an.post(`${BF}/auth/refresh-token`,{refreshToken:R}),{accessToken:j,refreshToken:P}=B.data;return localStorage.setItem("token",j),P&&localStorage.setItem("refreshToken",P),console.log(`[${new Date().toISOString()}] Token refreshed successfully`),t.headers.Authorization=`Bearer ${j}`,ru(t)}catch(R){return console.error(`[${new Date().toISOString()}] Refresh token failed:`,R),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",ke.error("      ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:"  ",status:401})}}return ke.error(r,{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:r,status:(T=e.response)==null?void 0:T.status})});const zp={create:async e=>{var t,r,n,s,i,a,o,l;if(!/^[0-9a-fA-F]{24}$/.test(e.user))throw console.error(`[${new Date().toISOString()}] Invalid user ID:`,e.user),new Error("   ");if((t=e.data)!=null&&t.orderId&&!/^[0-9a-fA-F]{24}$/.test(e.data.orderId))throw console.error(`[${new Date().toISOString()}] Invalid order ID:`,e.data.orderId),new Error("   ");if((r=e.data)!=null&&r.branchId&&!/^[0-9a-fA-F]{24}$/.test(e.data.branchId))throw console.error(`[${new Date().toISOString()}] Invalid branch ID:`,e.data.branchId),new Error("   ");if((n=e.data)!=null&&n.chefId&&!/^[0-9a-fA-F]{24}$/.test(e.data.chefId))throw console.error(`[${new Date().toISOString()}] Invalid chef ID:`,e.data.chefId),new Error("   ");if((s=e.data)!=null&&s.taskId&&!/^[0-9a-fA-F]{24}$/.test(e.data.taskId))throw console.error(`[${new Date().toISOString()}] Invalid task ID:`,e.data.taskId),new Error("   ");if((i=e.data)!=null&&i.returnId&&!/^[0-9a-fA-F]{24}$/.test(e.data.returnId))throw console.error(`[${new Date().toISOString()}] Invalid return ID:`,e.data.returnId),new Error("   ");console.log(`[${new Date().toISOString()}] notificationsAPI.create - Sending:`,e);try{const c=await ru.post("/notifications",{user:e.user,type:e.type,message:e.message.trim(),data:{...e.data,eventId:((a=e.data)==null?void 0:a.eventId)||crypto.randomUUID(),sound:((o=e.data)==null?void 0:o.sound)||"/sounds/notification.mp3",vibrate:((l=e.data)==null?void 0:l.vibrate)||[200,100,200],timestamp:new Date().toISOString()}});return console.log(`[${new Date().toISOString()}] notificationsAPI.create - Response:`,c),c}catch(c){throw console.error(`[${new Date().toISOString()}] notificationsAPI.create - Error:`,c),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),c}},getAll:async(e={})=>{if(e.userId&&!/^[0-9a-fA-F]{24}$/.test(e.userId))throw console.error(`[${new Date().toISOString()}] Invalid user ID:`,e.userId),new Error("   ");if(e.departmentId&&!/^[0-9a-fA-F]{24}$/.test(e.departmentId))throw console.error(`[${new Date().toISOString()}] Invalid department ID:`,e.departmentId),new Error("   ");if(e.branchId&&!/^[0-9a-fA-F]{24}$/.test(e.branchId))throw console.error(`[${new Date().toISOString()}] Invalid branch ID:`,e.branchId),new Error("   ");if(e.chefId&&!/^[0-9a-fA-F]{24}$/.test(e.chefId))throw console.error(`[${new Date().toISOString()}] Invalid chef ID:`,e.chefId),new Error("   ");console.log(`[${new Date().toISOString()}] notificationsAPI.getAll - Params:`,e);try{const t=await ru.get("/notifications",{params:e});return console.log(`[${new Date().toISOString()}] notificationsAPI.getAll - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] notificationsAPI.getAll - Error:`,t),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},getById:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`[${new Date().toISOString()}] Invalid notification ID:`,e),new Error("   ");try{const t=await ru.get(`/notifications/${e}`);return console.log(`[${new Date().toISOString()}] notificationsAPI.getById - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] notificationsAPI.getById - Error:`,t),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},markAsRead:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`[${new Date().toISOString()}] Invalid notification ID:`,e),new Error("   ");try{const t=await ru.patch(`/notifications/${e}/read`,{});return console.log(`[${new Date().toISOString()}] notificationsAPI.markAsRead - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] notificationsAPI.markAsRead - Error:`,t),ke.error("   ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},markAllAsRead:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`[${new Date().toISOString()}] Invalid user ID:`,e),new Error("   ");try{const t=await ru.patch("/notifications/mark-all-read",{user:e});return console.log(`[${new Date().toISOString()}] notificationsAPI.markAllAsRead - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] notificationsAPI.markAllAsRead - Error:`,t),ke.error("    ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},clear:async()=>{try{const e=await ru.delete("/notifications/clear");return console.log(`[${new Date().toISOString()}] notificationsAPI.clear - Response:`,e),e}catch(e){throw console.error(`[${new Date().toISOString()}] notificationsAPI.clear - Error:`,e),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),e}}},Uy={getAll:async(e={})=>{console.log(`[${new Date().toISOString()}] returnsAPI.getAll - Sending:`,e);try{const t=await er.get("/returns",{params:e});return console.log(`[${new Date().toISOString()}] returnsAPI.getAll - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] returnsAPI.getAll - Error:`,t),t}},getBranches:async()=>{console.log(`[${new Date().toISOString()}] returnsAPI.getBranches - Sending`);try{const e=await er.get("/branches");return console.log(`[${new Date().toISOString()}] returnsAPI.getBranches - Response:`,e),e}catch(e){throw console.error(`[${new Date().toISOString()}] returnsAPI.getBranches - Error:`,e),e}},createReturn:async e=>{var t;if(console.log(`[${new Date().toISOString()}] returnsAPI.createReturn - Sending:`,e),!/^[0-9a-fA-F]{24}$/.test(e.orderId)||!/^[0-9a-fA-F]{24}$/.test(e.branchId)||!e.reason||e.items.some(r=>!/^[0-9a-fA-F]{24}$/.test(r.product)||r.quantity<1||!r.reason))throw console.error(`[${new Date().toISOString()}] returnsAPI.createReturn - Invalid data:`,e),new Error("Invalid order ID, branch ID, reason, or item data");try{const r=await er.post("/returns",{orderId:e.orderId,branchId:e.branchId,reason:e.reason.trim(),items:e.items.map(n=>({product:n.product,quantity:n.quantity,reason:n.reason.trim()})),notes:(t=e.notes)==null?void 0:t.trim()});return console.log(`[${new Date().toISOString()}] returnsAPI.createReturn - Response:`,r),r}catch(r){throw console.error(`[${new Date().toISOString()}] returnsAPI.createReturn - Error:`,r),r}},updateReturnStatus:async(e,t)=>{var n;if(console.log(`[${new Date().toISOString()}] returnsAPI.updateReturnStatus - Sending:`,{returnId:e,data:t}),!/^[0-9a-fA-F]{24}$/.test(e)||!["approved","rejected"].includes(t.status)||t.items.some(s=>!/^[0-9a-fA-F]{24}$/.test(s.itemId)||!/^[0-9a-fA-F]{24}$/.test(s.productId)||!["approved","rejected"].includes(s.status)))throw console.error(`[${new Date().toISOString()}] returnsAPI.updateReturnStatus - Invalid data:`,{returnId:e,data:t}),new Error("Invalid return ID, item ID, product ID, or status");if(t.items.some(s=>s.status!==t.status))throw console.error(`[${new Date().toISOString()}] returnsAPI.updateReturnStatus - Item statuses do not match overall status:`,{returnId:e,data:t}),new Error("Item statuses must match the overall return status");const r={status:t.status,reviewNotes:(n=t.reviewNotes)==null?void 0:n.trim(),items:t.items.map(s=>{var i;return{itemId:s.itemId,productId:s.productId,status:s.status,reviewNotes:(i=s.reviewNotes)==null?void 0:i.trim()}})};try{const s=await er.put(`/returns/${e}`,r);return console.log(`[${new Date().toISOString()}] returnsAPI.updateReturnStatus - Response:`,s),s}catch(s){throw console.error(`[${new Date().toISOString()}] returnsAPI.updateReturnStatus - Error:`,s),s.status===404?new Error("      "):s}}};var eJ={};const UF=eJ.REACT_APP_API_URL||"https://eljoodia-server-production.up.railway.app/api",Ef=an.create({baseURL:UF,timeout:3e4,headers:{"Content-Type":"application/json"}});xd(Ef,{retries:3,retryDelay:e=>e*1e3});Ef.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`[${new Date().toISOString()}] Sales API request:`,{url:e.url,method:e.method,headers:e.headers}),e},e=>(console.error(`[${new Date().toISOString()}] Sales API request error:`,e),Promise.reject(e)));Ef.interceptors.response.use(e=>e.data,async e=>{var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T;const t=e.config;console.error(`[${new Date().toISOString()}] Sales API response error:`,{url:(n=e.config)==null?void 0:n.url,method:(s=e.config)==null?void 0:s.method,status:(i=e.response)==null?void 0:i.status,data:(a=e.response)==null?void 0:a.data,message:e.message});let r=((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||"  ";if(((c=e.response)==null?void 0:c.status)===400&&(r=((h=(u=e.response)==null?void 0:u.data)==null?void 0:h.message)||"  "),((p=e.response)==null?void 0:p.status)===403&&(r=((x=(m=e.response)==null?void 0:m.data)==null?void 0:x.message)||"   "),((y=e.response)==null?void 0:y.status)===404&&(r=((v=(b=e.response)==null?void 0:b.data)==null?void 0:v.message)||"  "),((S=e.response)==null?void 0:S.status)===429&&(r="      "),((_=e.response)==null?void 0:_.status)===401&&!t._retry){t._retry=!0;try{const R=localStorage.getItem("refreshToken");if(!R)return console.error(`[${new Date().toISOString()}] No refresh token available`),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",ke.error("      ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:"      ",status:401});const B=await an.post(`${UF}/auth/refresh-token`,{refreshToken:R}),{accessToken:j,refreshToken:P}=B.data;return localStorage.setItem("token",j),P&&localStorage.setItem("refreshToken",P),console.log(`[${new Date().toISOString()}] Token refreshed successfully`),t.headers.Authorization=`Bearer ${j}`,Ef(t)}catch(R){return console.error(`[${new Date().toISOString()}] Refresh token failed:`,R),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",ke.error("      ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:"  ",status:401})}}return ke.error(r,{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),Promise.reject({message:r,status:(T=e.response)==null?void 0:T.status})});const oS={create:async e=>{var t,r,n,s;if(console.log(`[${new Date().toISOString()}] salesAPI.create - Sending:`,e),!/^[0-9a-fA-F]{24}$/.test(e.branch))throw console.error(`[${new Date().toISOString()}] Invalid branch ID:`,e.branch),new Error("   ");if(e.items.some(i=>!/^[0-9a-fA-F]{24}$/.test(i.productId)))throw console.error(`[${new Date().toISOString()}] Invalid productId in items:`,e.items),new Error("   ");try{const i=await Ef.post("/sales",{items:e.items.map(a=>({productId:a.productId,quantity:a.quantity,unitPrice:a.unitPrice})),branch:e.branch,notes:(t=e.notes)==null?void 0:t.trim(),paymentMethod:(r=e.paymentMethod)==null?void 0:r.trim(),customerName:(n=e.customerName)==null?void 0:n.trim(),customerPhone:(s=e.customerPhone)==null?void 0:s.trim()});return console.log(`[${new Date().toISOString()}] salesAPI.create - Response:`,i),i}catch(i){throw console.error(`[${new Date().toISOString()}] salesAPI.create - Error:`,i),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),i}},getAll:async(e={})=>{if(e.branch&&!/^[0-9a-fA-F]{24}$/.test(e.branch))throw console.error(`[${new Date().toISOString()}] Invalid branch ID:`,e.branch),new Error("   ");console.log(`[${new Date().toISOString()}] salesAPI.getAll - Params:`,e);try{const t=await Ef.get("/sales",{params:e});if(console.log(`[${new Date().toISOString()}] salesAPI.getAll - Response:`,t),!t||!Array.isArray(t.sales))throw console.error(`[${new Date().toISOString()}] Invalid sales response:`,t),new Error("     ");return t}catch(t){throw console.error(`[${new Date().toISOString()}] salesAPI.getAll - Error:`,t),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},getById:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`[${new Date().toISOString()}] Invalid sale ID:`,e),new Error("   ");try{const t=await Ef.get(`/sales/${e}`);return console.log(`[${new Date().toISOString()}] salesAPI.getById - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] salesAPI.getById - Error:`,t),ke.error("  ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}},getAnalytics:async(e={})=>{if(e.branch&&!/^[0-9a-fA-F]{24}$/.test(e.branch))throw console.error(`[${new Date().toISOString()}] Invalid branch ID:`,e.branch),new Error("   ");console.log(`[${new Date().toISOString()}] salesAPI.getAnalytics - Params:`,e);try{const t=await Ef.get("/sales/analytics",{params:e});return console.log(`[${new Date().toISOString()}] salesAPI.getAnalytics - Response:`,t),t}catch(t){throw console.error(`[${new Date().toISOString()}] salesAPI.getAnalytics - Error:`,t),ke.error("   ",{position:"top-right",autoClose:3e3,pauseOnFocusLoss:!0}),t}}};var tJ={};const Zc=tJ.REACT_APP_API_URL||"https://eljoodia-server-production.up.railway.app/api",Tr=localStorage.getItem("language")==="ar",er=an.create({baseURL:Zc,timeout:3e4,headers:{"Content-Type":"application/json"},params:{isRtl:Tr.toString()}}),Jt=e=>/^[0-9a-fA-F]{24}$/.test(e);er.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`[${new Date().toISOString()}] API request:`,{url:e.url,method:e.method,headers:e.headers,params:e.params}),e},e=>(console.error(`[${new Date().toISOString()}] API request error:`,e),Promise.reject(e)));er.interceptors.response.use(e=>e.data,async e=>{var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T,R,B;const t=e.config;console.error(`[${new Date().toISOString()}] API response error:`,{url:(n=e.config)==null?void 0:n.url,method:(s=e.config)==null?void 0:s.method,status:(i=e.response)==null?void 0:i.status,data:(a=e.response)==null?void 0:a.data,message:e.message});let r=((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||(Tr?"  ":"Unexpected error");if(((c=e.response)==null?void 0:c.status)===400&&(r=((h=(u=e.response)==null?void 0:u.data)==null?void 0:h.message)||(Tr?"  ":"Invalid data"),(m=(p=e.response)==null?void 0:p.data)!=null&&m.field&&(r=`${r}: ${e.response.data.field} = ${e.response.data.value}`)),((x=e.response)==null?void 0:x.status)===403&&(r=((b=(y=e.response)==null?void 0:y.data)==null?void 0:b.message)||(Tr?"   ":"Unauthorized operation")),((v=e.response)==null?void 0:v.status)===404&&(r=((_=(S=e.response)==null?void 0:S.data)==null?void 0:_.message)||(Tr?"  ":"Resource not found")),((T=e.response)==null?void 0:T.status)===429&&(r=Tr?"      ":"Too many requests, try again later"),((R=e.response)==null?void 0:R.status)===401&&!t._retry){t._retry=!0;try{const j=localStorage.getItem("refreshToken");if(!j)return console.error(`[${new Date().toISOString()}] No refresh token available`),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject({message:Tr?"      ":"Token expired and no refresh token available",status:401});const P=await an.post(`${Zc}/auth/refresh-token`,{refreshToken:j}),{accessToken:F,refreshToken:N}=P.data;return localStorage.setItem("token",F),N&&localStorage.setItem("refreshToken",N),console.log(`[${new Date().toISOString()}] Token refreshed successfully`),t.headers.Authorization=`Bearer ${F}`,er(t)}catch(j){return console.error(`[${new Date().toISOString()}] Refresh token failed:`,j),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject({message:Tr?"  ":"Failed to refresh token",status:401})}}return Promise.reject({message:r,status:(B=e.response)==null?void 0:B.status})});const J1={login:async e=>{const t=await er.post("/auth/login",{username:e.username.trim(),password:e.password});return console.log(`[${new Date().toISOString()}] Login response:`,t),t},refreshToken:async e=>{const t=await an.post(`${Zc}/auth/refresh-token`,{refreshToken:e});return console.log(`[${new Date().toISOString()}] Refresh token response:`,t.data),t.data},getProfile:async()=>{const e=await er.get("/auth/profile");return console.log(`[${new Date().toISOString()}] Profile response:`,e),{...e,user:{...e.user,id:e.user.id||e.user._id}}},updateProfile:async e=>{var r,n,s,i;const t=await er.put("/auth/update-profile",{name:(r=e.name)==null?void 0:r.trim(),nameEn:(n=e.nameEn)==null?void 0:n.trim(),email:(s=e.email)==null?void 0:s.trim(),phone:(i=e.phone)==null?void 0:i.trim(),password:e.password});return console.log(`[${new Date().toISOString()}] Update profile response:`,t),t},checkEmail:async e=>{const t=await er.post("/auth/check-email",{email:e.trim()});return console.log(`[${new Date().toISOString()}] Check email response:`,t),t}},P1={getAll:async(e={})=>{if(e.department&&!Jt(e.department))throw console.error(`[${new Date().toISOString()}] productsAPI.getAll - Invalid department ID:`,e.department),new Error(Tr?"   ":"Invalid department ID");const t=await er.get("/products",{params:e});return console.log(`[${new Date().toISOString()}] productsAPI.getAll - Response:`,t),t},getById:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] productsAPI.getById - Invalid product ID:`,e),new Error(Tr?"   ":"Invalid product ID");const t=await er.get(`/products/${e}`);return console.log(`[${new Date().toISOString()}] productsAPI.getById - Response:`,t),t},create:async e=>{var r,n,s,i;if(!Jt(e.department))throw console.error(`[${new Date().toISOString()}] productsAPI.create - Invalid department ID:`,e.department),new Error(Tr?"   ":"Invalid department ID");const t=await er.post("/products",{name:e.name.trim(),nameEn:(r=e.nameEn)==null?void 0:r.trim(),code:e.code.trim(),department:e.department,price:e.price,unit:(n=e.unit)==null?void 0:n.trim(),unitEn:(s=e.unitEn)==null?void 0:s.trim(),description:(i=e.description)==null?void 0:i.trim()});return console.log(`[${new Date().toISOString()}] productsAPI.create - Response:`,t),t},update:async(e,t)=>{var n,s,i,a,o,l;if(!Jt(e))throw console.error(`[${new Date().toISOString()}] productsAPI.update - Invalid product ID:`,e),new Error(Tr?"   ":"Invalid product ID");if(t.department&&!Jt(t.department))throw console.error(`[${new Date().toISOString()}] productsAPI.update - Invalid department ID:`,t.department),new Error(Tr?"   ":"Invalid department ID");const r=await er.put(`/products/${e}`,{name:(n=t.name)==null?void 0:n.trim(),nameEn:(s=t.nameEn)==null?void 0:s.trim(),code:(i=t.code)==null?void 0:i.trim(),department:t.department,price:t.price,unit:(a=t.unit)==null?void 0:a.trim(),unitEn:(o=t.unitEn)==null?void 0:o.trim(),description:(l=t.description)==null?void 0:l.trim()});return console.log(`[${new Date().toISOString()}] productsAPI.update - Response:`,r),r},delete:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] productsAPI.delete - Invalid product ID:`,e),new Error(Tr?"   ":"Invalid product ID");const t=await er.delete(`/products/${e}`);return console.log(`[${new Date().toISOString()}] productsAPI.delete - Response:`,t),t}},Ri={getAll:async()=>{const e=await er.get("/branches");return console.log(`[${new Date().toISOString()}] branchesAPI.getAll - Response:`,e),e},getById:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] branchesAPI.getById - Invalid branch ID:`,e),new Error(Tr?"   ":"Invalid branch ID");const t=await er.get(`/branches/${e}`);return console.log(`[${new Date().toISOString()}] branchesAPI.getById - Response:`,t),t},create:async e=>{var r,n,s,i,a,o,l;const t=await er.post("/branches",{name:e.name.trim(),nameEn:(r=e.nameEn)==null?void 0:r.trim(),code:e.code.trim(),address:e.address.trim(),addressEn:(n=e.addressEn)==null?void 0:n.trim(),city:e.city.trim(),cityEn:(s=e.cityEn)==null?void 0:s.trim(),phone:(i=e.phone)==null?void 0:i.trim(),user:{name:e.user.name.trim(),nameEn:(a=e.user.nameEn)==null?void 0:a.trim(),username:e.user.username.trim(),password:e.user.password,email:(o=e.user.email)==null?void 0:o.trim(),phone:(l=e.user.phone)==null?void 0:l.trim(),isActive:e.user.isActive??!0}});return console.log(`[${new Date().toISOString()}] branchesAPI.create - Response:`,t),t},update:async(e,t)=>{var n,s,i,a,o,l,c,u,h,p,m,x,y;if(!Jt(e))throw console.error(`[${new Date().toISOString()}] branchesAPI.update - Invalid branch ID:`,e),new Error(Tr?"   ":"Invalid branch ID");const r=await er.put(`/branches/${e}`,{name:(n=t.name)==null?void 0:n.trim(),nameEn:(s=t.nameEn)==null?void 0:s.trim(),code:(i=t.code)==null?void 0:i.trim(),address:(a=t.address)==null?void 0:a.trim(),addressEn:(o=t.addressEn)==null?void 0:o.trim(),city:(l=t.city)==null?void 0:l.trim(),cityEn:(c=t.cityEn)==null?void 0:c.trim(),phone:(u=t.phone)==null?void 0:u.trim(),user:t.user?{name:(h=t.user.name)==null?void 0:h.trim(),nameEn:(p=t.user.nameEn)==null?void 0:p.trim(),username:(m=t.user.username)==null?void 0:m.trim(),email:(x=t.user.email)==null?void 0:x.trim(),phone:(y=t.user.phone)==null?void 0:y.trim(),isActive:t.user.isActive??!0}:void 0});return console.log(`[${new Date().toISOString()}] branchesAPI.update - Response:`,r),r},delete:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] branchesAPI.delete - Invalid branch ID:`,e),new Error(Tr?"   ":"Invalid branch ID");const t=await er.delete(`/branches/${e}`);return console.log(`[${new Date().toISOString()}] branchesAPI.delete - Response:`,t),t},checkEmail:async e=>{const t=await er.post("/branches/check-email",{email:e.trim()});return console.log(`[${new Date().toISOString()}] branchesAPI.checkEmail - Response:`,t),t},resetPassword:async(e,t)=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] branchesAPI.resetPassword - Invalid branch ID:`,e),new Error(Tr?"   ":"Invalid branch ID");const r=await er.post(`/branches/${e}/reset-password`,{password:t});return console.log(`[${new Date().toISOString()}] branchesAPI.resetPassword - Response:`,r),r}},f1={getAll:async()=>{const e=await er.get("/users");return console.log(`[${new Date().toISOString()}] usersAPI.getAll - Response:`,e),e},getById:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] usersAPI.getById - Invalid user ID:`,e),new Error(Tr?"   ":"Invalid user ID");const t=await er.get(`/users/${e}`);return console.log(`[${new Date().toISOString()}] usersAPI.getById - Response:`,t),t},create:async e=>{var r,n,s;if(e.role==="branch"&&!Jt(e.branch))throw console.error(`[${new Date().toISOString()}] usersAPI.create - Invalid branch ID:`,e.branch),new Error(Tr?"   ":"Invalid branch ID");const t=await er.post("/users",{name:e.name.trim(),nameEn:(r=e.nameEn)==null?void 0:r.trim(),username:e.username.trim(),password:e.password,email:(n=e.email)==null?void 0:n.trim(),phone:(s=e.phone)==null?void 0:s.trim(),role:e.role,branch:e.branch,isActive:e.isActive??!0});return console.log(`[${new Date().toISOString()}] usersAPI.create - Response:`,t),t},update:async(e,t)=>{var n,s,i,a,o;if(!Jt(e))throw console.error(`[${new Date().toISOString()}] usersAPI.update - Invalid user ID:`,e),new Error(Tr?"   ":"Invalid user ID");if(t.role==="branch"&&t.branch&&!Jt(t.branch))throw console.error(`[${new Date().toISOString()}] usersAPI.update - Invalid branch ID:`,t.branch),new Error(Tr?"   ":"Invalid branch ID");const r=await er.put(`/users/${e}`,{name:(n=t.name)==null?void 0:n.trim(),nameEn:(s=t.nameEn)==null?void 0:s.trim(),username:(i=t.username)==null?void 0:i.trim(),email:(a=t.email)==null?void 0:a.trim(),phone:(o=t.phone)==null?void 0:o.trim(),role:t.role,branch:t.branch,isActive:t.isActive??!0});return console.log(`[${new Date().toISOString()}] usersAPI.update - Response:`,r),r},delete:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] usersAPI.delete - Invalid user ID:`,e),new Error(Tr?"   ":"Invalid user ID");const t=await er.delete(`/users/${e}`);return console.log(`[${new Date().toISOString()}] usersAPI.delete - Response:`,t),t},checkEmail:async e=>{const t=await er.post("/users/check-email",{email:e.trim()});return console.log(`[${new Date().toISOString()}] usersAPI.checkEmail - Response:`,t),t},resetPassword:async(e,t)=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] usersAPI.resetPassword - Invalid user ID:`,e),new Error(Tr?"   ":"Invalid user ID");const r=await er.post(`/users/${e}/reset-password`,{password:t});return console.log(`[${new Date().toISOString()}] usersAPI.resetPassword - Response:`,r),r}},Ws={create:async e=>{if(console.log(`ordersAPI.create - Sending at ${new Date().toISOString()}:`,e),!e.branchId||!/^[0-9a-fA-F]{24}$/.test(e.branchId))throw console.error(`ordersAPI.create - Invalid branchId at ${new Date().toISOString()}:`,e.branchId),new Error("Invalid branch ID");const t=await an.post(`${Zc}/orders`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.create - Response at ${new Date().toISOString()}:`,t.data),t.data},getAll:async(e={})=>{const t=await an.get(`${Zc}/orders`,{params:e,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.getAll - Response at ${new Date().toISOString()}:`,t.data),t.data},getById:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`ordersAPI.getById - Invalid order ID at ${new Date().toISOString()}:`,e),new Error("Invalid order ID");const t=await an.get(`${Zc}/orders/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.getById - Response at ${new Date().toISOString()}:`,t.data),t.data},updateStatus:async(e,t)=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`ordersAPI.updateStatus - Invalid order ID at ${new Date().toISOString()}:`,e),new Error("Invalid order ID");const r=await an.patch(`${Zc}/orders/${e}/status`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.updateStatus - Response at ${new Date().toISOString()}:`,r.data),r.data},updateChefItem:async(e,t)=>{if(!/^[0-9a-fA-F]{24}$/.test(e)||!/^[0-9a-fA-F]{24}$/.test(t.taskId))throw console.error(`ordersAPI.updateChefItem - Invalid order ID or task ID at ${new Date().toISOString()}:`,{orderId:e,taskId:t.taskId}),new Error("Invalid order ID or task ID");const r=await an.patch(`${Zc}/orders/${e}/tasks/${t.taskId}/status`,{status:t.status},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.updateChefItem - Response at ${new Date().toISOString()}:`,r.data),r.data},assignChef:async(e,t)=>{if(console.log(`[${new Date().toISOString()}] ordersAPI.assignChef - Sending:`,{orderId:e,data:t}),!/^[0-9a-fA-F]{24}$/.test(e)||t.items.some(n=>!/^[0-9a-fA-F]{24}$/.test(n.itemId)||!/^[0-9a-fA-F]{24}$/.test(n.assignedTo)))throw console.error(`[${new Date().toISOString()}] ordersAPI.assignChef -   :`,{orderId:e,data:t}),new Error("         ");const r=await an.patch(`${Zc}/orders/${e}/assign`,{items:t.items,timestamp:new Date().toISOString()},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`[${new Date().toISOString()}] ordersAPI.assignChef - Response:`,r.data),r.data},confirmDelivery:async e=>{if(!/^[0-9a-fA-F]{24}$/.test(e))throw console.error(`ordersAPI.confirmDelivery - Invalid order ID at ${new Date().toISOString()}:`,e),new Error("Invalid order ID");console.log(`ordersAPI.confirmDelivery - Sending at ${new Date().toISOString()}:`,{orderId:e});const t=await an.patch(`${Zc}/orders/${e}/confirm-delivery`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(`ordersAPI.confirmDelivery - Response at ${new Date().toISOString()}:`,t.data),t.data}},Nf={getAll:async(e={})=>{const t=await er.get("/departments",{params:e});return console.log(`[${new Date().toISOString()}] departmentAPI.getAll - Response:`,t),t},getById:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] departmentAPI.getById - Invalid department ID:`,e),new Error(Tr?"   ":"Invalid department ID");const t=await er.get(`/departments/${e}`);return console.log(`[${new Date().toISOString()}] departmentAPI.getById - Response:`,t),t},create:async e=>{var r,n;const t=await er.post("/departments",{name:e.name.trim(),nameEn:(r=e.nameEn)==null?void 0:r.trim(),code:e.code.trim(),description:(n=e.description)==null?void 0:n.trim()});return console.log(`[${new Date().toISOString()}] departmentAPI.create - Response:`,t),t},update:async(e,t)=>{var n,s,i,a;if(!Jt(e))throw console.error(`[${new Date().toISOString()}] departmentAPI.update - Invalid department ID:`,e),new Error(Tr?"   ":"Invalid department ID");const r=await er.put(`/departments/${e}`,{name:(n=t.name)==null?void 0:n.trim(),nameEn:(s=t.nameEn)==null?void 0:s.trim(),code:(i=t.code)==null?void 0:i.trim(),description:(a=t.description)==null?void 0:a.trim()});return console.log(`[${new Date().toISOString()}] departmentAPI.update - Response:`,r),r},delete:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] departmentAPI.delete - Invalid department ID:`,e),new Error(Tr?"   ":"Invalid department ID");const t=await er.delete(`/departments/${e}`);return console.log(`[${new Date().toISOString()}] departmentAPI.delete - Response:`,t),t}},rc={getAll:async()=>{const e=await er.get("/chefs");return console.log(`[${new Date().toISOString()}] chefsAPI.getAll - Response:`,e),e},getByUserId:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] chefsAPI.getByUserId - Invalid user ID:`,e),new Error("Invalid user ID");const t=await er.get(`/chefs/by-user/${e}`);return console.log(`[${new Date().toISOString()}] chefsAPI.getByUserId - Response:`,t),t},create:async e=>{var r,n,s;const t=await er.post("/chefs",{user:{name:e.user.name.trim(),nameEn:(r=e.user.nameEn)==null?void 0:r.trim(),username:e.user.username.trim(),email:(n=e.user.email)==null?void 0:n.trim(),phone:(s=e.user.phone)==null?void 0:s.trim(),password:e.user.password,role:e.user.role,isActive:e.user.isActive??!0},department:e.department});return console.log(`[${new Date().toISOString()}] chefsAPI.create - Response:`,t),t},update:async(e,t)=>{var n,s,i;const r=await er.put(`/chefs/${e}`,{user:{name:t.user.name.trim(),nameEn:(n=t.user.nameEn)==null?void 0:n.trim(),username:t.user.username.trim(),email:(s=t.user.email)==null?void 0:s.trim(),phone:(i=t.user.phone)==null?void 0:i.trim(),isActive:t.user.isActive??!0},department:t.department});return console.log(`[${new Date().toISOString()}] chefsAPI.update - Response:`,r),r},delete:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] chefsAPI.delete - Invalid chef ID:`,e),new Error("Invalid chef ID");const t=await er.delete(`/chefs/${e}`);return console.log(`[${new Date().toISOString()}] chefsAPI.delete - Response:`,t),t},resetPassword:async(e,t)=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] chefsAPI.resetPassword - Invalid chef ID:`,e),new Error("Invalid chef ID");const r=await er.post(`/chefs/${e}/reset-password`,{password:t});return console.log(`[${new Date().toISOString()}] chefsAPI.resetPassword response:`,r),r}},Qu={create:async e=>{if(!Jt(e.order)||!Jt(e.product)||!Jt(e.chef)||!Jt(e.itemId))throw console.error(`[${new Date().toISOString()}] productionAssignmentsAPI.create - Invalid data:`,e),new Error("Invalid order ID, product ID, chef ID, or item ID");const t=await er.post("/orders/tasks",e);return console.log(`[${new Date().toISOString()}] productionAssignmentsAPI.create - Response:`,t),t},getChefTasks:async(e,t={})=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] productionAssignmentsAPI.getChefTasks - Invalid chefId:`,e),new Error("Invalid chef ID");const r=await er.get(`/orders/tasks/chef/${e}`,{params:t});return console.log(`[${new Date().toISOString()}] productionAssignmentsAPI.getChefTasks - Response:`,r),r},updateTaskStatus:async(e,t,r)=>{if(!Jt(e)||!Jt(t))throw console.error(`[${new Date().toISOString()}] productionAssignmentsAPI.updateTaskStatus - Invalid orderId or taskId:`,{orderId:e,taskId:t}),new Error("Invalid order ID or task ID");const n=await er.patch(`/orders/${e}/tasks/${t}/status`,r);return console.log(`[${new Date().toISOString()}] productionAssignmentsAPI.updateTaskStatus - Response:`,n),n},getAllTasks:async()=>{const e=await er.get("/orders/tasks");return console.log(`[${new Date().toISOString()}] productionAssignmentsAPI.getAllTasks - Response:`,e),e}},uf={getInventory:async(e={})=>{if(e.branch&&!Jt(e.branch))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getInventory - Invalid branch ID:`,e.branch),new Error(Tr?"   ":"Invalid branch ID");if(e.product&&!Jt(e.product))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getInventory - Invalid product ID:`,e.product),new Error(Tr?"   ":"Invalid product ID");const t=await er.get("/inventory",{params:e});return console.log(`[${new Date().toISOString()}] inventoryAPI.getInventory - Response:`,t),t.inventory},getByBranch:async e=>{if(!Jt(e))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getByBranch - Invalid branch ID:`,e),new Error(Tr?"   ":"Invalid branch ID");const t=await er.get(`/inventory/branch/${e}`);return console.log(`[${new Date().toISOString()}] inventoryAPI.getByBranch - Response:`,t),t.inventory},getAll:async(e={})=>{if(e.branch&&!Jt(e.branch))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getAll - Invalid branch ID:`,e.branch),new Error(Tr?"   ":"Invalid branch ID");if(e.product&&!Jt(e.product))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getAll - Invalid product ID:`,e.product),new Error(Tr?"   ":"Invalid product ID");const t=await er.get("/inventory",{params:e});return console.log(`[${new Date().toISOString()}] inventoryAPI.getAll - Response:`,t),t.inventory},create:async e=>{if(!Jt(e.branchId)||!Jt(e.productId)||!Jt(e.userId)||e.orderId&&!Jt(e.orderId))throw console.error(`[${new Date().toISOString()}] inventoryAPI.create - Invalid data:`,e),new Error(Tr?"       ":"Invalid branch ID, product ID, user ID, or order ID");if(e.currentStock<0)throw console.error(`[${new Date().toISOString()}] inventoryAPI.create - Invalid stock quantity:`,e.currentStock),new Error(Tr?"      ":"Stock quantity cannot be negative");const t=await er.post("/inventory",{branchId:e.branchId,productId:e.productId,currentStock:e.currentStock,minStockLevel:e.minStockLevel??0,maxStockLevel:e.maxStockLevel??1e3,userId:e.userId,orderId:e.orderId});return console.log(`[${new Date().toISOString()}] inventoryAPI.create - Response:`,t),t.inventory},bulkCreate:async e=>{if(!Jt(e.branchId)||!Jt(e.userId)||e.orderId&&!Jt(e.orderId)||!Array.isArray(e.items)||e.items.length===0||e.items.some(r=>!Jt(r.productId)||r.currentStock<0))throw console.error(`[${new Date().toISOString()}] inventoryAPI.bulkCreate - Invalid data:`,e),new Error(Tr?"       ":"Invalid branch ID, user ID, order ID, or items");const t=await er.post("/inventory/bulk",{branchId:e.branchId,userId:e.userId,orderId:e.orderId,items:e.items.map(r=>({productId:r.productId,currentStock:r.currentStock,minStockLevel:r.minStockLevel??0,maxStockLevel:r.maxStockLevel??1e3}))});return console.log(`[${new Date().toISOString()}] inventoryAPI.bulkCreate - Response:`,t),t.inventories},updateStock:async(e,t)=>{if(!Jt(e)||t.productId&&!Jt(t.productId)||t.branchId&&!Jt(t.branchId))throw console.error(`[${new Date().toISOString()}] inventoryAPI.updateStock - Invalid inventory ID, product ID, or branch ID:`,{id:e,data:t}),new Error(Tr?"      ":"Invalid inventory ID, product ID, or branch ID");if(t.currentStock!==void 0&&t.currentStock<0)throw console.error(`[${new Date().toISOString()}] inventoryAPI.updateStock - Invalid stock quantity:`,t.currentStock),new Error(Tr?"      ":"Stock quantity cannot be negative");const r=await er.put(`/inventory/${e}`,{currentStock:t.currentStock,minStockLevel:t.minStockLevel,maxStockLevel:t.maxStockLevel,productId:t.productId,branchId:t.branchId});return console.log(`[${new Date().toISOString()}] inventoryAPI.updateStock - Response:`,r),r.inventory},processReturnItems:async(e,t)=>{if(!Jt(e)||!Jt(t.branchId)||!Array.isArray(t.items)||t.items.length===0||t.items.some(n=>!Jt(n.productId)||n.quantity<1||!["approved","rejected"].includes(n.status)))throw console.error(`[${new Date().toISOString()}] inventoryAPI.processReturnItems - Invalid data:`,{returnId:e,data:t}),new Error(Tr?"      ":"Invalid return ID, branch ID, or items");const r=await er.patch(`/inventory/returns/${e}/process`,{branchId:t.branchId,items:t.items.map(n=>{var s;return{productId:n.productId,quantity:n.quantity,status:n.status,reviewNotes:(s=n.reviewNotes)==null?void 0:s.trim()}})});return console.log(`[${new Date().toISOString()}] inventoryAPI.processReturnItems - Response:`,r),r.returnRequest},createRestockRequest:async e=>{var r;if(!Jt(e.productId)||!Jt(e.branchId)||e.requestedQuantity<1)throw console.error(`[${new Date().toISOString()}] inventoryAPI.createRestockRequest - Invalid data:`,e),new Error(Tr?"       ":"Invalid product ID, branch ID, or requested quantity");const t=await er.post("/inventory/restock-requests",{productId:e.productId,branchId:e.branchId,requestedQuantity:e.requestedQuantity,notes:(r=e.notes)==null?void 0:r.trim()});return console.log(`[${new Date().toISOString()}] inventoryAPI.createRestockRequest - Response:`,t),t.restockRequest},getRestockRequests:async(e={})=>{if(e.branchId&&!Jt(e.branchId))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getRestockRequests - Invalid branch ID:`,e.branchId),new Error(Tr?"   ":"Invalid branch ID");const t=await er.get("/inventory/restock-requests",{params:e});return console.log(`[${new Date().toISOString()}] inventoryAPI.getRestockRequests - Response:`,t),t.restockRequests},approveRestockRequest:async(e,t)=>{if(!Jt(e)||!Jt(t.userId)||t.approvedQuantity<1)throw console.error(`[${new Date().toISOString()}] inventoryAPI.approveRestockRequest - Invalid data:`,{requestId:e,data:t}),new Error(Tr?"       ":"Invalid request ID, user ID, or approved quantity");const r=await er.patch(`/inventory/restock-requests/${e}/approve`,{approvedQuantity:t.approvedQuantity,userId:t.userId});return console.log(`[${new Date().toISOString()}] inventoryAPI.approveRestockRequest - Response:`,r),r.restockRequest},getHistory:async(e={})=>{if(e.branchId&&!Jt(e.branchId))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getHistory - Invalid branch ID:`,e.branchId),new Error(Tr?"   ":"Invalid branch ID");if(e.productId&&!Jt(e.productId))throw console.error(`[${new Date().toISOString()}] inventoryAPI.getHistory - Invalid product ID:`,e.productId),new Error(Tr?"   ":"Invalid product ID");const t=await er.get("/inventory/history",{params:e});return console.log(`[${new Date().toISOString()}] inventoryAPI.getHistory - Response:`,t),t.history},createReturn:async e=>{var r;if(!Jt(e.orderId)||!Jt(e.branchId)||!e.reason||!Array.isArray(e.items)||e.items.length===0||e.items.some(n=>!Jt(n.productId)||n.quantity<1||!n.reason))throw console.error(`[${new Date().toISOString()}] inventoryAPI.createReturn - Invalid data:`,e),new Error(Tr?"       ":"Invalid order ID, branch ID, reason, or items");const t=await er.post("/inventory/returns",{orderId:e.orderId,branchId:e.branchId,reason:e.reason.trim(),items:e.items.map(n=>({productId:n.productId,quantity:n.quantity,reason:n.reason.trim()})),notes:(r=e.notes)==null?void 0:r.trim()});return console.log(`[${new Date().toISOString()}] inventoryAPI.createReturn - Response:`,t),t.returnRequest}},$F=L.createContext(void 0);function rJ({children:e}){const[t,r]=L.useState(null),[n,s]=L.useState(!1),[i,a]=L.useState(!0);L.useEffect(()=>{(async()=>{if(localStorage.getItem("token"))try{const p=await J1.getProfile();p.success&&(r(p.user),s(!0),localStorage.setItem("user",JSON.stringify(p.user)))}catch(p){console.error("Auth initialization error:",p),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken")}a(!1)})()},[]);const o=async(u,h)=>{try{const p=await J1.login({username:u,password:h});return p.success?(localStorage.setItem("token",p.token),localStorage.setItem("refreshToken",p.refreshToken),localStorage.setItem("user",JSON.stringify(p.user)),r(p.user),s(!0),!0):!1}catch(p){return console.error("Login error:",p),!1}},l=()=>{r(null),s(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken")},c=u=>{r(u),localStorage.setItem("user",JSON.stringify(u))};return i?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mb-4 mx-auto",children:d.jsx("span",{className:"text-white text-2xl font-bold",children:""})}),d.jsx("p",{className:"text-amber-800 font-medium",children:" ..."})]})}):d.jsx($F.Provider,{value:{user:t,login:o,logout:l,updateUser:c,isAuthenticated:n},children:e})}function ps(){const e=L.useContext($F);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const zF=L.createContext(void 0),q6={ar:{"app.title":"","app.subtitle":"   ","app.logo_alt":"  ",login:" ",logout:" ",username:" ",password:" ",dashboard:" ",save:"",cancel:"",edit:"",delete:"",add:"",view:"",search:"",filter:"",date:"",status:"",quantity:"",price:"",total:"",branch:"",product:"",category:"","common.back":"","common.retry":" ","common.loading":" ...","common.debug_info":" ","common.user_role":" ","common.token":"","common.present":"","common.absent":" ","pagination.previous":"","pagination.next":"","pagination.page":" {current}  {total}","admin.dashboard":"   ","branch.dashboard":"  ","chef.dashboard":"  ","production.dashboard":"  ",orders:"",item_completed:"  ",item_pending:" ",item_in_progress:" ",item_assigned:"",item_approved:"",item_rejected:"",item_in_production:" ","orders.title":" ","orders.subtitle":"   ","orders.new":" ","orders.pending":" ","orders.approved":"","orders.in_production":" ","orders.completed":"","orders.delivered":"","orders.cancelled":"","orders.in_transit":" ","orders.status":" ","orders.status_pending":" ","orders.status_approved":"","orders.status_in_production":" ","orders.status_completed":"","orders.status_delivered":"","orders.status_cancelled":"","orders.status_in_transit":" ","orders.create":"  ","orders.total":" ","orders.allStatuses":" ","orders.all_statuses":" ","orders.branch":"","orders.items_count":" ","orders.itemsCount":" ","orders.totalAmount":"","orders.adjusted_total":"  ","orders.currency":".","orders.notes":"","orders.notes_label":"","orders.order":"","orders.view":"","orders.approve":"","orders.cancel":"","orders.startProduction":" ","orders.complete":"","orders.ship":"","orders.loading":"  ...","orders.fetchError":"   ","orders.timeoutError":"      ","orders.unauthorized":"      ","orders.invalidTransition":"      ","orders.updateError":"     ","orders.createError":"    ","orders.formError":"    ","orders.noOrders":"  ","orders.noOrdersFiltered":"      ","orders.no_orders":"   ","orders.no_orders_subtitle":"       ","orders.noOrdersYet":"     ","orders.filterStatus":"  ","orders.filter_by_status":"  ","orders.search":"  ","orders.searchPlaceholder":"      ","orders.orderDetails":" ","orders.order_details":"  #{orderNumber}","orders.order_number":" ","orders.quantity":"","orders.itemTotal":" ","orders.finalTotal":" ","orders.priority":"","orders.priority.low":"","orders.priority.medium":"","orders.priority.high":"","orders.priority.urgent":"","orders.priority_low":" ","orders.priority_medium":" ","orders.priority_high":" ","orders.priority_urgent":" ","orders.deliveryDate":" ","orders.createdBy":"  ","orders.unknown":" ","orders.retry":" ","orders.previous":"","orders.next":"","orders.sort":" ","orders.sort_by":" ","orders.sort.date":"","orders.sort_date":"","orders.sort.total":"","orders.sort_total_amount":"","orders.sort.priority":"","orders.sort_priority":"","orders.sort.asc":"","orders.sort.desc":"","orders.sort_order":" ","orders.export":"  CSV","orders.changeStatus":" ","orders.timeline":"  ","orders.noNotes":"  ","orders.item":"","orders.items":"","orders.addItem":" ","orders.selectBranch":" ","orders.assign":" ","orders.assign_chefs":" ","orders.assign_chefs_title":"   #{orderNumber}","orders.assign_chef_to":"   {product} (: {quantity})","orders.assignedTo":" ","orders.unassigned":" ","orders.unassigned_items":"{count}   ","orders.select_chef":" ","orders.fetchChefsError":"    ","orders.assignError":"    ","orders.no_chefs_selected":"    ","orders.order_not_approved":"    ","orders.order_not_found":"  ","orders.status_updated":"     {status}","orders.chefs_assigned":"   ","orders.status_history":" ","orders.progress":"","orders.returned":"","orders.reason":" ","orders.review_notes":" ","orders.created_at":" ","orders.return_status":" ","orders.orders_count":" : {count}","orders.view_order":"  #{orderNumber}","orders.approve_order":"  #{orderNumber}","orders.cancel_order":"  #{orderNumber}","orders.assign_order":"  #{orderNumber}","orders.ship_order":"  #{orderNumber}","orders.item_status":" : {status}","orders.item_pending":" ","orders.item_assigned":"","orders.item_in_progress":" ","orders.item_completed":"","orders.item_unknown":"   ","orders.department":"","orders.status.unknown":"  ",returns:"","returns.new":" ","returns.pending":" ","returns.approved":"","returns.rejected":"","returns.processed":" ","returns.reason":" ","returns.create":" ","returns.review_notes":" ","returns.created_at":" ","returns.pending_approval":" ",inventory:"","inventory.available":"","inventory.sold":"","inventory.returned":"","inventory.remaining":"",reports:"","reports.daily":"","reports.weekly":"","reports.monthly":"","reports.yearly":"","reports.top-branches":"  ","reports.low-branches":"  ","reports.top-products":"  ","returns.top-returns":"  ",branches:"","branches.manage":" ","branches.add":" ","branches.name":" ","branches.unknown":"  ","branches.riyadh":" ","branches.jeddah":" ","branches.dammam":" ","branches.all_branches":" ","branches.select_branch":" ",chefs:"","chefs.manage":" ","chefs.add":" ","chefs.name":" ","chefs.named":" {name}","chefs.department":" ",sales:"","sales.daily":" ","sales.register":" ","sales.amount":" ","salesReport.title":" ","salesReport.subtitle":"   ","salesReport.availableProducts":" ","salesReport.noProducts":"   ","salesReport.cart":" ","salesReport.emptyCart":" ","salesReport.previousSales":" ","salesReport.noSales":"  ","salesReport.filters":"","salesReport.department":"","salesReport.availableStock":" ","salesReport.unitPrice":" ","salesReport.addToCart":"  ","salesReport.total":"","salesReport.notes":"","salesReport.submitSale":" ","salesReport.date":"","salesReport.quantity":"","salesReport.returns":"","salesReport.reason":"","salesReport.branchSales":" ","salesReport.productSales":" ","salesReport.departmentSales":" ","salesReport.sale_success":"   ",departments:"","departments.department":"","departments.eastern-sweets":" ","departments.western-sweets":" ","departments.bakery":"","departments.chocolate":"","departments.bread":"","departments.pastries":"","departments.cakes":"","departments.unknown":"  ",products:"","products.manage":" ","products.add":" ","products.name":" ","products.code":" ","products.category":"","products.price":" ","products.unknown":"  ","products.baklava":" ","products.kunafa":" ","products.maamoul":" ","errors.server_error":"     ","errors.fetch_orders":"   ","errors.update_order_status":"     ","errors.assign_chef":"   ","errors.order_not_found":"  ","errors.invalid_input":"  ","errors.unauthorized_access":"  ","errors.no_branch_assigned":"   ","errors.insufficient_stock":"  ","errors.exceeds_max_quantity":"   ","errors.invalid_quantity":"  ","errors.empty_cart":" ","errors.fetch_sales":"  ","errors.create_sale_failed":"  ","order_status.pending":" ","order_status.confirmed":"","order_status.in_production":" ","order_status.completed":"","order_status.in_transit":" ","order_status.delivered":" ","order_status.cancelled":"","notifications.order_created":"    {orderNumber}  {branchName}","notifications.item_completed":"  {quantity} {productName}    {orderNumber}","notifications.order_confirmed":"     {orderNumber}","notifications.task_assigned":"   {chefName}  {quantity} {productName}    {orderNumber}  {branchName}","notifications.item_status_updated":"   {quantity} {productName}    {orderNumber}  {branchName}","notifications.order_status_updated":"     {orderNumber}  {status}","notifications.order_completed":"    {branchName}  {orderNumber}    ","notifications.order_completed_for_branch":"    {orderNumber}   ","notifications.order_shipped_for_branch":"    {orderNumber}      ","notifications.order_delivered":"  {branchName}     {orderNumber}","notifications.order_delivered_for_branch":"     {orderNumber}","notifications.return_status_updated":"      {orderNumber}  {status}","notifications.missing_assignments":"       {orderNumber}","notifications.new_order_from_branch":"  {orderNumber}  {branchName}","notifications.order_approved_for_branch":"   {orderNumber}  {branchName}","notifications.new_production_assigned_to_chef":"      {orderNumber}","notifications.order_in_transit_to_branch":" {orderNumber}    {branchName}","notifications.branch_confirmed_receipt":"    {orderNumber}  {branchName}","socket.connected":"   ","socket.disconnected":"   ","socket.error":"  : {message}","socket.reconnecting":"   ","socket.reconnected":"    ","socket.order_created":"   : {orderNumber}","socket.task_assigned":"   {chefName}  {quantity} {productName}    {orderNumber}","socket.item_status_updated":"   {quantity} {productName}    {orderNumber}  {branchName}","socket.order_status_updated":"     {status}","socket.return_status_updated":"     {status}","socket.missing_assignments":" {productName}     ","socket.task_completed":"   ","socket.order_completed":"   ","socket.branch_confirmed_receipt":"      ","socket.order_approved":"   ","socket.order_in_transit":"   ","socket.order_completed_by_chefs":"     "},en:{"app.title":"el-Joudia","app.subtitle":"Branch & Production Management System","app.logo_alt":"Joudia Sweets Factory",login:"Login",logout:"Logout",username:"Username",password:"Password",dashboard:"Dashboard",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",view:"View",search:"Search",filter:"Filter",date:"Date",status:"Status",quantity:"Quantity",price:"Price",total:"Total",branch:"Branch",product:"Product",category:"Category","common.back":"Back","common.retry":"Retry","common.loading":"Loading...","common.debug_info":"Debug Information","common.user_role":"User Role","common.token":"Token","common.present":"Present","common.absent":"Absent","pagination.previous":"Previous","pagination.next":"Next","pagination.page":"Page {current} of {total}","admin.dashboard":"Admin Dashboard","branch.dashboard":"Branch Dashboard","chef.dashboard":"Chef Dashboard","production.dashboard":"Production Dashboard",orders:"Orders",item_completed:"Item Completed",item_pending:"Item Pending",item_in_progress:"Item In Progress",item_assigned:"Item Assigned",item_approved:"Item Approved",item_rejected:"Item Rejected",item_in_production:"Item In Production","orders.title":"Orders Management","orders.subtitle":"View and manage all orders","orders.new":"New Orders","orders.pending":"Pending Review","orders.approved":"Approved","orders.in_production":"In Production","orders.completed":"Completed","orders.delivered":"Delivered","orders.cancelled":"Cancelled","orders.in_transit":"In Transit","orders.create":"Create New Order","orders.total":"Total Orders","orders.allStatuses":"All Statuses","orders.all_statuses":"All Statuses","orders.branch":"Branch","orders.items_count":"Items Count","orders.itemsCount":"Items Count","orders.totalAmount":"Total Amount","orders.adjusted_total":"Adjusted Total","orders.currency":"SAR","orders.notes":"Notes","orders.notes_label":"Notes","orders.order":"Order","orders.view":"View","orders.approve":"Approve","orders.cancel":"Cancel","orders.startProduction":"Start Production","orders.complete":"Complete","orders.ship":"Ship","orders.loading":"Loading Orders...","orders.fetchError":"Failed to fetch orders","orders.timeoutError":"Request timed out, please try again","orders.unauthorized":"Unauthorized, please log in again","orders.invalidTransition":"Cannot change to this status","orders.updateError":"Error updating order status","orders.createError":"Error creating order","orders.formError":"Please fill all required fields","orders.noOrders":"No Orders Found","orders.noOrdersFiltered":"No orders found for the selected status or search","orders.no_orders":"No Orders Available","orders.no_orders_subtitle":"No orders match the selected criteria","orders.noOrdersYet":"No orders have been placed yet","orders.filterStatus":"Filter by Status","orders.filter_by_status":"Filter by Status","orders.search":"Search Orders","orders.searchPlaceholder":"Search by order number, branch, or notes","orders.orderDetails":"Order Details","orders.order_details":"Order Details #{orderNumber}","orders.order_number":"Order Number","orders.quantity":"Quantity","orders.itemTotal":"Item Total","orders.finalTotal":"Final Total","orders.priority":"Priority","orders.priority.low":"Low","orders.priority.medium":"Medium","orders.priority.high":"High","orders.priority.urgent":"Urgent","orders.priority_low":"Low Priority","orders.priority_medium":"Medium Priority","orders.priority_high":"High Priority","orders.priority_urgent":"Urgent Priority","orders.deliveryDate":"Delivery Date","orders.createdBy":"Created By","orders.unknown":"Unknown","orders.retry":"Retry","orders.previous":"Previous","orders.next":"Next","orders.sort":"Sort By","orders.sort_by":"Sort By","orders.sort.date":"Date","orders.sort_date":"Date","orders.sort.total":"Total Amount","orders.sort_total_amount":"Total Amount","orders.sort.priority":"Priority","orders.sort_priority":"Priority","orders.sort.asc":"Ascending","orders.sort.desc":"Descending","orders.sort_order":"Sort Order","orders.export":"Export as CSV","orders.changeStatus":"Change Status","orders.timeline":"Status Timeline","orders.noNotes":"No Notes Available","orders.item":"Item","orders.items":"Items","orders.addItem":"Add Item","orders.selectBranch":"Select Branch","orders.assign":"Assign to Chefs","orders.assign_chefs":"Assign Chefs","orders.assign_chefs_title":"Assign Chefs for Order #{orderNumber}","orders.assign_chef_to":"Assign Chef to {product} (Quantity: {quantity})","orders.assignedTo":"Assigned To","orders.unassigned":"Unassigned","orders.unassigned_items":"{count} Unassigned Items","orders.select_chef":"Select Chef","orders.fetchChefsError":"Failed to fetch chefs","orders.assignError":"Please assign a chef to each item","orders.no_chefs_selected":"No chefs selected","orders.order_not_approved":"Order not yet approved","orders.order_not_found":"Order not found","orders.status_updated":"Order status updated to {status}","orders.chefs_assigned":"Chefs assigned successfully","orders.status_history":"Status History","orders.progress":"Progress","orders.returned":"Returned","orders.reason":"Return Reason","orders.review_notes":"Review Notes","orders.created_at":"Created At","orders.return_status":"Return Status","orders.orders_count":"Orders Count: {count}","orders.view_order":"View Order #{orderNumber}","orders.approve_order":"Approve Order #{orderNumber}","orders.cancel_order":"Cancel Order #{orderNumber}","orders.assign_order":"Assign Order #{orderNumber}","orders.ship_order":"Ship Order #{orderNumber}","orders.item_status":"Item Status: {status}","orders.item_pending":"Pending Assignment","orders.item_assigned":"Assigned","orders.item_in_progress":"In Progress","orders.item_completed":"Completed","orders.item_unknown":"Unknown Item Status","orders.department":"Department","orders.status.unknown":"Unknown Status",returns:"Returns","returns.new":"New Returns","returns.pending":"Pending Review","returns.approved":"Approved","returns.rejected":"Rejected","returns.processed":"Processed","returns.reason":"Return Reason","returns.create":"Register Return","returns.review_notes":"Review Notes","returns.created_at":"Created At","returns.pending_approval":"Pending Approval",inventory:"Inventory","inventory.available":"Available","inventory.sold":"Sold","inventory.returned":"Returned","inventory.remaining":"Remaining",reports:"Reports","reports.daily":"Daily","reports.weekly":"Weekly","reports.monthly":"Monthly","reports.yearly":"Yearly","reports.top-branches":"Top Ordering Branches","reports.low-branches":"Low Ordering Branches","reports.top-products":"Most Ordered Products","returns.top-returns":"Most Returned Products",branches:"Branches","branches.manage":"Manage Branches","branches.add":"Add Branch","branches.name":"Branch Name","branches.unknown":"Unknown Branch","branches.riyadh":"Riyadh Branch","branches.jeddah":"Jeddah Branch","branches.dammam":"Dammam Branch","branches.all_branches":"All Branches","branches.select_branch":"Select Branch",chefs:"Chefs","chefs.manage":"Manage Chefs","chefs.add":"Add Chef","chefs.name":"Chef Name","chefs.named":"Chef {name}","chefs.department":"Department","_orders.status":" all statuses","orders.status_pending":" pending","orders.status_approved":" approved","orders.status_in_production":" in production","orders.status_completed":" completed","orders.status_in_transit":" in transit","orders.status_delivered":" delivered","orders.status_cancelled":" cancelled","chefs.unknown":"Unknown Chef","chefs.all_chefs":"All Chefs","chefs.select_chef":"Select Chef",sales:"Sales","sales.daily":"Daily Sales","sales.register":"Register Sale","sales.amount":"Sales Amount","salesReport.title":"Sales Report","salesReport.subtitle":"Manage Sales and Monitor Performance","salesReport.availableProducts":"Available Products","salesReport.noProducts":"No Products Available","salesReport.cart":"Sales Cart","salesReport.emptyCart":"Cart is Empty","salesReport.previousSales":"Previous Sales","salesReport.noSales":"No Sales Available","salesReport.filters":"Filters","salesReport.department":"Department","salesReport.availableStock":"Available Stock","salesReport.unitPrice":"Unit Price","salesReport.addToCart":"Add to Cart","salesReport.total":"Total","salesReport.notes":"Notes","salesReport.submitSale":"Submit Sale","salesReport.date":"Date","salesReport.quantity":"Quantity","salesReport.returns":"Returns","salesReport.reason":"Reason","salesReport.branchSales":"Branch Sales","salesReport.productSales":"Product Sales","salesReport.departmentSales":"Department Sales","salesReport.sale_success":"Sale Created Successfully",departments:"Departments","departments.department":"Department","departments.eastern-sweets":"Eastern Sweets","departments.western-sweets":"Western Sweets","departments.bakery":"Bakery","departments.chocolate":"Chocolate","departments.bread":"Bread","departments.pastries":"Pastries","departments.cakes":"Cakes","departments.unknown":"Unknown Department",products:"Products","products.manage":"Manage Products","products.add":"Add Product","products.name":"Product Name","products.code":"Product Code","products.category":"Category","products.price":"Price (SAR)","products.unknown":"Unknown Product","products.baklava":"Mixed Baklava","products.kunafa":"Nabulsi Kunafa","products.maamoul":"Date Maamoul","errors.server_error":"Server error, try again later","errors.fetch_orders":"Failed to fetch orders","errors.update_order_status":"Error updating order status","errors.assign_chef":"Failed to assign chef","errors.order_not_found":"Order not found","errors.invalid_input":"Invalid input","errors.unauthorized_access":"Unauthorized access, please log in again","errors.no_branch_assigned":"No branch assigned","errors.insufficient_stock":"Insufficient stock","errors.exceeds_max_quantity":"Quantity exceeds maximum limit","errors.invalid_quantity":"Invalid quantity","errors.empty_cart":"Cart is empty","errors.fetch_sales":"Failed to fetch sales","errors.create_sale_failed":"Failed to create sale","notifications.order_created":"New order #{orderNumber} created from {branchName}","notifications.item_completed":"Completed {quantity} {productName} in order #{orderNumber}","notifications.order_confirmed":"Order #{orderNumber} receipt confirmed","notifications.task_assigned":"Chef {chefName} assigned to produce {quantity} {productName} in order #{orderNumber} for {branchName}","notifications.item_status_updated":"Status updated for {quantity} {productName} in order #{orderNumber} for {branchName}","notifications.order_status_updated":"Order #{orderNumber} status updated to {status}","notifications.order_completed":"Order #{orderNumber} for {branchName} completed and needs review before shipping","notifications.order_completed_for_branch":"Your order #{orderNumber} is completed and being prepared for shipping","notifications.order_shipped_for_branch":"Order #{orderNumber} shipped from the factory and is on its way","notifications.order_delivered":"Branch {branchName} confirmed receipt of order #{orderNumber}","notifications.order_delivered_for_branch":"Receipt confirmed for order #{orderNumber}","notifications.return_status_updated":"Return status for order #{orderNumber} updated to {status}","notifications.missing_assignments":"Unassigned items found in order #{orderNumber}","notifications.new_order_from_branch":"New order #{orderNumber} from {branchName}","notifications.order_approved_for_branch":"Order #{orderNumber} approved for {branchName}","notifications.new_production_assigned_to_chef":"You have been assigned to produce an item for order #{orderNumber}","notifications.order_in_transit_to_branch":"Order #{orderNumber} is in transit to {branchName}","notifications.branch_confirmed_receipt":"Order #{orderNumber} receipt confirmed by {branchName}","socket.connected":"Successfully connected to the server","socket.disconnected":"Disconnected from the server","socket.error":"Connection error: {message}","socket.reconnecting":"Reconnecting to the server...","socket.reconnected":"Successfully reconnected to the server","socket.order_created":"New order created: {orderNumber}","socket.task_assigned":"Chef {chefName} assigned to produce {quantity} {productName} in order #{orderNumber}","socket.item_status_updated":"Status updated for {quantity} {productName} in order #{orderNumber} for {branchName}","socket.order_status_updated":"Order status updated to {status}","socket.return_status_updated":"Return status updated to {status}","socket.missing_assignments":"Item {productName} is missing a chef assignment","socket.task_completed":"Task completed successfully","socket.order_completed":"Order completed successfully","socket.branch_confirmed_receipt":"Branch confirmed receipt of the order","socket.order_approved":"Order approved successfully","socket.order_in_transit":"Order is in transit","socket.order_completed_by_chefs":"Order completed by chefs"}};function nJ({children:e}){const[t,r]=L.useState("ar");L.useEffect(()=>{const i=localStorage.getItem("language");i&&r(i),document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.lang=t},[t]);const n=()=>{const i=t==="ar"?"en":"ar";r(i),localStorage.setItem("language",i),document.documentElement.dir=i==="ar"?"rtl":"ltr",document.documentElement.lang=i},s=(i,a={})=>{let o=q6[t][i]||i;return Object.entries(a).forEach(([l,c])=>{const u=c!=null?c.toString():q6[t]["orders.unknown"]||"Unknown";o=o.replace(`{${l}}`,u)}),o};return d.jsx(zF.Provider,{value:{language:t,toggleLanguage:n,t:s},children:e})}function Yn(){const e=L.useContext(zF);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const mu=Object.create(null);mu.open="0";mu.close="1";mu.ping="2";mu.pong="3";mu.message="4";mu.upgrade="5";mu.noop="6";const ow=Object.create(null);Object.keys(mu).forEach(e=>{ow[mu[e]]=e});const D4={type:"error",data:"parser error"},qF=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",HF=typeof ArrayBuffer=="function",WF=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,uN=({type:e,data:t},r,n)=>qF&&t instanceof Blob?r?n(t):H6(t,n):HF&&(t instanceof ArrayBuffer||WF(t))?r?n(t):H6(new Blob([t]),n):n(mu[e]+(t||"")),H6=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function W6(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lS;function sJ(e,t){if(qF&&e.data instanceof Blob)return e.data.arrayBuffer().then(W6).then(t);if(HF&&(e.data instanceof ArrayBuffer||WF(e.data)))return t(W6(e.data));uN(e,!1,r=>{lS||(lS=new TextEncoder),t(lS.encode(r))})}const V6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<V6.length;e++)O1[V6.charCodeAt(e)]=e;const iJ=e=>{let t=e.length*.75,r=e.length,n,s=0,i,a,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(n=0;n<r;n+=4)i=O1[e.charCodeAt(n)],a=O1[e.charCodeAt(n+1)],o=O1[e.charCodeAt(n+2)],l=O1[e.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return c},aJ=typeof ArrayBuffer=="function",dN=(e,t)=>{if(typeof e!="string")return{type:"message",data:VF(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:oJ(e.substring(1),t)}:ow[r]?e.length>1?{type:ow[r],data:e.substring(1)}:{type:ow[r]}:D4},oJ=(e,t)=>{if(aJ){const r=iJ(e);return VF(r,t)}else return{base64:!0,data:e}},VF=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},GF="",lJ=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,a)=>{uN(i,!1,o=>{n[a]=o,++s===r&&t(n.join(GF))})})},cJ=(e,t)=>{const r=e.split(GF),n=[];for(let s=0;s<r.length;s++){const i=dN(r[s],t);if(n.push(i),i.type==="error")break}return n};function uJ(){return new TransformStream({transform(e,t){sJ(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let cS;function e2(e){return e.reduce((t,r)=>t+r.length,0)}function t2(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function dJ(e,t){cS||(cS=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(a,o){for(r.push(a);;){if(n===0){if(e2(r)<1)break;const l=t2(r,1);i=(l[0]&128)===128,s=l[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(e2(r)<2)break;const l=t2(r,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(e2(r)<8)break;const l=t2(r,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){o.enqueue(D4);break}s=u*Math.pow(2,32)+c.getUint32(4),n=3}else{if(e2(r)<s)break;const l=t2(r,s);o.enqueue(dN(i?l:cS.decode(l),t)),n=0}if(s===0||s>e){o.enqueue(D4);break}}}})}const KF=4;function Vs(e){if(e)return fJ(e)}function fJ(e){for(var t in Vs.prototype)e[t]=Vs.prototype[t];return e}Vs.prototype.on=Vs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Vs.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Vs.prototype.off=Vs.prototype.removeListener=Vs.prototype.removeAllListeners=Vs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Vs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Vs.prototype.emitReserved=Vs.prototype.emit;Vs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Vs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const y_=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),al=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),hJ="arraybuffer";function YF(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const pJ=al.setTimeout,mJ=al.clearTimeout;function x_(e,t){t.useNativeTimers?(e.setTimeoutFn=pJ.bind(al),e.clearTimeoutFn=mJ.bind(al)):(e.setTimeoutFn=al.setTimeout.bind(al),e.clearTimeoutFn=al.clearTimeout.bind(al))}const gJ=1.33;function yJ(e){return typeof e=="string"?xJ(e):Math.ceil((e.byteLength||e.size)*gJ)}function xJ(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function XF(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vJ(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function wJ(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class bJ extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class fN extends Vs{constructor(t){super(),this.writable=!1,x_(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new bJ(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=dN(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=vJ(t);return r.length?"?"+r:""}}class _J extends fN{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};cJ(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,lJ(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=XF()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let QF=!1;try{QF=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const SJ=QF;function AJ(){}class EJ extends _J{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class lu extends Vs{constructor(t,r,n){super(),this.createRequest=t,x_(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=YF(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=lu.requestsCount++,lu.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=AJ,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete lu.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}lu.requestsCount=0;lu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",G6);else if(typeof addEventListener=="function"){const e="onpagehide"in al?"pagehide":"unload";addEventListener(e,G6,!1)}}function G6(){for(let e in lu.requests)lu.requests.hasOwnProperty(e)&&lu.requests[e].abort()}const NJ=function(){const e=ZF({xdomain:!1});return e&&e.responseType!==null}();class TJ extends EJ{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=NJ&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new lu(ZF,this.uri(),t)}}function ZF(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||SJ))return new XMLHttpRequest}catch{}if(!t)try{return new al[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const JF=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kJ extends fN{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=JF?{}:YF(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;uN(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&y_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=XF()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const uS=al.WebSocket||al.MozWebSocket;class CJ extends kJ{createSocket(t,r,n){return JF?new uS(t,r,n):r?new uS(t,r):new uS(t)}doWrite(t,r){this.ws.send(r)}}class IJ extends fN{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=dJ(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=uJ();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:o,value:l})=>{o||(this.onPacket(l),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&y_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const PJ={websocket:CJ,webtransport:IJ,polling:TJ},OJ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,RJ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function L4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=OJ.exec(e||""),i={},a=14;for(;a--;)i[RJ[a]]=s[a]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=DJ(i,i.path),i.queryKey=LJ(i,i.query),i}function DJ(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function LJ(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const j4=typeof addEventListener=="function"&&typeof removeEventListener=="function",lw=[];j4&&addEventListener("offline",()=>{lw.forEach(e=>e())},!1);class qf extends Vs{constructor(t,r){if(super(),this.binaryType=hJ,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=L4(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=L4(r.host).host);x_(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wJ(this.opts.query)),j4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},lw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=KF,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qf.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",qf.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=yJ(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,y_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(qf.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),j4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=lw.indexOf(this._offlineEventListener);n!==-1&&lw.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}qf.protocol=KF;class jJ extends qf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;qf.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;qf.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const a=h=>{const p=new Error("probe error: "+h);p.transport=r.name,i(),this.emitReserved("upgradeError",p)};function o(){a("transport closed")}function l(){a("socket closed")}function c(h){r&&h.name!==r.name&&i()}const u=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",o),this.off("close",l),this.off("upgrading",c)};r.once("open",s),r.once("error",a),r.once("close",o),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let FJ=class extends jJ{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>PJ[s]).filter(s=>!!s)),super(t,n)}};function MJ(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=L4(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const BJ=typeof ArrayBuffer=="function",UJ=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,eM=Object.prototype.toString,$J=typeof Blob=="function"||typeof Blob<"u"&&eM.call(Blob)==="[object BlobConstructor]",zJ=typeof File=="function"||typeof File<"u"&&eM.call(File)==="[object FileConstructor]";function hN(e){return BJ&&(e instanceof ArrayBuffer||UJ(e))||$J&&e instanceof Blob||zJ&&e instanceof File}function cw(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(cw(e[r]))return!0;return!1}if(hN(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return cw(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&cw(e[r]))return!0;return!1}function qJ(e){const t=[],r=e.data,n=e;return n.data=F4(r,t),n.attachments=t.length,{packet:n,buffers:t}}function F4(e,t){if(!e)return e;if(hN(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=F4(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=F4(e[n],t));return r}return e}function HJ(e,t){return e.data=M4(e.data,t),delete e.attachments,e}function M4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=M4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=M4(e[r],t));return e}const WJ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],VJ=5;var Jr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Jr||(Jr={}));class GJ{constructor(t){this.replacer=t}encode(t){return(t.type===Jr.EVENT||t.type===Jr.ACK)&&cw(t)?this.encodeAsBinary({type:t.type===Jr.EVENT?Jr.BINARY_EVENT:Jr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Jr.BINARY_EVENT||t.type===Jr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=qJ(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function K6(e){return Object.prototype.toString.call(e)==="[object Object]"}class pN extends Vs{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Jr.BINARY_EVENT;n||r.type===Jr.BINARY_ACK?(r.type=n?Jr.EVENT:Jr.ACK,this.reconstructor=new KJ(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(hN(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Jr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Jr.BINARY_EVENT||n.type===Jr.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(i,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(pN.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Jr.CONNECT:return K6(r);case Jr.DISCONNECT:return r===void 0;case Jr.CONNECT_ERROR:return typeof r=="string"||K6(r);case Jr.EVENT:case Jr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&WJ.indexOf(r[0])===-1);case Jr.ACK:case Jr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KJ{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=HJ(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const YJ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pN,Encoder:GJ,get PacketType(){return Jr},protocol:VJ},Symbol.toStringTag,{value:"Module"}));function Jl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const XJ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tM extends Vs{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jl(t,"open",this.onopen.bind(this)),Jl(t,"packet",this.onpacket.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(XJ.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Jr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,h=r.pop();this._registerAckCallback(u,h),a.id=u}const o=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},s),a=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(a,o)=>a?s(a):n(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Jr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Jr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jr.EVENT:case Jr.BINARY_EVENT:this.onevent(t);break;case Jr.ACK:case Jr.BINARY_ACK:this.onack(t);break;case Jr.DISCONNECT:this.ondisconnect();break;case Jr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Jr.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function yg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}yg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};yg.prototype.reset=function(){this.attempts=0};yg.prototype.setMin=function(e){this.ms=e};yg.prototype.setMax=function(e){this.max=e};yg.prototype.setJitter=function(e){this.jitter=e};class B4 extends Vs{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,x_(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new yg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||YJ;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new FJ(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Jl(r,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},a=Jl(r,"error",i);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jl(t,"ping",this.onping.bind(this)),Jl(t,"data",this.ondata.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this)),Jl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){y_(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new tM(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const h1={};function T0(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=MJ(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,a=h1[s]&&i in h1[s].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let l;return o?l=new B4(n,t):(h1[s]||(h1[s]=new B4(n,t)),l=h1[s]),r.query&&!t.query&&(t.query=r.queryKey),l.socket(r.path,t)}Object.assign(T0,{Manager:B4,Socket:tM,io:T0,connect:T0});var QJ={};const rM=L.createContext(null),ZJ=({children:e})=>{const{user:t}=ps(),[r,n]=L.useState(!1),s=L.useMemo(()=>{const a=T0(QJ.REACT_APP_API_URL||"https://eljoodia-server-production.up.railway.app",{auth:{token:localStorage.getItem("token")},autoConnect:!1,transports:["websocket","polling"],path:"/socket.io",reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3});return a.on("connect",()=>{console.log(`[${new Date().toISOString()}] Socket connected: ${a.id}`),n(!0)}),a.on("connect_error",o=>{console.error(`[${new Date().toISOString()}] Socket connect error: ${o.message}`),n(!1),ke.error(` : ${o.message}`,{position:"top-right",toastId:`connect-error-${Date.now()}`})}),a.on("reconnect",o=>{console.log(`[${new Date().toISOString()}] Socket reconnected after ${o} attempts`),n(!0)}),a.on("disconnect",o=>{console.log(`[${new Date().toISOString()}] Socket disconnected: ${o}`),n(!1)}),a},[]),i=(a,o)=>{if(!s||!r){console.warn(`[${new Date().toISOString()}] Cannot emit ${a}: Socket not connected`);return}const l=o.eventId||crypto.randomUUID();console.log(`[${new Date().toISOString()}] Emitting event: ${a} with eventId: ${l}`),s.emit(a,{...o,eventId:l})};return L.useEffect(()=>{if(!t){s.disconnect(),n(!1);return}s.connected||s.connect();const a=()=>{s.connected&&i("joinRoom",{role:t.role,branchId:t.branchId,chefId:t.role==="chef"?t._id||t.id:null,departmentId:t.role==="production"?t._id||t.departmentId:null,userId:t._id||t.id})};return s.on("connect",a),s.on("reconnect",a),()=>{s.off("connect",a),s.off("reconnect",a),s.disconnect()}},[s,t]),d.jsx(rM.Provider,{value:{socket:s,emit:i,isConnected:r},children:e})},vd=()=>{const e=L.useContext(rM);if(!e)throw new Error("  useSocket  SocketProvider");return e};class JJ{async fetchNotifications(t){if(t.userId&&!/^[0-9a-fA-F]{24}$/.test(t.userId))throw ke.error("   ",{position:"top-left",toastId:"invalid_user_id"}),new Error("   ");try{return(await zp.getAll(t)).data.map(n=>{var s,i,a,o,l,c;return{_id:n._id,type:n.type,message:n.message.substring(0,100),data:{orderId:(s=n.data)==null?void 0:s.orderId,branchId:(i=n.data)==null?void 0:i.branchId,chefId:(a=n.data)==null?void 0:a.chefId,taskId:(o=n.data)==null?void 0:o.taskId,returnId:(l=n.data)==null?void 0:l.returnId,eventId:(c=n.data)==null?void 0:c.eventId},read:n.read,createdAt:n.createdAt}})}catch(r){throw r}}async createNotification(t){return zp.create(t)}async markAsRead(t){if(!/^[0-9a-fA-F]{24}$/.test(t))throw ke.error("   ",{position:"top-left",toastId:`invalid_notification_${t}`}),new Error("   ");try{await zp.markAsRead(t)}catch(r){throw r}}async markAllAsRead(t){if(!/^[0-9a-fA-F]{24}$/.test(t))throw ke.error("   ",{position:"top-left",toastId:"invalid_user_id"}),new Error("   ");try{await zp.markAllAsRead(t)}catch(r){throw r}}async clearNotifications(){try{await zp.clear()}catch(t){throw t}}}const r2=new JJ;function eee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nM=eee,tee=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku,ree=tee,nee=ree,see=typeof self=="object"&&self&&self.Object===Object&&self,iee=nee||see||Function("return this")(),sM=iee,aee=sM,oee=function(){return aee.Date.now()},lee=oee,cee=/\s/;function uee(e){for(var t=e.length;t--&&cee.test(e.charAt(t)););return t}var dee=uee,fee=dee,hee=/^\s+/;function pee(e){return e&&e.slice(0,fee(e)+1).replace(hee,"")}var mee=pee,gee=sM,yee=gee.Symbol,iM=yee,Y6=iM,aM=Object.prototype,xee=aM.hasOwnProperty,vee=aM.toString,p1=Y6?Y6.toStringTag:void 0;function wee(e){var t=xee.call(e,p1),r=e[p1];try{e[p1]=void 0;var n=!0}catch{}var s=vee.call(e);return n&&(t?e[p1]=r:delete e[p1]),s}var bee=wee,_ee=Object.prototype,See=_ee.toString;function Aee(e){return See.call(e)}var Eee=Aee,X6=iM,Nee=bee,Tee=Eee,kee="[object Null]",Cee="[object Undefined]",Q6=X6?X6.toStringTag:void 0;function Iee(e){return e==null?e===void 0?Cee:kee:Q6&&Q6 in Object(e)?Nee(e):Tee(e)}var Pee=Iee;function Oee(e){return e!=null&&typeof e=="object"}var Ree=Oee,Dee=Pee,Lee=Ree,jee="[object Symbol]";function Fee(e){return typeof e=="symbol"||Lee(e)&&Dee(e)==jee}var Mee=Fee,Bee=mee,Z6=nM,Uee=Mee,J6=NaN,$ee=/^[-+]0x[0-9a-f]+$/i,zee=/^0b[01]+$/i,qee=/^0o[0-7]+$/i,Hee=parseInt;function Wee(e){if(typeof e=="number")return e;if(Uee(e))return J6;if(Z6(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Z6(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bee(e);var r=zee.test(e);return r||qee.test(e)?Hee(e.slice(2),r?2:8):$ee.test(e)?J6:+e}var Vee=Wee,Gee=nM,dS=lee,eI=Vee,Kee="Expected a function",Yee=Math.max,Xee=Math.min;function Qee(e,t,r){var n,s,i,a,o,l,c=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(Kee);t=eI(t)||0,Gee(r)&&(u=!!r.leading,h="maxWait"in r,i=h?Yee(eI(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function m(B){var j=n,P=s;return n=s=void 0,c=B,a=e.apply(P,j),a}function x(B){return c=B,o=setTimeout(v,t),u?m(B):a}function y(B){var j=B-l,P=B-c,F=t-j;return h?Xee(F,i-P):F}function b(B){var j=B-l,P=B-c;return l===void 0||j>=t||j<0||h&&P>=i}function v(){var B=dS();if(b(B))return S(B);o=setTimeout(v,y(B))}function S(B){return o=void 0,p&&n?m(B):(n=s=void 0,a)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=s=o=void 0}function T(){return o===void 0?a:S(dS())}function R(){var B=dS(),j=b(B);if(n=arguments,s=this,l=B,j){if(o===void 0)return x(l);if(h)return clearTimeout(o),o=setTimeout(v,t),m(l)}return o===void 0&&(o=setTimeout(v,t)),a}return R.cancel=_,R.flush=T,R}var Zee=Qee;const Jee=eE(Zee),oM=L.createContext(void 0),ete=({children:e})=>{const{user:t}=ps(),{t:r,language:n}=Yn(),{socket:s}=vd(),i=n==="ar",[a,o]=L.useState([]),[l,c]=L.useState(!1),[u,h]=L.useState(!1),p=Hr.useRef(new Set),m=P=>{const F={:{ar:"",en:"kg"},:{ar:"",en:"piece"},:{ar:"",en:"pack"},:{ar:"",en:"tray"},kg:{ar:"",en:"kg"},piece:{ar:"",en:"piece"},pack:{ar:"",en:"pack"},tray:{ar:"",en:"tray"}};return P&&F[P]?i?F[P].ar:F[P].en:i?"":"unit"},x=L.useCallback((P="/sounds/notification.mp3",F)=>{if(!u)return;new Audio(P).play().catch(k=>console.error(`[${new Date().toISOString()}] Audio play failed:`,k)),navigator.vibrate&&F&&navigator.vibrate(F)},[u]);L.useEffect(()=>{const P=()=>{h(!0);const F=new Audio("/sounds/notification.mp3");F.play().then(()=>{F.pause(),F.currentTime=0}).catch(N=>console.error(`[${new Date().toISOString()}] Audio context initialization failed:`,N)),document.removeEventListener("click",P)};return document.addEventListener("click",P,{once:!0}),()=>document.removeEventListener("click",P)},[]);const y=L.useCallback(Jee(async()=>{var F;if(!t||l)return;c(!0);const P={userId:t.id||t._id,limit:100};t.role==="production"&&(P.departmentId=t.departmentId||((F=t.department)==null?void 0:F._id)),t.role==="branch"&&(P.branchId=t.branchId),t.role==="chef"&&(P.chefId=t.id||t._id);try{const k=(await r2.fetchNotifications(P)).filter((C,H,z)=>H===z.findIndex(K=>{var Y,W;return((Y=K.data)==null?void 0:Y.eventId)===((W=C.data)==null?void 0:W.eventId)}));o(k.map(C=>{var H,z,K,Y,W,Z,ne,ee;return{_id:C._id,type:C.type||"info",message:C.message.substring(0,100),data:{orderId:(H=C.data)==null?void 0:H.orderId,branchId:(z=C.data)==null?void 0:z.branchId,chefId:(K=C.data)==null?void 0:K.chefId,taskId:(Y=C.data)==null?void 0:Y.taskId,eventId:(W=C.data)==null?void 0:W.eventId,returnId:(Z=C.data)==null?void 0:Z.returnId,itemId:(ne=C.data)==null?void 0:ne.itemId},read:C.read,createdAt:C.createdAt,eventId:(ee=C.data)==null?void 0:ee.eventId,sound:"/sounds/notification.mp3",vibrate:[200,100,200]}}))}catch{ke.error(r("errors.fetch_notifications"),{position:i?"top-left":"top-right",toastId:`fetch-notifications-${Date.now()}`})}finally{c(!1)}},1e3),[t,r,i]),b=L.useCallback(P=>{if(console.log(`[${new Date().toISOString()}] Adding notification:`,P),P.eventId||(P.eventId=crypto.randomUUID()),p.current.has(P.eventId)){console.log(`[${new Date().toISOString()}] Duplicate notification ignored:`,P.eventId);return}p.current.add(P.eventId),o(F=>[P,...F].slice(0,100)),P.read||(x(P.sound||"/sounds/notification.mp3",P.vibrate),ke[P.type](P.message,{toastId:P.eventId,position:i?"top-left":"top-right",autoClose:4e3,pauseOnFocusLoss:!0,style:{direction:i?"rtl":"ltr",textAlign:i?"left":"right"}}))},[i,x]),v=L.useCallback(async P=>{if(!/^[0-9a-fA-F]{24}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(P)){ke.error(r("errors.invalid_notification_id"),{position:i?"top-left":"top-right",toastId:`invalid-notification-${P}`});return}try{await r2.markAsRead(P),o(F=>F.map(N=>N._id===P?{...N,read:!0}:N)),s==null||s.emit("notificationRead",{notificationId:P,userId:(t==null?void 0:t.id)||(t==null?void 0:t._id)})}catch{ke.error(r("errors.mark_notification_read"),{position:i?"top-left":"top-right",toastId:`mark-read-${P}-${Date.now()}`})}},[s,t,r,i]),S=L.useCallback(async()=>{if(t)try{await r2.markAllAsRead(t.id||t._id),o(P=>P.map(F=>({...F,read:!0}))),s==null||s.emit("allNotificationsRead",{userId:t.id||t._id})}catch{ke.error(r("errors.mark_all_notifications_read"),{position:i?"top-left":"top-right",toastId:`mark-all-read-${Date.now()}`})}},[s,t,r,i]),_=L.useCallback(async()=>{try{await r2.clearNotifications(),o([]),s==null||s.emit("notificationsCleared",{userId:(t==null?void 0:t.id)||(t==null?void 0:t._id)}),p.current.clear()}catch{ke.error(r("errors.clear_notifications"),{position:i?"top-left":"top-right",toastId:`clear-notifications-${Date.now()}`})}},[s,t,r,i]),T=L.useCallback(P=>{const{data:F,type:N}=P;return F!=null&&F.orderId&&!F.taskId?"orders":F!=null&&F.taskId||["taskAssigned","taskStarted","taskCompleted"].includes(N)?"production-tasks":null},[]),R=L.useCallback((P,F)=>{switch(P){case"orders":return F==="branch"?"/branch-orders":"/orders";case"production-tasks":return F==="chef"?"/chef-tasks":"/production-tasks";default:return null}},[]),B=L.useMemo(()=>{const P={};return a.filter(F=>!F.read).forEach(F=>{const N=T(F);if(N&&(t!=null&&t.role)){const k=R(N,t.role);k&&(P[k]=(P[k]||0)+1)}}),P},[a,t==null?void 0:t.role,T,R]),j=L.useMemo(()=>a.filter(P=>!P.read).length,[a]);return L.useEffect(()=>{t&&!l&&y()},[t,y]),L.useEffect(()=>{var F;if(!s||!t){console.warn(`[${new Date().toISOString()}] Socket or user not available`);return}s.emit("joinRoom",{role:t.role,branchId:t.branchId,chefId:t.role==="chef"?t._id:void 0,departmentId:t.role==="production"?(F=t.department)==null?void 0:F._id:void 0,userId:t._id});const P=[{name:"orderCreated",handler:N=>{var C,H,z;if(!(N!=null&&N._id)||!Array.isArray(N.items)||!N.orderNumber||!((C=N.branch)!=null&&C.name)){console.warn(`[${new Date().toISOString()}] Invalid order data:`,N);return}if(!["admin","branch","production"].includes(t.role)||t.role==="production"&&t.department&&!N.items.some(K=>{var Y,W;return((W=(Y=K==null?void 0:K.product)==null?void 0:Y.department)==null?void 0:W._id)===t.department._id})||t.role==="branch"&&((H=N.branch)==null?void 0:H._id)!==t.branchId)return;const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"success",message:r("notifications.order_created",{orderNumber:N.orderNumber,branchName:((z=N.branch)==null?void 0:z.name)||r("branches.unknown")}),data:{orderId:N._id,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]}))},config:{type:"ADD_ORDER",sound:"/sounds/notification.mp3",vibrate:[200,100,200],roles:["admin","branch","production"]}},{name:"orderConfirmed",handler:N=>{if(!["admin","branch"].includes(t.role))return;if(!N.orderId||!N.orderNumber||!N.branchName){console.warn(`[${new Date().toISOString()}] Invalid order confirmed data:`,N);return}if(t.role==="branch"&&N.branchId!==t.branchId)return;const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"success",message:r("notifications.order_confirmed",{orderNumber:N.orderNumber,branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]}))},config:{type:"UPDATE_ORDER_STATUS",sound:"/sounds/notification.mp3",vibrate:[200,100,200],roles:["admin","branch"]}},{name:"taskAssigned",handler:N=>{console.log(`[${new Date().toISOString()}] taskAssigned - Received data:`,JSON.stringify(N,null,2));const k=N.data||N;if(!k.orderId||!k.orderNumber||!Array.isArray(k.items)||!k.branchName){console.warn(`[${new Date().toISOString()}] Invalid task assigned data:`,k);return}if(!["admin","production","chef"].includes(t.role)||t.role==="chef"&&!k.items.some(H=>{var z;return((z=H.assignedTo)==null?void 0:z._id)===t._id}))return;const C=k.eventId||crypto.randomUUID();p.current.has(C)||(p.current.add(C),k.items.forEach(H=>{var K,Y,W,Z,ne;if(!H._id||!((K=H.product)!=null&&K.name)||!H.quantity||!((Y=H.assignedTo)!=null&&Y.name||(W=H.assignedTo)!=null&&W.username)){console.warn(`[${new Date().toISOString()}] Invalid item data for notification:`,H);return}const z=`${C}-${H._id}`;p.current.has(z)||(p.current.add(z),b({_id:z,type:"info",message:r("notifications.task_assigned_to_chef",{chefName:H.assignedTo.name||H.assignedTo.username||r("chefs.unknown"),productName:((Z=H.product)==null?void 0:Z.name)||r("products.unknown"),quantity:H.quantity||" ",unit:m(H.unit||((ne=H.product)==null?void 0:ne.unit)),orderNumber:k.orderNumber,branchName:k.branchName||r("branches.unknown")}),data:{orderId:k.orderId,itemId:H._id,eventId:z},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]}))}))},config:{type:"TASK_ASSIGNED",sound:"/sounds/notification.mp3",vibrate:[400,100,400],roles:["admin","production","chef"]}},{name:"itemStatusUpdated",handler:async N=>{var k;if(["admin","production","chef"].includes(t.role)){if(!N.orderId||!N.itemId||!N.status||!N.orderNumber||!N.branchName){console.warn(`[${new Date().toISOString()}] Invalid item status update data:`,N);return}if(!(t.role==="chef"&&N.chefId!==t._id))try{const C=await Ws.getById(N.orderId);if(!C||!C._id||!Array.isArray(C.items)){console.warn(`[${new Date().toISOString()}] Failed to fetch updated order:`,N.orderId);return}if(C.items.every(z=>z.status==="completed")&&C.status!=="completed"){const z=crypto.randomUUID();if(p.current.has(z))return;p.current.add(z),b({_id:z,type:"success",message:t.role==="branch"&&((k=C.branch)==null?void 0:k._id)===t.branchId?r("notifications.order_completed_for_branch",{orderNumber:N.orderNumber}):r("notifications.order_completed",{orderNumber:N.orderNumber,branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:z},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]})}}catch(C){console.error(`[${new Date().toISOString()}] Failed to fetch updated order:`,C)}}},config:{type:"UPDATE_ITEM_STATUS",sound:"/sounds/notification.mp3",vibrate:[200,100,200],roles:["admin","production","chef"]}},{name:"orderStatusUpdated",handler:N=>{if(!["admin","branch","production"].includes(t.role))return;if(!N.orderId||!N.status||!N.orderNumber||!N.branchName){console.warn(`[${new Date().toISOString()}] Invalid order status update data:`,N);return}const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"info",message:r("notifications.order_status_updated",{orderNumber:N.orderNumber,status:r(`order_status.${N.status}`),branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]}))},config:{type:"UPDATE_ORDER_STATUS",sound:"/sounds/notification.mp3",vibrate:[200,100,200],roles:["admin","branch","production"]}},{name:"orderCompleted",handler:N=>{if(!["admin","branch","production"].includes(t.role))return;if(!N.orderId||!N.orderNumber||!N.branchName){console.warn(`[${new Date().toISOString()}] Invalid order completed data:`,N);return}const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"success",message:t.role==="branch"&&N.branchId===t.branchId?r("notifications.order_completed_for_branch",{orderNumber:N.orderNumber}):r("notifications.order_completed",{orderNumber:N.orderNumber,branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]}))},config:{type:"UPDATE_ORDER_STATUS",sound:"/sounds/notification.mp3",vibrate:[400,100,400],roles:["admin","branch","production"]}},{name:"orderShipped",handler:N=>{if(!["admin","branch","production"].includes(t.role))return;if(!N.orderId||!N.orderNumber||!N.branchName||!N.branchId){console.warn(`[${new Date().toISOString()}] Invalid order shipped data:`,N);return}if(t.role==="branch"&&N.branchId!==t.branchId)return;const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"success",message:t.role==="branch"&&N.branchId===t.branchId?r("notifications.order_shipped_for_branch",{orderNumber:N.orderNumber}):r("notifications.order_shipped",{orderNumber:N.orderNumber,branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]}))},config:{type:"UPDATE_ORDER_STATUS",sound:"/sounds/notification.mp3",vibrate:[400,100,400],roles:["admin","branch","production"]}},{name:"orderDelivered",handler:N=>{if(!["admin","branch","production"].includes(t.role))return;if(!N.orderId||!N.orderNumber||!N.branchName){console.warn(`[${new Date().toISOString()}] Invalid order delivered data:`,N);return}if(t.role==="branch"&&N.branchId!==t.branchId)return;const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"success",message:t.role==="branch"&&N.branchId===t.branchId?r("notifications.order_delivered_for_branch",{orderNumber:N.orderNumber}):r("notifications.order_delivered",{orderNumber:N.orderNumber,branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]}))},config:{type:"UPDATE_ORDER_STATUS",sound:"/sounds/notification.mp3",vibrate:[400,100,400],roles:["admin","branch","production"]}},{name:"returnStatusUpdated",handler:N=>{if(!["admin","branch","production"].includes(t.role))return;if(!N.orderId||!N.returnId||!N.status||!N.orderNumber){console.warn(`[${new Date().toISOString()}] Invalid return status update data:`,N);return}const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"info",message:r("notifications.return_status_updated",{orderNumber:N.orderNumber,status:r(`returns.${N.status}`),branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,returnId:N.returnId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]}))},config:{type:"RETURN_STATUS_UPDATED",sound:"/sounds/notification.mp3",vibrate:[200,100,200],roles:["admin","branch","production"]}},{name:"missingAssignments",handler:N=>{if(!["admin","production"].includes(t.role))return;if(!N.orderId||!N.itemId||!N.orderNumber||!N.productName){console.warn(`[${new Date().toISOString()}] Invalid missing assignments data:`,N);return}const k=N.eventId||crypto.randomUUID();p.current.has(k)||(p.current.add(k),b({_id:k,type:"warning",message:r("notifications.missing_assignments",{orderNumber:N.orderNumber,productName:N.productName||r("products.unknown"),branchName:N.branchName||r("branches.unknown")}),data:{orderId:N.orderId,itemId:N.itemId,eventId:k},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[300,100,300]}))},config:{type:"MISSING_ASSIGNMENTS",sound:"/sounds/notification.mp3",vibrate:[300,100,300],roles:["admin","production"]}},{name:"notificationRead",handler:async N=>{if(!N.notificationId){console.warn(`[${new Date().toISOString()}] Invalid notification read data:`,N);return}try{await v(N.notificationId)}catch(k){console.error(`[${new Date().toISOString()}] Failed to mark notification as read:`,k)}},config:{type:"NOTIFICATION_READ",sound:"",vibrate:[],roles:["admin","branch","production","chef"]}}];return P.forEach(({name:N,handler:k})=>s.on(N,k)),()=>{P.forEach(({name:N,handler:k})=>s.off(N,k)),p.current.clear()}},[s,t,b,v,r,i,x,y]),d.jsx(oM.Provider,{value:{notifications:a,unreadCount:j,unreadByPath:B,addNotification:b,markAsRead:v,markAllAsRead:S,clearNotifications:_},children:e})},Dx=()=>{const e=L.useContext(oM);if(!e)throw new Error("  useNotifications  NotificationProvider");return e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),tI=e=>{const t=rte(e);return t.charAt(0).toUpperCase()+t.slice(1)},lM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),nte=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ste={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>L.createElement("svg",{ref:l,...ste,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lM("lucide",s),...!i&&!nte(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>L.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=(e,t)=>{const r=L.forwardRef(({className:n,...s},i)=>L.createElement(ite,{ref:i,iconNode:t,className:lM(`lucide-${tte(tI(e))}`,`lucide-${e}`,n),...s}));return r.displayName=tI(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ote=ar("arrow-left-right",ate);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],U4=ar("arrow-left",lte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ute=ar("bell",cte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],fte=ar("box",dte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fS=ar("chart-column",hte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],rI=ar("chart-no-axes-column",pte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eb=ar("check",mte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],sm=ar("chef-hat",gte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xte=ar("chevron-down",yte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wte=ar("chevron-left",vte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_te=ar("chevron-right",bte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ar=ar("circle-alert",Ste);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],k0=ar("circle-check-big",Ate);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Nte=ar("circle-minus",Ete);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],nI=ar("circle-plus",Tte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cte=ar("circle-user-round",kte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cM=ar("circle-x",Ite);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cc=ar("clock",Pte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tb=ar("dollar-sign",Ote);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eg=ar("download",Rte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ic=ar("eye-off",Dte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Po=ar("eye",Lte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fte=ar("globe",jte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],mN=ar("grid-3x3",Mte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ute=ar("house",Bte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zte=ar("info",$te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],q0=ar("key",qte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sI=ar("layers",Hte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Vte=ar("list-todo",Wte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Kte=ar("log-in",Gte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xte=ar("lock",Yte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zte=ar("log-out",Qte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C0=ar("map-pin",Jte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],tre=ar("menu",ere);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M5 12h14",key:"1ays0h"}]],iI=ar("minus",rre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jo=ar("package",nre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rp=ar("pen",sre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ml=ar("plus",ire);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],hS=ar("refresh-ccw",are);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vl=ar("search",ore);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],n2=ar("settings-2",lre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],s2=ar("shopping-bag",cre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Qf=ar("shopping-cart",ure);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],fre=ar("store",dre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],gN=ar("table-2",hre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ch=ar("trash-2",pre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],aI=ar("trending-up",mre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yre=ar("truck",gre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vre=ar("upload",xre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],im=ar("user",wre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],_re=ar("users-round",bre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Are=ar("warehouse",Sre);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v_=ar("x",Ere),yN=L.createContext({});function xN(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const vN=typeof window<"u",uM=vN?L.useLayoutEffect:L.useEffect,w_=L.createContext(null);function wN(e,t){e.indexOf(t)===-1&&e.push(t)}function bN(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fd=(e,t,r)=>r>t?t:r<e?e:r;let rb=()=>{};const hd={},dM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fM(e){return typeof e=="object"&&e!==null}const hM=e=>/^0[^.\s]+$/u.test(e);function _N(e){let t;return()=>(t===void 0&&(t=e()),t)}const dl=e=>e,Nre=(e,t)=>r=>t(e(r)),Lx=(...e)=>e.reduce(Nre),$y=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class SN{constructor(){this.subscriptions=[]}add(t){return wN(this.subscriptions,t),()=>bN(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cu=e=>e*1e3,uu=e=>e/1e3;function pM(e,t){return t?e*(1e3/t):0}const mM=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Tre=1e-7,kre=12;function Cre(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=mM(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>Tre&&++o<kre);return a}function jx(e,t,r,n){if(e===t&&r===n)return dl;const s=i=>Cre(i,0,1,e,r);return i=>i===0||i===1?i:mM(s(i),t,n)}const gM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yM=e=>t=>1-e(1-t),xM=jx(.33,1.53,.69,.99),AN=yM(xM),vM=gM(AN),wM=e=>(e*=2)<1?.5*AN(e):.5*(2-Math.pow(2,-10*(e-1))),EN=e=>1-Math.sin(Math.acos(e)),bM=yM(EN),_M=gM(EN),Ire=jx(.42,0,1,1),Pre=jx(0,0,.58,1),SM=jx(.42,0,.58,1),Ore=e=>Array.isArray(e)&&typeof e[0]!="number",AM=e=>Array.isArray(e)&&typeof e[0]=="number",oI={linear:dl,easeIn:Ire,easeInOut:SM,easeOut:Pre,circIn:EN,circInOut:_M,circOut:bM,backIn:AN,backInOut:vM,backOut:xM,anticipate:wM},Rre=e=>typeof e=="string",lI=e=>{if(AM(e)){rb(e.length===4);const[t,r,n,s]=e;return jx(t,r,n,s)}else if(Rre(e))return rb(oI[e]!==void 0),oI[e];return e},i2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cI={value:null,addProjectionMetrics:null};function Dre(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){a.has(h)&&(u.schedule(h),e()),l++,h(o)}const u={schedule:(h,p=!1,m=!1)=>{const y=m&&s?r:n;return p&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(o=h,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),t&&cI.value&&cI.value.frameloop[t].push(l),l=0,r.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const Lre=40;function EM(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=i2.reduce((_,T)=>(_[T]=Dre(i,t?T:void 0),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:p,render:m,postRender:x}=a,y=()=>{const _=hd.useManualTiming?s.timestamp:performance.now();r=!1,hd.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(_-s.timestamp,Lre),1)),s.timestamp=_,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),m.process(s),x.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(y))},b=()=>{r=!0,n=!0,s.isProcessing||e(y)};return{schedule:i2.reduce((_,T)=>{const R=a[T];return _[T]=(B,j=!1,P=!1)=>(r||b(),R.schedule(B,j,P)),_},{}),cancel:_=>{for(let T=0;T<i2.length;T++)a[i2[T]].cancel(_)},state:s,steps:a}}const{schedule:ts,cancel:Zf,state:Pi,steps:pS}=EM(typeof requestAnimationFrame<"u"?requestAnimationFrame:dl,!0);let uw;function jre(){uw=void 0}const Xa={now:()=>(uw===void 0&&Xa.set(Pi.isProcessing||hd.useManualTiming?Pi.timestamp:performance.now()),uw),set:e=>{uw=e,queueMicrotask(jre)}},NM=e=>t=>typeof t=="string"&&t.startsWith(e),NN=NM("--"),Fre=NM("var(--"),TN=e=>Fre(e)?Mre.test(e.split("/*")[0].trim()):!1,Mre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zy={...xg,transform:e=>fd(0,1,e)},a2={...xg,default:1},ey=e=>Math.round(e*1e5)/1e5,kN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Bre(e){return e==null}const Ure=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CN=(e,t)=>r=>!!(typeof r=="string"&&Ure.test(r)&&r.startsWith(e)||t&&!Bre(r)&&Object.prototype.hasOwnProperty.call(r,t)),TM=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(kN);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},$re=e=>fd(0,255,e),mS={...xg,transform:e=>Math.round($re(e))},c0={test:CN("rgb","red"),parse:TM("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+mS.transform(e)+", "+mS.transform(t)+", "+mS.transform(r)+", "+ey(zy.transform(n))+")"};function zre(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const $4={test:CN("#"),parse:zre,transform:c0.transform},Fx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),af=Fx("deg"),du=Fx("%"),wr=Fx("px"),qre=Fx("vh"),Hre=Fx("vw"),uI={...du,parse:e=>du.parse(e)/100,transform:e=>du.transform(e*100)},am={test:CN("hsl","hue"),parse:TM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+du.transform(ey(t))+", "+du.transform(ey(r))+", "+ey(zy.transform(n))+")"},qs={test:e=>c0.test(e)||$4.test(e)||am.test(e),parse:e=>c0.test(e)?c0.parse(e):am.test(e)?am.parse(e):$4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?c0.transform(e):am.transform(e),getAnimatableNone:e=>{const t=qs.parse(e);return t.alpha=0,qs.transform(t)}},Wre=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vre(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(kN))==null?void 0:t.length)||0)+(((r=e.match(Wre))==null?void 0:r.length)||0)>0}const kM="number",CM="color",Gre="var",Kre="var(",dI="${}",Yre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Yre,l=>(qs.test(l)?(n.color.push(i),s.push(CM),r.push(qs.parse(l))):l.startsWith(Kre)?(n.var.push(i),s.push(Gre),r.push(l)):(n.number.push(i),s.push(kM),r.push(parseFloat(l))),++i,dI)).split(dI);return{values:r,split:o,indexes:n,types:s}}function IM(e){return qy(e).values}function PM(e){const{split:t,types:r}=qy(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===kM?i+=ey(s[a]):o===CM?i+=qs.transform(s[a]):i+=s[a]}return i}}const Xre=e=>typeof e=="number"?0:qs.test(e)?qs.getAnimatableNone(e):e;function Qre(e){const t=IM(e);return PM(e)(t.map(Xre))}const Jf={test:Vre,parse:IM,createTransformer:PM,getAnimatableNone:Qre};function gS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Zre({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;s=gS(l,o,e+1/3),i=gS(l,o,e),a=gS(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function nb(e,t){return r=>r>0?t:e}const ds=(e,t,r)=>e+(t-e)*r,yS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},Jre=[$4,c0,am],ene=e=>Jre.find(t=>t.test(e));function fI(e){const t=ene(e);if(!t)return!1;let r=t.parse(e);return t===am&&(r=Zre(r)),r}const hI=(e,t)=>{const r=fI(e),n=fI(t);if(!r||!n)return nb(e,t);const s={...r};return i=>(s.red=yS(r.red,n.red,i),s.green=yS(r.green,n.green,i),s.blue=yS(r.blue,n.blue,i),s.alpha=ds(r.alpha,n.alpha,i),c0.transform(s))},z4=new Set(["none","hidden"]);function tne(e,t){return z4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rne(e,t){return r=>ds(e,t,r)}function IN(e){return typeof e=="number"?rne:typeof e=="string"?TN(e)?nb:qs.test(e)?hI:ine:Array.isArray(e)?OM:typeof e=="object"?qs.test(e)?hI:nne:nb}function OM(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>IN(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function nne(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=IN(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function sne(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],o=e.values[a]??0;r[s]=o,n[i]++}return r}const ine=(e,t)=>{const r=Jf.createTransformer(t),n=qy(e),s=qy(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?z4.has(e)&&!s.values.length||z4.has(t)&&!n.values.length?tne(e,t):Lx(OM(sne(n,s),s.values),r):nb(e,t)};function RM(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ds(e,t,r):IN(e)(e,t)}const ane=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ts.update(t,r),stop:()=>Zf(t),now:()=>Pi.isProcessing?Pi.timestamp:Xa.now()}},DM=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},sb=2e4;function PN(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<sb;)t+=r,n=e.next(t);return t>=sb?1/0:t}function one(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(PN(n),sb);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:uu(s)}}const lne=5;function LM(e,t,r){const n=Math.max(t-lne,0);return pM(r-e(n),t-n)}const Ss={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xS=.001;function cne({duration:e=Ss.duration,bounce:t=Ss.bounce,velocity:r=Ss.velocity,mass:n=Ss.mass}){let s,i,a=1-t;a=fd(Ss.minDamping,Ss.maxDamping,a),e=fd(Ss.minDuration,Ss.maxDuration,uu(e)),a<1?(s=c=>{const u=c*a,h=u*e,p=u-r,m=q4(c,a),x=Math.exp(-h);return xS-p/m*x},i=c=>{const h=c*a*e,p=h*r+r,m=Math.pow(a,2)*Math.pow(c,2)*e,x=Math.exp(-h),y=q4(Math.pow(c,2),a);return(-s(c)+xS>0?-1:1)*((p-m)*x)/y}):(s=c=>{const u=Math.exp(-c*e),h=(c-r)*e+1;return-xS+u*h},i=c=>{const u=Math.exp(-c*e),h=(r-c)*(e*e);return u*h});const o=5/e,l=dne(s,i,o);if(e=cu(e),isNaN(l))return{stiffness:Ss.stiffness,damping:Ss.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:e}}}const une=12;function dne(e,t,r){let n=r;for(let s=1;s<une;s++)n=n-e(n)/t(n);return n}function q4(e,t){return e*Math.sqrt(1-t*t)}const fne=["duration","bounce"],hne=["stiffness","damping","mass"];function pI(e,t){return t.some(r=>e[r]!==void 0)}function pne(e){let t={velocity:Ss.velocity,stiffness:Ss.stiffness,damping:Ss.damping,mass:Ss.mass,isResolvedFromDuration:!1,...e};if(!pI(e,hne)&&pI(e,fne))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*fd(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ss.mass,stiffness:s,damping:i}}else{const r=cne(e);t={...t,...r,mass:Ss.mass},t.isResolvedFromDuration=!0}return t}function ib(e=Ss.visualDuration,t=Ss.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:p,isResolvedFromDuration:m}=pne({...r,velocity:-uu(r.velocity||0)}),x=p||0,y=c/(2*Math.sqrt(l*u)),b=a-i,v=uu(Math.sqrt(l/u)),S=Math.abs(b)<5;n||(n=S?Ss.restSpeed.granular:Ss.restSpeed.default),s||(s=S?Ss.restDelta.granular:Ss.restDelta.default);let _;if(y<1){const R=q4(v,y);_=B=>{const j=Math.exp(-y*v*B);return a-j*((x+y*v*b)/R*Math.sin(R*B)+b*Math.cos(R*B))}}else if(y===1)_=R=>a-Math.exp(-v*R)*(b+(x+v*b)*R);else{const R=v*Math.sqrt(y*y-1);_=B=>{const j=Math.exp(-y*v*B),P=Math.min(R*B,300);return a-j*((x+y*v*b)*Math.sinh(P)+R*b*Math.cosh(P))/R}}const T={calculatedDuration:m&&h||null,next:R=>{const B=_(R);if(m)o.done=R>=h;else{let j=R===0?x:0;y<1&&(j=R===0?cu(x):LM(_,R,B));const P=Math.abs(j)<=n,F=Math.abs(a-B)<=s;o.done=P&&F}return o.value=o.done?a:B,o},toString:()=>{const R=Math.min(PN(T),sb),B=DM(j=>T.next(R*j).value,R,30);return R+"ms "+B},toTransition:()=>{}};return T}ib.applyToOptions=e=>{const t=one(e,100,ib);return e.ease=t.ease,e.duration=cu(t.duration),e.type="keyframes",e};function H4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},m=P=>o!==void 0&&P<o||l!==void 0&&P>l,x=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let y=r*t;const b=h+y,v=a===void 0?b:a(b);v!==b&&(y=v-h);const S=P=>-y*Math.exp(-P/n),_=P=>v+S(P),T=P=>{const F=S(P),N=_(P);p.done=Math.abs(F)<=c,p.value=p.done?v:N};let R,B;const j=P=>{m(p.value)&&(R=P,B=ib({keyframes:[p.value,x(p.value)],velocity:LM(_,P,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return j(0),{calculatedDuration:null,next:P=>{let F=!1;return!B&&R===void 0&&(F=!0,T(P),j(P)),R!==void 0&&P>=R?B.next(P-R):(!F&&T(P),p)}}}function mne(e,t,r){const n=[],s=r||hd.mix||RM,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||dl:t;o=Lx(l,o)}n.push(o)}return n}function gne(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(rb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=mne(t,n,s),l=o.length,c=u=>{if(a&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const p=$y(e[h],e[h+1],u);return o[h](p)};return r?u=>c(fd(e[0],e[i-1],u)):c}function yne(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=$y(0,t,n);e.push(ds(r,1,s))}}function xne(e){const t=[0];return yne(t,e.length-1),t}function vne(e,t){return e.map(r=>r*t)}function wne(e,t){return e.map(()=>t||SM).splice(0,e.length-1)}function ty({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Ore(n)?n.map(lI):lI(n),i={done:!1,value:t[0]},a=vne(r&&r.length===t.length?r:xne(t),e),o=gne(a,t,{ease:Array.isArray(s)?s:wne(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const bne=e=>e!==null;function ON(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(bne),o=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const _ne={decay:H4,inertia:H4,tween:ty,keyframes:ty,spring:ib};function jM(e){typeof e.type=="string"&&(e.type=_ne[e.type])}class RN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Sne=e=>e/100;class DN extends RN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Xa.now()&&this.tick(Xa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jM(t);const{type:r=ty,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const l=r||ty;l!==ty&&typeof o[0]!="number"&&(this.mixKeyframes=Lx(Sne,RM(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=PN(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:p,repeatDelay:m,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,T=n;if(h){const P=Math.min(this.currentTime,s)/o;let F=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(p==="reverse"?(N=1-N,m&&(N-=m/o)):p==="mirror"&&(T=a)),_=fd(0,1,N)*o}const R=S?{done:!1,value:u[0]}:T.next(_);i&&(R.value=i(R.value));let{done:B}=R;!S&&l!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return j&&x!==H4&&(R.value=ON(u,this.options,b,this.speed)),y&&y(R.value),j&&this.finish(),R}then(t,r){return this.finished.then(t,r)}get duration(){return uu(this.calculatedDuration)}get time(){return uu(this.currentTime)}set time(t){var r;t=cu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xa.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=uu(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=ane,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Ane(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const u0=e=>e*180/Math.PI,W4=e=>{const t=u0(Math.atan2(e[1],e[0]));return V4(t)},Ene={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:W4,rotateZ:W4,skewX:e=>u0(Math.atan(e[1])),skewY:e=>u0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},V4=e=>(e=e%360,e<0&&(e+=360),e),mI=W4,gI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Nne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gI,scaleY:yI,scale:e=>(gI(e)+yI(e))/2,rotateX:e=>V4(u0(Math.atan2(e[6],e[5]))),rotateY:e=>V4(u0(Math.atan2(-e[2],e[0]))),rotateZ:mI,rotate:mI,skewX:e=>u0(Math.atan(e[4])),skewY:e=>u0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function G4(e){return e.includes("scale")?1:0}function K4(e,t){if(!e||e==="none")return G4(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Nne,s=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ene,s=o}if(!s)return G4(t);const i=n[t],a=s[1].split(",").map(kne);return typeof i=="function"?i(a):a[i]}const Tne=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return K4(r,t)};function kne(e){return parseFloat(e.trim())}const vg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wg=new Set(vg),xI=e=>e===xg||e===wr,Cne=new Set(["x","y","z"]),Ine=vg.filter(e=>!Cne.has(e));function Pne(e){const t=[];return Ine.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const I0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>K4(t,"x"),y:(e,{transform:t})=>K4(t,"y")};I0.translateX=I0.x;I0.translateY=I0.y;const P0=new Set;let Y4=!1,X4=!1,Q4=!1;function FM(){if(X4){const e=Array.from(P0).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Pne(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))==null||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}X4=!1,Y4=!1,P0.forEach(e=>e.complete(Q4)),P0.clear()}function MM(){P0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(X4=!0)})}function One(){Q4=!0,MM(),FM(),Q4=!1}class LN{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(P0.add(this),Y4||(Y4=!0,ts.read(MM),ts.resolveKeyframes(FM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}Ane(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),P0.delete(this)}cancel(){this.state==="scheduled"&&(P0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rne=e=>e.startsWith("--");function Dne(e,t,r){Rne(t)?e.style.setProperty(t,r):e.style[t]=r}const Lne=_N(()=>window.ScrollTimeline!==void 0),jne={};function Fne(e,t){const r=_N(e);return()=>jne[t]??r()}const BM=Fne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),R1=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,vI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:R1([0,.65,.55,1]),circOut:R1([.55,0,1,.45]),backIn:R1([.31,.01,.66,-.59]),backOut:R1([.33,1.53,.69,.99])};function UM(e,t){if(e)return typeof e=="function"?BM()?DM(e,t):"ease-out":AM(e)?R1(e):Array.isArray(e)?e.map(r=>UM(r,t)||vI.easeOut):vI[e]}function Mne(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const h=UM(o,s);Array.isArray(h)&&(u.easing=h);const p={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(u,p)}function $M(e){return typeof e=="function"&&"applyToOptions"in e}function Bne({type:e,...t}){return $M(e)&&BM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Une extends RN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,rb(typeof t.type!="string");const c=Bne(t);this.animation=Mne(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=ON(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Dne(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return uu(Number(t))}get time(){return uu(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=cu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Lne()?(this.animation.timeline=t,dl):r(this)}}const zM={anticipate:wM,backInOut:vM,circInOut:_M};function $ne(e){return e in zM}function zne(e){typeof e.ease=="string"&&$ne(e.ease)&&(e.ease=zM[e.ease])}const wI=10;class qne extends Une{constructor(t){zne(t),jM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new DN({...a,autoplay:!1}),l=cu(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-wI).value,o.sample(l).value,wI),o.stop()}}const bI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jf.test(e)||e==="0")&&!e.startsWith("url("));function Hne(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Wne(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=bI(s,t),o=bI(i,t);return!a||!o?!1:Hne(e)||(r==="spring"||$M(r))&&n}function Z4(e){e.duration=0,e.type}const Vne=new Set(["opacity","clipPath","filter","transform"]),Gne=_N(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kne(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Gne()&&r&&Vne.has(r)&&(r!=="transform"||!c)&&!l&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const Yne=40;class Xne extends RN{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...h}){var x;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Xa.now();const p={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:c,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||LN;this.keyframeResolver=new m(o,(y,b,v)=>this.onKeyframesResolved(y,b,p,!v),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Xa.now(),Wne(t,i,a,o)||((hd.instantAnimations||!l)&&(u==null||u(ON(t,n,r))),t[0]=t[t.length-1],Z4(n),n.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Yne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!c&&Kne(p)?new qne({...p,element:p.motionValue.owner.current}):new DN(p);m.finished.then(()=>this.notifyFinished()).catch(dl),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),One()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Qne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zne(e){const t=Qne.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function qM(e,t,r=1){const[n,s]=Zne(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return dM(a)?parseFloat(a):a}return TN(s)?qM(s,t,r+1):s}function jN(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const HM=new Set(["width","height","top","left","right","bottom",...vg]),Jne={test:e=>e==="auto",parse:e=>e},WM=e=>t=>t.test(e),VM=[xg,wr,du,af,Hre,qre,Jne],_I=e=>VM.find(WM(e));function ese(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hM(e):!0}const tse=new Set(["brightness","contrast","saturate","opacity"]);function rse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(kN)||[];if(!n)return e;const s=r.replace(n,"");let i=tse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const nse=/\b([a-z-]*)\(.*?\)/gu,J4={...Jf,getAnimatableNone:e=>{const t=e.match(nse);return t?t.map(rse).join(" "):e}},SI={...xg,transform:Math.round},sse={rotate:af,rotateX:af,rotateY:af,rotateZ:af,scale:a2,scaleX:a2,scaleY:a2,scaleZ:a2,skew:af,skewX:af,skewY:af,distance:wr,translateX:wr,translateY:wr,translateZ:wr,x:wr,y:wr,z:wr,perspective:wr,transformPerspective:wr,opacity:zy,originX:uI,originY:uI,originZ:wr},FN={borderWidth:wr,borderTopWidth:wr,borderRightWidth:wr,borderBottomWidth:wr,borderLeftWidth:wr,borderRadius:wr,radius:wr,borderTopLeftRadius:wr,borderTopRightRadius:wr,borderBottomRightRadius:wr,borderBottomLeftRadius:wr,width:wr,maxWidth:wr,height:wr,maxHeight:wr,top:wr,right:wr,bottom:wr,left:wr,padding:wr,paddingTop:wr,paddingRight:wr,paddingBottom:wr,paddingLeft:wr,margin:wr,marginTop:wr,marginRight:wr,marginBottom:wr,marginLeft:wr,backgroundPositionX:wr,backgroundPositionY:wr,...sse,zIndex:SI,fillOpacity:zy,strokeOpacity:zy,numOctaves:SI},ise={...FN,color:qs,backgroundColor:qs,outlineColor:qs,fill:qs,stroke:qs,borderColor:qs,borderTopColor:qs,borderRightColor:qs,borderBottomColor:qs,borderLeftColor:qs,filter:J4,WebkitFilter:J4},GM=e=>ise[e];function KM(e,t){let r=GM(e);return r!==J4&&(r=Jf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ase=new Set(["auto","none","0"]);function ose(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!ase.has(i)&&qy(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=KM(r,s)}class lse extends LN{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),TN(c))){const u=qM(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!HM.has(n)||t.length!==2)return;const[s,i]=t,a=_I(s),o=_I(i);if(a!==o)if(xI(a)&&xI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else I0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||ese(t[s]))&&n.push(s);n.length&&ose(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=I0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=I0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function cse(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const YM=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function XM(e){return fM(e)&&"offsetHeight"in e}const AI=30,use=e=>!isNaN(parseFloat(e));class dse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Xa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Xa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=use(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new SN);const n=this.events[t].add(r);return t==="change"?()=>{n(),ts.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AI);return pM(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tg(e,t){return new dse(e,t)}const{schedule:MN,cancel:f5e}=EM(queueMicrotask,!1),Kl={x:!1,y:!1};function QM(){return Kl.x||Kl.y}function fse(e){return e==="x"||e==="y"?Kl[e]?null:(Kl[e]=!0,()=>{Kl[e]=!1}):Kl.x||Kl.y?null:(Kl.x=Kl.y=!0,()=>{Kl.x=Kl.y=!1})}function ZM(e,t){const r=cse(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function EI(e){return!(e.pointerType==="touch"||QM())}function hse(e,t,r={}){const[n,s,i]=ZM(e,r),a=o=>{if(!EI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=h=>{EI(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const JM=(e,t)=>t?e===t?!0:JM(e,t.parentElement):!1,BN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mse(e){return pse.has(e.tagName)||e.tabIndex!==-1}const dw=new WeakSet;function NI(e){return t=>{t.key==="Enter"&&e(t)}}function vS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=NI(()=>{if(dw.has(r))return;vS(r,"down");const s=NI(()=>{vS(r,"up")}),i=()=>vS(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function TI(e){return BN(e)&&!QM()}function yse(e,t,r={}){const[n,s,i]=ZM(e,r),a=o=>{const l=o.currentTarget;if(!TI(o))return;dw.add(l);const c=t(l,o),u=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),dw.has(l)&&dw.delete(l),TI(m)&&typeof c=="function"&&c(m,{success:x})},h=m=>{u(m,l===window||l===document||r.useGlobalTarget||JM(l,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),XM(o)&&(o.addEventListener("focus",c=>gse(c,s)),!mse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function e7(e){return fM(e)&&"ownerSVGElement"in e}function xse(e){return e7(e)&&e.tagName==="svg"}const ta=e=>!!(e&&e.getVelocity),vse=[...VM,qs,Jf],wse=e=>vse.find(WM(e)),UN=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bse extends L.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=XM(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _se({children:e,isPresent:t,anchorX:r,root:n}){const s=L.useId(),i=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=L.useContext(UN);return L.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:h,right:p}=a.current;if(t||!i.current||!l||!c)return;const m=r==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");o&&(x.nonce=o);const y=n??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),d.jsx(bse,{isPresent:t,childRef:i,sizeRef:a,children:L.cloneElement(e,{ref:i})})}const Sse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:l})=>{const c=xN(Ase),u=L.useId();let h=!0,p=L.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:m=>{c.set(m,!0);for(const x of c.values())if(!x)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&h&&(p={...p}),L.useMemo(()=>{c.forEach((m,x)=>c.set(x,!1))},[r]),L.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(e=d.jsx(_se,{isPresent:r,anchorX:o,root:l,children:e})),d.jsx(w_.Provider,{value:p,children:e})};function Ase(){return new Map}function t7(e=!0){const t=L.useContext(w_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=L.useId();L.useEffect(()=>{if(e)return s(i)},[e]);const a=L.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const o2=e=>e.key||"";function kI(e){const t=[];return L.Children.forEach(e,r=>{L.isValidElement(r)&&t.push(r)}),t}const Bn=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,u]=t7(a),h=L.useMemo(()=>kI(e),[e]),p=a&&!c?[]:h.map(o2),m=L.useRef(!0),x=L.useRef(h),y=xN(()=>new Map),[b,v]=L.useState(h),[S,_]=L.useState(h);uM(()=>{m.current=!1,x.current=h;for(let B=0;B<S.length;B++){const j=o2(S[B]);p.includes(j)?y.delete(j):y.get(j)!==!0&&y.set(j,!1)}},[S,p.length,p.join("-")]);const T=[];if(h!==b){let B=[...h];for(let j=0;j<S.length;j++){const P=S[j],F=o2(P);p.includes(F)||(B.splice(j,0,P),T.push(P))}return i==="wait"&&T.length&&(B=T),_(kI(B)),v(h),null}const{forceRender:R}=L.useContext(yN);return d.jsx(d.Fragment,{children:S.map(B=>{const j=o2(B),P=a&&!c?!1:h===S||p.includes(j),F=()=>{if(y.has(j))y.set(j,!0);else return;let N=!0;y.forEach(k=>{k||(N=!1)}),N&&(R==null||R(),_(x.current),a&&(u==null||u()),n&&n())};return d.jsx(Sse,{isPresent:P,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:P?void 0:F,anchorX:o,children:B},j)})})},r7=L.createContext({strict:!1}),CI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rg={};for(const e in CI)rg[e]={isEnabled:t=>CI[e].some(r=>!!t[r])};function Ese(e){for(const t in e)rg[t]={...rg[t],...e[t]}}const Nse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ab(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nse.has(e)}let n7=e=>!ab(e);function Tse(e){typeof e=="function"&&(n7=t=>t.startsWith("on")?!ab(t):e(t))}try{Tse(require("@emotion/is-prop-valid").default)}catch{}function kse(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(n7(s)||r===!0&&ab(s)||!t&&!ab(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const b_=L.createContext({});function __(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hy(e){return typeof e=="string"||Array.isArray(e)}const $N=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zN=["initial",...$N];function S_(e){return __(e.animate)||zN.some(t=>Hy(e[t]))}function s7(e){return!!(S_(e)||e.variants)}function Cse(e,t){if(S_(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Hy(r)?r:void 0,animate:Hy(n)?n:void 0}}return e.inherit!==!1?t:{}}function Ise(e){const{initial:t,animate:r}=Cse(e,L.useContext(b_));return L.useMemo(()=>({initial:t,animate:r}),[II(t),II(r)])}function II(e){return Array.isArray(e)?e.join(" "):e}const Wy={};function Pse(e){for(const t in e)Wy[t]=e[t],NN(t)&&(Wy[t].isCSSVariable=!0)}function i7(e,{layout:t,layoutId:r}){return wg.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Wy[e]||e==="opacity")}const Ose={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rse=vg.length;function Dse(e,t,r){let n="",s=!0;for(let i=0;i<Rse;i++){const a=vg[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=YM(o,FN[a]);if(!l){s=!1;const u=Ose[a]||a;n+=`${u}(${c}) `}r&&(t[a]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function qN(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const c=t[l];if(wg.has(l)){a=!0;continue}else if(NN(l)){s[l]=c;continue}else{const u=YM(c,FN[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(a||r?n.transform=Dse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const HN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a7(e,t,r){for(const n in t)!ta(t[n])&&!i7(n,r)&&(e[n]=t[n])}function Lse({transformTemplate:e},t){return L.useMemo(()=>{const r=HN();return qN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jse(e,t){const r=e.style||{},n={};return a7(n,r,e),Object.assign(n,Lse(e,t)),n}function Fse(e,t){const r={},n=jse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Mse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bse={offset:"strokeDashoffset",array:"strokeDasharray"};function Use(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Mse:Bse;e[i.offset]=wr.transform(-n);const a=wr.transform(t),o=wr.transform(r);e[i.array]=`${a} ${o}`}function o7(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,c,u){if(qN(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&Use(h,s,i,a,!1)}const l7=()=>({...HN(),attrs:{}}),c7=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $se(e,t,r,n){const s=L.useMemo(()=>{const i=l7();return o7(i,t,c7(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};a7(i,e.style,e),s.style={...i,...s.style}}return s}const zse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WN(e){return typeof e!="string"||e.includes("-")?!1:!!(zse.indexOf(e)>-1||/[A-Z]/u.test(e))}function qse(e,t,r,{latestValues:n},s,i=!1){const o=(WN(e)?$se:Fse)(t,n,s,e),l=kse(t,typeof e=="string",i),c=e!==L.Fragment?{...l,...o,ref:r}:{},{children:u}=t,h=L.useMemo(()=>ta(u)?u.get():u,[u]);return L.createElement(e,{...c,children:h})}function PI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function VN(e,t,r,n){if(typeof t=="function"){const[s,i]=PI(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=PI(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function fw(e){return ta(e)?e.get():e}function Hse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Wse(r,n,s,e),renderState:t()}}function Wse(e,t,r,n){const s={},i=n(e,{});for(const p in i)s[p]=fw(i[p]);let{initial:a,animate:o}=e;const l=S_(e),c=s7(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const h=u?o:a;if(h&&typeof h!="boolean"&&!__(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const x=VN(e,p[m]);if(x){const{transitionEnd:y,transition:b,...v}=x;for(const S in v){let _=v[S];if(Array.isArray(_)){const T=u?_.length-1:0;_=_[T]}_!==null&&(s[S]=_)}for(const S in y)s[S]=y[S]}}}return s}const u7=e=>(t,r)=>{const n=L.useContext(b_),s=L.useContext(w_),i=()=>Hse(e,t,n,s);return r?i():xN(i)};function GN(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(ta(n[a])||t.style&&ta(t.style[a])||i7(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const Vse=u7({scrapeMotionValuesFromProps:GN,createRenderState:HN});function d7(e,t,r){const n=GN(e,t,r);for(const s in e)if(ta(e[s])||ta(t[s])){const i=vg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const Gse=u7({scrapeMotionValuesFromProps:d7,createRenderState:l7}),Kse=Symbol.for("motionComponentSymbol");function om(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yse(e,t,r){return L.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):om(r)&&(r.current=n))},[t])}const KN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xse="framerAppearId",f7="data-"+KN(Xse),h7=L.createContext({});function Qse(e,t,r,n,s){var y,b;const{visualElement:i}=L.useContext(b_),a=L.useContext(r7),o=L.useContext(w_),l=L.useContext(UN).reducedMotion,c=L.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=L.useContext(h7);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&Zse(c.current,r,s,h);const p=L.useRef(!1);L.useInsertionEffect(()=>{u&&p.current&&u.update(r,o)});const m=r[f7],x=L.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return uM(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),L.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),x.current=!1),u.enteringChildren=void 0)}),u}function Zse(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:p7(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&om(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function p7(e){if(e)return e.options.allowProjection!==!1?e.projection:p7(e.parent)}function wS(e,{forwardMotionProps:t=!1}={},r,n){r&&Ese(r);const s=WN(e)?Gse:Vse;function i(o,l){let c;const u={...L.useContext(UN),...o,layoutId:Jse(o)},{isStatic:h}=u,p=Ise(o),m=s(o,h);if(!h&&vN){eie();const x=tie(u);c=x.MeasureLayout,p.visualElement=Qse(e,m,u,n,x.ProjectionNode)}return d.jsxs(b_.Provider,{value:p,children:[c&&p.visualElement?d.jsx(c,{visualElement:p.visualElement,...u}):null,qse(e,o,Yse(m,p.visualElement,l),m,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=L.forwardRef(i);return a[Kse]=e,a}function Jse({layoutId:e}){const t=L.useContext(yN).id;return t&&e!==void 0?t+"-"+e:e}function eie(e,t){L.useContext(r7).strict}function tie(e){const{drag:t,layout:r}=rg;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function rie(e,t){if(typeof Proxy>"u")return wS;const r=new Map,n=(i,a)=>wS(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,wS(a,void 0,e,t)),r.get(a))})}function m7({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function nie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sie(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function bS(e){return e===void 0||e===1}function eA({scale:e,scaleX:t,scaleY:r}){return!bS(e)||!bS(t)||!bS(r)}function Zh(e){return eA(e)||g7(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function g7(e){return OI(e.x)||OI(e.y)}function OI(e){return e&&e!=="0%"}function ob(e,t,r){const n=e-r,s=t*n;return r+s}function RI(e,t,r,n,s){return s!==void 0&&(e=ob(e,s,n)),ob(e,r,n)+t}function tA(e,t=0,r=1,n,s){e.min=RI(e.min,t,r,n,s),e.max=RI(e.max,t,r,n,s)}function y7(e,{x:t,y:r}){tA(e.x,t.translate,t.scale,t.originPoint),tA(e.y,r.translate,r.scale,r.originPoint)}const DI=.999999999999,LI=1.0000000000001;function iie(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,y7(e,a)),n&&Zh(i.latestValues)&&cm(e,i.latestValues))}t.x<LI&&t.x>DI&&(t.x=1),t.y<LI&&t.y>DI&&(t.y=1)}function lm(e,t){e.min=e.min+t,e.max=e.max+t}function jI(e,t,r,n,s=.5){const i=ds(e.min,e.max,s);tA(e,t,r,i,n)}function cm(e,t){jI(e.x,t.x,t.scaleX,t.scale,t.originX),jI(e.y,t.y,t.scaleY,t.scale,t.originY)}function x7(e,t){return m7(sie(e.getBoundingClientRect(),t))}function aie(e,t,r){const n=x7(e,r),{scroll:s}=t;return s&&(lm(n.x,s.offset.x),lm(n.y,s.offset.y)),n}const FI=()=>({translate:0,scale:1,origin:0,originPoint:0}),um=()=>({x:FI(),y:FI()}),MI=()=>({min:0,max:0}),Os=()=>({x:MI(),y:MI()}),rA={current:null},v7={current:!1};function oie(){if(v7.current=!0,!!vN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rA.current=e.matches;e.addEventListener("change",t),t()}else rA.current=!1}const lie=new WeakMap;function cie(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ta(s))e.addValue(n,s);else if(ta(i))e.addValue(n,tg(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,tg(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const BI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uie{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Xa.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ts.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=S_(r),this.isVariantNode=s7(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&ta(m)&&m.set(l[p])}}mount(t){var r;this.current=t,lie.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),v7.current||oie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rA.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Zf(this.notifyUpdate),Zf(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=wg.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ts.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rg){const r=rg[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Os()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<BI.length;n++){const s=BI[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=cie(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=tg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(dM(n)||hM(n))?n=parseFloat(n):!wse(n)&&Jf.test(r)&&(n=KM(t,r)),this.setBaseTarget(t,ta(n)?n.get():n)),ta(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=VN(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ta(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new SN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){MN.render(this.render)}}class w7 extends uie{constructor(){super(...arguments),this.KeyframeResolver=lse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ta(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function b7(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function die(e){return window.getComputedStyle(e)}class fie extends w7{constructor(){super(...arguments),this.type="html",this.renderInstance=b7}readValueFromInstance(t,r){var n;if(wg.has(r))return(n=this.projection)!=null&&n.isProjecting?G4(r):Tne(t,r);{const s=die(t),i=(NN(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return x7(t,r)}build(t,r,n){qN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return GN(t,r,n)}}const _7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hie(e,t,r,n){b7(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(_7.has(s)?s:KN(s),t.attrs[s])}class pie extends w7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Os}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(wg.has(r)){const n=GM(r);return n&&n.default||0}return r=_7.has(r)?r:KN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return d7(t,r,n)}build(t,r,n){o7(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){hie(t,r,n,s)}mount(t){this.isSVGTag=c7(t.tagName),super.mount(t)}}const mie=(e,t)=>WN(e)?new pie(t):new fie(t,{allowProjection:e!==L.Fragment});function vm(e,t,r){const n=e.getProps();return VN(n,t,r!==void 0?r:n.custom,e)}const nA=e=>Array.isArray(e);function gie(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tg(r))}function yie(e){return nA(e)?e[e.length-1]||0:e}function xie(e,t){const r=vm(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=yie(i[a]);gie(e,a,o)}}function vie(e){return!!(ta(e)&&e.add)}function sA(e,t){const r=e.getValue("willChange");if(vie(r))return r.add(t);if(!r&&hd.WillChange){const n=new hd.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function S7(e){return e.props[f7]}const wie=e=>e!==null;function bie(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(wie),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const _ie={type:"spring",stiffness:500,damping:25,restSpeed:10},Sie=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Aie={type:"keyframes",duration:.8},Eie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nie=(e,{keyframes:t})=>t.length>2?Aie:wg.has(e)?e.startsWith("scale")?Sie(t[1]):_ie:Eie;function Tie({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const YN=(e,t,r,n={},s,i)=>a=>{const o=jN(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-cu(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};Tie(o)||Object.assign(u,Nie(e,u)),u.duration&&(u.duration=cu(u.duration)),u.repeatDelay&&(u.repeatDelay=cu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Z4(u),u.delay===0&&(h=!0)),(hd.instantAnimations||hd.skipAnimations)&&(h=!0,Z4(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!i&&t.get()!==void 0){const p=bie(u.keyframes,o);if(p!==void 0){ts.update(()=>{u.onUpdate(p),u.onComplete()});return}}return o.isSync?new DN(u):new Xne(u)};function kie({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function A7(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;n&&(i=n);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in o){const h=e.getValue(u,e.latestValues[u]??null),p=o[u];if(p===void 0||c&&kie(c,u))continue;const m={delay:r,...jN(i||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const v=S7(e);if(v){const S=window.MotionHandoffAnimation(v,u,ts);S!==null&&(m.startTime=S,y=!0)}}sA(e,u),h.start(YN(u,h,p,e.shouldReduceMotion&&HM.has(u)?{type:!1}:m,e,y));const b=h.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{ts.update(()=>{a&&xie(e,a)})}),l}function E7(e,t,r,n=0,s=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),a=e.size,o=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:o-i*n}function iA(e,t,r={}){var l;const n=vm(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(A7(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=s;return Cie(e,t,c,u,h,p,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,u]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(r.delay)])}function Cie(e,t,r=0,n=0,s=0,i=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(iA(l,t,{...a,delay:r+(typeof n=="function"?0:n)+E7(e.variantChildren,l,n,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function Iie(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>iA(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=iA(e,t,r);else{const s=typeof t=="function"?vm(e,t,r.custom):t;n=Promise.all(A7(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function N7(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Pie=zN.length;function T7(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?T7(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Pie;r++){const n=zN[r],s=e.props[n];(Hy(s)||s===!1)&&(t[n]=s)}return t}const Oie=[...$N].reverse(),Rie=$N.length;function Die(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Iie(e,r,n)))}function Lie(e){let t=Die(e),r=UI(),n=!0;const s=l=>(c,u)=>{var p;const h=vm(e,u,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:x,...y}=h;c={...c,...y,...x}}return c};function i(l){t=l(e)}function a(l){const{props:c}=e,u=T7(e.parent)||{},h=[],p=new Set;let m={},x=1/0;for(let b=0;b<Rie;b++){const v=Oie[b],S=r[v],_=c[v]!==void 0?c[v]:u[v],T=Hy(_),R=v===l?S.isActive:null;R===!1&&(x=b);let B=_===u[v]&&_!==c[v]&&T;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),S.protectedKeys={...m},!S.isActive&&R===null||!_&&!S.prevProp||__(_)||typeof _=="boolean")continue;const j=jie(S.prevProp,_);let P=j||v===l&&S.isActive&&!B&&T||b>x&&T,F=!1;const N=Array.isArray(_)?_:[_];let k=N.reduce(s(v),{});R===!1&&(k={});const{prevResolvedValues:C={}}=S,H={...C,...k},z=W=>{P=!0,p.has(W)&&(F=!0,p.delete(W)),S.needsAnimating[W]=!0;const Z=e.getValue(W);Z&&(Z.liveStyle=!1)};for(const W in H){const Z=k[W],ne=C[W];if(m.hasOwnProperty(W))continue;let ee=!1;nA(Z)&&nA(ne)?ee=!N7(Z,ne):ee=Z!==ne,ee?Z!=null?z(W):p.add(W):Z!==void 0&&p.has(W)?z(W):S.protectedKeys[W]=!0}S.prevProp=_,S.prevResolvedValues=k,S.isActive&&(m={...m,...k}),n&&e.blockInitialAnimation&&(P=!1);const K=B&&j;P&&(!K||F)&&h.push(...N.map(W=>{const Z={type:v};if(typeof W=="string"&&n&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,ee=vm(ne,W);if(ne.enteringChildren&&ee){const{delayChildren:X}=ee.transition||{};Z.delay=E7(ne.enteringChildren,e,X)}}return{animation:W,options:Z}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const v=vm(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(b.transition=v.transition)}p.forEach(v=>{const S=e.getBaseTarget(v),_=e.getValue(v);_&&(_.liveStyle=!0),b[v]=S??null}),h.push({animation:b})}let y=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(l,c){var h;if(r[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),r[l].isActive=c;const u=a(l);for(const p in r)r[p].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=UI(),n=!0}}}function jie(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N7(t,e):!1}function Vh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UI(){return{animate:Vh(!0),whileInView:Vh(),whileHover:Vh(),whileTap:Vh(),whileDrag:Vh(),whileFocus:Vh(),exit:Vh()}}class uh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Fie extends uh{constructor(t){super(t),t.animationState||(t.animationState=Lie(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();__(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Mie=0;class Bie extends uh{constructor(){super(...arguments),this.id=Mie++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Uie={animation:{Feature:Fie},exit:{Feature:Bie}};function Vy(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Mx(e){return{point:{x:e.pageX,y:e.pageY}}}const $ie=e=>t=>BN(t)&&e(t,Mx(t));function ry(e,t,r,n){return Vy(e,t,$ie(r),n)}const k7=1e-4,zie=1-k7,qie=1+k7,C7=.01,Hie=0-C7,Wie=0+C7;function Ta(e){return e.max-e.min}function Vie(e,t,r){return Math.abs(e-t)<=r}function $I(e,t,r,n=.5){e.origin=n,e.originPoint=ds(t.min,t.max,e.origin),e.scale=Ta(r)/Ta(t),e.translate=ds(r.min,r.max,e.origin)-e.originPoint,(e.scale>=zie&&e.scale<=qie||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hie&&e.translate<=Wie||isNaN(e.translate))&&(e.translate=0)}function ny(e,t,r,n){$I(e.x,t.x,r.x,n?n.originX:void 0),$I(e.y,t.y,r.y,n?n.originY:void 0)}function zI(e,t,r){e.min=r.min+t.min,e.max=e.min+Ta(t)}function Gie(e,t,r){zI(e.x,t.x,r.x),zI(e.y,t.y,r.y)}function qI(e,t,r){e.min=t.min-r.min,e.max=e.min+Ta(t)}function sy(e,t,r){qI(e.x,t.x,r.x),qI(e.y,t.y,r.y)}function Jo(e){return[e("x"),e("y")]}const I7=({current:e})=>e?e.ownerDocument.defaultView:null,HI=(e,t)=>Math.abs(e-t);function Kie(e,t){const r=HI(e.x,t.x),n=HI(e.y,t.y);return Math.sqrt(r**2+n**2)}class P7{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=SS(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=Kie(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:y}=p,{timestamp:b}=Pi;this.history.push({...y,timestamp:b});const{onStart:v,onMove:S}=this.handlers;m||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=_S(m,this.transformPagePoint),ts.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=SS(p.type==="pointercancel"?this.lastMoveEventInfo:_S(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,v),y&&y(p,v)},!BN(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const o=Mx(t),l=_S(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Pi;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,SS(l,this.history)),this.removeListeners=Lx(ry(this.contextWindow,"pointermove",this.handlePointerMove),ry(this.contextWindow,"pointerup",this.handlePointerUp),ry(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zf(this.updatePoint)}}function _S(e,t){return t?{point:t(e.point)}:e}function WI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function SS({point:e},t){return{point:e,delta:WI(e,O7(t)),offset:WI(e,Yie(t)),velocity:Xie(t,.1)}}function Yie(e){return e[0]}function O7(e){return e[e.length-1]}function Xie(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=O7(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>cu(t)));)r--;if(!n)return{x:0,y:0};const i=uu(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Qie(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ds(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ds(r,e,n.max):Math.min(e,r)),e}function VI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Zie(e,{top:t,left:r,bottom:n,right:s}){return{x:VI(e.x,r,s),y:VI(e.y,t,n)}}function GI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Jie(e,t){return{x:GI(e.x,t.x),y:GI(e.y,t.y)}}function eae(e,t){let r=.5;const n=Ta(e),s=Ta(t);return s>n?r=$y(t.min,t.max-n,e.min):n>s&&(r=$y(e.min,e.max-s,t.min)),fd(0,1,r)}function tae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const aA=.35;function rae(e=aA){return e===!1?e=0:e===!0&&(e=aA),{x:KI(e,"left","right"),y:KI(e,"top","bottom")}}function KI(e,t,r){return{min:YI(e,t),max:YI(e,r)}}function YI(e,t){return typeof e=="number"?e:e[t]||0}const nae=new WeakMap;class sae{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Os(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Mx(h).point)},a=(h,p)=>{const{drag:m,dragPropagation:x,onDragStart:y}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fse(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jo(v=>{let S=this.getAxisMotionValue(v).get()||0;if(du.test(S)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[v];T&&(S=Ta(T)*(parseFloat(S)/100))}}this.originPoint[v]=S}),y&&ts.postRender(()=>y(h,p)),sA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=p;if(x&&this.currentDirection===null){this.currentDirection=iae(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Jo(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new P7(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:I7(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ts.postRender(()=>o(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!l2(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=Qie(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&om(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Zie(n.layoutBox,t):this.constraints=!1,this.elastic=rae(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Jo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=tae(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!om(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=aie(n,s.root,this.visualElement.getTransformPagePoint());let a=Jie(s.layout.layoutBox,i);if(r){const o=r(nie(a));this.hasMutatedConstraints=!!o,o&&(a=m7(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Jo(u=>{if(!l2(u,r,this.currentDirection))return;let h=l&&l[u]||{};a&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return sA(this.visualElement,t),n.start(YN(t,n,0,r,this.visualElement,!1))}stopAnimation(){Jo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Jo(r=>{const{drag:n}=this.getProps();if(!l2(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-ds(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!om(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=eae({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Jo(a=>{if(!l2(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ds(l,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;nae.set(this.visualElement,this);const t=this.visualElement.current,r=ry(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();om(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ts.read(n);const a=Vy(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Jo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=aA,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function l2(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function iae(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class aae extends uh{constructor(t){super(t),this.removeGroupControls=dl,this.removeListeners=dl,this.controls=new sae(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dl}unmount(){this.removeGroupControls(),this.removeListeners()}}const XI=e=>(t,r)=>{e&&ts.postRender(()=>e(t,r))};class oae extends uh{constructor(){super(...arguments),this.removePointerDownListener=dl}onPointerDown(t){this.session=new P7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:XI(t),onStart:XI(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&ts.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ry(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const m1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wr.test(e))e=parseFloat(e);else return e;const r=QI(e,t.target.x),n=QI(e,t.target.y);return`${r}% ${n}%`}},lae={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Jf.parse(e);if(s.length>5)return n;const i=Jf.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const c=ds(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}};let AS=!1;class cae extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;Pse(uae),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),AS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,AS=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ts.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),MN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;AS=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function R7(e){const[t,r]=t7(),n=L.useContext(yN);return d.jsx(cae,{...e,layoutGroup:n,switchLayoutGroup:L.useContext(h7),isPresent:t,safeToRemove:r})}const uae={borderRadius:{...m1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:m1,borderTopRightRadius:m1,borderBottomLeftRadius:m1,borderBottomRightRadius:m1,boxShadow:lae};function dae(e,t,r){const n=ta(e)?e:tg(e);return n.start(YN("",n,t,r)),n.animation}const fae=(e,t)=>e.depth-t.depth;class hae{constructor(){this.children=[],this.isDirty=!1}add(t){wN(this.children,t),this.isDirty=!0}remove(t){bN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fae),this.isDirty=!1,this.children.forEach(t)}}function pae(e,t){const r=Xa.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Zf(n),e(i-t))};return ts.setup(n,!0),()=>Zf(n)}const D7=["TopLeft","TopRight","BottomLeft","BottomRight"],mae=D7.length,ZI=e=>typeof e=="string"?parseFloat(e):e,JI=e=>typeof e=="number"||wr.test(e);function gae(e,t,r,n,s,i){s?(e.opacity=ds(0,r.opacity??1,yae(n)),e.opacityExit=ds(t.opacity??1,0,xae(n))):i&&(e.opacity=ds(t.opacity??1,r.opacity??1,n));for(let a=0;a<mae;a++){const o=`border${D7[a]}Radius`;let l=eP(t,o),c=eP(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||JI(l)===JI(c)?(e[o]=Math.max(ds(ZI(l),ZI(c),n),0),(du.test(c)||du.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ds(t.rotate||0,r.rotate||0,n))}function eP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yae=L7(0,.5,bM),xae=L7(.5,.95,dl);function L7(e,t,r){return n=>n<e?0:n>t?1:r($y(e,t,n))}function tP(e,t){e.min=t.min,e.max=t.max}function Xo(e,t){tP(e.x,t.x),tP(e.y,t.y)}function rP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nP(e,t,r,n,s){return e-=t,e=ob(e,1/r,n),s!==void 0&&(e=ob(e,1/s,n)),e}function vae(e,t=0,r=1,n=.5,s,i=e,a=e){if(du.test(t)&&(t=parseFloat(t),t=ds(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ds(i.min,i.max,n);e===i&&(o-=t),e.min=nP(e.min,t,r,o,s),e.max=nP(e.max,t,r,o,s)}function sP(e,t,[r,n,s],i,a){vae(e,t[r],t[n],t[s],t.scale,i,a)}const wae=["x","scaleX","originX"],bae=["y","scaleY","originY"];function iP(e,t,r,n){sP(e.x,t,wae,r?r.x:void 0,n?n.x:void 0),sP(e.y,t,bae,r?r.y:void 0,n?n.y:void 0)}function aP(e){return e.translate===0&&e.scale===1}function j7(e){return aP(e.x)&&aP(e.y)}function oP(e,t){return e.min===t.min&&e.max===t.max}function _ae(e,t){return oP(e.x,t.x)&&oP(e.y,t.y)}function lP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F7(e,t){return lP(e.x,t.x)&&lP(e.y,t.y)}function cP(e){return Ta(e.x)/Ta(e.y)}function uP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sae{constructor(){this.members=[]}add(t){wN(this.members,t),t.scheduleRender()}remove(t){if(bN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Aae(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:m,skewY:x}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),p&&(n+=`rotateY(${p}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const ES=["","X","Y","Z"],Eae=1e3;let Nae=0;function NS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function M7(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=S7(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ts,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&M7(n)}function B7({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=Nae++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cae),this.nodes.forEach(Rae),this.nodes.forEach(Dae),this.nodes.forEach(Iae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hae)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new SN),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=e7(a)&&!xse(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,h=0;const p=()=>this.root.updateBlockedByResize=!1;ts.read(()=>{h=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=pae(p,250),hw.hasAnimatedSinceResize&&(hw.hasAnimatedSinceResize=!1,this.nodes.forEach(hP)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||Bae,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),v=!this.targetLayout||!F7(this.targetLayout,m),S=!h&&p;if(this.options.layoutRoot||this.resumeFrom||S||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...jN(x,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,S)}else h||hP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lae),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Oae),this.nodes.forEach(Tae),this.nodes.forEach(kae)):this.nodes.forEach(fP),this.clearAllSnapshots();const o=Xa.now();Pi.delta=fd(0,1e3/60,o-Pi.timestamp),Pi.timestamp=o,Pi.isProcessing=!0,pS.update.process(Pi),pS.preRender.process(Pi),pS.render.process(Pi),Pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,MN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pae),this.sharedNodes.forEach(jae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ts.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ts.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ta(this.snapshot.measuredBox.x)&&!Ta(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!j7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Zh(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Uae(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Os();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some($ae))){const{scroll:u}=this.root;u&&(lm(o.x,u.offset.x),lm(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=Os();if(Xo(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Xo(o,a),lm(o.x,h.offset.x),lm(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=Os();Xo(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cm(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zh(u.latestValues)&&cm(l,u.latestValues)}return Zh(this.latestValues)&&cm(l,this.latestValues),l}removeTransform(a){const o=Os();Xo(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zh(c.latestValues))continue;eA(c.latestValues)&&c.updateSnapshot();const u=Os(),h=c.measurePageBox();Xo(u,h),iP(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zh(this.latestValues)&&iP(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Pi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),sy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Os(),this.targetWithTransforms=Os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),y7(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),sy(this.relativeTargetOrigin,this.target,m.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eA(this.parent.latestValues)||g7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Xo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;iie(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Os());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rP(this.prevProjectionDelta.x,this.projectionDelta.x),rP(this.prevProjectionDelta.y,this.projectionDelta.y)),ny(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!uP(this.projectionDelta.x,this.prevProjectionDelta.x)||!uP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=um(),this.projectionDelta=um(),this.projectionDeltaWithTransform=um()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=um();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Os(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,b=this.getStack(),v=!b||b.members.length<=1,S=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Mae));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const R=T/1e3;pP(h.x,a.x,R),pP(h.y,a.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fae(this.relativeTarget,this.relativeTargetOrigin,p,R),_&&_ae(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Os()),Xo(_,this.relativeTarget)),y&&(this.animationValues=u,gae(u,c,this.latestValues,R,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Zf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ts.update(()=>{hw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tg(0)),this.currentAnimation=dae(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Eae),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&U7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Os();const h=Ta(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=Ta(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}Xo(o,l),cm(o,u),ny(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Sae),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&NS("z",a,c,this.animationValues);for(let u=0;u<ES.length;u++)NS(`rotate${ES[u]}`,a,c,this.animationValues),NS(`skew${ES[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=fw(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=fw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zh(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Aae(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),a.transform=h;const{x:p,y:m}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Wy){if(u[x]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:v}=Wy[x],S=h==="none"?u[x]:y(u[x],c);if(b){const _=b.length;for(let T=0;T<_;T++)a[b[T]]=S}else v?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=c===this?fw(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(dP),this.root.sharedNodes.clear()}}}function Tae(e){e.updateLayout()}function kae(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Jo(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Ta(p);p.min=n[h].min,p.max=p.min+m}):U7(i,t.layoutBox,n)&&Jo(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Ta(n[h]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=um();ny(o,n,t.layoutBox);const l=um();a?ny(l,e.applyTransform(s,!0),t.measuredBox):ny(l,n,t.layoutBox);const c=!j7(o);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const x=Os();sy(x,t.layoutBox,p.layoutBox);const y=Os();sy(y,n,m.layoutBox),F7(x,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Cae(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Iae(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pae(e){e.clearSnapshot()}function dP(e){e.clearMeasurements()}function fP(e){e.isLayoutDirty=!1}function Oae(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Rae(e){e.resolveTargetDelta()}function Dae(e){e.calcProjection()}function Lae(e){e.resetSkewAndRotation()}function jae(e){e.removeLeadSnapshot()}function pP(e,t,r){e.translate=ds(t.translate,0,r),e.scale=ds(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function mP(e,t,r,n){e.min=ds(t.min,r.min,n),e.max=ds(t.max,r.max,n)}function Fae(e,t,r,n){mP(e.x,t.x,r.x,n),mP(e.y,t.y,r.y,n)}function Mae(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bae={duration:.45,ease:[.4,0,.1,1]},gP=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yP=gP("applewebkit/")&&!gP("chrome/")?Math.round:dl;function xP(e){e.min=yP(e.min),e.max=yP(e.max)}function Uae(e){xP(e.x),xP(e.y)}function U7(e,t,r){return e==="position"||e==="preserve-aspect"&&!Vie(cP(t),cP(r),.2)}function $ae(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zae=B7({attachResizeListener:(e,t)=>Vy(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),TS={current:void 0},$7=B7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!TS.current){const e=new zae({});e.mount(window),e.setOptions({layoutScroll:!0}),TS.current=e}return TS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qae={pan:{Feature:oae},drag:{Feature:aae,ProjectionNode:$7,MeasureLayout:R7}};function vP(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&ts.postRender(()=>i(t,Mx(t)))}class Hae extends uh{mount(){const{current:t}=this.node;t&&(this.unmount=hse(t,(r,n)=>(vP(this.node,n,"Start"),s=>vP(this.node,s,"End"))))}unmount(){}}class Wae extends uh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lx(Vy(this.node.current,"focus",()=>this.onFocus()),Vy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wP(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&ts.postRender(()=>i(t,Mx(t)))}class Vae extends uh{mount(){const{current:t}=this.node;t&&(this.unmount=yse(t,(r,n)=>(wP(this.node,n,"Start"),(s,{success:i})=>wP(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oA=new WeakMap,kS=new WeakMap,Gae=e=>{const t=oA.get(e.target);t&&t(e)},Kae=e=>{e.forEach(Gae)};function Yae({root:e,...t}){const r=e||document;kS.has(r)||kS.set(r,{});const n=kS.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Kae,{root:e,...t})),n[s]}function Xae(e,t,r){const n=Yae(t);return oA.set(e,r),n.observe(e),()=>{oA.delete(e),n.unobserve(e)}}const Qae={some:0,all:1};class Zae extends uh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Qae[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return Xae(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Jae(t,r))&&this.startObserver()}unmount(){}}function Jae({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const eoe={inView:{Feature:Zae},tap:{Feature:Vae},focus:{Feature:Wae},hover:{Feature:Hae}},toe={layout:{ProjectionNode:$7,MeasureLayout:R7}},roe={...Uie,...eoe,...qae,...toe},wt=rie(roe,mie),dr=(e,t="ar")=>{if(!e)return console.warn("Invalid date provided to formatDate:",e)," ";try{const r=typeof e=="string"?new Date(e):e;return isNaN(r.getTime())?(console.warn("Invalid date object:",e)," "):t==="ar"?new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(r).replace("AM","").replace("PM",""):r.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch(r){return console.error("formatDate error:",r)," "}},noe=({notification:e,isRtl:t,onMarkAsRead:r})=>{const n=yc(),s=()=>{var u,h;e.read||(r(e._id),console.log(`[${new Date().toISOString()}] Notification clicked and marked as read: ${e._id}`)),(u=e.data)!=null&&u.orderId?n(`/orders/${e.data.orderId}`):(h=e.data)!=null&&h.taskId&&n(`/production-tasks/${e.data.taskId}`)},i={success:{icon:k0,color:"text-green-600",bg:"bg-green-50"},error:{icon:cM,color:"text-red-600",bg:"bg-red-50"},info:{icon:zte,color:"text-blue-600",bg:"bg-blue-50"},warning:{icon:Ar,color:"text-yellow-600",bg:"bg-yellow-50"}},a=e.type in i?e.type:"info",{icon:o,color:l,bg:c}=i[a];return d.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},onClick:s,className:`flex items-start p-2 border-b border-amber-100 hover:${c} transition-colors cursor-pointer ${t?"text-right flex-row-reverse":"text-left"} ${e.read?"opacity-70":""} rounded-md mx-1 my-0.5 shadow-sm hover:shadow-md`,children:[d.jsx(o,{className:`w-4 h-4 ${l} flex-shrink-0 ${t?"ml-2":"mr-2"} mt-0.5`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-medium text-amber-900 truncate",children:e.message}),d.jsx("p",{className:"text-[10px] text-amber-600 mt-0.5",children:dr(e.createdAt)})]}),!e.read&&d.jsx("span",{className:`w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 ${t?"mr-2":"ml-2"} flex-shrink-0`})]})},soe=()=>{const{t:e,language:t}=Yn(),r=t==="ar",{notifications:n,unreadCount:s,markAsRead:i,markAllAsRead:a,clearNotifications:o}=Dx(),[l,c]=L.useState(!1),u=L.useRef(null);return L.useEffect(()=>{console.log(`[${new Date().toISOString()}] Notifications - Rendering with notifications:`,n);const h=p=>{u.current&&!u.current.contains(p.target)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[n]),d.jsxs("div",{className:`relative ${r?"ml-2 sm:ml-3":"mr-2 sm:mr-3"}`,ref:u,children:[d.jsxs("button",{onClick:()=>c(!l),className:"relative p-1.5 bg-amber-100 hover:bg-amber-200 rounded-full shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-amber-300","aria-label":e("notifications.title"),children:[d.jsx(ute,{size:18,className:"text-amber-700"}),s>0&&d.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-[10px] rounded-full h-4 w-4 flex items-center justify-center shadow-sm",children:s>9?"9+":s})]}),d.jsx(Bn,{children:l&&d.jsxs(wt.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2,ease:"easeOut"},className:`absolute ${r?"-right-32 origin-top-right":"-left-32 origin-top-left"} top-10 w-full max-w-[24rem] sm:max-w-[28rem] min-w-[16rem] max-h-[calc(100vh-2.5rem)] bg-amber-50 rounded-md shadow-lg z-50 border border-amber-200 overflow-hidden scrollbar-thin scrollbar-thumb-amber-400/80 scrollbar-track-amber-100/50 hover:scrollbar-thumb-amber-400`,children:[d.jsxs("div",{className:`p-2 sm:p-3 border-b border-amber-200 bg-amber-100 flex ${r?"flex-row-reverse":"flex-row"} justify-between items-center sticky top-0 z-10`,children:[d.jsx("h3",{className:"text-xs font-semibold text-amber-900 truncate",children:e("notifications.title")}),d.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[d.jsx("button",{onClick:a,className:"text-[10px] text-amber-700 hover:text-amber-900 font-medium transition hover:underline","aria-label":e("notifications.markAllRead"),children:e("notifications.markAllRead")}),d.jsx("button",{onClick:o,className:"text-[10px] text-red-600 hover:text-red-800 font-medium transition hover:underline","aria-label":e("notifications.clear"),children:e("notifications.clear")})]})]}),d.jsx("div",{className:"max-h-[calc(100vh-7rem)] overflow-y-auto",children:n.length===0?d.jsx("p",{className:"p-3 text-xs text-amber-700 text-center",children:e("notifications.noNotifications")}):n.map(h=>d.jsx(noe,{notification:h,isRtl:r,onMarkAsRead:i},h._id))})]})})]})};function ioe({onMenuToggle:e}){const{language:t,toggleLanguage:r,t:n}=Yn(),s=t==="ar";return d.jsxs("header",{className:"sticky top-0 z-50 w-full flex items-center justify-between h-16 px-2 sm:px-4 lg:px-4 border-b border-amber-200 bg-amber-100 shadow-md",dir:s?"rtl":"ltr",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-1",children:[d.jsx("img",{src:"/logo.png",alt:n("app.logo_alt"),className:"w-8 h-8 sm:w-12 sm:h-12 rounded-xl border border-amber-300 shadow-sm"}),d.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-bold text-gray-900 truncate flex-1",children:n("app.title")})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[d.jsx(soe,{}),d.jsxs("button",{onClick:r,"aria-label":n("header.toggle_language"),className:"flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 rounded-full bg-amber-200 hover:bg-amber-300 text-amber-700 text-xs sm:text-sm font-semibold transition shadow-sm",children:[d.jsx(Fte,{size:16}),d.jsx("span",{children:t==="ar"?"En":""})]}),d.jsx("button",{onClick:e,"aria-label":n("header.toggle_menu"),className:"text-amber-700 hover:text-amber-900 transition-colors p-2 rounded-full hover:bg-amber-200",children:d.jsx(tre,{size:20,className:"sm:w-6 sm:h-6"})})]})]})}function aoe({isOpen:e,isExpanded:t,onToggleExpand:r,onClose:n,isLargeScreen:s,isSmallScreen:i}){const{user:a,logout:o}=ps(),{t:l,language:c}=Yn(),{unreadByPath:u}=Dx(),h=c==="ar",p=Hr.useMemo(()=>{if(!a)return[];const y=[{path:"/dashboard",icon:Ute,label:l("dashboard")}],b=[{path:"/products",icon:fte,label:l("products.manage")},{path:"/branches",icon:fre,label:l("branches.manage")},{path:"/chefs",icon:sm,label:l("chefs.manage")},{path:"/departments",icon:_re,label:l("departments")},{path:"/orders",icon:s2,label:l("orders")},{path:"/returns",icon:hS,label:l("returns")},{path:"/sales",icon:aI,label:l("sales")},{path:"/reports",icon:rI,label:l("reports")},{path:"/profile",icon:n2,label:l("settings")}],v=[{path:"/orders/new",icon:s2,label:l("orders.create")},{path:"/branch-orders",icon:s2,label:l("orders.review")},{path:"/branch-sales",icon:aI,label:l("sales.review")},{path:"/branch-returns",icon:hS,label:l("returns.review")},{path:"/branch-inventory",icon:Are,label:l("inventory")},{path:"/profile",icon:n2,label:l("settings")}],S=[{path:"/production-tasks",icon:Vte,label:l("productionTasks")},{path:"/profile",icon:n2,label:l("settings")}],_=[{path:"/orders",icon:s2,label:l("orders")},{path:"/returns",icon:hS,label:l("returns")},{path:"/reports",icon:rI,label:l("reports")},{path:"/profile",icon:n2,label:l("settings")}];let T=[];switch(a.role){case"admin":T=b;break;case"branch":T=v;break;case"chef":T=S;break;case"production":T=_;break}return[...y,...T]},[a,l]),m={open:{x:0,opacity:1,transition:{duration:.3,ease:"easeOut"}},closed:{x:h?"100%":"-100%",opacity:0,transition:{duration:.3,ease:"easeIn"}}},x={expanded:{width:"240px",transition:{duration:.3,ease:"easeInOut"}},collapsed:{width:"64px",transition:{duration:.3,ease:"easeInOut"}}};return d.jsx(Bn,{children:(e||s)&&d.jsxs(d.Fragment,{children:[!s&&e&&d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40",onClick:n,"aria-hidden":"true"}),d.jsxs(wt.aside,{variants:s?x:m,initial:s?t?"expanded":"collapsed":"closed",animate:s?t?"expanded":"collapsed":"open",exit:s?void 0:"closed",className:`fixed top-16 bottom-0 z-50 flex flex-col bg-gradient-to-b from-amber-50 to-amber-100 shadow-lg overflow-y-auto overflow-x-hidden ${h?"right-0 border-r border-amber-200":"left-0 border-l border-amber-200"}`,style:{width:s?t?"240px":"64px":i?"min(160px, 65vw)":"min(200px, 70vw)"},children:[!s&&d.jsx("div",{className:"flex justify-end p-1 border-b border-amber-200",children:d.jsx("button",{onClick:n,"aria-label":l("sidebar.close"),className:"p-1 rounded-full bg-amber-200 hover:bg-amber-300 text-amber-700 transition shadow-sm",children:d.jsx(cM,{size:16})})}),d.jsx("nav",{className:"flex flex-col flex-grow p-1 sm:p-2 space-y-1 scrollbar-thin scrollbar-w-1 scrollbar-thumb-amber-400/80 scrollbar-track-amber-100/50 hover:scrollbar-thumb-amber-400",children:p.map(y=>{const b=u[y.path]||0;return d.jsxs(rF,{to:y.path,onClick:()=>!s&&n(),className:({isActive:v})=>`flex items-center text-amber-800 rounded-lg p-1 sm:p-2 cursor-pointer hover:bg-amber-200/50 hover:shadow-sm transition-all duration-200 ${v?"bg-amber-200 font-semibold text-amber-900 shadow-sm":""}`,title:y.label,children:[d.jsx(y.icon,{size:s&&!t?18:i?16:20,className:"text-amber-600 min-w-[20px]"}),d.jsx("span",{className:`${s&&!t?"hidden":"block m-1 font-medium text-xs sm:text-sm"} truncate text-amber-900`,children:y.label}),b>0&&d.jsx("span",{className:`ml-auto text-xs font-bold px-1 py-0.5 rounded-full shadow-sm ${s&&!t?"w-2 h-2 bg-red-500":"bg-red-500 text-white min-w-[16px] sm:min-w-[18px] text-center"}`,children:s&&!t?"":b>9?"9+":b})]},y.path)})}),d.jsxs("div",{className:"p-1 sm:p-2 border-t border-amber-200 bg-amber-100/80 flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1 text-amber-900 text-xs sm:text-sm font-medium p-1 sm:p-2 rounded-lg hover:bg-amber-200/50 transition-all",children:[d.jsx(Cte,{size:i?16:18,className:"text-amber-600 min-w-[18px]"}),d.jsx("span",{className:`${s&&!t?"hidden":"block truncate"}`,children:(a==null?void 0:a.name)||l("header.guest")})]}),d.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-amber-900 text-xs sm:text-sm font-medium p-1 sm:p-2 rounded-lg hover:bg-amber-200/50 transition-all","aria-label":l("header.logout"),children:[d.jsx(Zte,{size:i?16:18,className:"text-amber-600 min-w-[18px]"}),d.jsx("span",{className:`${s&&!t?"hidden":"block truncate"}`,children:l("header.logout")})]})]}),s&&d.jsx("button",{onClick:r,"aria-label":l(t?"sidebar.collapse":"sidebar.expand"),className:`absolute top-1/2 transform -translate-y-1/2 p-1 bg-amber-100/80 hover:bg-amber-200 text-amber-700 rounded-full shadow-sm transition-all duration-200 opacity-50 hover:opacity-100 ${h?"left-0 -translate-x-1/2":"right-0 translate-x-1/2"}`,children:t?d.jsx(_te,{size:14,className:h?"rotate-180":""}):d.jsx(wte,{size:14,className:h?"rotate-180":""})})]})]})})}function wl({size:e="md",className:t=""}){const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-16 h-16"},n=L.useRef(null),[s,i]=L.useState(0);return L.useEffect(()=>{n.current&&i(n.current.getTotalLength())},[]),d.jsx("div",{className:`flex items-center justify-center ${t}`,children:d.jsxs("svg",{className:`${r[e]}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[s>0&&d.jsx("style",{children:`@keyframes draw {
              0% {
                stroke-dashoffset: ${s};
              }
              100% {
                stroke-dashoffset: 0;
              }
            }`}),d.jsx("g",{transform:"translate(20, 10) scale(1.2)",children:d.jsx("path",{ref:n,d:"M45.691667,45.15 C48.591667,46.1 50.691667,48.95 50.691667,52.2 C50.691667,57.95 46.691667,61 40.291667,61 L28.541667,61 L28.541667,30.3 L39.291667,30.3 C45.691667,30.3 49.691667,33.15 49.691667,38.65 C49.691667,41.95 47.941667,44.35 45.691667,45.15 Z M33.591667,43.2 L39.241667,43.2 C42.791667,43.2 44.691667,41.85 44.691667,38.95 C44.691667,36.05 42.791667,34.8 39.241667,34.8 L33.591667,34.8 L33.591667,43.2 Z M33.591667,47.5 L33.591667,56.5 L40.191667,56.5 C43.691667,56.5 45.591667,54.75 45.591667,52 C45.591667,49.2 43.691667,47.5 40.191667,47.5 L33.591667,47.5 Z",fill:"none",stroke:"#B45309",strokeWidth:"2",style:s>0?{strokeDasharray:s,animation:"draw 2s ease-in-out infinite"}:{}})})]})})}function ooe({children:e}){const{language:t}=Yn(),r=t==="ar",[n,s]=L.useState(!0),[i,a]=L.useState(window.innerWidth>=1024),[o,l]=L.useState(window.innerWidth<360),[c,u]=L.useState(!1),[h,p]=L.useState(window.innerWidth>=1024);L.useEffect(()=>{const b=setTimeout(()=>s(!1),150);return()=>clearTimeout(b)},[]),L.useEffect(()=>{const b=()=>{const v=window.innerWidth>=1024,S=window.innerWidth<360;a(v),l(S),p(v),u(v)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const m=()=>{i?p(!h):u(!c)};if(n)return d.jsx(wl,{});const x=i?h?240:64:o?"min(160px, 65vw)":"min(200px, 70vw)",y=i?r?{marginRight:x,transition:"margin-right 300ms ease-in-out"}:{marginLeft:x,transition:"margin-left 300ms ease-in-out"}:{margin:0,width:"100%"};return d.jsxs("div",{className:"min-h-screen bg-amber-50",children:[d.jsx(ioe,{onMenuToggle:m}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(aoe,{isOpen:c,isExpanded:h,onToggleExpand:()=>p(!h),onClose:()=>u(!1),isLargeScreen:i,isSmallScreen:o}),d.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-2 lg:p-4 transition-all duration-300",style:y,children:e})]})]})}function dt({children:e,variant:t="primary",size:r="md",icon:n,onClick:s,className:i="",disabled:a=!1,type:o="button"}){const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600 focus:ring-amber-500 shadow-md hover:shadow-lg",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 focus:ring-red-500 shadow-md hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 focus:ring-green-500 shadow-md hover:shadow-lg"},u={sm:"px-3 py-1.5 text-sm space-x-1.5 rtl:space-x-reverse",md:"px-4 py-2 text-sm space-x-2 rtl:space-x-reverse",lg:"px-6 py-3 text-base space-x-2.5 rtl:space-x-reverse"};return d.jsxs("button",{type:o,onClick:s,disabled:a,className:`${l} ${c[t]} ${u[r]} ${a?"opacity-50 cursor-not-allowed":""} ${i}`,children:[n&&d.jsx(n,{className:"w-4 h-4"}),e]})}function tr({children:e,className:t="",onClick:r,gradient:n=!1}){return d.jsx("div",{className:`${n?"bg-gradient-to-br from-white to-amber-50":"bg-white"} rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border border-amber-100 ${r?"cursor-pointer hover:scale-[1.02]":""} ${t}`,onClick:r,children:e})}function loe(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[s,i]=L.useState(""),[a,o]=L.useState(!1),[l,c]=L.useState(!1),[u,h]=L.useState(""),[p,m]=L.useState(""),[x,y]=L.useState(!1),[b,v]=L.useState(!1),[S,_]=L.useState(!1),{login:T,isAuthenticated:R}=ps(),{language:B,toggleLanguage:j}=Yn(),P=B==="ar";if(L.useEffect(()=>{if(v(!0),u){_(!0);const C=setTimeout(()=>_(!1),1e3);return()=>clearTimeout(C)}},[u]),R)return d.jsx(eN,{to:"/dashboard",replace:!0});const F=async C=>{C.preventDefault(),c(!0),h(""),m("");try{await T(e,r)||h(P?"      ":"Invalid username or password")}catch{h(P?"    ":"An error occurred during login")}finally{c(!1)}},N=C=>{C.preventDefault(),c(!0),h(""),m(""),setTimeout(()=>{m(P?"         ":"A password reset link has been sent to your email"),c(!1)},1e3)},k=()=>{y(!1),h(""),m(""),i("")};return d.jsx("div",{dir:P?"rtl":"ltr",className:`min-h-screen bg-gradient-to-br from-amber-100 via-orange-100 to-amber-200 flex items-center justify-center p-4 sm:p-6 transition-opacity duration-500 ${S?"opacity-50 bg-white":"opacity-100"}`,children:d.jsxs("div",{className:"w-full max-w-5xl grid md:grid-cols-2 gap-6 items-center",children:[d.jsxs("div",{className:`hidden md:flex flex-col items-center justify-center text-center space-y-6 transition-all duration-1000 ease-in-out ${b?"opacity-100 translate-x-0":P?"opacity-0 translate-x-40":"opacity-0 -translate-x-40"}`,children:[d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:"/logo.png",alt:P?"":"Al-Joudia",width:160,height:160,className:"mx-auto drop-shadow-md transition-transform duration-500 group-hover:scale-110 group-hover:rotate-6"}),d.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-amber-200/30 to-orange-200/30 rounded-full blur-lg transition-opacity duration-500 group-hover:opacity-100 animate-pulse-slow"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-amber-800",style:{fontFamily:"Alexandria",fontWeight:700},children:P?"    ":"Welcome to Al-Joudia System"}),d.jsx("p",{className:"text-lg text-amber-700 max-w-sm mx-auto leading-relaxed",style:{fontFamily:"Alexandria",fontWeight:400},children:P?"                 ":"Discover an innovative management experience for the sweets factory, with smart tracking of internal operations and seamless coordination between production and branches to enhance efficiency"})]})]}),d.jsx("div",{className:`w-full max-w-sm mx-auto transition-all duration-1000 ease-in-out ${b?"opacity-100 translate-x-0":P?"opacity-0 -translate-x-40":"opacity-0 translate-x-40"}`,children:d.jsxs(tr,{className:"border-amber-100/50 shadow-md bg-white/90 backdrop-blur-sm rounded-xl overflow-hidden transition-all duration-300 hover:shadow-xl p-5 sm:p-6",children:[d.jsxs("div",{className:"text-center space-y-3 mb-4",children:[d.jsxs("div",{className:"md:hidden relative mx-auto w-fit group",children:[d.jsx("img",{src:"/logo.png",alt:P?"":"Al-Joudia",width:70,height:70,className:"transition-transform duration-500 group-hover:scale-110 group-hover:rotate-6"}),d.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-amber-200/20 to-orange-200/20 rounded-full blur-md transition-opacity duration-500 group-hover:opacity-100"})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-amber-800",style:{fontFamily:"Alexandria",fontWeight:600},children:x?P?"   ":"Reset Password":P?" ":"Login"}),d.jsx("p",{className:"text-sm sm:text-base text-amber-600",style:{fontFamily:"Alexandria",fontWeight:400},children:x?P?"     ":"Enter your email to receive a reset link":P?"     ":"Enter your credentials to access the dashboard"})]})]}),d.jsxs("div",{className:"space-y-5",children:[u&&d.jsx("div",{className:"border-red-100 bg-red-50/70 rounded-md p-2 sm:p-3 animate-in fade-in slide-in-from-top-1",children:d.jsx("p",{className:"text-red-700 text-xs sm:text-sm",style:{fontFamily:"Alexandria",fontWeight:400},children:u})}),p&&d.jsx("div",{className:"border-green-100 bg-green-50/70 rounded-md p-2 sm:p-3 animate-in fade-in slide-in-from-top-1",children:d.jsx("p",{className:"text-green-700 text-xs sm:text-sm",style:{fontFamily:"Alexandria",fontWeight:400},children:p})}),x?d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"email",className:"text-amber-800 text-sm sm:text-base block",style:{fontFamily:"Alexandria",fontWeight:500},children:P?" ":"Email"}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{id:"email",type:"email",value:s,onChange:C=>i(C.target.value),className:`w-full ps-10 pe-3 border-amber-100/50 focus:border-amber-300 focus:ring-amber-300/20 bg-white/10 rounded-md py-2 px-3 transition-all duration-300 hover:bg-white/20 hover:shadow-sm text-xs sm:text-sm outline-none ${P?"text-right":"text-left"}`,style:{fontFamily:"Alexandria",fontWeight:400},placeholder:P?"  ":"Enter your email",required:!0}),d.jsx(im,{className:`absolute inset-y-0 ${P?"right-3":"left-3"} top-1/2 -translate-y-1/2 text-amber-600 group-hover:text-amber-800 transition-colors duration-300 h-4 w-4 sm:h-5 sm:w-5`})]})]}),d.jsx(dt,{type:"submit",variant:"primary",className:"w-full bg-gradient-to-r from-amber-400 to-orange-400 hover:from-amber-500 hover:to-orange-500 text-white py-1.5 sm:py-2 rounded-md shadow-sm hover:shadow-md transition-all duration-300 text-xs sm:text-sm hover:scale-105",style:{fontFamily:"Alexandria",fontWeight:500},disabled:l,children:l?d.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[d.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-white/40 border-t-white rounded-full animate-spin"}),P?" ...":"Sending..."]}):d.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[d.jsx(q0,{className:"h-3 w-3 sm:h-4 sm:w-4"}),P?"  ":"Send Reset Link"]})}),d.jsxs(dt,{type:"button",variant:"ghost",className:"w-full text-amber-600 hover:text-amber-800 py-1.5 sm:py-2 rounded-md transition-all duration-300 text-xs sm:text-sm hover:bg-amber-50/50",style:{fontFamily:"Alexandria",fontWeight:400},onClick:k,children:[d.jsx(U4,{className:"h-3 w-3 sm:h-4 sm:w-4 me-1"}),P?"   ":"Back to Login"]})]}):d.jsxs("form",{onSubmit:F,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"username",className:"text-amber-800 text-sm sm:text-base block",style:{fontFamily:"Alexandria",fontWeight:500},children:P?" ":"Username"}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{id:"username",type:"text",value:e,onChange:C=>t(C.target.value),className:`w-full ps-10 pe-3 border-amber-100/50 focus:border-amber-300 focus:ring-amber-300/20 bg-white/10 rounded-md py-2 px-3 transition-all duration-300 hover:bg-white/20 hover:shadow-sm text-xs sm:text-sm outline-none ${P?"text-right":"text-left"}`,style:{fontFamily:"Alexandria",fontWeight:400},placeholder:P?"  ":"Enter username",required:!0}),d.jsx(im,{className:`absolute inset-y-0 ${P?"right-3":"left-3"} top-1/2 -translate-y-1/2 text-amber-600 group-hover:text-amber-800 transition-colors duration-300 h-4 w-4 sm:h-5 sm:w-5`})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"password",className:"text-amber-800 text-sm sm:text-base block",style:{fontFamily:"Alexandria",fontWeight:500},children:P?" ":"Password"}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{id:"password",type:a?"text":"password",value:r,onChange:C=>n(C.target.value),className:`w-full ps-10 pe-10 border-amber-100/50 focus:border-amber-300 focus:ring-amber-300/20 bg-white/10 rounded-md py-2 px-3 transition-all duration-300 hover:bg-white/20 hover:shadow-sm text-xs sm:text-sm outline-none ${P?"text-right":"text-left"}`,style:{fontFamily:"Alexandria",fontWeight:400},placeholder:P?"  ":"Enter password",required:!0}),d.jsx(Xte,{className:`absolute inset-y-0 ${P?"right-3":"left-3"} top-1/2 -translate-y-1/2 text-amber-600 group-hover:text-amber-800 transition-colors duration-300 h-4 w-4 sm:h-5 sm:w-5`}),d.jsx("button",{type:"button",className:`absolute inset-y-0 ${P?"left-2":"right-2"} top-1/2 -translate-y-1/2 text-amber-600 hover:text-amber-800 p-0 h-full flex items-center`,onClick:()=>o(!a),children:a?d.jsx(ic,{className:"h-4 w-4 sm:h-5 sm:w-5"}):d.jsx(Po,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm",children:[d.jsxs(dt,{type:"button",variant:"ghost",className:"text-amber-600 hover:text-amber-800 p-0 hover:bg-transparent",style:{fontFamily:"Alexandria",fontWeight:400},onClick:()=>y(!0),children:[d.jsx(q0,{className:"h-3 w-3 sm:h-4 sm:w-4 me-1"}),P?"  ":"Forgot Password?"]}),d.jsxs(dt,{type:"button",variant:"ghost",className:"text-amber-600 hover:text-amber-800 p-0 hover:bg-transparent",style:{fontFamily:"Alexandria",fontWeight:400},onClick:j,children:[d.jsx(ote,{className:"h-3 w-3 sm:h-4 sm:w-4 me-1"}),P?"English":""]})]}),d.jsx(dt,{type:"submit",variant:"primary",className:"w-full bg-gradient-to-r from-amber-400 to-orange-400 hover:from-amber-500 hover:to-orange-500 text-white py-1.5 sm:py-2 rounded-md shadow-sm hover:shadow-md transition-all duration-300 text-xs sm:text-sm hover:scale-105",style:{fontFamily:"Alexandria",fontWeight:500},disabled:l,children:l?d.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[d.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-white/40 border-t-white rounded-full animate-spin"}),P?"  ...":"Logging in..."]}):d.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[d.jsx(Kte,{className:"h-3 w-3 sm:h-4 sm:w-4"}),P?" ":"Login"]})})]})]})]})})]})})}var lb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lb.exports;(function(e,t){(function(){var r,n="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",h=1,p=2,m=4,x=1,y=2,b=1,v=2,S=4,_=8,T=16,R=32,B=64,j=128,P=256,F=512,N=30,k="...",C=800,H=16,z=1,K=2,Y=3,W=1/0,Z=9007199254740991,ne=17976931348623157e292,ee=NaN,X=4294967295,I=X-1,U=X>>>1,G=[["ary",j],["bind",b],["bindKey",v],["curry",_],["curryRight",T],["flip",F],["partial",R],["partialRight",B],["rearg",P]],V="[object Arguments]",Q="[object Array]",ge="[object AsyncFunction]",Se="[object Boolean]",pe="[object Date]",oe="[object DOMException]",De="[object Error]",$e="[object Function]",Ze="[object GeneratorFunction]",Ce="[object Map]",se="[object Number]",yt="[object Null]",Ke="[object Object]",Ne="[object Promise]",Ge="[object Proxy]",pt="[object RegExp]",it="[object Set]",jt="[object String]",Dt="[object Symbol]",gr="[object Undefined]",qt="[object WeakMap]",Ee="[object WeakSet]",at="[object ArrayBuffer]",rt="[object DataView]",lt="[object Float32Array]",Et="[object Float64Array]",St="[object Int8Array]",or="[object Int16Array]",cr="[object Int32Array]",Bt="[object Uint8Array]",sr="[object Uint8ClampedArray]",Gr="[object Uint16Array]",Xt="[object Uint32Array]",Er=/\b__p \+= '';/g,yr=/\b(__p \+=) '' \+/g,jn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xn=/&(?:amp|lt|gt|quot|#39);/g,cn=/[&<>"']/g,lr=RegExp(Xn.source),tn=RegExp(cn.source),_l=/<%-([\s\S]+?)%>/g,Bs=/<%([\s\S]+?)%>/g,Ra=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/,oo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oa=/[\\^$.*+?()[\]{}|]/g,ci=RegExp(oa.source),ui=/^\s+/,Fn=/\s/,ms=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,we=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,me=/[()=,{}\[\]\/\s]/,be=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,It=/($^)/,vt=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",fr="\\u0300-\\u036f",mn="\\ufe20-\\ufe2f",$r="\\u20d0-\\u20ff",Un=fr+mn+$r,lo="\\u2700-\\u27bf",La="a-z\\xdf-\\xf6\\xf8-\\xff",Uo="\\xac\\xb1\\xd7\\xf7",ja="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bc="\\u2000-\\u206f",di=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dp="A-Z\\xc0-\\xd6\\xd8-\\xde",ns="\\ufe0e\\ufe0f",fh=Uo+ja+bc+di,_d="[']",Sl="["+kt+"]",_c="["+fh+"]",Ui="["+Un+"]",Sc="\\d+",ss="["+lo+"]",Sd="["+La+"]",fp="[^"+kt+fh+Sc+lo+La+dp+"]",hh="\\ud83c[\\udffb-\\udfff]",Ig="(?:"+Ui+"|"+hh+")",co="[^"+kt+"]",Ad="(?:\\ud83c[\\udde6-\\uddff]){2}",Ed="[\\ud800-\\udbff][\\udc00-\\udfff]",la="["+dp+"]",Nd="\\u200d",hp="(?:"+Sd+"|"+fp+")",Pg="(?:"+la+"|"+fp+")",pp="(?:"+_d+"(?:d|ll|m|re|s|t|ve))?",Td="(?:"+_d+"(?:D|LL|M|RE|S|T|VE))?",Ac=Ig+"?",Al="["+ns+"]?",Og="(?:"+Nd+"(?:"+[co,Ad,Ed].join("|")+")"+Al+Ac+")*",xu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ph="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xr=Al+Ac+Og,Rg="(?:"+[ss,Ad,Ed].join("|")+")"+xr,Dg="(?:"+[co+Ui+"?",Ui,Ad,Ed,Sl].join("|")+")",Lg=RegExp(_d,"g"),jg=RegExp(Ui,"g"),uo=RegExp(hh+"(?="+hh+")|"+Dg+xr,"g"),El=RegExp([la+"?"+Sd+"+"+pp+"(?="+[_c,la,"$"].join("|")+")",Pg+"+"+Td+"(?="+[_c,la+hp,"$"].join("|")+")",la+"?"+hp+"+"+pp,la+"+"+Td,ph,xu,Sc,Rg].join("|"),"g"),Fg=RegExp("["+Nd+kt+Un+ns+"]"),Mg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mh=-1,rn={};rn[lt]=rn[Et]=rn[St]=rn[or]=rn[cr]=rn[Bt]=rn[sr]=rn[Gr]=rn[Xt]=!0,rn[V]=rn[Q]=rn[at]=rn[Se]=rn[rt]=rn[pe]=rn[De]=rn[$e]=rn[Ce]=rn[se]=rn[Ke]=rn[pt]=rn[it]=rn[jt]=rn[qt]=!1;var nn={};nn[V]=nn[Q]=nn[at]=nn[rt]=nn[Se]=nn[pe]=nn[lt]=nn[Et]=nn[St]=nn[or]=nn[cr]=nn[Ce]=nn[se]=nn[Ke]=nn[pt]=nn[it]=nn[jt]=nn[Dt]=nn[Bt]=nn[sr]=nn[Gr]=nn[Xt]=!0,nn[De]=nn[$e]=nn[qt]=!1;var Cd={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Bg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vu=parseFloat,wu=parseInt,Id=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku,Pd=typeof self=="object"&&self&&self.Object===Object&&self,is=Id||Pd||Function("return this")(),Nl=t&&!t.nodeType&&t,$o=Nl&&!0&&e&&!e.nodeType&&e,xh=$o&&$o.exports===Nl,fo=xh&&Id.process,gs=function(){try{var Re=$o&&$o.require&&$o.require("util").types;return Re||fo&&fo.binding&&fo.binding("util")}catch{}}(),vh=gs&&gs.isArrayBuffer,wh=gs&&gs.isDate,Ec=gs&&gs.isMap,bh=gs&&gs.isRegExp,O=gs&&gs.isSet,re=gs&&gs.isTypedArray;function ye(Re,Je,Ve){switch(Ve.length){case 0:return Re.call(Je);case 1:return Re.call(Je,Ve[0]);case 2:return Re.call(Je,Ve[0],Ve[1]);case 3:return Re.call(Je,Ve[0],Ve[1],Ve[2])}return Re.apply(Je,Ve)}function Te(Re,Je,Ve,Pt){for(var Ot=-1,Qt=Re==null?0:Re.length;++Ot<Qt;){var Or=Re[Ot];Je(Pt,Or,Ve(Or),Re)}return Pt}function je(Re,Je){for(var Ve=-1,Pt=Re==null?0:Re.length;++Ve<Pt&&Je(Re[Ve],Ve,Re)!==!1;);return Re}function nt(Re,Je){for(var Ve=Re==null?0:Re.length;Ve--&&Je(Re[Ve],Ve,Re)!==!1;);return Re}function ft(Re,Je){for(var Ve=-1,Pt=Re==null?0:Re.length;++Ve<Pt;)if(!Je(Re[Ve],Ve,Re))return!1;return!0}function Ft(Re,Je){for(var Ve=-1,Pt=Re==null?0:Re.length,Ot=0,Qt=[];++Ve<Pt;){var Or=Re[Ve];Je(Or,Ve,Re)&&(Qt[Ot++]=Or)}return Qt}function Wt(Re,Je){var Ve=Re==null?0:Re.length;return!!Ve&&Tl(Re,Je,0)>-1}function hr(Re,Je,Ve){for(var Pt=-1,Ot=Re==null?0:Re.length;++Pt<Ot;)if(Ve(Je,Re[Pt]))return!0;return!1}function zt(Re,Je){for(var Ve=-1,Pt=Re==null?0:Re.length,Ot=Array(Pt);++Ve<Pt;)Ot[Ve]=Je(Re[Ve],Ve,Re);return Ot}function Lr(Re,Je){for(var Ve=-1,Pt=Je.length,Ot=Re.length;++Ve<Pt;)Re[Ot+Ve]=Je[Ve];return Re}function Rn(Re,Je,Ve,Pt){var Ot=-1,Qt=Re==null?0:Re.length;for(Pt&&Qt&&(Ve=Re[++Ot]);++Ot<Qt;)Ve=Je(Ve,Re[Ot],Ot,Re);return Ve}function ys(Re,Je,Ve,Pt){var Ot=Re==null?0:Re.length;for(Pt&&Ot&&(Ve=Re[--Ot]);Ot--;)Ve=Je(Ve,Re[Ot],Ot,Re);return Ve}function gn(Re,Je){for(var Ve=-1,Pt=Re==null?0:Re.length;++Ve<Pt;)if(Je(Re[Ve],Ve,Re))return!0;return!1}var ks=Cl("length");function xs(Re){return Re.split("")}function Ys(Re){return Re.match(fe)||[]}function ca(Re,Je,Ve){var Pt;return Ve(Re,function(Ot,Qt,Or){if(Je(Ot,Qt,Or))return Pt=Qt,!1}),Pt}function Xs(Re,Je,Ve,Pt){for(var Ot=Re.length,Qt=Ve+(Pt?1:-1);Pt?Qt--:++Qt<Ot;)if(Je(Re[Qt],Qt,Re))return Qt;return-1}function Tl(Re,Je,Ve){return Je===Je?mp(Re,Je,Ve):Xs(Re,Nc,Ve)}function Od(Re,Je,Ve,Pt){for(var Ot=Ve-1,Qt=Re.length;++Ot<Qt;)if(Pt(Re[Ot],Je))return Ot;return-1}function Nc(Re){return Re!==Re}function kl(Re,Je){var Ve=Re==null?0:Re.length;return Ve?Pl(Re,Je)/Ve:ee}function Cl(Re){return function(Je){return Je==null?r:Je[Re]}}function Il(Re){return function(Je){return Re==null?r:Re[Je]}}function Tc(Re,Je,Ve,Pt,Ot){return Ot(Re,function(Qt,Or,br){Ve=Pt?(Pt=!1,Qt):Je(Ve,Qt,Or,br)}),Ve}function fi(Re,Je){var Ve=Re.length;for(Re.sort(Je);Ve--;)Re[Ve]=Re[Ve].value;return Re}function Pl(Re,Je){for(var Ve,Pt=-1,Ot=Re.length;++Pt<Ot;){var Qt=Je(Re[Pt]);Qt!==r&&(Ve=Ve===r?Qt:Ve+Qt)}return Ve}function Ol(Re,Je){for(var Ve=-1,Pt=Array(Re);++Ve<Re;)Pt[Ve]=Je(Ve);return Pt}function _h(Re,Je){return zt(Je,function(Ve){return[Ve,Re[Ve]]})}function Rd(Re){return Re&&Re.slice(0,Dd(Re)+1).replace(ui,"")}function Kr(Re){return function(Je){return Re(Je)}}function ho(Re,Je){return zt(Je,function(Ve){return Re[Ve]})}function zo(Re,Je){return Re.has(Je)}function Sh(Re,Je){for(var Ve=-1,Pt=Re.length;++Ve<Pt&&Tl(Je,Re[Ve],0)>-1;);return Ve}function ua(Re,Je){for(var Ve=Re.length;Ve--&&Tl(Je,Re[Ve],0)>-1;);return Ve}function bu(Re,Je){for(var Ve=Re.length,Pt=0;Ve--;)Re[Ve]===Je&&++Pt;return Pt}var Ah=Il(Cd),Eh=Il(Bg);function kc(Re){return"\\"+yh[Re]}function _u(Re,Je){return Re==null?r:Re[Je]}function Us(Re){return Fg.test(Re)}function da(Re){return Mg.test(Re)}function Cc(Re){for(var Je,Ve=[];!(Je=Re.next()).done;)Ve.push(Je.value);return Ve}function po(Re){var Je=-1,Ve=Array(Re.size);return Re.forEach(function(Pt,Ot){Ve[++Je]=[Ot,Pt]}),Ve}function Rl(Re,Je){return function(Ve){return Re(Je(Ve))}}function Fa(Re,Je){for(var Ve=-1,Pt=Re.length,Ot=0,Qt=[];++Ve<Pt;){var Or=Re[Ve];(Or===Je||Or===u)&&(Re[Ve]=u,Qt[Ot++]=Ve)}return Qt}function Dl(Re){var Je=-1,Ve=Array(Re.size);return Re.forEach(function(Pt){Ve[++Je]=Pt}),Ve}function as(Re){var Je=-1,Ve=Array(Re.size);return Re.forEach(function(Pt){Ve[++Je]=[Pt,Pt]}),Ve}function mp(Re,Je,Ve){for(var Pt=Ve-1,Ot=Re.length;++Pt<Ot;)if(Re[Pt]===Je)return Pt;return-1}function qo(Re,Je,Ve){for(var Pt=Ve+1;Pt--;)if(Re[Pt]===Je)return Pt;return Pt}function Ai(Re){return Us(Re)?Th(Re):ks(Re)}function Ei(Re){return Us(Re)?Ic(Re):xs(Re)}function Dd(Re){for(var Je=Re.length;Je--&&Fn.test(Re.charAt(Je)););return Je}var Nh=Il(gh);function Th(Re){for(var Je=uo.lastIndex=0;uo.test(Re);)++Je;return Je}function Ic(Re){return Re.match(uo)||[]}function Pc(Re){return Re.match(El)||[]}var Oc=function Re(Je){Je=Je==null?is:Ma.defaults(is.Object(),Je,Ma.pick(is,kd));var Ve=Je.Array,Pt=Je.Date,Ot=Je.Error,Qt=Je.Function,Or=Je.Math,br=Je.Object,mo=Je.RegExp,kh=Je.String,Qs=Je.TypeError,Su=Ve.prototype,Zx=Qt.prototype,Au=br.prototype,Ch=Je["__core-js_shared__"],Ih=Zx.toString,un=Au.hasOwnProperty,Jx=0,Ld=function(){var f=/[^.]+$/.exec(Ch&&Ch.keys&&Ch.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Ph=Au.toString,ev=Ih.call(br),tv=is._,rv=mo("^"+Ih.call(un).replace(oa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oh=xh?Je.Buffer:r,Ll=Je.Symbol,Rh=Je.Uint8Array,Ug=Oh?Oh.allocUnsafe:r,jd=Rl(br.getPrototypeOf,br),Dh=br.create,$i=Au.propertyIsEnumerable,Ni=Su.splice,Lh=Ll?Ll.isConcatSpreadable:r,Rc=Ll?Ll.iterator:r,Dc=Ll?Ll.toStringTag:r,Eu=function(){try{var f=qh(br,"defineProperty");return f({},"",{}),f}catch{}}(),gp=Je.clearTimeout!==is.clearTimeout&&Je.clearTimeout,$g=Pt&&Pt.now!==is.Date.now&&Pt.now,nv=Je.setTimeout!==is.setTimeout&&Je.setTimeout,Fd=Or.ceil,Md=Or.floor,Bd=br.getOwnPropertySymbols,zg=Oh?Oh.isBuffer:r,sv=Je.isFinite,B_=Su.join,iv=Rl(br.keys,br),Cs=Or.max,hi=Or.min,U_=Pt.now,$_=Je.parseInt,av=Or.random,qg=Su.reverse,jh=qh(Je,"DataView"),jl=qh(Je,"Map"),Hg=qh(Je,"Promise"),Ud=qh(Je,"Set"),$d=qh(Je,"WeakMap"),Fh=qh(br,"create"),yp=$d&&new $d,zd={},z_=Hh(jh),Lc=Hh(jl),go=Hh(Hg),Fl=Hh(Ud),q_=Hh($d),Mh=Ll?Ll.prototype:r,Ba=Mh?Mh.valueOf:r,fa=Mh?Mh.toString:r;function ce(f){if(ws(f)&&!kr(f)&&!(f instanceof Br)){if(f instanceof ha)return f;if(un.call(f,"__wrapped__"))return kk(f)}return new ha(f)}var qd=function(){function f(){}return function(g){if(!cs(g))return{};if(Dh)return Dh(g);f.prototype=g;var E=new f;return f.prototype=r,E}}();function Bh(){}function ha(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=r}ce.templateSettings={escape:_l,evaluate:Bs,interpolate:Ra,variable:"",imports:{_:ce}},ce.prototype=Bh.prototype,ce.prototype.constructor=ce,ha.prototype=qd(Bh.prototype),ha.prototype.constructor=ha;function Br(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function ov(){var f=new Br(this.__wrapped__);return f.__actions__=Ua(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Ua(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Ua(this.__views__),f}function H_(){if(this.__filtered__){var f=new Br(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function xp(){var f=this.__wrapped__.value(),g=this.__dir__,E=kr(f),M=g<0,te=E?f.length:0,de=dz(0,te,this.__views__),Ae=de.start,Pe=de.end,Fe=Pe-Ae,ct=M?Pe:Ae-1,ut=this.__iteratees__,mt=ut.length,Rt=0,Yt=hi(Fe,this.__takeCount__);if(!E||!M&&te==Fe&&Yt==Fe)return zh(f,this.__actions__);var pr=[];e:for(;Fe--&&Rt<Yt;){ct+=g;for(var jr=-1,mr=f[ct];++jr<mt;){var Wr=ut[jr],Qr=Wr.iteratee,bo=Wr.type,va=Qr(mr);if(bo==K)mr=va;else if(!va){if(bo==z)continue e;break e}}pr[Rt++]=mr}return pr}Br.prototype=qd(Bh.prototype),Br.prototype.constructor=Br;function Ho(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var M=f[g];this.set(M[0],M[1])}}function Uh(){this.__data__=Fh?Fh(null):{},this.size=0}function Wg(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function lv(f){var g=this.__data__;if(Fh){var E=g[f];return E===l?r:E}return un.call(g,f)?g[f]:r}function W_(f){var g=this.__data__;return Fh?g[f]!==r:un.call(g,f)}function cv(f,g){var E=this.__data__;return this.size+=this.has(f)?0:1,E[f]=Fh&&g===r?l:g,this}Ho.prototype.clear=Uh,Ho.prototype.delete=Wg,Ho.prototype.get=lv,Ho.prototype.has=W_,Ho.prototype.set=cv;function Ml(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var M=f[g];this.set(M[0],M[1])}}function V_(){this.__data__=[],this.size=0}function G_(f){var g=this.__data__,E=Ue(g,f);if(E<0)return!1;var M=g.length-1;return E==M?g.pop():Ni.call(g,E,1),--this.size,!0}function K_(f){var g=this.__data__,E=Ue(g,f);return E<0?r:g[E][1]}function Y_(f){return Ue(this.__data__,f)>-1}function X_(f,g){var E=this.__data__,M=Ue(E,f);return M<0?(++this.size,E.push([f,g])):E[M][1]=g,this}Ml.prototype.clear=V_,Ml.prototype.delete=G_,Ml.prototype.get=K_,Ml.prototype.has=Y_,Ml.prototype.set=X_;function Wo(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var M=f[g];this.set(M[0],M[1])}}function vp(){this.size=0,this.__data__={hash:new Ho,map:new(jl||Ml),string:new Ho}}function Q_(f){var g=Av(this,f).delete(f);return this.size-=g?1:0,g}function Z_(f){return Av(this,f).get(f)}function uv(f){return Av(this,f).has(f)}function w(f,g){var E=Av(this,f),M=E.size;return E.set(f,g),this.size+=E.size==M?0:1,this}Wo.prototype.clear=vp,Wo.prototype.delete=Q_,Wo.prototype.get=Z_,Wo.prototype.has=uv,Wo.prototype.set=w;function A(f){var g=-1,E=f==null?0:f.length;for(this.__data__=new Wo;++g<E;)this.add(f[g])}function D(f){return this.__data__.set(f,l),this}function q(f){return this.__data__.has(f)}A.prototype.add=A.prototype.push=D,A.prototype.has=q;function J(f){var g=this.__data__=new Ml(f);this.size=g.size}function ae(){this.__data__=new Ml,this.size=0}function le(f){var g=this.__data__,E=g.delete(f);return this.size=g.size,E}function ue(f){return this.__data__.get(f)}function he(f){return this.__data__.has(f)}function xe(f,g){var E=this.__data__;if(E instanceof Ml){var M=E.__data__;if(!jl||M.length<s-1)return M.push([f,g]),this.size=++E.size,this;E=this.__data__=new Wo(M)}return E.set(f,g),this.size=E.size,this}J.prototype.clear=ae,J.prototype.delete=le,J.prototype.get=ue,J.prototype.has=he,J.prototype.set=xe;function Oe(f,g){var E=kr(f),M=!E&&Wh(f),te=!E&&!M&&Jd(f),de=!E&&!M&&!te&&Cp(f),Ae=E||M||te||de,Pe=Ae?Ol(f.length,kh):[],Fe=Pe.length;for(var ct in f)(g||un.call(f,ct))&&!(Ae&&(ct=="length"||te&&(ct=="offset"||ct=="parent")||de&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Iu(ct,Fe)))&&Pe.push(ct);return Pe}function He(f){var g=f.length;return g?f[Kd(0,g-1)]:r}function ve(f,g){return Ev(Ua(f),Lt(g,0,f.length))}function Le(f){return Ev(Ua(f))}function Me(f,g,E){(E!==r&&!zl(f[g],E)||E===r&&!(g in f))&&ot(f,g,E)}function Qe(f,g,E){var M=f[g];(!(un.call(f,g)&&zl(M,E))||E===r&&!(g in f))&&ot(f,g,E)}function Ue(f,g){for(var E=f.length;E--;)if(zl(f[E][0],g))return E;return-1}function tt(f,g,E,M){return Ut(f,function(te,de,Ae){g(M,te,E(te),Ae)}),M}function st(f,g){return f&&Uc(g,mi(g),f)}function xt(f,g){return f&&Uc(g,za(g),f)}function ot(f,g,E){g=="__proto__"&&Eu?Eu(f,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):f[g]=E}function Kt(f,g){for(var E=-1,M=g.length,te=Ve(M),de=f==null;++E<M;)te[E]=de?r:w5(f,g[E]);return te}function Lt(f,g,E){return f===f&&(E!==r&&(f=f<=E?f:E),g!==r&&(f=f>=g?f:g)),f}function nr(f,g,E,M,te,de){var Ae,Pe=g&h,Fe=g&p,ct=g&m;if(E&&(Ae=te?E(f,M,te,de):E(f)),Ae!==r)return Ae;if(!cs(f))return f;var ut=kr(f);if(ut){if(Ae=hz(f),!Pe)return Ua(f,Ae)}else{var mt=Wi(f),Rt=mt==$e||mt==Ze;if(Jd(f))return Ep(f,Pe);if(mt==Ke||mt==V||Rt&&!te){if(Ae=Fe||Rt?{}:vk(f),!Pe)return Fe?rz(f,xt(Ae,f)):tz(f,st(Ae,f))}else{if(!nn[mt])return te?f:{};Ae=pz(f,mt,Pe)}}de||(de=new J);var Yt=de.get(f);if(Yt)return Yt;de.set(f,Ae),Kk(f)?f.forEach(function(mr){Ae.add(nr(mr,g,E,mr,f,de))}):Vk(f)&&f.forEach(function(mr,Wr){Ae.set(Wr,nr(mr,g,E,Wr,f,de))});var pr=ct?Fe?a5:i5:Fe?za:mi,jr=ut?r:pr(f);return je(jr||f,function(mr,Wr){jr&&(Wr=mr,mr=f[Wr]),Qe(Ae,Wr,nr(mr,g,E,Wr,f,de))}),Ae}function Gt(f){var g=mi(f);return function(E){return zr(E,f,g)}}function zr(f,g,E){var M=E.length;if(f==null)return!M;for(f=br(f);M--;){var te=E[M],de=g[te],Ae=f[te];if(Ae===r&&!(te in f)||!de(Ae))return!1}return!0}function vs(f,g,E){if(typeof f!="function")throw new Qs(a);return e1(function(){f.apply(r,E)},g)}function _r(f,g,E,M){var te=-1,de=Wt,Ae=!0,Pe=f.length,Fe=[],ct=g.length;if(!Pe)return Fe;E&&(g=zt(g,Kr(E))),M?(de=hr,Ae=!1):g.length>=s&&(de=zo,Ae=!1,g=new A(g));e:for(;++te<Pe;){var ut=f[te],mt=E==null?ut:E(ut);if(ut=M||ut!==0?ut:0,Ae&&mt===mt){for(var Rt=ct;Rt--;)if(g[Rt]===mt)continue e;Fe.push(ut)}else de(g,mt,M)||Fe.push(ut)}return Fe}var Ut=ik(Dn),Ct=ik(Js,!0);function os(f,g){var E=!0;return Ut(f,function(M,te,de){return E=!!g(M,te,de),E}),E}function vr(f,g,E){for(var M=-1,te=f.length;++M<te;){var de=f[M],Ae=g(de);if(Ae!=null&&(Pe===r?Ae===Ae&&!wo(Ae):E(Ae,Pe)))var Pe=Ae,Fe=de}return Fe}function Yr(f,g,E,M){var te=f.length;for(E=Dr(E),E<0&&(E=-E>te?0:te+E),M=M===r||M>te?te:Dr(M),M<0&&(M+=te),M=E>M?0:Xk(M);E<M;)f[E++]=g;return f}function Pn(f,g){var E=[];return Ut(f,function(M,te,de){g(M,te,de)&&E.push(M)}),E}function Xr(f,g,E,M,te){var de=-1,Ae=f.length;for(E||(E=gz),te||(te=[]);++de<Ae;){var Pe=f[de];g>0&&E(Pe)?g>1?Xr(Pe,g-1,E,M,te):Lr(te,Pe):M||(te[te.length]=Pe)}return te}var Zs=ak(),$n=ak(!0);function Dn(f,g){return f&&Zs(f,g,mi)}function Js(f,g){return f&&$n(f,g,mi)}function Qn(f,g){return Ft(g,function(E){return Pu(f[E])})}function Rr(f,g){g=Go(g,f);for(var E=0,M=g.length;f!=null&&E<M;)f=f[$c(g[E++])];return E&&E==M?f:r}function dn(f,g,E){var M=g(f);return kr(f)?M:Lr(M,E(f))}function qr(f){return f==null?f===r?gr:yt:Dc&&Dc in br(f)?uz(f):Sz(f)}function sn(f,g){return f>g}function ei(f,g){return f!=null&&un.call(f,g)}function yo(f,g){return f!=null&&g in br(f)}function ls(f,g,E){return f>=hi(g,E)&&f<Cs(g,E)}function pi(f,g,E){for(var M=E?hr:Wt,te=f[0].length,de=f.length,Ae=de,Pe=Ve(de),Fe=1/0,ct=[];Ae--;){var ut=f[Ae];Ae&&g&&(ut=zt(ut,Kr(g))),Fe=hi(ut.length,Fe),Pe[Ae]=!E&&(g||te>=120&&ut.length>=120)?new A(Ae&&ut):r}ut=f[0];var mt=-1,Rt=Pe[0];e:for(;++mt<te&&ct.length<Fe;){var Yt=ut[mt],pr=g?g(Yt):Yt;if(Yt=E||Yt!==0?Yt:0,!(Rt?zo(Rt,pr):M(ct,pr,E))){for(Ae=de;--Ae;){var jr=Pe[Ae];if(!(jr?zo(jr,pr):M(f[Ae],pr,E)))continue e}Rt&&Rt.push(pr),ct.push(Yt)}}return ct}function bn(f,g,E,M){return Dn(f,function(te,de,Ae){g(M,E(te),de,Ae)}),M}function zn(f,g,E){g=Go(g,f),f=Sk(f,g);var M=f==null?f:f[$c(Ko(g))];return M==null?r:ye(M,f,E)}function zi(f){return ws(f)&&qr(f)==V}function Ti(f){return ws(f)&&qr(f)==at}function pa(f){return ws(f)&&qr(f)==pe}function ti(f,g,E,M,te){return f===g?!0:f==null||g==null||!ws(f)&&!ws(g)?f!==f&&g!==g:qi(f,g,E,M,ti,te)}function qi(f,g,E,M,te,de){var Ae=kr(f),Pe=kr(g),Fe=Ae?Q:Wi(f),ct=Pe?Q:Wi(g);Fe=Fe==V?Ke:Fe,ct=ct==V?Ke:ct;var ut=Fe==Ke,mt=ct==Ke,Rt=Fe==ct;if(Rt&&Jd(f)){if(!Jd(g))return!1;Ae=!0,ut=!1}if(Rt&&!ut)return de||(de=new J),Ae||Cp(f)?gk(f,g,E,M,te,de):lz(f,g,Fe,E,M,te,de);if(!(E&x)){var Yt=ut&&un.call(f,"__wrapped__"),pr=mt&&un.call(g,"__wrapped__");if(Yt||pr){var jr=Yt?f.value():f,mr=pr?g.value():g;return de||(de=new J),te(jr,mr,E,M,de)}}return Rt?(de||(de=new J),cz(f,g,E,M,te,de)):!1}function ma(f){return ws(f)&&Wi(f)==Ce}function yn(f,g,E,M){var te=E.length,de=te,Ae=!M;if(f==null)return!de;for(f=br(f);te--;){var Pe=E[te];if(Ae&&Pe[2]?Pe[1]!==f[Pe[0]]:!(Pe[0]in f))return!1}for(;++te<de;){Pe=E[te];var Fe=Pe[0],ct=f[Fe],ut=Pe[1];if(Ae&&Pe[2]){if(ct===r&&!(Fe in f))return!1}else{var mt=new J;if(M)var Rt=M(ct,ut,Fe,f,g,mt);if(!(Rt===r?ti(ut,ct,x|y,M,mt):Rt))return!1}}return!0}function Hi(f){if(!cs(f)||xz(f))return!1;var g=Pu(f)?rv:qe;return g.test(Hh(f))}function xo(f){return ws(f)&&qr(f)==pt}function Nu(f){return ws(f)&&Wi(f)==it}function Bl(f){return ws(f)&&Pv(f.length)&&!!rn[qr(f)]}function $s(f){return typeof f=="function"?f:f==null?qa:typeof f=="object"?kr(f)?fv(f[0],f[1]):dv(f):oC(f)}function Hd(f){if(!Jg(f))return iv(f);var g=[];for(var E in br(f))un.call(f,E)&&E!="constructor"&&g.push(E);return g}function Vg(f){if(!cs(f))return _z(f);var g=Jg(f),E=[];for(var M in f)M=="constructor"&&(g||!un.call(f,M))||E.push(M);return E}function Wd(f,g){return f<g}function Vd(f,g){var E=-1,M=$a(f)?Ve(f.length):[];return Ut(f,function(te,de,Ae){M[++E]=g(te,de,Ae)}),M}function dv(f){var g=l5(f);return g.length==1&&g[0][2]?bk(g[0][0],g[0][1]):function(E){return E===f||yn(E,f,g)}}function fv(f,g){return u5(f)&&wk(g)?bk($c(f),g):function(E){var M=w5(E,f);return M===r&&M===g?b5(E,f):ti(g,M,x|y)}}function Gd(f,g,E,M,te){f!==g&&Zs(g,function(de,Ae){if(te||(te=new J),cs(de))jc(f,g,Ae,E,Gd,M,te);else{var Pe=M?M(f5(f,Ae),de,Ae+"",f,g,te):r;Pe===r&&(Pe=de),Me(f,Ae,Pe)}},za)}function jc(f,g,E,M,te,de,Ae){var Pe=f5(f,E),Fe=f5(g,E),ct=Ae.get(Fe);if(ct){Me(f,E,ct);return}var ut=de?de(Pe,Fe,E+"",f,g,Ae):r,mt=ut===r;if(mt){var Rt=kr(Fe),Yt=!Rt&&Jd(Fe),pr=!Rt&&!Yt&&Cp(Fe);ut=Fe,Rt||Yt||pr?kr(Pe)?ut=Pe:Is(Pe)?ut=Ua(Pe):Yt?(mt=!1,ut=Ep(Fe,!0)):pr?(mt=!1,ut=tk(Fe,!0)):ut=[]:t1(Fe)||Wh(Fe)?(ut=Pe,Wh(Pe)?ut=Qk(Pe):(!cs(Pe)||Pu(Pe))&&(ut=vk(Fe))):mt=!1}mt&&(Ae.set(Fe,ut),te(ut,Fe,M,de,Ae),Ae.delete(Fe)),Me(f,E,ut)}function hv(f,g){var E=f.length;if(E)return g+=g<0?E:0,Iu(g,E)?f[g]:r}function pv(f,g,E){g.length?g=zt(g,function(de){return kr(de)?function(Ae){return Rr(Ae,de.length===1?de[0]:de)}:de}):g=[qa];var M=-1;g=zt(g,Kr(ur()));var te=Vd(f,function(de,Ae,Pe){var Fe=zt(g,function(ct){return ct(de)});return{criteria:Fe,index:++M,value:de}});return fi(te,function(de,Ae){return ez(de,Ae,E)})}function J_(f,g){return Gg(f,g,function(E,M){return b5(f,M)})}function Gg(f,g,E){for(var M=-1,te=g.length,de={};++M<te;){var Ae=g[M],Pe=Rr(f,Ae);E(Pe,Ae)&&Yd(de,Go(Ae,f),Pe)}return de}function wp(f){return function(g){return Rr(g,f)}}function bp(f,g,E,M){var te=M?Od:Tl,de=-1,Ae=g.length,Pe=f;for(f===g&&(g=Ua(g)),E&&(Pe=zt(f,Kr(E)));++de<Ae;)for(var Fe=0,ct=g[de],ut=E?E(ct):ct;(Fe=te(Pe,ut,Fe,M))>-1;)Pe!==f&&Ni.call(Pe,Fe,1),Ni.call(f,Fe,1);return f}function Kg(f,g){for(var E=f?g.length:0,M=E-1;E--;){var te=g[E];if(E==M||te!==de){var de=te;Iu(te)?Ni.call(f,te,1):Qg(f,te)}}return f}function Kd(f,g){return f+Md(av()*(g-f+1))}function Yg(f,g,E,M){for(var te=-1,de=Cs(Fd((g-f)/(E||1)),0),Ae=Ve(de);de--;)Ae[M?de:++te]=f,f+=E;return Ae}function Tu(f,g){var E="";if(!f||g<1||g>Z)return E;do g%2&&(E+=f),g=Md(g/2),g&&(f+=f);while(g);return E}function Cr(f,g){return h5(_k(f,g,qa),f+"")}function e5(f){return He(Ip(f))}function _p(f,g){var E=Ip(f);return Ev(E,Lt(g,0,E.length))}function Yd(f,g,E,M){if(!cs(f))return f;g=Go(g,f);for(var te=-1,de=g.length,Ae=de-1,Pe=f;Pe!=null&&++te<de;){var Fe=$c(g[te]),ct=E;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return f;if(te!=Ae){var ut=Pe[Fe];ct=M?M(ut,Fe,Pe):r,ct===r&&(ct=cs(ut)?ut:Iu(g[te+1])?[]:{})}Qe(Pe,Fe,ct),Pe=Pe[Fe]}return f}var Sp=yp?function(f,g){return yp.set(f,g),f}:qa,Fc=Eu?function(f,g){return Eu(f,"toString",{configurable:!0,enumerable:!1,value:S5(g),writable:!0})}:qa;function mv(f){return Ev(Ip(f))}function ga(f,g,E){var M=-1,te=f.length;g<0&&(g=-g>te?0:te+g),E=E>te?te:E,E<0&&(E+=te),te=g>E?0:E-g>>>0,g>>>=0;for(var de=Ve(te);++M<te;)de[M]=f[M+g];return de}function t5(f,g){var E;return Ut(f,function(M,te,de){return E=g(M,te,de),!E}),!!E}function $h(f,g,E){var M=0,te=f==null?M:f.length;if(typeof g=="number"&&g===g&&te<=U){for(;M<te;){var de=M+te>>>1,Ae=f[de];Ae!==null&&!wo(Ae)&&(E?Ae<=g:Ae<g)?M=de+1:te=de}return te}return Mc(f,g,qa,E)}function Mc(f,g,E,M){var te=0,de=f==null?0:f.length;if(de===0)return 0;g=E(g);for(var Ae=g!==g,Pe=g===null,Fe=wo(g),ct=g===r;te<de;){var ut=Md((te+de)/2),mt=E(f[ut]),Rt=mt!==r,Yt=mt===null,pr=mt===mt,jr=wo(mt);if(Ae)var mr=M||pr;else ct?mr=pr&&(M||Rt):Pe?mr=pr&&Rt&&(M||!Yt):Fe?mr=pr&&Rt&&!Yt&&(M||!jr):Yt||jr?mr=!1:mr=M?mt<=g:mt<g;mr?te=ut+1:de=ut}return hi(de,I)}function gv(f,g){for(var E=-1,M=f.length,te=0,de=[];++E<M;){var Ae=f[E],Pe=g?g(Ae):Ae;if(!E||!zl(Pe,Fe)){var Fe=Pe;de[te++]=Ae===0?0:Ae}}return de}function Xg(f){return typeof f=="number"?f:wo(f)?ee:+f}function ya(f){if(typeof f=="string")return f;if(kr(f))return zt(f,ya)+"";if(wo(f))return fa?fa.call(f):"";var g=f+"";return g=="0"&&1/f==-W?"-0":g}function Ul(f,g,E){var M=-1,te=Wt,de=f.length,Ae=!0,Pe=[],Fe=Pe;if(E)Ae=!1,te=hr;else if(de>=s){var ct=g?null:az(f);if(ct)return Dl(ct);Ae=!1,te=zo,Fe=new A}else Fe=g?[]:Pe;e:for(;++M<de;){var ut=f[M],mt=g?g(ut):ut;if(ut=E||ut!==0?ut:0,Ae&&mt===mt){for(var Rt=Fe.length;Rt--;)if(Fe[Rt]===mt)continue e;g&&Fe.push(mt),Pe.push(ut)}else te(Fe,mt,E)||(Fe!==Pe&&Fe.push(mt),Pe.push(ut))}return Pe}function Qg(f,g){return g=Go(g,f),f=Sk(f,g),f==null||delete f[$c(Ko(g))]}function Xd(f,g,E,M){return Yd(f,g,E(Rr(f,g)),M)}function Qd(f,g,E,M){for(var te=f.length,de=M?te:-1;(M?de--:++de<te)&&g(f[de],de,f););return E?ga(f,M?0:de,M?de+1:te):ga(f,M?de+1:0,M?te:de)}function zh(f,g){var E=f;return E instanceof Br&&(E=E.value()),Rn(g,function(M,te){return te.func.apply(te.thisArg,Lr([M],te.args))},E)}function vo(f,g,E){var M=f.length;if(M<2)return M?Ul(f[0]):[];for(var te=-1,de=Ve(M);++te<M;)for(var Ae=f[te],Pe=-1;++Pe<M;)Pe!=te&&(de[te]=_r(de[te]||Ae,f[Pe],g,E));return Ul(Xr(de,1),g,E)}function $l(f,g,E){for(var M=-1,te=f.length,de=g.length,Ae={};++M<te;){var Pe=M<de?g[M]:r;E(Ae,f[M],Pe)}return Ae}function Vo(f){return Is(f)?f:[]}function Zd(f){return typeof f=="function"?f:qa}function Go(f,g){return kr(f)?f:u5(f,g)?[f]:Tk(xn(f))}var yv=Cr;function Bc(f,g,E){var M=f.length;return E=E===r?M:E,!g&&E>=M?f:ga(f,g,E)}var Ap=gp||function(f){return is.clearTimeout(f)};function Ep(f,g){if(g)return f.slice();var E=f.length,M=Ug?Ug(E):new f.constructor(E);return f.copy(M),M}function r5(f){var g=new f.constructor(f.byteLength);return new Rh(g).set(new Rh(f)),g}function Q$(f,g){var E=g?r5(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.byteLength)}function Z$(f){var g=new f.constructor(f.source,Be.exec(f));return g.lastIndex=f.lastIndex,g}function J$(f){return Ba?br(Ba.call(f)):{}}function tk(f,g){var E=g?r5(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.length)}function rk(f,g){if(f!==g){var E=f!==r,M=f===null,te=f===f,de=wo(f),Ae=g!==r,Pe=g===null,Fe=g===g,ct=wo(g);if(!Pe&&!ct&&!de&&f>g||de&&Ae&&Fe&&!Pe&&!ct||M&&Ae&&Fe||!E&&Fe||!te)return 1;if(!M&&!de&&!ct&&f<g||ct&&E&&te&&!M&&!de||Pe&&E&&te||!Ae&&te||!Fe)return-1}return 0}function ez(f,g,E){for(var M=-1,te=f.criteria,de=g.criteria,Ae=te.length,Pe=E.length;++M<Ae;){var Fe=rk(te[M],de[M]);if(Fe){if(M>=Pe)return Fe;var ct=E[M];return Fe*(ct=="desc"?-1:1)}}return f.index-g.index}function nk(f,g,E,M){for(var te=-1,de=f.length,Ae=E.length,Pe=-1,Fe=g.length,ct=Cs(de-Ae,0),ut=Ve(Fe+ct),mt=!M;++Pe<Fe;)ut[Pe]=g[Pe];for(;++te<Ae;)(mt||te<de)&&(ut[E[te]]=f[te]);for(;ct--;)ut[Pe++]=f[te++];return ut}function sk(f,g,E,M){for(var te=-1,de=f.length,Ae=-1,Pe=E.length,Fe=-1,ct=g.length,ut=Cs(de-Pe,0),mt=Ve(ut+ct),Rt=!M;++te<ut;)mt[te]=f[te];for(var Yt=te;++Fe<ct;)mt[Yt+Fe]=g[Fe];for(;++Ae<Pe;)(Rt||te<de)&&(mt[Yt+E[Ae]]=f[te++]);return mt}function Ua(f,g){var E=-1,M=f.length;for(g||(g=Ve(M));++E<M;)g[E]=f[E];return g}function Uc(f,g,E,M){var te=!E;E||(E={});for(var de=-1,Ae=g.length;++de<Ae;){var Pe=g[de],Fe=M?M(E[Pe],f[Pe],Pe,E,f):r;Fe===r&&(Fe=f[Pe]),te?ot(E,Pe,Fe):Qe(E,Pe,Fe)}return E}function tz(f,g){return Uc(f,c5(f),g)}function rz(f,g){return Uc(f,yk(f),g)}function xv(f,g){return function(E,M){var te=kr(E)?Te:tt,de=g?g():{};return te(E,f,ur(M,2),de)}}function Np(f){return Cr(function(g,E){var M=-1,te=E.length,de=te>1?E[te-1]:r,Ae=te>2?E[2]:r;for(de=f.length>3&&typeof de=="function"?(te--,de):r,Ae&&xa(E[0],E[1],Ae)&&(de=te<3?r:de,te=1),g=br(g);++M<te;){var Pe=E[M];Pe&&f(g,Pe,M,de)}return g})}function ik(f,g){return function(E,M){if(E==null)return E;if(!$a(E))return f(E,M);for(var te=E.length,de=g?te:-1,Ae=br(E);(g?de--:++de<te)&&M(Ae[de],de,Ae)!==!1;);return E}}function ak(f){return function(g,E,M){for(var te=-1,de=br(g),Ae=M(g),Pe=Ae.length;Pe--;){var Fe=Ae[f?Pe:++te];if(E(de[Fe],Fe,de)===!1)break}return g}}function nz(f,g,E){var M=g&b,te=Zg(f);function de(){var Ae=this&&this!==is&&this instanceof de?te:f;return Ae.apply(M?E:this,arguments)}return de}function ok(f){return function(g){g=xn(g);var E=Us(g)?Ei(g):r,M=E?E[0]:g.charAt(0),te=E?Bc(E,1).join(""):g.slice(1);return M[f]()+te}}function Tp(f){return function(g){return Rn(iC(sC(g).replace(Lg,"")),f,"")}}function Zg(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=qd(f.prototype),M=f.apply(E,g);return cs(M)?M:E}}function sz(f,g,E){var M=Zg(f);function te(){for(var de=arguments.length,Ae=Ve(de),Pe=de,Fe=kp(te);Pe--;)Ae[Pe]=arguments[Pe];var ct=de<3&&Ae[0]!==Fe&&Ae[de-1]!==Fe?[]:Fa(Ae,Fe);if(de-=ct.length,de<E)return fk(f,g,vv,te.placeholder,r,Ae,ct,r,r,E-de);var ut=this&&this!==is&&this instanceof te?M:f;return ye(ut,this,Ae)}return te}function lk(f){return function(g,E,M){var te=br(g);if(!$a(g)){var de=ur(E,3);g=mi(g),E=function(Pe){return de(te[Pe],Pe,te)}}var Ae=f(g,E,M);return Ae>-1?te[de?g[Ae]:Ae]:r}}function ck(f){return Cu(function(g){var E=g.length,M=E,te=ha.prototype.thru;for(f&&g.reverse();M--;){var de=g[M];if(typeof de!="function")throw new Qs(a);if(te&&!Ae&&Sv(de)=="wrapper")var Ae=new ha([],!0)}for(M=Ae?M:E;++M<E;){de=g[M];var Pe=Sv(de),Fe=Pe=="wrapper"?o5(de):r;Fe&&d5(Fe[0])&&Fe[1]==(j|_|R|P)&&!Fe[4].length&&Fe[9]==1?Ae=Ae[Sv(Fe[0])].apply(Ae,Fe[3]):Ae=de.length==1&&d5(de)?Ae[Pe]():Ae.thru(de)}return function(){var ct=arguments,ut=ct[0];if(Ae&&ct.length==1&&kr(ut))return Ae.plant(ut).value();for(var mt=0,Rt=E?g[mt].apply(this,ct):ut;++mt<E;)Rt=g[mt].call(this,Rt);return Rt}})}function vv(f,g,E,M,te,de,Ae,Pe,Fe,ct){var ut=g&j,mt=g&b,Rt=g&v,Yt=g&(_|T),pr=g&F,jr=Rt?r:Zg(f);function mr(){for(var Wr=arguments.length,Qr=Ve(Wr),bo=Wr;bo--;)Qr[bo]=arguments[bo];if(Yt)var va=kp(mr),_o=bu(Qr,va);if(M&&(Qr=nk(Qr,M,te,Yt)),de&&(Qr=sk(Qr,de,Ae,Yt)),Wr-=_o,Yt&&Wr<ct){var Ps=Fa(Qr,va);return fk(f,g,vv,mr.placeholder,E,Qr,Ps,Pe,Fe,ct-Wr)}var ql=mt?E:this,Ru=Rt?ql[f]:f;return Wr=Qr.length,Pe?Qr=Az(Qr,Pe):pr&&Wr>1&&Qr.reverse(),ut&&Fe<Wr&&(Qr.length=Fe),this&&this!==is&&this instanceof mr&&(Ru=jr||Zg(Ru)),Ru.apply(ql,Qr)}return mr}function uk(f,g){return function(E,M){return bn(E,f,g(M),{})}}function wv(f,g){return function(E,M){var te;if(E===r&&M===r)return g;if(E!==r&&(te=E),M!==r){if(te===r)return M;typeof E=="string"||typeof M=="string"?(E=ya(E),M=ya(M)):(E=Xg(E),M=Xg(M)),te=f(E,M)}return te}}function n5(f){return Cu(function(g){return g=zt(g,Kr(ur())),Cr(function(E){var M=this;return f(g,function(te){return ye(te,M,E)})})})}function bv(f,g){g=g===r?" ":ya(g);var E=g.length;if(E<2)return E?Tu(g,f):g;var M=Tu(g,Fd(f/Ai(g)));return Us(g)?Bc(Ei(M),0,f).join(""):M.slice(0,f)}function iz(f,g,E,M){var te=g&b,de=Zg(f);function Ae(){for(var Pe=-1,Fe=arguments.length,ct=-1,ut=M.length,mt=Ve(ut+Fe),Rt=this&&this!==is&&this instanceof Ae?de:f;++ct<ut;)mt[ct]=M[ct];for(;Fe--;)mt[ct++]=arguments[++Pe];return ye(Rt,te?E:this,mt)}return Ae}function dk(f){return function(g,E,M){return M&&typeof M!="number"&&xa(g,E,M)&&(E=M=r),g=Ou(g),E===r?(E=g,g=0):E=Ou(E),M=M===r?g<E?1:-1:Ou(M),Yg(g,E,M,f)}}function _v(f){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=Yo(g),E=Yo(E)),f(g,E)}}function fk(f,g,E,M,te,de,Ae,Pe,Fe,ct){var ut=g&_,mt=ut?Ae:r,Rt=ut?r:Ae,Yt=ut?de:r,pr=ut?r:de;g|=ut?R:B,g&=~(ut?B:R),g&S||(g&=~(b|v));var jr=[f,g,te,Yt,mt,pr,Rt,Pe,Fe,ct],mr=E.apply(r,jr);return d5(f)&&Ak(mr,jr),mr.placeholder=M,Ek(mr,f,g)}function s5(f){var g=Or[f];return function(E,M){if(E=Yo(E),M=M==null?0:hi(Dr(M),292),M&&sv(E)){var te=(xn(E)+"e").split("e"),de=g(te[0]+"e"+(+te[1]+M));return te=(xn(de)+"e").split("e"),+(te[0]+"e"+(+te[1]-M))}return g(E)}}var az=Ud&&1/Dl(new Ud([,-0]))[1]==W?function(f){return new Ud(f)}:N5;function hk(f){return function(g){var E=Wi(g);return E==Ce?po(g):E==it?as(g):_h(g,f(g))}}function ku(f,g,E,M,te,de,Ae,Pe){var Fe=g&v;if(!Fe&&typeof f!="function")throw new Qs(a);var ct=M?M.length:0;if(ct||(g&=~(R|B),M=te=r),Ae=Ae===r?Ae:Cs(Dr(Ae),0),Pe=Pe===r?Pe:Dr(Pe),ct-=te?te.length:0,g&B){var ut=M,mt=te;M=te=r}var Rt=Fe?r:o5(f),Yt=[f,g,E,M,te,ut,mt,de,Ae,Pe];if(Rt&&bz(Yt,Rt),f=Yt[0],g=Yt[1],E=Yt[2],M=Yt[3],te=Yt[4],Pe=Yt[9]=Yt[9]===r?Fe?0:f.length:Cs(Yt[9]-ct,0),!Pe&&g&(_|T)&&(g&=~(_|T)),!g||g==b)var pr=nz(f,g,E);else g==_||g==T?pr=sz(f,g,Pe):(g==R||g==(b|R))&&!te.length?pr=iz(f,g,E,M):pr=vv.apply(r,Yt);var jr=Rt?Sp:Ak;return Ek(jr(pr,Yt),f,g)}function pk(f,g,E,M){return f===r||zl(f,Au[E])&&!un.call(M,E)?g:f}function mk(f,g,E,M,te,de){return cs(f)&&cs(g)&&(de.set(g,f),Gd(f,g,r,mk,de),de.delete(g)),f}function oz(f){return t1(f)?r:f}function gk(f,g,E,M,te,de){var Ae=E&x,Pe=f.length,Fe=g.length;if(Pe!=Fe&&!(Ae&&Fe>Pe))return!1;var ct=de.get(f),ut=de.get(g);if(ct&&ut)return ct==g&&ut==f;var mt=-1,Rt=!0,Yt=E&y?new A:r;for(de.set(f,g),de.set(g,f);++mt<Pe;){var pr=f[mt],jr=g[mt];if(M)var mr=Ae?M(jr,pr,mt,g,f,de):M(pr,jr,mt,f,g,de);if(mr!==r){if(mr)continue;Rt=!1;break}if(Yt){if(!gn(g,function(Wr,Qr){if(!zo(Yt,Qr)&&(pr===Wr||te(pr,Wr,E,M,de)))return Yt.push(Qr)})){Rt=!1;break}}else if(!(pr===jr||te(pr,jr,E,M,de))){Rt=!1;break}}return de.delete(f),de.delete(g),Rt}function lz(f,g,E,M,te,de,Ae){switch(E){case rt:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case at:return!(f.byteLength!=g.byteLength||!de(new Rh(f),new Rh(g)));case Se:case pe:case se:return zl(+f,+g);case De:return f.name==g.name&&f.message==g.message;case pt:case jt:return f==g+"";case Ce:var Pe=po;case it:var Fe=M&x;if(Pe||(Pe=Dl),f.size!=g.size&&!Fe)return!1;var ct=Ae.get(f);if(ct)return ct==g;M|=y,Ae.set(f,g);var ut=gk(Pe(f),Pe(g),M,te,de,Ae);return Ae.delete(f),ut;case Dt:if(Ba)return Ba.call(f)==Ba.call(g)}return!1}function cz(f,g,E,M,te,de){var Ae=E&x,Pe=i5(f),Fe=Pe.length,ct=i5(g),ut=ct.length;if(Fe!=ut&&!Ae)return!1;for(var mt=Fe;mt--;){var Rt=Pe[mt];if(!(Ae?Rt in g:un.call(g,Rt)))return!1}var Yt=de.get(f),pr=de.get(g);if(Yt&&pr)return Yt==g&&pr==f;var jr=!0;de.set(f,g),de.set(g,f);for(var mr=Ae;++mt<Fe;){Rt=Pe[mt];var Wr=f[Rt],Qr=g[Rt];if(M)var bo=Ae?M(Qr,Wr,Rt,g,f,de):M(Wr,Qr,Rt,f,g,de);if(!(bo===r?Wr===Qr||te(Wr,Qr,E,M,de):bo)){jr=!1;break}mr||(mr=Rt=="constructor")}if(jr&&!mr){var va=f.constructor,_o=g.constructor;va!=_o&&"constructor"in f&&"constructor"in g&&!(typeof va=="function"&&va instanceof va&&typeof _o=="function"&&_o instanceof _o)&&(jr=!1)}return de.delete(f),de.delete(g),jr}function Cu(f){return h5(_k(f,r,Pk),f+"")}function i5(f){return dn(f,mi,c5)}function a5(f){return dn(f,za,yk)}var o5=yp?function(f){return yp.get(f)}:N5;function Sv(f){for(var g=f.name+"",E=zd[g],M=un.call(zd,g)?E.length:0;M--;){var te=E[M],de=te.func;if(de==null||de==f)return te.name}return g}function kp(f){var g=un.call(ce,"placeholder")?ce:f;return g.placeholder}function ur(){var f=ce.iteratee||A5;return f=f===A5?$s:f,arguments.length?f(arguments[0],arguments[1]):f}function Av(f,g){var E=f.__data__;return yz(g)?E[typeof g=="string"?"string":"hash"]:E.map}function l5(f){for(var g=mi(f),E=g.length;E--;){var M=g[E],te=f[M];g[E]=[M,te,wk(te)]}return g}function qh(f,g){var E=_u(f,g);return Hi(E)?E:r}function uz(f){var g=un.call(f,Dc),E=f[Dc];try{f[Dc]=r;var M=!0}catch{}var te=Ph.call(f);return M&&(g?f[Dc]=E:delete f[Dc]),te}var c5=Bd?function(f){return f==null?[]:(f=br(f),Ft(Bd(f),function(g){return $i.call(f,g)}))}:T5,yk=Bd?function(f){for(var g=[];f;)Lr(g,c5(f)),f=jd(f);return g}:T5,Wi=qr;(jh&&Wi(new jh(new ArrayBuffer(1)))!=rt||jl&&Wi(new jl)!=Ce||Hg&&Wi(Hg.resolve())!=Ne||Ud&&Wi(new Ud)!=it||$d&&Wi(new $d)!=qt)&&(Wi=function(f){var g=qr(f),E=g==Ke?f.constructor:r,M=E?Hh(E):"";if(M)switch(M){case z_:return rt;case Lc:return Ce;case go:return Ne;case Fl:return it;case q_:return qt}return g});function dz(f,g,E){for(var M=-1,te=E.length;++M<te;){var de=E[M],Ae=de.size;switch(de.type){case"drop":f+=Ae;break;case"dropRight":g-=Ae;break;case"take":g=hi(g,f+Ae);break;case"takeRight":f=Cs(f,g-Ae);break}}return{start:f,end:g}}function fz(f){var g=f.match(ie);return g?g[1].split(we):[]}function xk(f,g,E){g=Go(g,f);for(var M=-1,te=g.length,de=!1;++M<te;){var Ae=$c(g[M]);if(!(de=f!=null&&E(f,Ae)))break;f=f[Ae]}return de||++M!=te?de:(te=f==null?0:f.length,!!te&&Pv(te)&&Iu(Ae,te)&&(kr(f)||Wh(f)))}function hz(f){var g=f.length,E=new f.constructor(g);return g&&typeof f[0]=="string"&&un.call(f,"index")&&(E.index=f.index,E.input=f.input),E}function vk(f){return typeof f.constructor=="function"&&!Jg(f)?qd(jd(f)):{}}function pz(f,g,E){var M=f.constructor;switch(g){case at:return r5(f);case Se:case pe:return new M(+f);case rt:return Q$(f,E);case lt:case Et:case St:case or:case cr:case Bt:case sr:case Gr:case Xt:return tk(f,E);case Ce:return new M;case se:case jt:return new M(f);case pt:return Z$(f);case it:return new M;case Dt:return J$(f)}}function mz(f,g){var E=g.length;if(!E)return f;var M=E-1;return g[M]=(E>1?"& ":"")+g[M],g=g.join(E>2?", ":" "),f.replace(ms,`{
/* [wrapped with `+g+`] */
`)}function gz(f){return kr(f)||Wh(f)||!!(Lh&&f&&f[Lh])}function Iu(f,g){var E=typeof f;return g=g??Z,!!g&&(E=="number"||E!="symbol"&&gt.test(f))&&f>-1&&f%1==0&&f<g}function xa(f,g,E){if(!cs(E))return!1;var M=typeof g;return(M=="number"?$a(E)&&Iu(g,E.length):M=="string"&&g in E)?zl(E[g],f):!1}function u5(f,g){if(kr(f))return!1;var E=typeof f;return E=="number"||E=="symbol"||E=="boolean"||f==null||wo(f)?!0:rr.test(f)||!Da.test(f)||g!=null&&f in br(g)}function yz(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function d5(f){var g=Sv(f),E=ce[g];if(typeof E!="function"||!(g in Br.prototype))return!1;if(f===E)return!0;var M=o5(E);return!!M&&f===M[0]}function xz(f){return!!Ld&&Ld in f}var vz=Ch?Pu:k5;function Jg(f){var g=f&&f.constructor,E=typeof g=="function"&&g.prototype||Au;return f===E}function wk(f){return f===f&&!cs(f)}function bk(f,g){return function(E){return E==null?!1:E[f]===g&&(g!==r||f in br(E))}}function wz(f){var g=Cv(f,function(M){return E.size===c&&E.clear(),M}),E=g.cache;return g}function bz(f,g){var E=f[1],M=g[1],te=E|M,de=te<(b|v|j),Ae=M==j&&E==_||M==j&&E==P&&f[7].length<=g[8]||M==(j|P)&&g[7].length<=g[8]&&E==_;if(!(de||Ae))return f;M&b&&(f[2]=g[2],te|=E&b?0:S);var Pe=g[3];if(Pe){var Fe=f[3];f[3]=Fe?nk(Fe,Pe,g[4]):Pe,f[4]=Fe?Fa(f[3],u):g[4]}return Pe=g[5],Pe&&(Fe=f[5],f[5]=Fe?sk(Fe,Pe,g[6]):Pe,f[6]=Fe?Fa(f[5],u):g[6]),Pe=g[7],Pe&&(f[7]=Pe),M&j&&(f[8]=f[8]==null?g[8]:hi(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=te,f}function _z(f){var g=[];if(f!=null)for(var E in br(f))g.push(E);return g}function Sz(f){return Ph.call(f)}function _k(f,g,E){return g=Cs(g===r?f.length-1:g,0),function(){for(var M=arguments,te=-1,de=Cs(M.length-g,0),Ae=Ve(de);++te<de;)Ae[te]=M[g+te];te=-1;for(var Pe=Ve(g+1);++te<g;)Pe[te]=M[te];return Pe[g]=E(Ae),ye(f,this,Pe)}}function Sk(f,g){return g.length<2?f:Rr(f,ga(g,0,-1))}function Az(f,g){for(var E=f.length,M=hi(g.length,E),te=Ua(f);M--;){var de=g[M];f[M]=Iu(de,E)?te[de]:r}return f}function f5(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var Ak=Nk(Sp),e1=nv||function(f,g){return is.setTimeout(f,g)},h5=Nk(Fc);function Ek(f,g,E){var M=g+"";return h5(f,mz(M,Ez(fz(M),E)))}function Nk(f){var g=0,E=0;return function(){var M=U_(),te=H-(M-E);if(E=M,te>0){if(++g>=C)return arguments[0]}else g=0;return f.apply(r,arguments)}}function Ev(f,g){var E=-1,M=f.length,te=M-1;for(g=g===r?M:g;++E<g;){var de=Kd(E,te),Ae=f[de];f[de]=f[E],f[E]=Ae}return f.length=g,f}var Tk=wz(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(oo,function(E,M,te,de){g.push(te?de.replace(be,"$1"):M||E)}),g});function $c(f){if(typeof f=="string"||wo(f))return f;var g=f+"";return g=="0"&&1/f==-W?"-0":g}function Hh(f){if(f!=null){try{return Ih.call(f)}catch{}try{return f+""}catch{}}return""}function Ez(f,g){return je(G,function(E){var M="_."+E[0];g&E[1]&&!Wt(f,M)&&f.push(M)}),f.sort()}function kk(f){if(f instanceof Br)return f.clone();var g=new ha(f.__wrapped__,f.__chain__);return g.__actions__=Ua(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function Nz(f,g,E){(E?xa(f,g,E):g===r)?g=1:g=Cs(Dr(g),0);var M=f==null?0:f.length;if(!M||g<1)return[];for(var te=0,de=0,Ae=Ve(Fd(M/g));te<M;)Ae[de++]=ga(f,te,te+=g);return Ae}function Tz(f){for(var g=-1,E=f==null?0:f.length,M=0,te=[];++g<E;){var de=f[g];de&&(te[M++]=de)}return te}function kz(){var f=arguments.length;if(!f)return[];for(var g=Ve(f-1),E=arguments[0],M=f;M--;)g[M-1]=arguments[M];return Lr(kr(E)?Ua(E):[E],Xr(g,1))}var Cz=Cr(function(f,g){return Is(f)?_r(f,Xr(g,1,Is,!0)):[]}),Iz=Cr(function(f,g){var E=Ko(g);return Is(E)&&(E=r),Is(f)?_r(f,Xr(g,1,Is,!0),ur(E,2)):[]}),Pz=Cr(function(f,g){var E=Ko(g);return Is(E)&&(E=r),Is(f)?_r(f,Xr(g,1,Is,!0),r,E):[]});function Oz(f,g,E){var M=f==null?0:f.length;return M?(g=E||g===r?1:Dr(g),ga(f,g<0?0:g,M)):[]}function Rz(f,g,E){var M=f==null?0:f.length;return M?(g=E||g===r?1:Dr(g),g=M-g,ga(f,0,g<0?0:g)):[]}function Dz(f,g){return f&&f.length?Qd(f,ur(g,3),!0,!0):[]}function Lz(f,g){return f&&f.length?Qd(f,ur(g,3),!0):[]}function jz(f,g,E,M){var te=f==null?0:f.length;return te?(E&&typeof E!="number"&&xa(f,g,E)&&(E=0,M=te),Yr(f,g,E,M)):[]}function Ck(f,g,E){var M=f==null?0:f.length;if(!M)return-1;var te=E==null?0:Dr(E);return te<0&&(te=Cs(M+te,0)),Xs(f,ur(g,3),te)}function Ik(f,g,E){var M=f==null?0:f.length;if(!M)return-1;var te=M-1;return E!==r&&(te=Dr(E),te=E<0?Cs(M+te,0):hi(te,M-1)),Xs(f,ur(g,3),te,!0)}function Pk(f){var g=f==null?0:f.length;return g?Xr(f,1):[]}function Fz(f){var g=f==null?0:f.length;return g?Xr(f,W):[]}function Mz(f,g){var E=f==null?0:f.length;return E?(g=g===r?1:Dr(g),Xr(f,g)):[]}function Bz(f){for(var g=-1,E=f==null?0:f.length,M={};++g<E;){var te=f[g];M[te[0]]=te[1]}return M}function Ok(f){return f&&f.length?f[0]:r}function Uz(f,g,E){var M=f==null?0:f.length;if(!M)return-1;var te=E==null?0:Dr(E);return te<0&&(te=Cs(M+te,0)),Tl(f,g,te)}function $z(f){var g=f==null?0:f.length;return g?ga(f,0,-1):[]}var zz=Cr(function(f){var g=zt(f,Vo);return g.length&&g[0]===f[0]?pi(g):[]}),qz=Cr(function(f){var g=Ko(f),E=zt(f,Vo);return g===Ko(E)?g=r:E.pop(),E.length&&E[0]===f[0]?pi(E,ur(g,2)):[]}),Hz=Cr(function(f){var g=Ko(f),E=zt(f,Vo);return g=typeof g=="function"?g:r,g&&E.pop(),E.length&&E[0]===f[0]?pi(E,r,g):[]});function Wz(f,g){return f==null?"":B_.call(f,g)}function Ko(f){var g=f==null?0:f.length;return g?f[g-1]:r}function Vz(f,g,E){var M=f==null?0:f.length;if(!M)return-1;var te=M;return E!==r&&(te=Dr(E),te=te<0?Cs(M+te,0):hi(te,M-1)),g===g?qo(f,g,te):Xs(f,Nc,te,!0)}function Gz(f,g){return f&&f.length?hv(f,Dr(g)):r}var Kz=Cr(Rk);function Rk(f,g){return f&&f.length&&g&&g.length?bp(f,g):f}function Yz(f,g,E){return f&&f.length&&g&&g.length?bp(f,g,ur(E,2)):f}function Xz(f,g,E){return f&&f.length&&g&&g.length?bp(f,g,r,E):f}var Qz=Cu(function(f,g){var E=f==null?0:f.length,M=Kt(f,g);return Kg(f,zt(g,function(te){return Iu(te,E)?+te:te}).sort(rk)),M});function Zz(f,g){var E=[];if(!(f&&f.length))return E;var M=-1,te=[],de=f.length;for(g=ur(g,3);++M<de;){var Ae=f[M];g(Ae,M,f)&&(E.push(Ae),te.push(M))}return Kg(f,te),E}function p5(f){return f==null?f:qg.call(f)}function Jz(f,g,E){var M=f==null?0:f.length;return M?(E&&typeof E!="number"&&xa(f,g,E)?(g=0,E=M):(g=g==null?0:Dr(g),E=E===r?M:Dr(E)),ga(f,g,E)):[]}function eq(f,g){return $h(f,g)}function tq(f,g,E){return Mc(f,g,ur(E,2))}function rq(f,g){var E=f==null?0:f.length;if(E){var M=$h(f,g);if(M<E&&zl(f[M],g))return M}return-1}function nq(f,g){return $h(f,g,!0)}function sq(f,g,E){return Mc(f,g,ur(E,2),!0)}function iq(f,g){var E=f==null?0:f.length;if(E){var M=$h(f,g,!0)-1;if(zl(f[M],g))return M}return-1}function aq(f){return f&&f.length?gv(f):[]}function oq(f,g){return f&&f.length?gv(f,ur(g,2)):[]}function lq(f){var g=f==null?0:f.length;return g?ga(f,1,g):[]}function cq(f,g,E){return f&&f.length?(g=E||g===r?1:Dr(g),ga(f,0,g<0?0:g)):[]}function uq(f,g,E){var M=f==null?0:f.length;return M?(g=E||g===r?1:Dr(g),g=M-g,ga(f,g<0?0:g,M)):[]}function dq(f,g){return f&&f.length?Qd(f,ur(g,3),!1,!0):[]}function fq(f,g){return f&&f.length?Qd(f,ur(g,3)):[]}var hq=Cr(function(f){return Ul(Xr(f,1,Is,!0))}),pq=Cr(function(f){var g=Ko(f);return Is(g)&&(g=r),Ul(Xr(f,1,Is,!0),ur(g,2))}),mq=Cr(function(f){var g=Ko(f);return g=typeof g=="function"?g:r,Ul(Xr(f,1,Is,!0),r,g)});function gq(f){return f&&f.length?Ul(f):[]}function yq(f,g){return f&&f.length?Ul(f,ur(g,2)):[]}function xq(f,g){return g=typeof g=="function"?g:r,f&&f.length?Ul(f,r,g):[]}function m5(f){if(!(f&&f.length))return[];var g=0;return f=Ft(f,function(E){if(Is(E))return g=Cs(E.length,g),!0}),Ol(g,function(E){return zt(f,Cl(E))})}function Dk(f,g){if(!(f&&f.length))return[];var E=m5(f);return g==null?E:zt(E,function(M){return ye(g,r,M)})}var vq=Cr(function(f,g){return Is(f)?_r(f,g):[]}),wq=Cr(function(f){return vo(Ft(f,Is))}),bq=Cr(function(f){var g=Ko(f);return Is(g)&&(g=r),vo(Ft(f,Is),ur(g,2))}),_q=Cr(function(f){var g=Ko(f);return g=typeof g=="function"?g:r,vo(Ft(f,Is),r,g)}),Sq=Cr(m5);function Aq(f,g){return $l(f||[],g||[],Qe)}function Eq(f,g){return $l(f||[],g||[],Yd)}var Nq=Cr(function(f){var g=f.length,E=g>1?f[g-1]:r;return E=typeof E=="function"?(f.pop(),E):r,Dk(f,E)});function Lk(f){var g=ce(f);return g.__chain__=!0,g}function Tq(f,g){return g(f),f}function Nv(f,g){return g(f)}var kq=Cu(function(f){var g=f.length,E=g?f[0]:0,M=this.__wrapped__,te=function(de){return Kt(de,f)};return g>1||this.__actions__.length||!(M instanceof Br)||!Iu(E)?this.thru(te):(M=M.slice(E,+E+(g?1:0)),M.__actions__.push({func:Nv,args:[te],thisArg:r}),new ha(M,this.__chain__).thru(function(de){return g&&!de.length&&de.push(r),de}))});function Cq(){return Lk(this)}function Iq(){return new ha(this.value(),this.__chain__)}function Pq(){this.__values__===r&&(this.__values__=Yk(this.value()));var f=this.__index__>=this.__values__.length,g=f?r:this.__values__[this.__index__++];return{done:f,value:g}}function Oq(){return this}function Rq(f){for(var g,E=this;E instanceof Bh;){var M=kk(E);M.__index__=0,M.__values__=r,g?te.__wrapped__=M:g=M;var te=M;E=E.__wrapped__}return te.__wrapped__=f,g}function Dq(){var f=this.__wrapped__;if(f instanceof Br){var g=f;return this.__actions__.length&&(g=new Br(this)),g=g.reverse(),g.__actions__.push({func:Nv,args:[p5],thisArg:r}),new ha(g,this.__chain__)}return this.thru(p5)}function Lq(){return zh(this.__wrapped__,this.__actions__)}var jq=xv(function(f,g,E){un.call(f,E)?++f[E]:ot(f,E,1)});function Fq(f,g,E){var M=kr(f)?ft:os;return E&&xa(f,g,E)&&(g=r),M(f,ur(g,3))}function Mq(f,g){var E=kr(f)?Ft:Pn;return E(f,ur(g,3))}var Bq=lk(Ck),Uq=lk(Ik);function $q(f,g){return Xr(Tv(f,g),1)}function zq(f,g){return Xr(Tv(f,g),W)}function qq(f,g,E){return E=E===r?1:Dr(E),Xr(Tv(f,g),E)}function jk(f,g){var E=kr(f)?je:Ut;return E(f,ur(g,3))}function Fk(f,g){var E=kr(f)?nt:Ct;return E(f,ur(g,3))}var Hq=xv(function(f,g,E){un.call(f,E)?f[E].push(g):ot(f,E,[g])});function Wq(f,g,E,M){f=$a(f)?f:Ip(f),E=E&&!M?Dr(E):0;var te=f.length;return E<0&&(E=Cs(te+E,0)),Ov(f)?E<=te&&f.indexOf(g,E)>-1:!!te&&Tl(f,g,E)>-1}var Vq=Cr(function(f,g,E){var M=-1,te=typeof g=="function",de=$a(f)?Ve(f.length):[];return Ut(f,function(Ae){de[++M]=te?ye(g,Ae,E):zn(Ae,g,E)}),de}),Gq=xv(function(f,g,E){ot(f,E,g)});function Tv(f,g){var E=kr(f)?zt:Vd;return E(f,ur(g,3))}function Kq(f,g,E,M){return f==null?[]:(kr(g)||(g=g==null?[]:[g]),E=M?r:E,kr(E)||(E=E==null?[]:[E]),pv(f,g,E))}var Yq=xv(function(f,g,E){f[E?0:1].push(g)},function(){return[[],[]]});function Xq(f,g,E){var M=kr(f)?Rn:Tc,te=arguments.length<3;return M(f,ur(g,4),E,te,Ut)}function Qq(f,g,E){var M=kr(f)?ys:Tc,te=arguments.length<3;return M(f,ur(g,4),E,te,Ct)}function Zq(f,g){var E=kr(f)?Ft:Pn;return E(f,Iv(ur(g,3)))}function Jq(f){var g=kr(f)?He:e5;return g(f)}function eH(f,g,E){(E?xa(f,g,E):g===r)?g=1:g=Dr(g);var M=kr(f)?ve:_p;return M(f,g)}function tH(f){var g=kr(f)?Le:mv;return g(f)}function rH(f){if(f==null)return 0;if($a(f))return Ov(f)?Ai(f):f.length;var g=Wi(f);return g==Ce||g==it?f.size:Hd(f).length}function nH(f,g,E){var M=kr(f)?gn:t5;return E&&xa(f,g,E)&&(g=r),M(f,ur(g,3))}var sH=Cr(function(f,g){if(f==null)return[];var E=g.length;return E>1&&xa(f,g[0],g[1])?g=[]:E>2&&xa(g[0],g[1],g[2])&&(g=[g[0]]),pv(f,Xr(g,1),[])}),kv=$g||function(){return is.Date.now()};function iH(f,g){if(typeof g!="function")throw new Qs(a);return f=Dr(f),function(){if(--f<1)return g.apply(this,arguments)}}function Mk(f,g,E){return g=E?r:g,g=f&&g==null?f.length:g,ku(f,j,r,r,r,r,g)}function Bk(f,g){var E;if(typeof g!="function")throw new Qs(a);return f=Dr(f),function(){return--f>0&&(E=g.apply(this,arguments)),f<=1&&(g=r),E}}var g5=Cr(function(f,g,E){var M=b;if(E.length){var te=Fa(E,kp(g5));M|=R}return ku(f,M,g,E,te)}),Uk=Cr(function(f,g,E){var M=b|v;if(E.length){var te=Fa(E,kp(Uk));M|=R}return ku(g,M,f,E,te)});function $k(f,g,E){g=E?r:g;var M=ku(f,_,r,r,r,r,r,g);return M.placeholder=$k.placeholder,M}function zk(f,g,E){g=E?r:g;var M=ku(f,T,r,r,r,r,r,g);return M.placeholder=zk.placeholder,M}function qk(f,g,E){var M,te,de,Ae,Pe,Fe,ct=0,ut=!1,mt=!1,Rt=!0;if(typeof f!="function")throw new Qs(a);g=Yo(g)||0,cs(E)&&(ut=!!E.leading,mt="maxWait"in E,de=mt?Cs(Yo(E.maxWait)||0,g):de,Rt="trailing"in E?!!E.trailing:Rt);function Yt(Ps){var ql=M,Ru=te;return M=te=r,ct=Ps,Ae=f.apply(Ru,ql),Ae}function pr(Ps){return ct=Ps,Pe=e1(Wr,g),ut?Yt(Ps):Ae}function jr(Ps){var ql=Ps-Fe,Ru=Ps-ct,lC=g-ql;return mt?hi(lC,de-Ru):lC}function mr(Ps){var ql=Ps-Fe,Ru=Ps-ct;return Fe===r||ql>=g||ql<0||mt&&Ru>=de}function Wr(){var Ps=kv();if(mr(Ps))return Qr(Ps);Pe=e1(Wr,jr(Ps))}function Qr(Ps){return Pe=r,Rt&&M?Yt(Ps):(M=te=r,Ae)}function bo(){Pe!==r&&Ap(Pe),ct=0,M=Fe=te=Pe=r}function va(){return Pe===r?Ae:Qr(kv())}function _o(){var Ps=kv(),ql=mr(Ps);if(M=arguments,te=this,Fe=Ps,ql){if(Pe===r)return pr(Fe);if(mt)return Ap(Pe),Pe=e1(Wr,g),Yt(Fe)}return Pe===r&&(Pe=e1(Wr,g)),Ae}return _o.cancel=bo,_o.flush=va,_o}var aH=Cr(function(f,g){return vs(f,1,g)}),oH=Cr(function(f,g,E){return vs(f,Yo(g)||0,E)});function lH(f){return ku(f,F)}function Cv(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new Qs(a);var E=function(){var M=arguments,te=g?g.apply(this,M):M[0],de=E.cache;if(de.has(te))return de.get(te);var Ae=f.apply(this,M);return E.cache=de.set(te,Ae)||de,Ae};return E.cache=new(Cv.Cache||Wo),E}Cv.Cache=Wo;function Iv(f){if(typeof f!="function")throw new Qs(a);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function cH(f){return Bk(2,f)}var uH=yv(function(f,g){g=g.length==1&&kr(g[0])?zt(g[0],Kr(ur())):zt(Xr(g,1),Kr(ur()));var E=g.length;return Cr(function(M){for(var te=-1,de=hi(M.length,E);++te<de;)M[te]=g[te].call(this,M[te]);return ye(f,this,M)})}),y5=Cr(function(f,g){var E=Fa(g,kp(y5));return ku(f,R,r,g,E)}),Hk=Cr(function(f,g){var E=Fa(g,kp(Hk));return ku(f,B,r,g,E)}),dH=Cu(function(f,g){return ku(f,P,r,r,r,g)});function fH(f,g){if(typeof f!="function")throw new Qs(a);return g=g===r?g:Dr(g),Cr(f,g)}function hH(f,g){if(typeof f!="function")throw new Qs(a);return g=g==null?0:Cs(Dr(g),0),Cr(function(E){var M=E[g],te=Bc(E,0,g);return M&&Lr(te,M),ye(f,this,te)})}function pH(f,g,E){var M=!0,te=!0;if(typeof f!="function")throw new Qs(a);return cs(E)&&(M="leading"in E?!!E.leading:M,te="trailing"in E?!!E.trailing:te),qk(f,g,{leading:M,maxWait:g,trailing:te})}function mH(f){return Mk(f,1)}function gH(f,g){return y5(Zd(g),f)}function yH(){if(!arguments.length)return[];var f=arguments[0];return kr(f)?f:[f]}function xH(f){return nr(f,m)}function vH(f,g){return g=typeof g=="function"?g:r,nr(f,m,g)}function wH(f){return nr(f,h|m)}function bH(f,g){return g=typeof g=="function"?g:r,nr(f,h|m,g)}function _H(f,g){return g==null||zr(f,g,mi(g))}function zl(f,g){return f===g||f!==f&&g!==g}var SH=_v(sn),AH=_v(function(f,g){return f>=g}),Wh=zi(function(){return arguments}())?zi:function(f){return ws(f)&&un.call(f,"callee")&&!$i.call(f,"callee")},kr=Ve.isArray,EH=vh?Kr(vh):Ti;function $a(f){return f!=null&&Pv(f.length)&&!Pu(f)}function Is(f){return ws(f)&&$a(f)}function NH(f){return f===!0||f===!1||ws(f)&&qr(f)==Se}var Jd=zg||k5,TH=wh?Kr(wh):pa;function kH(f){return ws(f)&&f.nodeType===1&&!t1(f)}function CH(f){if(f==null)return!0;if($a(f)&&(kr(f)||typeof f=="string"||typeof f.splice=="function"||Jd(f)||Cp(f)||Wh(f)))return!f.length;var g=Wi(f);if(g==Ce||g==it)return!f.size;if(Jg(f))return!Hd(f).length;for(var E in f)if(un.call(f,E))return!1;return!0}function IH(f,g){return ti(f,g)}function PH(f,g,E){E=typeof E=="function"?E:r;var M=E?E(f,g):r;return M===r?ti(f,g,r,E):!!M}function x5(f){if(!ws(f))return!1;var g=qr(f);return g==De||g==oe||typeof f.message=="string"&&typeof f.name=="string"&&!t1(f)}function OH(f){return typeof f=="number"&&sv(f)}function Pu(f){if(!cs(f))return!1;var g=qr(f);return g==$e||g==Ze||g==ge||g==Ge}function Wk(f){return typeof f=="number"&&f==Dr(f)}function Pv(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Z}function cs(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function ws(f){return f!=null&&typeof f=="object"}var Vk=Ec?Kr(Ec):ma;function RH(f,g){return f===g||yn(f,g,l5(g))}function DH(f,g,E){return E=typeof E=="function"?E:r,yn(f,g,l5(g),E)}function LH(f){return Gk(f)&&f!=+f}function jH(f){if(vz(f))throw new Ot(i);return Hi(f)}function FH(f){return f===null}function MH(f){return f==null}function Gk(f){return typeof f=="number"||ws(f)&&qr(f)==se}function t1(f){if(!ws(f)||qr(f)!=Ke)return!1;var g=jd(f);if(g===null)return!0;var E=un.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Ih.call(E)==ev}var v5=bh?Kr(bh):xo;function BH(f){return Wk(f)&&f>=-Z&&f<=Z}var Kk=O?Kr(O):Nu;function Ov(f){return typeof f=="string"||!kr(f)&&ws(f)&&qr(f)==jt}function wo(f){return typeof f=="symbol"||ws(f)&&qr(f)==Dt}var Cp=re?Kr(re):Bl;function UH(f){return f===r}function $H(f){return ws(f)&&Wi(f)==qt}function zH(f){return ws(f)&&qr(f)==Ee}var qH=_v(Wd),HH=_v(function(f,g){return f<=g});function Yk(f){if(!f)return[];if($a(f))return Ov(f)?Ei(f):Ua(f);if(Rc&&f[Rc])return Cc(f[Rc]());var g=Wi(f),E=g==Ce?po:g==it?Dl:Ip;return E(f)}function Ou(f){if(!f)return f===0?f:0;if(f=Yo(f),f===W||f===-W){var g=f<0?-1:1;return g*ne}return f===f?f:0}function Dr(f){var g=Ou(f),E=g%1;return g===g?E?g-E:g:0}function Xk(f){return f?Lt(Dr(f),0,X):0}function Yo(f){if(typeof f=="number")return f;if(wo(f))return ee;if(cs(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=cs(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=Rd(f);var E=ze.test(f);return E||We.test(f)?wu(f.slice(2),E?2:8):Xe.test(f)?ee:+f}function Qk(f){return Uc(f,za(f))}function WH(f){return f?Lt(Dr(f),-Z,Z):f===0?f:0}function xn(f){return f==null?"":ya(f)}var VH=Np(function(f,g){if(Jg(g)||$a(g)){Uc(g,mi(g),f);return}for(var E in g)un.call(g,E)&&Qe(f,E,g[E])}),Zk=Np(function(f,g){Uc(g,za(g),f)}),Rv=Np(function(f,g,E,M){Uc(g,za(g),f,M)}),GH=Np(function(f,g,E,M){Uc(g,mi(g),f,M)}),KH=Cu(Kt);function YH(f,g){var E=qd(f);return g==null?E:st(E,g)}var XH=Cr(function(f,g){f=br(f);var E=-1,M=g.length,te=M>2?g[2]:r;for(te&&xa(g[0],g[1],te)&&(M=1);++E<M;)for(var de=g[E],Ae=za(de),Pe=-1,Fe=Ae.length;++Pe<Fe;){var ct=Ae[Pe],ut=f[ct];(ut===r||zl(ut,Au[ct])&&!un.call(f,ct))&&(f[ct]=de[ct])}return f}),QH=Cr(function(f){return f.push(r,mk),ye(Jk,r,f)});function ZH(f,g){return ca(f,ur(g,3),Dn)}function JH(f,g){return ca(f,ur(g,3),Js)}function eW(f,g){return f==null?f:Zs(f,ur(g,3),za)}function tW(f,g){return f==null?f:$n(f,ur(g,3),za)}function rW(f,g){return f&&Dn(f,ur(g,3))}function nW(f,g){return f&&Js(f,ur(g,3))}function sW(f){return f==null?[]:Qn(f,mi(f))}function iW(f){return f==null?[]:Qn(f,za(f))}function w5(f,g,E){var M=f==null?r:Rr(f,g);return M===r?E:M}function aW(f,g){return f!=null&&xk(f,g,ei)}function b5(f,g){return f!=null&&xk(f,g,yo)}var oW=uk(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=Ph.call(g)),f[g]=E},S5(qa)),lW=uk(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=Ph.call(g)),un.call(f,g)?f[g].push(E):f[g]=[E]},ur),cW=Cr(zn);function mi(f){return $a(f)?Oe(f):Hd(f)}function za(f){return $a(f)?Oe(f,!0):Vg(f)}function uW(f,g){var E={};return g=ur(g,3),Dn(f,function(M,te,de){ot(E,g(M,te,de),M)}),E}function dW(f,g){var E={};return g=ur(g,3),Dn(f,function(M,te,de){ot(E,te,g(M,te,de))}),E}var fW=Np(function(f,g,E){Gd(f,g,E)}),Jk=Np(function(f,g,E,M){Gd(f,g,E,M)}),hW=Cu(function(f,g){var E={};if(f==null)return E;var M=!1;g=zt(g,function(de){return de=Go(de,f),M||(M=de.length>1),de}),Uc(f,a5(f),E),M&&(E=nr(E,h|p|m,oz));for(var te=g.length;te--;)Qg(E,g[te]);return E});function pW(f,g){return eC(f,Iv(ur(g)))}var mW=Cu(function(f,g){return f==null?{}:J_(f,g)});function eC(f,g){if(f==null)return{};var E=zt(a5(f),function(M){return[M]});return g=ur(g),Gg(f,E,function(M,te){return g(M,te[0])})}function gW(f,g,E){g=Go(g,f);var M=-1,te=g.length;for(te||(te=1,f=r);++M<te;){var de=f==null?r:f[$c(g[M])];de===r&&(M=te,de=E),f=Pu(de)?de.call(f):de}return f}function yW(f,g,E){return f==null?f:Yd(f,g,E)}function xW(f,g,E,M){return M=typeof M=="function"?M:r,f==null?f:Yd(f,g,E,M)}var tC=hk(mi),rC=hk(za);function vW(f,g,E){var M=kr(f),te=M||Jd(f)||Cp(f);if(g=ur(g,4),E==null){var de=f&&f.constructor;te?E=M?new de:[]:cs(f)?E=Pu(de)?qd(jd(f)):{}:E={}}return(te?je:Dn)(f,function(Ae,Pe,Fe){return g(E,Ae,Pe,Fe)}),E}function wW(f,g){return f==null?!0:Qg(f,g)}function bW(f,g,E){return f==null?f:Xd(f,g,Zd(E))}function _W(f,g,E,M){return M=typeof M=="function"?M:r,f==null?f:Xd(f,g,Zd(E),M)}function Ip(f){return f==null?[]:ho(f,mi(f))}function SW(f){return f==null?[]:ho(f,za(f))}function AW(f,g,E){return E===r&&(E=g,g=r),E!==r&&(E=Yo(E),E=E===E?E:0),g!==r&&(g=Yo(g),g=g===g?g:0),Lt(Yo(f),g,E)}function EW(f,g,E){return g=Ou(g),E===r?(E=g,g=0):E=Ou(E),f=Yo(f),ls(f,g,E)}function NW(f,g,E){if(E&&typeof E!="boolean"&&xa(f,g,E)&&(g=E=r),E===r&&(typeof g=="boolean"?(E=g,g=r):typeof f=="boolean"&&(E=f,f=r)),f===r&&g===r?(f=0,g=1):(f=Ou(f),g===r?(g=f,f=0):g=Ou(g)),f>g){var M=f;f=g,g=M}if(E||f%1||g%1){var te=av();return hi(f+te*(g-f+vu("1e-"+((te+"").length-1))),g)}return Kd(f,g)}var TW=Tp(function(f,g,E){return g=g.toLowerCase(),f+(E?nC(g):g)});function nC(f){return _5(xn(f).toLowerCase())}function sC(f){return f=xn(f),f&&f.replace(At,Ah).replace(jg,"")}function kW(f,g,E){f=xn(f),g=ya(g);var M=f.length;E=E===r?M:Lt(Dr(E),0,M);var te=E;return E-=g.length,E>=0&&f.slice(E,te)==g}function CW(f){return f=xn(f),f&&tn.test(f)?f.replace(cn,Eh):f}function IW(f){return f=xn(f),f&&ci.test(f)?f.replace(oa,"\\$&"):f}var PW=Tp(function(f,g,E){return f+(E?"-":"")+g.toLowerCase()}),OW=Tp(function(f,g,E){return f+(E?" ":"")+g.toLowerCase()}),RW=ok("toLowerCase");function DW(f,g,E){f=xn(f),g=Dr(g);var M=g?Ai(f):0;if(!g||M>=g)return f;var te=(g-M)/2;return bv(Md(te),E)+f+bv(Fd(te),E)}function LW(f,g,E){f=xn(f),g=Dr(g);var M=g?Ai(f):0;return g&&M<g?f+bv(g-M,E):f}function jW(f,g,E){f=xn(f),g=Dr(g);var M=g?Ai(f):0;return g&&M<g?bv(g-M,E)+f:f}function FW(f,g,E){return E||g==null?g=0:g&&(g=+g),$_(xn(f).replace(ui,""),g||0)}function MW(f,g,E){return(E?xa(f,g,E):g===r)?g=1:g=Dr(g),Tu(xn(f),g)}function BW(){var f=arguments,g=xn(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var UW=Tp(function(f,g,E){return f+(E?"_":"")+g.toLowerCase()});function $W(f,g,E){return E&&typeof E!="number"&&xa(f,g,E)&&(g=E=r),E=E===r?X:E>>>0,E?(f=xn(f),f&&(typeof g=="string"||g!=null&&!v5(g))&&(g=ya(g),!g&&Us(f))?Bc(Ei(f),0,E):f.split(g,E)):[]}var zW=Tp(function(f,g,E){return f+(E?" ":"")+_5(g)});function qW(f,g,E){return f=xn(f),E=E==null?0:Lt(Dr(E),0,f.length),g=ya(g),f.slice(E,E+g.length)==g}function HW(f,g,E){var M=ce.templateSettings;E&&xa(f,g,E)&&(g=r),f=xn(f),g=Rv({},g,M,pk);var te=Rv({},g.imports,M.imports,pk),de=mi(te),Ae=ho(te,de),Pe,Fe,ct=0,ut=g.interpolate||It,mt="__p += '",Rt=mo((g.escape||It).source+"|"+ut.source+"|"+(ut===Ra?_e:It).source+"|"+(g.evaluate||It).source+"|$","g"),Yt="//# sourceURL="+(un.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mh+"]")+`
`;f.replace(Rt,function(mr,Wr,Qr,bo,va,_o){return Qr||(Qr=bo),mt+=f.slice(ct,_o).replace(vt,kc),Wr&&(Pe=!0,mt+=`' +
__e(`+Wr+`) +
'`),va&&(Fe=!0,mt+=`';
`+va+`;
__p += '`),Qr&&(mt+=`' +
((__t = (`+Qr+`)) == null ? '' : __t) +
'`),ct=_o+mr.length,mr}),mt+=`';
`;var pr=un.call(g,"variable")&&g.variable;if(!pr)mt=`with (obj) {
`+mt+`
}
`;else if(me.test(pr))throw new Ot(o);mt=(Fe?mt.replace(Er,""):mt).replace(yr,"$1").replace(jn,"$1;"),mt="function("+(pr||"obj")+`) {
`+(pr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var jr=aC(function(){return Qt(de,Yt+"return "+mt).apply(r,Ae)});if(jr.source=mt,x5(jr))throw jr;return jr}function WW(f){return xn(f).toLowerCase()}function VW(f){return xn(f).toUpperCase()}function GW(f,g,E){if(f=xn(f),f&&(E||g===r))return Rd(f);if(!f||!(g=ya(g)))return f;var M=Ei(f),te=Ei(g),de=Sh(M,te),Ae=ua(M,te)+1;return Bc(M,de,Ae).join("")}function KW(f,g,E){if(f=xn(f),f&&(E||g===r))return f.slice(0,Dd(f)+1);if(!f||!(g=ya(g)))return f;var M=Ei(f),te=ua(M,Ei(g))+1;return Bc(M,0,te).join("")}function YW(f,g,E){if(f=xn(f),f&&(E||g===r))return f.replace(ui,"");if(!f||!(g=ya(g)))return f;var M=Ei(f),te=Sh(M,Ei(g));return Bc(M,te).join("")}function XW(f,g){var E=N,M=k;if(cs(g)){var te="separator"in g?g.separator:te;E="length"in g?Dr(g.length):E,M="omission"in g?ya(g.omission):M}f=xn(f);var de=f.length;if(Us(f)){var Ae=Ei(f);de=Ae.length}if(E>=de)return f;var Pe=E-Ai(M);if(Pe<1)return M;var Fe=Ae?Bc(Ae,0,Pe).join(""):f.slice(0,Pe);if(te===r)return Fe+M;if(Ae&&(Pe+=Fe.length-Pe),v5(te)){if(f.slice(Pe).search(te)){var ct,ut=Fe;for(te.global||(te=mo(te.source,xn(Be.exec(te))+"g")),te.lastIndex=0;ct=te.exec(ut);)var mt=ct.index;Fe=Fe.slice(0,mt===r?Pe:mt)}}else if(f.indexOf(ya(te),Pe)!=Pe){var Rt=Fe.lastIndexOf(te);Rt>-1&&(Fe=Fe.slice(0,Rt))}return Fe+M}function QW(f){return f=xn(f),f&&lr.test(f)?f.replace(Xn,Nh):f}var ZW=Tp(function(f,g,E){return f+(E?" ":"")+g.toUpperCase()}),_5=ok("toUpperCase");function iC(f,g,E){return f=xn(f),g=E?r:g,g===r?da(f)?Pc(f):Ys(f):f.match(g)||[]}var aC=Cr(function(f,g){try{return ye(f,r,g)}catch(E){return x5(E)?E:new Ot(E)}}),JW=Cu(function(f,g){return je(g,function(E){E=$c(E),ot(f,E,g5(f[E],f))}),f});function eV(f){var g=f==null?0:f.length,E=ur();return f=g?zt(f,function(M){if(typeof M[1]!="function")throw new Qs(a);return[E(M[0]),M[1]]}):[],Cr(function(M){for(var te=-1;++te<g;){var de=f[te];if(ye(de[0],this,M))return ye(de[1],this,M)}})}function tV(f){return Gt(nr(f,h))}function S5(f){return function(){return f}}function rV(f,g){return f==null||f!==f?g:f}var nV=ck(),sV=ck(!0);function qa(f){return f}function A5(f){return $s(typeof f=="function"?f:nr(f,h))}function iV(f){return dv(nr(f,h))}function aV(f,g){return fv(f,nr(g,h))}var oV=Cr(function(f,g){return function(E){return zn(E,f,g)}}),lV=Cr(function(f,g){return function(E){return zn(f,E,g)}});function E5(f,g,E){var M=mi(g),te=Qn(g,M);E==null&&!(cs(g)&&(te.length||!M.length))&&(E=g,g=f,f=this,te=Qn(g,mi(g)));var de=!(cs(E)&&"chain"in E)||!!E.chain,Ae=Pu(f);return je(te,function(Pe){var Fe=g[Pe];f[Pe]=Fe,Ae&&(f.prototype[Pe]=function(){var ct=this.__chain__;if(de||ct){var ut=f(this.__wrapped__),mt=ut.__actions__=Ua(this.__actions__);return mt.push({func:Fe,args:arguments,thisArg:f}),ut.__chain__=ct,ut}return Fe.apply(f,Lr([this.value()],arguments))})}),f}function cV(){return is._===this&&(is._=tv),this}function N5(){}function uV(f){return f=Dr(f),Cr(function(g){return hv(g,f)})}var dV=n5(zt),fV=n5(ft),hV=n5(gn);function oC(f){return u5(f)?Cl($c(f)):wp(f)}function pV(f){return function(g){return f==null?r:Rr(f,g)}}var mV=dk(),gV=dk(!0);function T5(){return[]}function k5(){return!1}function yV(){return{}}function xV(){return""}function vV(){return!0}function wV(f,g){if(f=Dr(f),f<1||f>Z)return[];var E=X,M=hi(f,X);g=ur(g),f-=X;for(var te=Ol(M,g);++E<f;)g(E);return te}function bV(f){return kr(f)?zt(f,$c):wo(f)?[f]:Ua(Tk(xn(f)))}function _V(f){var g=++Jx;return xn(f)+g}var SV=wv(function(f,g){return f+g},0),AV=s5("ceil"),EV=wv(function(f,g){return f/g},1),NV=s5("floor");function TV(f){return f&&f.length?vr(f,qa,sn):r}function kV(f,g){return f&&f.length?vr(f,ur(g,2),sn):r}function CV(f){return kl(f,qa)}function IV(f,g){return kl(f,ur(g,2))}function PV(f){return f&&f.length?vr(f,qa,Wd):r}function OV(f,g){return f&&f.length?vr(f,ur(g,2),Wd):r}var RV=wv(function(f,g){return f*g},1),DV=s5("round"),LV=wv(function(f,g){return f-g},0);function jV(f){return f&&f.length?Pl(f,qa):0}function FV(f,g){return f&&f.length?Pl(f,ur(g,2)):0}return ce.after=iH,ce.ary=Mk,ce.assign=VH,ce.assignIn=Zk,ce.assignInWith=Rv,ce.assignWith=GH,ce.at=KH,ce.before=Bk,ce.bind=g5,ce.bindAll=JW,ce.bindKey=Uk,ce.castArray=yH,ce.chain=Lk,ce.chunk=Nz,ce.compact=Tz,ce.concat=kz,ce.cond=eV,ce.conforms=tV,ce.constant=S5,ce.countBy=jq,ce.create=YH,ce.curry=$k,ce.curryRight=zk,ce.debounce=qk,ce.defaults=XH,ce.defaultsDeep=QH,ce.defer=aH,ce.delay=oH,ce.difference=Cz,ce.differenceBy=Iz,ce.differenceWith=Pz,ce.drop=Oz,ce.dropRight=Rz,ce.dropRightWhile=Dz,ce.dropWhile=Lz,ce.fill=jz,ce.filter=Mq,ce.flatMap=$q,ce.flatMapDeep=zq,ce.flatMapDepth=qq,ce.flatten=Pk,ce.flattenDeep=Fz,ce.flattenDepth=Mz,ce.flip=lH,ce.flow=nV,ce.flowRight=sV,ce.fromPairs=Bz,ce.functions=sW,ce.functionsIn=iW,ce.groupBy=Hq,ce.initial=$z,ce.intersection=zz,ce.intersectionBy=qz,ce.intersectionWith=Hz,ce.invert=oW,ce.invertBy=lW,ce.invokeMap=Vq,ce.iteratee=A5,ce.keyBy=Gq,ce.keys=mi,ce.keysIn=za,ce.map=Tv,ce.mapKeys=uW,ce.mapValues=dW,ce.matches=iV,ce.matchesProperty=aV,ce.memoize=Cv,ce.merge=fW,ce.mergeWith=Jk,ce.method=oV,ce.methodOf=lV,ce.mixin=E5,ce.negate=Iv,ce.nthArg=uV,ce.omit=hW,ce.omitBy=pW,ce.once=cH,ce.orderBy=Kq,ce.over=dV,ce.overArgs=uH,ce.overEvery=fV,ce.overSome=hV,ce.partial=y5,ce.partialRight=Hk,ce.partition=Yq,ce.pick=mW,ce.pickBy=eC,ce.property=oC,ce.propertyOf=pV,ce.pull=Kz,ce.pullAll=Rk,ce.pullAllBy=Yz,ce.pullAllWith=Xz,ce.pullAt=Qz,ce.range=mV,ce.rangeRight=gV,ce.rearg=dH,ce.reject=Zq,ce.remove=Zz,ce.rest=fH,ce.reverse=p5,ce.sampleSize=eH,ce.set=yW,ce.setWith=xW,ce.shuffle=tH,ce.slice=Jz,ce.sortBy=sH,ce.sortedUniq=aq,ce.sortedUniqBy=oq,ce.split=$W,ce.spread=hH,ce.tail=lq,ce.take=cq,ce.takeRight=uq,ce.takeRightWhile=dq,ce.takeWhile=fq,ce.tap=Tq,ce.throttle=pH,ce.thru=Nv,ce.toArray=Yk,ce.toPairs=tC,ce.toPairsIn=rC,ce.toPath=bV,ce.toPlainObject=Qk,ce.transform=vW,ce.unary=mH,ce.union=hq,ce.unionBy=pq,ce.unionWith=mq,ce.uniq=gq,ce.uniqBy=yq,ce.uniqWith=xq,ce.unset=wW,ce.unzip=m5,ce.unzipWith=Dk,ce.update=bW,ce.updateWith=_W,ce.values=Ip,ce.valuesIn=SW,ce.without=vq,ce.words=iC,ce.wrap=gH,ce.xor=wq,ce.xorBy=bq,ce.xorWith=_q,ce.zip=Sq,ce.zipObject=Aq,ce.zipObjectDeep=Eq,ce.zipWith=Nq,ce.entries=tC,ce.entriesIn=rC,ce.extend=Zk,ce.extendWith=Rv,E5(ce,ce),ce.add=SV,ce.attempt=aC,ce.camelCase=TW,ce.capitalize=nC,ce.ceil=AV,ce.clamp=AW,ce.clone=xH,ce.cloneDeep=wH,ce.cloneDeepWith=bH,ce.cloneWith=vH,ce.conformsTo=_H,ce.deburr=sC,ce.defaultTo=rV,ce.divide=EV,ce.endsWith=kW,ce.eq=zl,ce.escape=CW,ce.escapeRegExp=IW,ce.every=Fq,ce.find=Bq,ce.findIndex=Ck,ce.findKey=ZH,ce.findLast=Uq,ce.findLastIndex=Ik,ce.findLastKey=JH,ce.floor=NV,ce.forEach=jk,ce.forEachRight=Fk,ce.forIn=eW,ce.forInRight=tW,ce.forOwn=rW,ce.forOwnRight=nW,ce.get=w5,ce.gt=SH,ce.gte=AH,ce.has=aW,ce.hasIn=b5,ce.head=Ok,ce.identity=qa,ce.includes=Wq,ce.indexOf=Uz,ce.inRange=EW,ce.invoke=cW,ce.isArguments=Wh,ce.isArray=kr,ce.isArrayBuffer=EH,ce.isArrayLike=$a,ce.isArrayLikeObject=Is,ce.isBoolean=NH,ce.isBuffer=Jd,ce.isDate=TH,ce.isElement=kH,ce.isEmpty=CH,ce.isEqual=IH,ce.isEqualWith=PH,ce.isError=x5,ce.isFinite=OH,ce.isFunction=Pu,ce.isInteger=Wk,ce.isLength=Pv,ce.isMap=Vk,ce.isMatch=RH,ce.isMatchWith=DH,ce.isNaN=LH,ce.isNative=jH,ce.isNil=MH,ce.isNull=FH,ce.isNumber=Gk,ce.isObject=cs,ce.isObjectLike=ws,ce.isPlainObject=t1,ce.isRegExp=v5,ce.isSafeInteger=BH,ce.isSet=Kk,ce.isString=Ov,ce.isSymbol=wo,ce.isTypedArray=Cp,ce.isUndefined=UH,ce.isWeakMap=$H,ce.isWeakSet=zH,ce.join=Wz,ce.kebabCase=PW,ce.last=Ko,ce.lastIndexOf=Vz,ce.lowerCase=OW,ce.lowerFirst=RW,ce.lt=qH,ce.lte=HH,ce.max=TV,ce.maxBy=kV,ce.mean=CV,ce.meanBy=IV,ce.min=PV,ce.minBy=OV,ce.stubArray=T5,ce.stubFalse=k5,ce.stubObject=yV,ce.stubString=xV,ce.stubTrue=vV,ce.multiply=RV,ce.nth=Gz,ce.noConflict=cV,ce.noop=N5,ce.now=kv,ce.pad=DW,ce.padEnd=LW,ce.padStart=jW,ce.parseInt=FW,ce.random=NW,ce.reduce=Xq,ce.reduceRight=Qq,ce.repeat=MW,ce.replace=BW,ce.result=gW,ce.round=DV,ce.runInContext=Re,ce.sample=Jq,ce.size=rH,ce.snakeCase=UW,ce.some=nH,ce.sortedIndex=eq,ce.sortedIndexBy=tq,ce.sortedIndexOf=rq,ce.sortedLastIndex=nq,ce.sortedLastIndexBy=sq,ce.sortedLastIndexOf=iq,ce.startCase=zW,ce.startsWith=qW,ce.subtract=LV,ce.sum=jV,ce.sumBy=FV,ce.template=HW,ce.times=wV,ce.toFinite=Ou,ce.toInteger=Dr,ce.toLength=Xk,ce.toLower=WW,ce.toNumber=Yo,ce.toSafeInteger=WH,ce.toString=xn,ce.toUpper=VW,ce.trim=GW,ce.trimEnd=KW,ce.trimStart=YW,ce.truncate=XW,ce.unescape=QW,ce.uniqueId=_V,ce.upperCase=ZW,ce.upperFirst=_5,ce.each=jk,ce.eachRight=Fk,ce.first=Ok,E5(ce,function(){var f={};return Dn(ce,function(g,E){un.call(ce.prototype,E)||(f[E]=g)}),f}(),{chain:!1}),ce.VERSION=n,je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){ce[f].placeholder=ce}),je(["drop","take"],function(f,g){Br.prototype[f]=function(E){E=E===r?1:Cs(Dr(E),0);var M=this.__filtered__&&!g?new Br(this):this.clone();return M.__filtered__?M.__takeCount__=hi(E,M.__takeCount__):M.__views__.push({size:hi(E,X),type:f+(M.__dir__<0?"Right":"")}),M},Br.prototype[f+"Right"]=function(E){return this.reverse()[f](E).reverse()}}),je(["filter","map","takeWhile"],function(f,g){var E=g+1,M=E==z||E==Y;Br.prototype[f]=function(te){var de=this.clone();return de.__iteratees__.push({iteratee:ur(te,3),type:E}),de.__filtered__=de.__filtered__||M,de}}),je(["head","last"],function(f,g){var E="take"+(g?"Right":"");Br.prototype[f]=function(){return this[E](1).value()[0]}}),je(["initial","tail"],function(f,g){var E="drop"+(g?"":"Right");Br.prototype[f]=function(){return this.__filtered__?new Br(this):this[E](1)}}),Br.prototype.compact=function(){return this.filter(qa)},Br.prototype.find=function(f){return this.filter(f).head()},Br.prototype.findLast=function(f){return this.reverse().find(f)},Br.prototype.invokeMap=Cr(function(f,g){return typeof f=="function"?new Br(this):this.map(function(E){return zn(E,f,g)})}),Br.prototype.reject=function(f){return this.filter(Iv(ur(f)))},Br.prototype.slice=function(f,g){f=Dr(f);var E=this;return E.__filtered__&&(f>0||g<0)?new Br(E):(f<0?E=E.takeRight(-f):f&&(E=E.drop(f)),g!==r&&(g=Dr(g),E=g<0?E.dropRight(-g):E.take(g-f)),E)},Br.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Br.prototype.toArray=function(){return this.take(X)},Dn(Br.prototype,function(f,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),M=/^(?:head|last)$/.test(g),te=ce[M?"take"+(g=="last"?"Right":""):g],de=M||/^find/.test(g);te&&(ce.prototype[g]=function(){var Ae=this.__wrapped__,Pe=M?[1]:arguments,Fe=Ae instanceof Br,ct=Pe[0],ut=Fe||kr(Ae),mt=function(Wr){var Qr=te.apply(ce,Lr([Wr],Pe));return M&&Rt?Qr[0]:Qr};ut&&E&&typeof ct=="function"&&ct.length!=1&&(Fe=ut=!1);var Rt=this.__chain__,Yt=!!this.__actions__.length,pr=de&&!Rt,jr=Fe&&!Yt;if(!de&&ut){Ae=jr?Ae:new Br(this);var mr=f.apply(Ae,Pe);return mr.__actions__.push({func:Nv,args:[mt],thisArg:r}),new ha(mr,Rt)}return pr&&jr?f.apply(this,Pe):(mr=this.thru(mt),pr?M?mr.value()[0]:mr.value():mr)})}),je(["pop","push","shift","sort","splice","unshift"],function(f){var g=Su[f],E=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",M=/^(?:pop|shift)$/.test(f);ce.prototype[f]=function(){var te=arguments;if(M&&!this.__chain__){var de=this.value();return g.apply(kr(de)?de:[],te)}return this[E](function(Ae){return g.apply(kr(Ae)?Ae:[],te)})}}),Dn(Br.prototype,function(f,g){var E=ce[g];if(E){var M=E.name+"";un.call(zd,M)||(zd[M]=[]),zd[M].push({name:g,func:E})}}),zd[vv(r,v).name]=[{name:"wrapper",func:r}],Br.prototype.clone=ov,Br.prototype.reverse=H_,Br.prototype.value=xp,ce.prototype.at=kq,ce.prototype.chain=Cq,ce.prototype.commit=Iq,ce.prototype.next=Pq,ce.prototype.plant=Rq,ce.prototype.reverse=Dq,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=Lq,ce.prototype.first=ce.prototype.head,Rc&&(ce.prototype[Rc]=Oq),ce},Ma=Oc();$o?(($o.exports=Ma)._=Ma,Nl._=Ma):is._=Ma}).call(Ku)})(lb,lb.exports);var hc=lb.exports;const CS=new Map,IS=[{value:"day",label:"",enLabel:"Today"},{value:"week",label:" ",enLabel:"This Week"},{value:"month",label:" ",enLabel:"This Month"},{value:"year",label:" ",enLabel:"This Year"}],coe=()=>d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}),tl=Hr.memo(({title:e,value:t,icon:r,color:n,ariaLabel:s})=>d.jsx("div",{className:`p-2 bg-${n}-100 rounded-lg border border-${n}-200 cursor-pointer hover:bg-${n}-200 transition-colors`,"aria-label":s,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(r,{className:`w-4 h-4 text-${n}-700`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-700",children:e}),d.jsx("p",{className:"text-sm font-medium text-gray-900",children:t})]})]})})),uoe=({stats:e,tasks:t,isRtl:r,language:n,handleStartTask:s,handleCompleteTask:i})=>{const[a,o]=L.useState({status:"all",search:""}),l=L.useMemo(()=>t.filter(c=>a.status==="all"||c.status===a.status).filter(c=>c.productName.toLowerCase().includes(a.search.toLowerCase())||c.orderNumber.toLowerCase().includes(a.search.toLowerCase())).sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()).slice(0,6),[t,a.status,a.search]);return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[d.jsx(tl,{title:r?" ":"Total Orders",value:e.totalOrders.toString(),icon:Qf,color:"blue",ariaLabel:r?" ":"Total Orders"}),d.jsx(tl,{title:r?" ":"Completed Tasks",value:e.completedTasks.toString(),icon:k0,color:"green",ariaLabel:r?" ":"Completed Tasks"}),d.jsx(tl,{title:r?"  ":"In Progress Tasks",value:e.inProgressTasks.toString(),icon:cc,color:"yellow",ariaLabel:r?"  ":"In Progress Tasks"}),d.jsx(tl,{title:r?" ":"Pending Orders",value:e.pendingOrders.toString(),icon:Ar,color:"red",ariaLabel:r?" ":"Pending Orders"})]}),d.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-2 gap-2",children:[d.jsxs("h3",{className:"text-base font-semibold text-gray-800 flex items-center",children:[d.jsx(sm,{className:`w-4 h-4 ${r?"ml-1.5":"mr-1.5"} text-amber-600`}),r?"   ":"Latest In Production"]}),d.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsxs("select",{value:a.status,onChange:c=>o(u=>({...u,status:c.target.value})),className:"w-full sm:w-32 p-1.5 rounded-md border border-gray-300 text-xs focus:ring-2 focus:ring-blue-400 bg-white","aria-label":r?" ":"Task Status",children:[d.jsx("option",{value:"all",children:r?"":"All"}),d.jsx("option",{value:"pending",children:r?"":"Pending"}),d.jsx("option",{value:"assigned",children:r?"":"Assigned"}),d.jsx("option",{value:"in_progress",children:r?" ":"In Progress"}),d.jsx("option",{value:"completed",children:r?"":"Completed"})]}),d.jsx("input",{type:"text",value:a.search,onChange:c=>o(u=>({...u,search:c.target.value})),placeholder:r?"":"Search",className:"w-full sm:w-32 p-1.5 rounded-md border border-gray-300 text-xs focus:ring-2 focus:ring-blue-400 bg-white","aria-label":r?"":"Search"})]})]}),d.jsx("div",{className:"space-y-2 overflow-y-auto max-h-80",children:d.jsx(Bn,{children:l.length===0?d.jsx("p",{className:"text-gray-500 text-xs",children:r?"  ":"No tasks available"}):l.map(c=>d.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"border border-amber-200 rounded-lg p-2 bg-amber-50 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-medium text-xs text-gray-800 truncate",children:r?`  ${c.orderNumber}`:`Order #${c.orderNumber}`}),d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${c.status==="pending"||c.status==="assigned"?"bg-amber-100 text-amber-800":c.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:r?c.status==="pending"?"":c.status==="assigned"?"":c.status==="in_progress"?" ":"":c.status.charAt(0).toUpperCase()+c.status.slice(1)})]}),d.jsx("p",{className:"text-xs text-gray-600 mb-1 truncate",children:`${c.quantity} ${c.productName}`}),d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:r?`  : ${c.createdAt}`:`Created At: ${c.createdAt}`}),d.jsxs("div",{className:"flex items-center gap-2",children:[(c.status==="pending"||c.status==="assigned")&&d.jsx("button",{onClick:()=>s(c.id,c.orderId),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition-colors","aria-label":r?" ":"Start Task",children:r?"":"Start"}),c.status==="in_progress"&&d.jsx("button",{onClick:()=>i(c.id,c.orderId),className:"bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600 transition-colors","aria-label":r?" ":"Complete Task",children:r?"":"Complete"})]})]},c.id))})})]})]})},doe=()=>{const{language:e}=Yn(),t=e==="ar",{user:r}=ps(),{socket:n,isConnected:s}=vd(),{addNotification:i}=Dx(),a=yc(),[o,l]=L.useState([]),[c,u]=L.useState([]),[h,p]=L.useState([]),[m,x]=L.useState([]),[y,b]=L.useState([]),[v,S]=L.useState([]),[_,T]=L.useState({totalOrders:0,pendingOrders:0,inProductionOrders:0,inTransitOrders:0,deliveredOrders:0,totalSales:0,completedTasks:0,inProgressTasks:0,returns:0,averageOrderValue:0}),[R,B]=L.useState("week"),[j,P]=L.useState(!0),[F,N]=L.useState(""),k=L.useMemo(()=>`${(r==null?void 0:r.id)||(r==null?void 0:r._id)}-${r==null?void 0:r.role}-${R}`,[r,R]),C=L.useCallback(hc.debounce(async(X=!1)=>{if(!(r!=null&&r.id)&&!(r!=null&&r._id)){const I=t?"   ":"Unauthorized access";N(I),P(!1),ke.error(I,{position:t?"top-left":"top-right",autoClose:2e3}),i({_id:`error-noUserId-${Date.now()}`,type:"error",message:I,read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"});return}if(!X&&CS.has(k)){const I=CS.get(k);l(I.orders),u(I.tasks),p(I.chefs),x(I.branches),b(I.branchPerformance),S(I.chefPerformance),T(I.stats),P(!1);return}P(!0);try{const I=new Date;let U;switch(R){case"day":U=new Date(I.setHours(0,0,0,0));break;case"week":U=new Date(I),U.setDate(I.getDate()-I.getDay()),U.setHours(0,0,0,0);break;case"month":U=new Date(I.getFullYear(),I.getMonth(),1);break;case"year":U=new Date(I.getFullYear(),0,1);break;default:U=new Date(I),U.setDate(I.getDate()-7)}const G={startDate:U.toISOString(),endDate:I.toISOString(),limit:20};let V=[],Q=[],ge=[],Se=[];if(r.role==="chef"){const Ee=await rc.getByUserId(r.id||r._id),at=Ee==null?void 0:Ee._id;if(!at||!/^[0-9a-fA-F]{24}$/.test(at))throw new Error(t?"   ":"Invalid chef data");Q=await Qu.getChefTasks(at,{limit:20})}else r.role==="branch"&&(G.branch=r.id||r._id),r.role==="production"&&r.department&&(G.departmentId=r.department._id),[V,Q,ge,Se]=await Promise.all([Ws.getAll(G).catch(()=>[]),Qu.getAllTasks(G).catch(()=>[]),["admin","production"].includes(r.role)?rc.getAll().catch(()=>[]):Promise.resolve([]),["admin","production"].includes(r.role)?Ri.getAll().catch(()=>[]):Promise.resolve([])]);const pe=V.map(Ee=>{var at,rt,lt;return{id:Ee._id||crypto.randomUUID(),orderNumber:Ee.orderNumber||(t?" ":"Unknown"),branchName:((at=Ee.branch)==null?void 0:at.name)||(t?"  ":"Unknown Branch"),branchId:((rt=Ee.branch)==null?void 0:rt._id)||"unknown",items:(Ee.items||[]).map(Et=>{var St,or,cr;return{_id:Et._id||crypto.randomUUID(),productId:((St=Et.product)==null?void 0:St._id)||"unknown",productName:((or=Et.product)==null?void 0:or.name)||(t?"  ":"Unknown Product"),quantity:Number(Et.quantity)||1,price:Number(Et.price)||0,department:((cr=Et.product)==null?void 0:cr.department)||{_id:"unknown",name:t?"  ":"Unknown Department"},status:Et.status||"pending",assignedTo:Et.assignedTo?{_id:Et.assignedTo._id,username:Et.assignedTo.username||(t?"  ":"Unknown Chef")}:void 0,returnedQuantity:Number(Et.returnedQuantity)||0,returnReason:Et.returnReason||""}}),status:Ee.status||"pending",totalAmount:Number(Ee.totalAmount||Ee.totalPrice)||0,date:dr(Ee.createdAt||new Date,e),priority:Ee.priority||"medium",createdBy:((lt=Ee.createdBy)==null?void 0:lt.username)||(t?" ":"Unknown"),createdAt:Ee.createdAt||new Date().toISOString(),returns:(Ee.returns||[]).map(Et=>({returnId:Et._id||crypto.randomUUID(),items:(Et.items||[]).map(St=>{var or;return{productId:((or=St.product)==null?void 0:or._id)||"unknown",quantity:Number(St.quantity)||0,reason:St.reason||""}}),status:Et.status||"pending_approval",reviewNotes:Et.reviewNotes||"",createdAt:dr(Et.createdAt||new Date,e)}))}}),oe=Q.map(Ee=>{var at,rt,lt,Et,St,or;return{id:Ee._id||crypto.randomUUID(),orderId:((at=Ee.order)==null?void 0:at._id)||"unknown",orderNumber:((rt=Ee.order)==null?void 0:rt.orderNumber)||(t?" ":"Unknown"),productName:((lt=Ee.product)==null?void 0:lt.name)||(t?"  ":"Unknown Product"),quantity:Number(Ee.quantity)||0,unit:((Et=Ee.product)==null?void 0:Et.unit)||"unit",status:Ee.status||"pending",branchName:((or=(St=Ee.order)==null?void 0:St.branch)==null?void 0:or.name)||(t?"  ":"Unknown Branch"),createdAt:dr(Ee.createdAt||new Date,e)}}),De=ge.map(Ee=>{var at,rt,lt;return{_id:Ee._id||crypto.randomUUID(),userId:((at=Ee.user)==null?void 0:at._id)||Ee._id,username:((rt=Ee.user)==null?void 0:rt.username)||Ee.username||(t?"  ":"Unknown Chef"),name:((lt=Ee.user)==null?void 0:lt.name)||Ee.name||(t?"  ":"Unknown Chef"),department:Ee.department||null}}),$e=Se.map(Ee=>({_id:Ee._id||crypto.randomUUID(),name:Ee.name||(t?"  ":"Unknown Branch")})).sort((Ee,at)=>Ee.name.localeCompare(at.name)),Ze=$e.map(Ee=>{const at=pe.filter(St=>St.branchId===Ee._id),rt=at.length,lt=at.filter(St=>St.status==="completed"||St.status==="delivered").length,Et=rt>0?lt/rt*100:0;return{branchName:Ee.name,performance:Et,totalOrders:rt,completedOrders:lt}}).filter(Ee=>Ee.totalOrders>0),Ce=De.map(Ee=>{const at=oe.filter(St=>{const or=pe.find(cr=>cr.id===St.orderId);return or==null?void 0:or.items.some(cr=>{var Bt;return((Bt=cr.assignedTo)==null?void 0:Bt._id)===Ee.userId})}),rt=at.length,lt=at.filter(St=>St.status==="completed").length,Et=rt>0?lt/rt*100:0;return{chefName:Ee.name,performance:Et,totalTasks:rt,completedTasks:lt}}).filter(Ee=>Ee.totalTasks>0),se=r.role==="chef"?oe.length:pe.length,yt=r.role==="chef"?oe.filter(Ee=>Ee.status==="pending"||Ee.status==="assigned").length:pe.filter(Ee=>Ee.status==="pending").length,Ke=pe.filter(Ee=>Ee.status==="in_production").length,Ne=pe.filter(Ee=>Ee.status==="in_transit").length,Ge=pe.filter(Ee=>Ee.status==="delivered").length,pt=pe.reduce((Ee,at)=>Ee+Number(at.totalAmount||0),0),it=oe.filter(Ee=>Ee.status==="completed").length,jt=oe.filter(Ee=>Ee.status==="in_progress").length,Dt=pe.reduce((Ee,at)=>Ee+(at.returns?at.returns.length:0),0),gr=se>0?pt/se:0,qt={orders:pe,tasks:oe,chefs:De,branches:$e,branchPerformance:Ze,chefPerformance:Ce,stats:{totalOrders:se,pendingOrders:yt,inProductionOrders:Ke,inTransitOrders:Ne,deliveredOrders:Ge,totalSales:pt,completedTasks:it,inProgressTasks:jt,returns:Dt,averageOrderValue:gr}};CS.set(k,qt),l(qt.orders),u(qt.tasks),p(qt.chefs),x(qt.branches),b(qt.branchPerformance),S(qt.chefPerformance),T(qt.stats),N("")}catch(I){const U=I.status===403?t?"   ":"Unauthorized access":t?"  ":"Server error";N(U),ke.error(U,{position:t?"top-left":"top-right",autoClose:2e3}),i({_id:`error-fetch-${Date.now()}`,type:"error",message:U,read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"})}finally{P(!1)}},100),[r,t,e,k,i]);L.useEffect(()=>(C(),()=>C.cancel()),[C,R]),L.useEffect(()=>{if(!(!n||!r||!s))return n.on("connect_error",()=>{const X=t?"   ":"Socket connection error";i({_id:`socket-error-${Date.now()}`,type:"error",message:X,read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"})}),n.on("taskAssigned",X=>{if(!(!X.taskId||!X.orderId||!X.productName||!X.orderNumber||!X.branchName||!X.quantity||!X.eventId)&&(X.chefId===((r==null?void 0:r.id)||(r==null?void 0:r._id))||["admin","production"].includes(r.role))){C(!0);const I={_id:X.taskId,type:"info",message:t?`  : ${X.productName} (${X.quantity} ${X.unit})  ${X.orderNumber} - ${X.branchName}`:`Task assigned: ${X.productName} (${X.quantity} ${X.unit}) for order ${X.orderNumber} - ${X.branchName}`,data:{orderId:X.orderId,taskId:X.taskId,chefId:X.chefId,eventId:X.eventId},read:!1,createdAt:dr(new Date,e),sound:"/sounds/task-assigned.mp3",vibrate:[400,100,400],path:"/dashboard"};i(I),r.role==="chef"&&u(U=>[{id:X.taskId,orderId:X.orderId,orderNumber:X.orderNumber,productName:X.productName,quantity:Number(X.quantity)||0,unit:X.unit||"unit",status:X.status||"assigned",branchName:X.branchName,createdAt:dr(new Date,e)},...U.filter(G=>G.id!==X.taskId)])}}),n.on("orderCompleted",X=>{!X.orderId||!X.orderNumber||!X.branchName||!X.eventId||["admin","branch","production"].includes(r.role)&&(C(!0),i({_id:X._id||crypto.randomUUID(),type:"success",message:t?`   ${X.orderNumber} - ${X.branchName}`:`Order completed: ${X.orderNumber} - ${X.branchName}`,data:{orderId:X.orderId,eventId:X.eventId},read:!1,createdAt:dr(new Date,e),sound:"/sounds/order-completed.mp3",vibrate:[400,100,400],path:"/dashboard"}))}),n.on("itemStatusUpdated",X=>{!X.orderId||!X.itemId||!X.status||!X.eventId||(u(I=>I.map(U=>U.id===X.itemId&&U.orderId===X.orderId?{...U,status:X.status}:U)),i({_id:X.eventId,type:"info",message:t?`   : ${X.productName}  ${X.orderNumber}  ${X.status==="in_progress"?" ":""}`:`Task status updated: ${X.productName} for order ${X.orderNumber} to ${X.status}`,read:!1,createdAt:dr(new Date,e),path:"/dashboard"}))}),()=>{n.off("connect_error"),n.off("taskAssigned"),n.off("orderCompleted"),n.off("itemStatusUpdated")}},[n,r,t,e,i,C,s]);const H=L.useCallback(async(X,I)=>{if(!s){i({_id:`warn-socket-${Date.now()}`,type:"warning",message:t?"   ":"Socket disconnected",read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"});return}try{await Qu.updateTaskStatus(I,X,{status:"in_progress"}),u(V=>V.map(Q=>Q.id===X?{...Q,status:"in_progress"}:Q));const U=c.find(V=>V.id===X),G=crypto.randomUUID();n.emit("itemStatusUpdated",{orderId:I,itemId:X,status:"in_progress",chefId:(r==null?void 0:r.id)||(r==null?void 0:r._id),eventId:G,orderNumber:(U==null?void 0:U.orderNumber)||(t?" ":"Unknown"),branchName:(U==null?void 0:U.branchName)||(t?"  ":"Unknown Branch"),productName:(U==null?void 0:U.productName)||(t?"  ":"Unknown Product"),quantity:(U==null?void 0:U.quantity)||0,unit:(U==null?void 0:U.unit)||"unit"}),i({_id:`success-task-${X}-${Date.now()}`,type:"success",message:t?"  ":"Task started",read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard",sound:"/sounds/task-status-updated.mp3",vibrate:[200,100,200]})}catch(U){const G=U.message||(t?"  ":"Failed to update task");ke.error(G,{position:t?"top-left":"top-right",autoClose:2e3}),i({_id:`error-task-${X}-${Date.now()}`,type:"error",message:G,read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"})}},[n,r,t,s,c,e,i]),z=L.useCallback(async(X,I)=>{if(!s){i({_id:`warn-socket-${Date.now()}`,type:"warning",message:t?"   ":"Socket disconnected",read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"});return}try{await Qu.updateTaskStatus(I,X,{status:"completed"}),u(V=>V.map(Q=>Q.id===X?{...Q,status:"completed"}:Q));const U=c.find(V=>V.id===X),G=crypto.randomUUID();n.emit("itemStatusUpdated",{orderId:I,itemId:X,status:"completed",chefId:(r==null?void 0:r.id)||(r==null?void 0:r._id),eventId:G,orderNumber:(U==null?void 0:U.orderNumber)||(t?" ":"Unknown"),branchName:(U==null?void 0:U.branchName)||(t?"  ":"Unknown Branch"),productName:(U==null?void 0:U.productName)||(t?"  ":"Unknown Product"),quantity:(U==null?void 0:U.quantity)||0,unit:(U==null?void 0:U.unit)||"unit"}),i({_id:`success-complete-${X}-${Date.now()}`,type:"success",message:t?"  ":"Task completed",read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard",sound:"/sounds/task-completed.mp3",vibrate:[400,100,400]})}catch(U){const G=U.message||(t?"  ":"Failed to update task");ke.error(G,{position:t?"top-left":"top-right",autoClose:2e3}),i({_id:`error-complete-${X}-${Date.now()}`,type:"error",message:G,read:!1,createdAt:new Date().toLocaleString(e),path:"/dashboard"})}},[n,r,t,s,c,e,i]),K=L.useMemo(()=>[...o].filter(X=>["pending","approved","in_production"].includes(X.status)).sort((X,I)=>new Date(I.createdAt).getTime()-new Date(X.createdAt).getTime()).slice(0,8),[o]),Y=()=>d.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 mb-3",children:[d.jsx(tl,{title:t?" ":"Total Orders",value:_.totalOrders.toString(),icon:Qf,color:"blue",ariaLabel:t?" ":"Total Orders"}),d.jsx(tl,{title:t?" ":"Pending Orders",value:_.pendingOrders.toString(),icon:Ar,color:"yellow",ariaLabel:t?" ":"Pending Orders"}),d.jsx(tl,{title:t?"  ":"In Production",value:_.inProductionOrders.toString(),icon:fS,color:"purple",ariaLabel:t?"  ":"In Production"}),d.jsx(tl,{title:t?"  ":"In Transit",value:_.inTransitOrders.toString(),icon:jo,color:"blue",ariaLabel:t?"  ":"In Transit"}),d.jsx(tl,{title:t?" ":"Delivered Orders",value:_.deliveredOrders.toString(),icon:Qf,color:"teal",ariaLabel:t?" ":"Delivered Orders"}),d.jsx(tl,{title:t?" ":"Total Sales",value:_.totalSales.toLocaleString(e,{style:"currency",currency:"SAR"}),icon:tb,color:"green",ariaLabel:t?" ":"Total Sales"}),d.jsx(tl,{title:t?"":"Returns",value:_.returns.toString(),icon:Ar,color:"pink",ariaLabel:t?"":"Returns"}),d.jsx(tl,{title:t?"  ":"Avg Order Value",value:_.averageOrderValue.toLocaleString(e,{style:"currency",currency:"SAR"}),icon:tb,color:"blue",ariaLabel:t?"  ":"Avg Order Value"})]}),W=()=>d.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-3 border border-gray-200",children:[d.jsxs("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2 text-gray-800",children:[d.jsx(cc,{className:"w-4 h-4 text-gray-600"}),t?"  ":"Latest Pending Orders"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[K.length===0&&d.jsx("p",{className:"text-center text-gray-600 col-span-full text-xs",children:t?"   ":"No pending orders"}),d.jsx(Bn,{children:K.map((X,I)=>d.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:I*.1},onClick:()=>a(`/orders/${X.id}`),className:"p-2 bg-gray-50 rounded-md border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[d.jsxs("h4",{className:"font-medium text-xs text-gray-800 mb-1 truncate",children:[X.orderNumber," - ",X.branchName]}),d.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X.status==="pending"?"bg-amber-100 text-amber-800":X.status==="approved"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:t?X.status==="pending"?"":X.status==="approved"?"":" ":X.status.charAt(0).toUpperCase()+X.status.slice(1)}),d.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[t?"":"Total",": ",X.totalAmount.toLocaleString(e,{style:"currency",currency:"SAR"})]}),d.jsxs("p",{className:"text-xs text-gray-600",children:[t?"":"Products",": ",X.items.reduce((U,G)=>U+G.quantity,0)]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t?" ":"Created At",": ",X.date]})]},X.id))})]})]}),Z=()=>d.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-3 border border-gray-200",children:[d.jsxs("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2 text-gray-800",children:[d.jsx(fS,{className:"w-4 h-4 text-gray-600"}),t?" ":"Branch Performance"]}),d.jsxs("div",{className:"space-y-2",children:[y.map((X,I)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-20 text-xs font-medium text-gray-700 truncate",children:X.branchName}),d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2.5",children:d.jsx(wt.div,{className:"bg-blue-500 h-2.5 rounded-full",initial:{width:0},animate:{width:`${X.performance}%`},transition:{duration:.8,ease:"easeOut"}})}),d.jsxs("span",{className:"w-16 text-right text-xs text-gray-600",children:[X.performance.toFixed(0),"% (",X.completedOrders,"/",X.totalOrders,")"]})]},I)),y.length===0&&d.jsx("p",{className:"text-center text-gray-600 text-xs",children:t?"  ":"No data available"})]})]}),ne=()=>d.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2 text-gray-800",children:[d.jsx(fS,{className:"w-4 h-4 text-gray-600"}),t?" ":"Chef Performance"]}),d.jsxs("div",{className:"space-y-2",children:[v.map((X,I)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-20 text-xs font-medium text-gray-700 truncate",children:X.chefName}),d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2.5",children:d.jsx(wt.div,{className:"bg-green-500 h-2.5 rounded-full",initial:{width:0},animate:{width:`${X.performance}%`},transition:{duration:.8,ease:"easeOut"}})}),d.jsxs("span",{className:"w-16 text-right text-xs text-gray-600",children:[X.performance.toFixed(0),"% (",X.completedTasks,"/",X.totalTasks,")"]})]},I)),v.length===0&&d.jsx("p",{className:"text-center text-gray-600 text-xs",children:t?"  ":"No data available"})]})]}),ee=()=>{if(j)return d.jsx(coe,{});if(F)return d.jsxs("div",{className:"p-3 text-center bg-red-50 rounded-lg shadow-sm border border-red-200",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("p",{className:"text-red-600 text-sm font-medium",children:F})]}),d.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"},className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-1.5 text-sm shadow-sm transition-colors"})]});switch(r==null?void 0:r.role){case"chef":return d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex justify-end mb-3",children:d.jsx("select",{className:"w-full sm:w-36 p-1.5 rounded-md border border-blue-300 text-sm focus:ring-2 focus:ring-blue-400 bg-white",value:R,onChange:X=>B(X.target.value),"aria-label":t?" ":"Time Period",children:IS.map(X=>d.jsx("option",{value:X.value,children:t?X.label:X.enLabel},X.value))})}),d.jsx(uoe,{stats:_,tasks:c,isRtl:t,language:e,handleStartTask:H,handleCompleteTask:z})]});case"branch":return d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex justify-end mb-3",children:d.jsx("select",{className:"w-full sm:w-36 p-1.5 rounded-md border border-blue-300 text-sm focus:ring-2 focus:ring-blue-400 bg-white",value:R,onChange:X=>B(X.target.value),"aria-label":t?" ":"Time Period",children:IS.map(X=>d.jsx("option",{value:X.value,children:t?X.label:X.enLabel},X.value))})}),Y(),W()]});default:return d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex justify-end mb-3",children:d.jsx("select",{className:"w-full sm:w-36 p-1.5 rounded-md border border-blue-300 text-sm focus:ring-2 focus:ring-blue-400 bg-white",value:R,onChange:X=>B(X.target.value),"aria-label":t?" ":"Time Period",children:IS.map(X=>d.jsx("option",{value:X.value,children:t?X.label:X.enLabel},X.value))})}),Y(),W(),["admin"].includes(r==null?void 0:r.role)&&Z(),["admin","production"].includes(r==null?void 0:r.role)&&ne()]})}};return d.jsx("div",{className:"mx-auto px-2 sm:px-3 lg:px-4 py-3 min-h-screen",dir:t?"rtl":"ltr",children:ee()})};function Mt({label:e,type:t="text",placeholder:r,value:n,onChange:s,className:i="",required:a=!1,disabled:o=!1}){return d.jsxs("div",{className:`space-y-2 ${i}`,children:[e&&d.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,a&&d.jsx("span",{className:"text-red-500 mr-1",children:"*"})]}),d.jsx("input",{type:t,placeholder:r,value:n,onChange:l=>s(l.target.value),required:a,disabled:o,className:"w-full px-3 py-2 border border-amber-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed"})]})}function Fs({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),d.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${i[s]} mx-auto`,children:[r&&d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(v_,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-4",children:n})]})]})})}const foe={ar:{profile:" ",name:" ()",nameEn:" ()",username:" ",email:"",phone:"",role:"",branch:"",branchCode:" ",branchAddress:" ",branchCity:"",department:"",departmentCode:" ",departmentDescription:" ",chefStatus:" ",status:"",active:"",inactive:" ",createdAt:" ",updatedAt:" ",editProfile:" ",changePassword:"  ",newPassword:"  ",confirmPassword:"  ",updateSuccess:"  ",updateError:"  ",passwordMismatch:"   ",passwordTooShort:"    (6   )",passwordRequired:"  ",nameRequired:" ",nameEnRequired:"  ",cancel:"",save:""},en:{profile:"Profile",name:"Name (Arabic)",nameEn:"Name (English)",username:"Username",email:"Email",phone:"Phone",role:"Role",branch:"Branch",branchCode:"Branch Code",branchAddress:"Branch Address",branchCity:"City",department:"Department",departmentCode:"Department Code",departmentDescription:"Department Description",chefStatus:"Chef Status",status:"Status",active:"Active",inactive:"Inactive",createdAt:"Created At",updatedAt:"Updated At",editProfile:"Edit Profile",changePassword:"Change Password",newPassword:"New Password",confirmPassword:"Confirm Password",updateSuccess:"Updated successfully",updateError:"Error updating",passwordMismatch:"Passwords do not match",passwordTooShort:"Password too short (at least 6 characters)",passwordRequired:"Password is required",nameRequired:"Name is required",nameEnRequired:"English name is required",cancel:"Cancel",save:"Save"}};function hoe(){const{language:e}=Yn(),{user:t,updateUser:r}=ps(),n=e==="ar",s=foe[n?"ar":"en"],[i,a]=L.useState(null),[o,l]=L.useState(!0),[c,u]=L.useState(""),[h,p]=L.useState(!1),[m,x]=L.useState(!1),[y,b]=L.useState({name:"",nameEn:""}),[v,S]=L.useState({password:"",confirmPassword:""}),[_,T]=L.useState({}),[R,B]=L.useState({password:!1,confirmPassword:!1});L.useEffect(()=>{(async()=>{l(!0);try{const C=await J1.getProfile();a(C.user),b({name:C.user.name,nameEn:C.user.nameEn||""}),u("")}catch(C){u(C.message||s.updateError),ke.error(s.updateError,{position:n?"top-right":"top-left"})}finally{l(!1)}})()},[n,s.updateError]);const j=()=>{const k={};return y.name||(k.name=s.nameRequired),y.nameEn||(k.nameEn=s.nameEnRequired),T(k),Object.keys(k).length===0},P=()=>{const k={};return v.password||(k.password=s.passwordRequired),v.confirmPassword||(k.confirmPassword=s.passwordRequired),v.password!==v.confirmPassword&&(k.confirmPassword=s.passwordMismatch),v.password&&v.password.length<6&&(k.password=s.passwordTooShort),T(k),Object.keys(k).length===0},F=async k=>{if(k.preventDefault(),!!j())try{const C=await J1.updateProfile({name:y.name,nameEn:y.nameEn});a(C.user),r(C.user),p(!1),ke.success(s.updateSuccess,{position:n?"top-right":"top-left"})}catch(C){u(C.message||s.updateError),ke.error(s.updateError,{position:n?"top-right":"top-left"})}},N=async k=>{if(k.preventDefault(),!!P())try{const C=await J1.updateProfile({password:v.password});a(C.user),r(C.user),x(!1),S({password:"",confirmPassword:""}),ke.success(s.updateSuccess,{position:n?"top-right":"top-left"})}catch(C){u(C.message||s.updateError),ke.error(s.updateError,{position:n?"top-right":"top-left"})}};return o?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:d.jsx(wl,{size:"lg"})}):i?d.jsxs("div",{className:"mx-auto p-4 ",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.profile}),d.jsxs(tr,{className:"p-6 bg-white rounded-2xl shadow-sm",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.name}),d.jsx("p",{className:"text-gray-800",children:i.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.nameEn}),d.jsx("p",{className:"text-gray-800",children:i.nameEn||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.username}),d.jsx("p",{className:"text-gray-800",children:i.username})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.email}),d.jsx("p",{className:"text-gray-800",children:i.email||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.phone}),d.jsx("p",{className:"text-gray-800",children:i.phone||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.role}),d.jsx("p",{className:"text-gray-800",children:s[i.role]||i.role})]}),i.branch&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.branch}),d.jsx("p",{className:"text-gray-800",children:n?i.branch.name:i.branch.nameEn||i.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.branchCode}),d.jsx("p",{className:"text-gray-800",children:i.branch.code||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.branchAddress}),d.jsx("p",{className:"text-gray-800",children:i.branch.address||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.branchCity}),d.jsx("p",{className:"text-gray-800",children:i.branch.city||"-"})]})]}),i.department&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.department}),d.jsx("p",{className:"text-gray-800",children:n?i.department.name:i.department.nameEn||i.department.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.departmentCode}),d.jsx("p",{className:"text-gray-800",children:i.department.code||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.departmentDescription}),d.jsx("p",{className:"text-gray-800",children:i.department.description||"-"})]})]}),i.chefProfile&&d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.chefStatus}),d.jsx("p",{className:`font-medium ${i.chefProfile.status==="active"?"text-green-600":"text-red-600"}`,children:i.chefProfile.status==="active"?s.active:s.inactive})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.status}),d.jsx("p",{className:`font-medium ${i.isActive?"text-green-600":"text-red-600"}`,children:i.isActive?s.active:s.inactive})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.createdAt}),d.jsx("p",{className:"text-gray-800",children:new Date(i.createdAt).toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:s.updatedAt}),d.jsx("p",{className:"text-gray-800",children:new Date(i.updatedAt).toLocaleString()})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{variant:"outline",icon:rp,onClick:()=>p(!0),className:"flex-1 text-amber-500 hover:text-amber-600 border-amber-500 rounded-full text-sm px-4 py-2",children:s.editProfile}),d.jsx(dt,{variant:"outline",icon:q0,onClick:()=>x(!0),className:"flex-1 text-blue-500 hover:text-blue-600 border-blue-500 rounded-full text-sm px-4 py-2",children:s.changePassword})]})]}),d.jsx(Fs,{isOpen:h,onClose:()=>p(!1),title:s.editProfile,size:"md",children:d.jsxs("form",{onSubmit:F,className:"space-y-4",dir:n?"rtl":"ltr",children:[d.jsx(Mt,{label:s.name,value:y.name,onChange:k=>b({...y,name:k}),required:!0,error:_.name,className:"border-gray-200 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-white text-sm"}),d.jsx(Mt,{label:s.nameEn,value:y.nameEn,onChange:k=>b({...y,nameEn:k}),required:!0,error:_.nameEn,className:"border-gray-200 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-white text-sm"}),c&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm",children:c})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-amber-500 hover:bg-amber-600 text-white rounded-full px-4 py-2 text-sm",children:s.save}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>p(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm",children:s.cancel})]})]})}),d.jsx(Fs,{isOpen:m,onClose:()=>x(!1),title:s.changePassword,size:"md",children:d.jsxs("form",{onSubmit:N,className:"space-y-4",dir:n?"rtl":"ltr",children:[d.jsx(Mt,{label:s.newPassword,value:v.password,onChange:k=>S({...v,password:k}),type:R.password?"text":"password",required:!0,error:_.password,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",icon:R.password?ic:Po,onIconClick:()=>B({...R,password:!R.password})}),d.jsx(Mt,{label:s.confirmPassword,value:v.confirmPassword,onChange:k=>S({...v,confirmPassword:k}),type:R.confirmPassword?"text":"password",required:!0,error:_.confirmPassword,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",icon:R.confirmPassword?ic:Po,onIconClick:()=>B({...R,confirmPassword:!R.confirmPassword})}),c&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm",children:c})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full px-4 py-2 text-sm",children:s.save}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>x(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm",children:s.cancel})]})]})})]}):d.jsx("div",{className:"mx-auto max-w-6xl p-4 sm:p-6",children:d.jsx("p",{className:"text-red-500",children:c||"No profile data"})})}function es({label:e,options:t,value:r,onChange:n,className:s="",required:i=!1,disabled:a=!1}){return d.jsxs("div",{className:`space-y-2 ${s}`,children:[e&&d.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&d.jsx("span",{className:"text-red-500 mr-1",children:"*"})]}),d.jsx("select",{value:r,onChange:o=>n(o.target.value),required:i,disabled:a,className:"w-full px-3 py-2 border border-amber-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",children:t.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))})]})}function poe(){const{t:e,language:t}=Yn(),{user:r}=ps(),[n,s]=L.useState([]),[i,a]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState(null),[h,p]=L.useState(""),[m,x]=L.useState(""),[y,b]=L.useState(""),[v,S]=L.useState(!0),[_,T]=L.useState(1),[R,B]=L.useState(1),[j,P]=L.useState({name:"",nameEn:"",code:"",department:"",price:"",unit:"",unitEn:"Piece",description:""});L.useEffect(()=>{(async()=>{var K;if(!r||!["admin"].includes(r.role)){b(e("products.unauthorized")),S(!1);return}S(!0);try{console.log("Fetching products with params:",{department:m,search:h,page:_,limit:12}),console.log("API URL:","https://eljoodia-server-production.up.railway.app/api");const[Y,W]=await Promise.all([P1.getAll({department:m,search:h,page:_,limit:12}),Nf.getAll({limit:100})]);console.log("Products response:",Y),console.log("Departments response:",W);const Z=Y.data.map(ne=>({...ne,displayName:t==="ar"?ne.name:ne.nameEn||ne.name}));s(Z),B(Y.totalPages),a(W.data),b("")}catch(Y){console.error("Fetch error:",Y),console.error("Error details:",{status:Y.status,message:Y.message,url:(K=Y.config)==null?void 0:K.url}),b(Y.message||e("products.fetchError"))}finally{S(!1)}})()},[e,r,m,h,_]);const F=n.filter(z=>(z.displayName.toLowerCase().includes(h.toLowerCase())||z.code.toLowerCase().includes(h.toLowerCase()))&&(m===""||z.department._id===m)),N=z=>{var K;if(!r||!["admin"].includes(r.role)){b(e("products.unauthorized"));return}z?(u(z),P({name:z.name,nameEn:z.nameEn||"",code:z.code,department:z.department._id,price:z.price.toString(),unit:z.unit,unitEn:z.unitEn||"",description:z.description||""})):(u(null),P({name:"",nameEn:"",code:"",department:((K=i[0])==null?void 0:K._id)||"",price:"",unit:"",unitEn:"Piece",description:""})),l(!0)},k=()=>{l(!1),u(null),b("")},C=async z=>{z.preventDefault();try{const K={name:j.name,nameEn:j.nameEn||void 0,code:j.code,department:j.department,price:parseFloat(j.price),unit:j.unit,unitEn:j.unitEn||void 0,description:j.description||void 0};if(console.log("Submitting product:",K),c){const Y=await P1.update(c._id,K);s(n.map(W=>W._id===c._id?{...Y,displayName:t==="ar"?Y.name:Y.nameEn||Y.name}:W))}else{const Y=await P1.create(K);s([...n,{...Y,displayName:t==="ar"?Y.name:Y.nameEn||Y.name}])}k()}catch(K){console.error("Submit error:",K),b(K.message||e("products.saveError"))}},H=async z=>{if(!r||!["admin"].includes(r.role)){b(e("products.unauthorized"));return}if(confirm(e("products.deleteConfirm")))try{await P1.delete(z),s(n.filter(K=>K._id!==z))}catch(K){console.error("Delete error:",K),b(K.message||e("products.deleteError"))}};return v?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsx(wl,{size:"lg"})}):d.jsxs("div",{className:"container mx-auto px-4 py-6 min-h-screen bg-gray-50",dir:t==="ar"?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-amber-900 flex items-center justify-center sm:justify-start gap-3",children:[d.jsx(jo,{className:"w-8 h-8 text-amber-600"}),e("products.manage")]}),(r==null?void 0:r.role)==="admin"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:()=>N(),className:"bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-4 py-2 shadow-md transition-transform transform hover:scale-105",children:e("products.add")})]}),y&&d.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-md flex items-center gap-2",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:y})]}),d.jsx(tr,{className:"p-4 mb-6 bg-white rounded-md shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx(Mt,{value:h,onChange:p,placeholder:e("products.searchPlaceholder"),className:"pl-10 border-gray-300 rounded-md focus:ring-blue-500","aria-label":e("products.searchPlaceholder")})]}),d.jsx(es,{label:e("products.department"),options:[{value:"",label:e("products.allDepartments")},...i.map(z=>({value:z._id,label:t==="ar"?z.name:z.nameEn||z.name}))],value:m,onChange:x,className:"border-gray-300 rounded-md focus:ring-blue-500","aria-label":e("products.department")})]})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:F.length===0?d.jsxs(tr,{className:"p-6 text-center bg-white rounded-md shadow-sm",children:[d.jsx(jo,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:e("products.noProducts")}),d.jsx("p",{className:"text-gray-500",children:e(h||m?"products.noMatch":"products.empty")}),(r==null?void 0:r.role)==="admin"&&!h&&!m&&d.jsx(dt,{variant:"primary",icon:ml,onClick:()=>N(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2",children:e("products.addFirst")})]}):F.map(z=>d.jsx(tr,{className:"bg-white rounded-md shadow-sm hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-medium text-gray-800",children:z.displayName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e("products.code"),": ",z.code]}),d.jsxs("p",{className:"text-sm text-blue-500",children:[e("products.department"),": ",t==="ar"?z.department.name:z.department.nameEn||z.department.name]}),z.description&&d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:z.description}),d.jsxs("div",{className:"flex items-center justify-between mt-3",children:[d.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:[z.price," ",e("products.currency")]}),(r==null?void 0:r.role)==="admin"&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>N(z),className:"text-blue-500 hover:text-blue-700",title:e("products.edit"),children:d.jsx(rp,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>H(z._id),className:"text-red-500 hover:text-red-700",title:e("products.delete"),children:d.jsx(ch,{className:"w-4 h-4"})})]})]})]})},z._id))}),d.jsxs("div",{className:"flex justify-center mt-6",children:[d.jsx(dt,{variant:"secondary",onClick:()=>T(z=>Math.max(z-1,1)),disabled:_===1,className:"mx-2",children:e("previous")}),d.jsxs("span",{className:"mx-4 self-center",children:[e("page")," ",_," / ",R]}),d.jsx(dt,{variant:"secondary",onClick:()=>T(z=>Math.min(z+1,R)),disabled:_===R,className:"mx-2",children:e("next")})]}),d.jsx(Fs,{isOpen:o,onClose:k,title:e(c?"products.edit":"products.add"),size:"md",children:d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsx(Mt,{label:e("products.name"),value:j.name,onChange:z=>P({...j,name:z}),placeholder:e("products.namePlaceholder"),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(Mt,{label:e("products.nameEn"),value:j.nameEn,onChange:z=>P({...j,nameEn:z}),placeholder:e("products.nameEnPlaceholder"),className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(Mt,{label:e("products.code"),value:j.code,onChange:z=>P({...j,code:z}),placeholder:e("products.codePlaceholder"),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(es,{label:e("products.department"),options:[{value:"",label:e("products.selectDepartment")},...i.map(z=>({value:z._id,label:t==="ar"?z.name:z.nameEn||z.name}))],value:j.department,onChange:z=>P({...j,department:z}),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(Mt,{label:e("products.price"),type:"number",value:j.price,onChange:z=>P({...j,price:z}),placeholder:"0.00",required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(es,{label:e("products.unit"),options:[{value:"",label:e("products.units.kilo"),valueEn:"Kilogram"},{value:"",label:e("products.units.piece"),valueEn:"Piece"},{value:"",label:e("products.units.box"),valueEn:"Box"},{value:"",label:e("products.units.tray"),valueEn:"Tray"}].map(z=>({value:z.value,label:t==="ar"?z.label:z.valueEn})),value:j.unit,onChange:z=>P({...j,unit:z,unitEn:(t==="ar"?void 0:j.unitEn)||z}),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("products.description")}),d.jsx("textarea",{value:j.description,onChange:z=>P({...j,description:z.target.value}),placeholder:e("products.descriptionPlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:3})]})]}),y&&d.jsxs("div",{className:"p-2 bg-red-100 border border-red-300 rounded-md flex items-center gap-2",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:y})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2",children:e(c?"products.update":"products.add")}),d.jsx(dt,{type:"button",variant:"secondary",onClick:k,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md px-4 py-2",children:e("cancel")})]})]})})]})}const moe="modulepreload",goe=function(e){return"/"+e},bP={},fl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=goe(l),l in bP)return;bP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":moe,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var cb={};cb.version="0.18.5";var z7=1252,yoe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],q7=function(e){yoe.indexOf(e)!=-1&&(z7=e)};function xoe(){q7(1252)}var Gy=function(e){q7(e)};function voe(){Gy(1200),xoe()}var c2=function(t){return String.fromCharCode(t)},_P=function(t){return String.fromCharCode(t)},r0,Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ky(e){for(var t="",r=0,n=0,s=0,i=0,a=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),a=(r&3)<<4|n>>4,s=e.charCodeAt(c++),o=(n&15)<<2|s>>6,l=s&63,isNaN(n)?o=l=64:isNaN(s)&&(l=64),t+=Tf.charAt(i)+Tf.charAt(a)+Tf.charAt(o)+Tf.charAt(l);return t}function pd(e){var t="",r=0,n=0,s=0,i=0,a=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Tf.indexOf(e.charAt(c++)),a=Tf.indexOf(e.charAt(c++)),r=i<<2|a>>4,t+=String.fromCharCode(r),o=Tf.indexOf(e.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Tf.indexOf(e.charAt(c++)),s=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var pn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),wd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function H0(e){return pn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function SP(e){return pn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var nc=function(t){return pn?wd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function A_(e){if(typeof ArrayBuffer>"u")return nc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Bx(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function woe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Di=pn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:wd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function boe(e){for(var t=[],r=0,n=e.length+250,s=H0(e.length+255),i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a<128)s[r++]=a;else if(a<2048)s[r++]=192|a>>6&31,s[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=e.charCodeAt(++i)&1023;s[r++]=240|a>>8&7,s[r++]=128|a>>2&63,s[r++]=128|o>>6&15|(a&3)<<4,s[r++]=128|o&63}else s[r++]=224|a>>12&15,s[r++]=128|a>>6&63,s[r++]=128|a&63;r>n&&(t.push(s.slice(0,r)),r=0,s=H0(65535),n=65530)}return t.push(s.slice(0,r)),Di(t)}var iy=/\u0000/g,u2=/[\u0001-\u0006]/g;function wm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ac(e,t){var r=""+e;return r.length>=t?r:Es("0",t-r.length)+r}function XN(e,t){var r=""+e;return r.length>=t?r:Es(" ",t-r.length)+r}function ub(e,t){var r=""+e;return r.length>=t?r:r+Es(" ",t-r.length)}function _oe(e,t){var r=""+Math.round(e);return r.length>=t?r:Es("0",t-r.length)+r}function Soe(e,t){var r=""+e;return r.length>=t?r:Es("0",t-r.length)+r}var AP=Math.pow(2,32);function Op(e,t){if(e>AP||e<-AP)return _oe(e,t);var r=Math.round(e);return Soe(r,t)}function db(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var EP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],PS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Aoe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ts={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},NP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Eoe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function fb(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,a=1,o=0,l=1,c=0,u=0,h=Math.floor(s);c<t&&(h=Math.floor(s),o=h*a+i,u=h*c+l,!(s-h<5e-8));)s=1/(s-h),i=a,a=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=a)),!r)return[0,n*o,u];var p=Math.floor(n*o/u);return[p,n*o-p*u,u]}function d2(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,a=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Ooe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var H7=new Date(1899,11,31,0,0,0),Noe=H7.getTime(),Toe=new Date(1900,2,1,0,0,0);function W7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Toe&&(r+=24*60*60*1e3),(r-(Noe+(e.getTimezoneOffset()-H7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function QN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function koe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Coe(e){var t=e<0?12:11,r=QN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ioe(e){var t=QN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Poe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Coe(e):t===10?r=e.toFixed(10).substr(0,12):r=Ioe(e),QN(koe(r.toUpperCase()))}function lA(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Poe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return eh(14,W7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ooe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Roe(e,t,r,n){var s="",i=0,a=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return PS[r.m-1][1];case 5:return PS[r.m-1][0];default:return PS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return EP[r.q][0];default:return EP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ac(r.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(r.S+r.u)),i>=60*a&&(i=0),t==="s"?i===0?"0":""+i/a:(s=ac(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ac(l,c):"";return u}function kf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var V7=/%/g;function Doe(e,t,r){var n=t.replace(V7,""),s=t.length-n.length;return rd(e,n,r*Math.pow(10,2*s))+Es("%",s)}function Loe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function G7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+G7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var K7=/# (\?+)( ?)\/( ?)(\d+)/;function joe(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),a=s-i*n,o=n;return r+(i===0?"":""+i)+" "+(a===0?Es(" ",e[1].length+1+e[4].length):XN(a,e[1].length)+e[2]+"/"+e[3]+ac(o,e[4].length))}function Foe(e,t,r){return r+(t===0?"":""+t)+Es(" ",e[1].length+2+e[4].length)}var Y7=/^#*0*\.([0#]+)/,X7=/\).*[0#]/,Q7=/\(###\) ###\\?-####/;function Sa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function TP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function kP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Moe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Boe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Zo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(X7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Zo("n",n,r):"("+Zo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Loe(e,t,r);if(t.indexOf("%")!==-1)return Doe(e,t,r);if(t.indexOf("E")!==-1)return G7(t,r);if(t.charCodeAt(0)===36)return"$"+Zo(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,a,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Op(l,t.length);if(t.match(/^[#?]+$/))return s=Op(r,0),s==="0"&&(s=""),s.length>t.length?s:Sa(t.substr(0,t.length-s.length))+s;if(i=t.match(K7))return joe(i,l,c);if(t.match(/^#+0+$/))return c+Op(l,t.length-t.indexOf("0"));if(i=t.match(Y7))return s=TP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])).replace(/\.(\d*)$/,function(x,y){return"."+y+Es("0",Sa(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+TP(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+kf(Op(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Zo(e,t,-r):kf(""+(Math.floor(r)+Moe(r,i[1].length)))+"."+ac(kP(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Zo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=wm(Zo(e,t.replace(/[\\-]/g,""),r)),a=0,wm(wm(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(t.match(Q7))return s=Zo(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=fb(l,Math.pow(10,a)-1,!1),s=""+c,u=rd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=ub(o[2],a),u.length<i[4].length&&(u=Sa(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=fb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?XN(o[1],a)+i[2]+"/"+i[3]+ub(o[2],a):Es(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Op(r,0),t.length<=s.length?s:Sa(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var h=t.indexOf(".")-a,p=t.length-s.length-h;return Sa(t.substr(0,h)+s+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return a=kP(r,i[1].length),r<0?"-"+Zo(e,t,-r):kf(Boe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ac(0,3-x.length):"")+x})+"."+ac(a,i[1].length);switch(t){case"###,##0.00":return Zo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=kf(Op(l,0));return m!=="0"?c+m:"";case"###,###.00":return Zo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Zo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Uoe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function $oe(e,t,r){var n=t.replace(V7,""),s=t.length-n.length;return rd(e,n,r*Math.pow(10,2*s))+Es("%",s)}function Z7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Z7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Vc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(X7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Vc("n",n,r):"("+Vc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Uoe(e,t,r);if(t.indexOf("%")!==-1)return $oe(e,t,r);if(t.indexOf("E")!==-1)return Z7(t,r);if(t.charCodeAt(0)===36)return"$"+Vc(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,a,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ac(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Sa(t.substr(0,t.length-s.length))+s;if(i=t.match(K7))return Foe(i,l,c);if(t.match(/^#+0+$/))return c+ac(l,t.length-t.indexOf("0"));if(i=t.match(Y7))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])),s=s.replace(/\.(\d*)$/,function(x,y){return"."+y+Es("0",Sa(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+kf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Vc(e,t,-r):kf(""+r)+"."+Es("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Vc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=wm(Vc(e,t.replace(/[\\-]/g,""),r)),a=0,wm(wm(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(t.match(Q7))return s=Vc(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=fb(l,Math.pow(10,a)-1,!1),s=""+c,u=rd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=ub(o[2],a),u.length<i[4].length&&(u=Sa(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=fb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?XN(o[1],a)+i[2]+"/"+i[3]+ub(o[2],a):Es(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Sa(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var h=t.indexOf(".")-a,p=t.length-s.length-h;return Sa(t.substr(0,h)+s+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Vc(e,t,-r):kf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ac(0,3-x.length):"")+x})+"."+ac(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=kf(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Vc(e,t.slice(0,t.lastIndexOf(".")),r)+Sa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rd(e,t,r){return(r|0)===r?Vc(e,t,r):Zo(e,t,r)}function zoe(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var J7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eB(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":db(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(J7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function qoe(e,t,r,n){for(var s=[],i="",a=0,o="",l="t",c,u,h,p="H";a<e.length;)switch(o=e.charAt(a)){case"G":if(!db(e,a))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(h=e.charCodeAt(++a))!==34&&a<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++a;break;case"\\":var m=e.charAt(++a),x=m==="("||m===")"?m:"t";s[s.length]={t:x,v:m},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(c==null&&(c=d2(t,r,e.charAt(a+1)==="2"),c==null))return"";s[s.length]={t:"X",v:e.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=d2(t,r),c==null))return"";for(i=o;++a<e.length&&e.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var y={t:o,v:o};if(c==null&&(c=d2(t,r)),e.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(y.v=c.H>=12?"P":"A"),y.t="T",p="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(y.v=c.H>=12?"PM":"AM"),y.t="T",a+=5,p="h"):e.substr(a,5).toUpperCase()==="/"?(c!=null&&(y.v=c.H>=12?"":""),y.t="T",a+=5,p="h"):(y.t="t",++a),c==null&&y.t==="T")return"";s[s.length]=y,l=o;break;case"[":for(i=o;e.charAt(a++)!=="]"&&a<e.length;)i+=e.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(J7)){if(c==null&&(c=d2(t,r),c==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",eB(e)||(s[s.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++a<e.length&&(o=e.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},l=o;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)i+=e.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++a;break}var b=0,v=0,S;for(a=s.length-1,l="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=p,l="h",b<1&&(b=1);break;case"s":(S=s[a].v.match(/\.0+$/))&&(v=Math.max(v,S[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=s[a].t;break;case"m":l==="s"&&(s[a].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&s[a].v.match(/[Hh]/)&&(b=1),b<2&&s[a].v.match(/[Mm]/)&&(b=2),b<3&&s[a].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",T;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=Roe(s[a].t.charCodeAt(0),s[a].v,c,v),s[a].t="t";break;case"n":case"?":for(T=a+1;s[T]!=null&&((o=s[T].t)==="?"||o==="D"||(o===" "||o==="t")&&s[T+1]!=null&&(s[T+1].t==="?"||s[T+1].t==="t"&&s[T+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[T].v==="/"||s[T].v===" "&&s[T+1]!=null&&s[T+1].t=="?"));)s[a].v+=s[T].v,s[T]={v:"",t:";"},++T;_+=s[a].v,a=T-1;break;case"G":s[a].t="t",s[a].v=lA(t,r);break}var R="",B,j;if(_.length>0){_.charCodeAt(0)==40?(B=t<0&&_.charCodeAt(0)===45?-t:t,j=rd("n",_,B)):(B=t<0&&n>1?-t:t,j=rd("n",_,B),B<0&&s[0]&&s[0].t=="t"&&(j=j.substr(1),s[0].v="-"+s[0].v)),T=j.length-1;var P=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){P=a;break}var F=s.length;if(P===s.length&&j.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(T>=s[a].v.length-1?(T-=s[a].v.length,s[a].v=j.substr(T+1,s[a].v.length)):T<0?s[a].v="":(s[a].v=j.substr(0,T+1),T=-1),s[a].t="t",F=a);T>=0&&F<s.length&&(s[F].v=j.substr(0,T+1)+s[F].v)}else if(P!==s.length&&j.indexOf("E")===-1){for(T=j.indexOf(".")-1,a=P;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(u=s[a].v.indexOf(".")>-1&&a===P?s[a].v.indexOf(".")-1:s[a].v.length-1,R=s[a].v.substr(u+1);u>=0;--u)T>=0&&(s[a].v.charAt(u)==="0"||s[a].v.charAt(u)==="#")&&(R=j.charAt(T--)+R);s[a].v=R,s[a].t="t",F=a}for(T>=0&&F<s.length&&(s[F].v=j.substr(0,T+1)+s[F].v),T=j.indexOf(".")+1,a=P;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==P)){for(u=s[a].v.indexOf(".")>-1&&a===P?s[a].v.indexOf(".")+1:0,R=s[a].v.substr(0,u);u<s[a].v.length;++u)T<j.length&&(R+=j.charAt(T++));s[a].v=R,s[a].t="t",F=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(B=n>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=rd(s[a].t,s[a].v,B),s[a].t="t");var N="";for(a=0;a!==s.length;++a)s[a]!=null&&(N+=s[a].v);return N}var CP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function IP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Hoe(e,t){var r=zoe(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(CP),o=r[1].match(CP);return IP(t,a)?[n,r[0]]:IP(t,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,i]}function eh(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ts)[e],n==null&&(n=r.table&&r.table[NP[e]]||Ts[NP[e]]),n==null&&(n=Eoe[e]||"General");break}if(db(n,0))return lA(t,r);t instanceof Date&&(t=W7(t,r.date1904));var s=Hoe(n,t);if(db(s[1]))return lA(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return qoe(s[1],t,r,s[0])}function tB(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ts[r]==null){t<0&&(t=r);continue}if(Ts[r]==e){t=r;break}}t<0&&(t=391)}return Ts[t]=e,t}function E_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&tB(e[t],t)}function N_(){Ts=Aoe()}var rB=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Woe(e){var t=typeof e=="number"?Ts[e]:e;return t=t.replace(rB,"(\\d+)"),new RegExp("^"+t+"$")}function Voe(e,t,r){var n=-1,s=-1,i=-1,a=-1,o=-1,l=-1;(t.match(rB)||[]).forEach(function(h,p){var m=parseInt(r[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:s=m;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&s==-1&&i==-1?u:c+"T"+u}var Goe=function(){var e={};e.version="1.2.0";function t(){for(var j=0,P=new Array(256),F=0;F!=256;++F)j=F,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,P[F]=j;return typeof Int32Array<"u"?new Int32Array(P):P}var r=t();function n(j){var P=0,F=0,N=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)k[N]=j[N];for(N=0;N!=256;++N)for(F=j[N],P=256+N;P<4096;P+=256)F=k[P]=F>>>8^j[F&255];var C=[];for(N=1;N!=16;++N)C[N-1]=typeof Int32Array<"u"?k.subarray(N*256,N*256+256):k.slice(N*256,N*256+256);return C}var s=n(r),i=s[0],a=s[1],o=s[2],l=s[3],c=s[4],u=s[5],h=s[6],p=s[7],m=s[8],x=s[9],y=s[10],b=s[11],v=s[12],S=s[13],_=s[14];function T(j,P){for(var F=P^-1,N=0,k=j.length;N<k;)F=F>>>8^r[(F^j.charCodeAt(N++))&255];return~F}function R(j,P){for(var F=P^-1,N=j.length-15,k=0;k<N;)F=_[j[k++]^F&255]^S[j[k++]^F>>8&255]^v[j[k++]^F>>16&255]^b[j[k++]^F>>>24]^y[j[k++]]^x[j[k++]]^m[j[k++]]^p[j[k++]]^h[j[k++]]^u[j[k++]]^c[j[k++]]^l[j[k++]]^o[j[k++]]^a[j[k++]]^i[j[k++]]^r[j[k++]];for(N+=15;k<N;)F=F>>>8^r[(F^j[k++])&255];return~F}function B(j,P){for(var F=P^-1,N=0,k=j.length,C=0,H=0;N<k;)C=j.charCodeAt(N++),C<128?F=F>>>8^r[(F^C)&255]:C<2048?(F=F>>>8^r[(F^(192|C>>6&31))&255],F=F>>>8^r[(F^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,H=j.charCodeAt(N++)&1023,F=F>>>8^r[(F^(240|C>>8&7))&255],F=F>>>8^r[(F^(128|C>>2&63))&255],F=F>>>8^r[(F^(128|H>>6&15|(C&3)<<4))&255],F=F>>>8^r[(F^(128|H&63))&255]):(F=F>>>8^r[(F^(224|C>>12&15))&255],F=F>>>8^r[(F^(128|C>>6&63))&255],F=F>>>8^r[(F^(128|C&63))&255]);return~F}return e.table=r,e.bstr=T,e.buf=R,e.str=B,e}(),On=function(){var t={};t.version="1.2.1";function r(ie,we){for(var fe=ie.split("/"),me=we.split("/"),be=0,_e=0,Be=Math.min(fe.length,me.length);be<Be;++be){if(_e=fe[be].length-me[be].length)return _e;if(fe[be]!=me[be])return fe[be]<me[be]?-1:1}return fe.length-me.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var we=ie.lastIndexOf("/");return we===-1?ie:ie.slice(0,we+1)}function s(ie){if(ie.charAt(ie.length-1)=="/")return s(ie.slice(0,-1));var we=ie.lastIndexOf("/");return we===-1?ie:ie.slice(we+1)}function i(ie,we){typeof we=="string"&&(we=new Date(we));var fe=we.getHours();fe=fe<<6|we.getMinutes(),fe=fe<<5|we.getSeconds()>>>1,ie.write_shift(2,fe);var me=we.getFullYear()-1980;me=me<<4|we.getMonth()+1,me=me<<5|we.getDate(),ie.write_shift(2,me)}function a(ie){var we=ie.read_shift(2)&65535,fe=ie.read_shift(2)&65535,me=new Date,be=fe&31;fe>>>=5;var _e=fe&15;fe>>>=4,me.setMilliseconds(0),me.setFullYear(fe+1980),me.setMonth(_e-1),me.setDate(be);var Be=we&31;we>>>=5;var Xe=we&63;return we>>>=6,me.setHours(we),me.setMinutes(Xe),me.setSeconds(Be<<1),me}function o(ie){To(ie,0);for(var we={},fe=0;ie.l<=ie.length-4;){var me=ie.read_shift(2),be=ie.read_shift(2),_e=ie.l+be,Be={};switch(me){case 21589:fe=ie.read_shift(1),fe&1&&(Be.mtime=ie.read_shift(4)),be>5&&(fe&2&&(Be.atime=ie.read_shift(4)),fe&4&&(Be.ctime=ie.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}ie.l=_e,we[me]=Be}return we}var l;function c(){return l||(l={})}function u(ie,we){if(ie[0]==80&&ie[1]==75)return jn(ie,we);if((ie[0]|32)==109&&(ie[1]|32)==105)return rr(ie,we);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var fe=3,me=512,be=0,_e=0,Be=0,Xe=0,ze=0,qe=[],We=ie.slice(0,512);To(We,0);var gt=h(We);switch(fe=gt[0],fe){case 3:me=512;break;case 4:me=4096;break;case 0:if(gt[1]==0)return jn(ie,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}me!==512&&(We=ie.slice(0,me),To(We,28));var At=ie.slice(0,me);p(We,fe);var It=We.read_shift(4,"i");if(fe===3&&It!==0)throw new Error("# Directory Sectors: Expected 0 saw "+It);We.l+=4,Be=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),Xe=We.read_shift(4,"i"),be=We.read_shift(4,"i"),ze=We.read_shift(4,"i"),_e=We.read_shift(4,"i");for(var vt=-1,kt=0;kt<109&&(vt=We.read_shift(4,"i"),!(vt<0));++kt)qe[kt]=vt;var fr=m(ie,me);b(ze,_e,fr,me,qe);var mn=S(fr,Be,qe,me);mn[Be].name="!Directory",be>0&&Xe!==H&&(mn[Xe].name="!MiniFAT"),mn[qe[0]].name="!FAT",mn.fat_addrs=qe,mn.ssz=me;var $r={},Un=[],lo=[],La=[];_(Be,mn,fr,Un,be,$r,lo,Xe),x(lo,La,Un),Un.shift();var Uo={FileIndex:lo,FullPaths:La};return we&&we.raw&&(Uo.raw={header:At,sectors:fr}),Uo}function h(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(z,"Header Signature: "),ie.l+=16;var we=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),we]}function p(ie,we){var fe=9;switch(ie.l+=2,fe=ie.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function m(ie,we){for(var fe=Math.ceil(ie.length/we)-1,me=[],be=1;be<fe;++be)me[be-1]=ie.slice(be*we,(be+1)*we);return me[fe-1]=ie.slice(fe*we),me}function x(ie,we,fe){for(var me=0,be=0,_e=0,Be=0,Xe=0,ze=fe.length,qe=[],We=[];me<ze;++me)qe[me]=We[me]=me,we[me]=fe[me];for(;Xe<We.length;++Xe)me=We[Xe],be=ie[me].L,_e=ie[me].R,Be=ie[me].C,qe[me]===me&&(be!==-1&&qe[be]!==be&&(qe[me]=qe[be]),_e!==-1&&qe[_e]!==_e&&(qe[me]=qe[_e])),Be!==-1&&(qe[Be]=me),be!==-1&&me!=qe[me]&&(qe[be]=qe[me],We.lastIndexOf(be)<Xe&&We.push(be)),_e!==-1&&me!=qe[me]&&(qe[_e]=qe[me],We.lastIndexOf(_e)<Xe&&We.push(_e));for(me=1;me<ze;++me)qe[me]===me&&(_e!==-1&&qe[_e]!==_e?qe[me]=qe[_e]:be!==-1&&qe[be]!==be&&(qe[me]=qe[be]));for(me=1;me<ze;++me)if(ie[me].type!==0){if(Xe=me,Xe!=qe[Xe])do Xe=qe[Xe],we[me]=we[Xe]+"/"+we[me];while(Xe!==0&&qe[Xe]!==-1&&Xe!=qe[Xe]);qe[me]=-1}for(we[0]+="/",me=1;me<ze;++me)ie[me].type!==2&&(we[me]+="/")}function y(ie,we,fe){for(var me=ie.start,be=ie.size,_e=[],Be=me;fe&&be>0&&Be>=0;)_e.push(we.slice(Be*C,Be*C+C)),be-=C,Be=n0(fe,Be*4);return _e.length===0?et(0):Di(_e).slice(0,ie.size)}function b(ie,we,fe,me,be){var _e=H;if(ie===H){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Be=fe[ie],Xe=(me>>>2)-1;if(!Be)return;for(var ze=0;ze<Xe&&(_e=n0(Be,ze*4))!==H;++ze)be.push(_e);b(n0(Be,me-4),we-1,fe,me,be)}}function v(ie,we,fe,me,be){var _e=[],Be=[];be||(be=[]);var Xe=me-1,ze=0,qe=0;for(ze=we;ze>=0;){be[ze]=!0,_e[_e.length]=ze,Be.push(ie[ze]);var We=fe[Math.floor(ze*4/me)];if(qe=ze*4&Xe,me<4+qe)throw new Error("FAT boundary crossed: "+ze+" 4 "+me);if(!ie[We])break;ze=n0(ie[We],qe)}return{nodes:_e,data:MP([Be])}}function S(ie,we,fe,me){var be=ie.length,_e=[],Be=[],Xe=[],ze=[],qe=me-1,We=0,gt=0,At=0,It=0;for(We=0;We<be;++We)if(Xe=[],At=We+we,At>=be&&(At-=be),!Be[At]){ze=[];var vt=[];for(gt=At;gt>=0;){vt[gt]=!0,Be[gt]=!0,Xe[Xe.length]=gt,ze.push(ie[gt]);var kt=fe[Math.floor(gt*4/me)];if(It=gt*4&qe,me<4+It)throw new Error("FAT boundary crossed: "+gt+" 4 "+me);if(!ie[kt]||(gt=n0(ie[kt],It),vt[gt]))break}_e[At]={nodes:Xe,data:MP([ze])}}return _e}function _(ie,we,fe,me,be,_e,Be,Xe){for(var ze=0,qe=me.length?2:0,We=we[ie].data,gt=0,At=0,It;gt<We.length;gt+=128){var vt=We.slice(gt,gt+128);To(vt,64),At=vt.read_shift(2),It=rT(vt,0,At-qe),me.push(It);var kt={name:It,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},fr=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);fr!==0&&(kt.ct=T(vt,vt.l-8));var mn=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);mn!==0&&(kt.mt=T(vt,vt.l-8)),kt.start=vt.read_shift(4,"i"),kt.size=vt.read_shift(4,"i"),kt.size<0&&kt.start<0&&(kt.size=kt.type=0,kt.start=H,kt.name=""),kt.type===5?(ze=kt.start,be>0&&ze!==H&&(we[ze].name="!StreamData")):kt.size>=4096?(kt.storage="fat",we[kt.start]===void 0&&(we[kt.start]=v(fe,kt.start,we.fat_addrs,we.ssz)),we[kt.start].name=kt.name,kt.content=we[kt.start].data.slice(0,kt.size)):(kt.storage="minifat",kt.size<0?kt.size=0:ze!==H&&kt.start!==H&&we[ze]&&(kt.content=y(kt,we[ze].data,(we[Xe]||{}).data))),kt.content&&To(kt.content,0),_e[It]=kt,Be.push(kt)}}function T(ie,we){return new Date((Co(ie,we+4)/1e7*Math.pow(2,32)+Co(ie,we)/1e7-11644473600)*1e3)}function R(ie,we){return c(),u(l.readFileSync(ie),we)}function B(ie,we){var fe=we&&we.type;switch(fe||pn&&Buffer.isBuffer(ie)&&(fe="buffer"),fe||"base64"){case"file":return R(ie,we);case"base64":return u(nc(pd(ie)),we);case"binary":return u(nc(ie),we)}return u(ie,we)}function j(ie,we){var fe=we||{},me=fe.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=me+"/",ie.FileIndex[0]={name:me,type:5}),fe.CLSID&&(ie.FileIndex[0].clsid=fe.CLSID),P(ie)}function P(ie){var we="Sh33tJ5";if(!On.find(ie,"/"+we)){var fe=et(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,ie.FileIndex.push({name:we,type:2,content:fe,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+we),F(ie)}}function F(ie,we){j(ie);for(var fe=!1,me=!1,be=ie.FullPaths.length-1;be>=0;--be){var _e=ie.FileIndex[be];switch(_e.type){case 0:me?fe=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(_e.R*_e.L*_e.C)&&(fe=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!we)){var Be=new Date(1987,1,19),Xe=0,ze=Object.create?Object.create(null):{},qe=[];for(be=0;be<ie.FullPaths.length;++be)ze[ie.FullPaths[be]]=!0,ie.FileIndex[be].type!==0&&qe.push([ie.FullPaths[be],ie.FileIndex[be]]);for(be=0;be<qe.length;++be){var We=n(qe[be][0]);me=ze[We],me||(qe.push([We,{name:s(We).replace("/",""),type:1,clsid:Y,ct:Be,mt:Be,content:null}]),ze[We]=!0)}for(qe.sort(function(It,vt){return r(It[0],vt[0])}),ie.FullPaths=[],ie.FileIndex=[],be=0;be<qe.length;++be)ie.FullPaths[be]=qe[be][0],ie.FileIndex[be]=qe[be][1];for(be=0;be<qe.length;++be){var gt=ie.FileIndex[be],At=ie.FullPaths[be];if(gt.name=s(At).replace("/",""),gt.L=gt.R=gt.C=-(gt.color=1),gt.size=gt.content?gt.content.length:0,gt.start=0,gt.clsid=gt.clsid||Y,be===0)gt.C=qe.length>1?1:-1,gt.size=0,gt.type=5;else if(At.slice(-1)=="/"){for(Xe=be+1;Xe<qe.length&&n(ie.FullPaths[Xe])!=At;++Xe);for(gt.C=Xe>=qe.length?-1:Xe,Xe=be+1;Xe<qe.length&&n(ie.FullPaths[Xe])!=n(At);++Xe);gt.R=Xe>=qe.length?-1:Xe,gt.type=1}else n(ie.FullPaths[be+1]||"")==n(At)&&(gt.R=be+1),gt.type=2}}}function N(ie,we){var fe=we||{};if(fe.fileType=="mad")return oo(ie,fe);switch(F(ie),fe.fileType){case"zip":return cn(ie,fe)}var me=function(It){for(var vt=0,kt=0,fr=0;fr<It.FileIndex.length;++fr){var mn=It.FileIndex[fr];if(mn.content){var $r=mn.content.length;$r>0&&($r<4096?vt+=$r+63>>6:kt+=$r+511>>9)}}for(var Un=It.FullPaths.length+3>>2,lo=vt+7>>3,La=vt+127>>7,Uo=lo+kt+Un+La,ja=Uo+127>>7,bc=ja<=109?0:Math.ceil((ja-109)/127);Uo+ja+bc+127>>7>ja;)bc=++ja<=109?0:Math.ceil((ja-109)/127);var di=[1,bc,ja,La,Un,kt,vt,0];return It.FileIndex[0].size=vt<<6,di[7]=(It.FileIndex[0].start=di[0]+di[1]+di[2]+di[3]+di[4]+di[5])+(di[6]+7>>3),di}(ie),be=et(me[7]<<9),_e=0,Be=0;{for(_e=0;_e<8;++_e)be.write_shift(1,K[_e]);for(_e=0;_e<8;++_e)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),_e=0;_e<3;++_e)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,me[2]),be.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:H),be.write_shift(4,me[3]),be.write_shift(-4,me[1]?me[0]-1:H),be.write_shift(4,me[1]),_e=0;_e<109;++_e)be.write_shift(-4,_e<me[2]?me[1]+_e:-1)}if(me[1])for(Be=0;Be<me[1];++Be){for(;_e<236+Be*127;++_e)be.write_shift(-4,_e<me[2]?me[1]+_e:-1);be.write_shift(-4,Be===me[1]-1?H:Be+1)}var Xe=function(It){for(Be+=It;_e<Be-1;++_e)be.write_shift(-4,_e+1);It&&(++_e,be.write_shift(-4,H))};for(Be=_e=0,Be+=me[1];_e<Be;++_e)be.write_shift(-4,W.DIFSECT);for(Be+=me[2];_e<Be;++_e)be.write_shift(-4,W.FATSECT);Xe(me[3]),Xe(me[4]);for(var ze=0,qe=0,We=ie.FileIndex[0];ze<ie.FileIndex.length;++ze)We=ie.FileIndex[ze],We.content&&(qe=We.content.length,!(qe<4096)&&(We.start=Be,Xe(qe+511>>9)));for(Xe(me[6]+7>>3);be.l&511;)be.write_shift(-4,W.ENDOFCHAIN);for(Be=_e=0,ze=0;ze<ie.FileIndex.length;++ze)We=ie.FileIndex[ze],We.content&&(qe=We.content.length,!(!qe||qe>=4096)&&(We.start=Be,Xe(qe+63>>6)));for(;be.l&511;)be.write_shift(-4,W.ENDOFCHAIN);for(_e=0;_e<me[4]<<2;++_e){var gt=ie.FullPaths[_e];if(!gt||gt.length===0){for(ze=0;ze<17;++ze)be.write_shift(4,0);for(ze=0;ze<3;++ze)be.write_shift(4,-1);for(ze=0;ze<12;++ze)be.write_shift(4,0);continue}We=ie.FileIndex[_e],_e===0&&(We.start=We.size?We.start-1:H);var At=_e===0&&fe.root||We.name;if(qe=2*(At.length+1),be.write_shift(64,At,"utf16le"),be.write_shift(2,qe),be.write_shift(1,We.type),be.write_shift(1,We.color),be.write_shift(-4,We.L),be.write_shift(-4,We.R),be.write_shift(-4,We.C),We.clsid)be.write_shift(16,We.clsid,"hex");else for(ze=0;ze<4;++ze)be.write_shift(4,0);be.write_shift(4,We.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,We.start),be.write_shift(4,We.size),be.write_shift(4,0)}for(_e=1;_e<ie.FileIndex.length;++_e)if(We=ie.FileIndex[_e],We.size>=4096)if(be.l=We.start+1<<9,pn&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+511&-512;else{for(ze=0;ze<We.size;++ze)be.write_shift(1,We.content[ze]);for(;ze&511;++ze)be.write_shift(1,0)}for(_e=1;_e<ie.FileIndex.length;++_e)if(We=ie.FileIndex[_e],We.size>0&&We.size<4096)if(pn&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+63&-64;else{for(ze=0;ze<We.size;++ze)be.write_shift(1,We.content[ze]);for(;ze&63;++ze)be.write_shift(1,0)}if(pn)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function k(ie,we){var fe=ie.FullPaths.map(function(ze){return ze.toUpperCase()}),me=fe.map(function(ze){var qe=ze.split("/");return qe[qe.length-(ze.slice(-1)=="/"?2:1)]}),be=!1;we.charCodeAt(0)===47?(be=!0,we=fe[0].slice(0,-1)+we):be=we.indexOf("/")!==-1;var _e=we.toUpperCase(),Be=be===!0?fe.indexOf(_e):me.indexOf(_e);if(Be!==-1)return ie.FileIndex[Be];var Xe=!_e.match(u2);for(_e=_e.replace(iy,""),Xe&&(_e=_e.replace(u2,"!")),Be=0;Be<fe.length;++Be)if((Xe?fe[Be].replace(u2,"!"):fe[Be]).replace(iy,"")==_e||(Xe?me[Be].replace(u2,"!"):me[Be]).replace(iy,"")==_e)return ie.FileIndex[Be];return null}var C=64,H=-2,z="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(ie,we,fe){c();var me=N(ie,fe);l.writeFileSync(we,me)}function ne(ie){for(var we=new Array(ie.length),fe=0;fe<ie.length;++fe)we[fe]=String.fromCharCode(ie[fe]);return we.join("")}function ee(ie,we){var fe=N(ie,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,fe),fe;case"binary":return typeof fe=="string"?fe:ne(fe);case"base64":return Ky(typeof fe=="string"?fe:ne(fe));case"buffer":if(pn)return Buffer.isBuffer(fe)?fe:wd(fe);case"array":return typeof fe=="string"?nc(fe):fe}return fe}var X;function I(ie){try{var we=ie.InflateRaw,fe=new we;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)X=ie;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function U(ie,we){if(!X)return Er(ie,we);var fe=X.InflateRaw,me=new fe,be=me._processChunk(ie.slice(ie.l),me._finishFlushFlag);return ie.l+=me.bytesRead,be}function G(ie){return X?X.deflateRawSync(ie):Et(ie)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(ie){var we=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(we>>16|we>>8|we)&255}for(var pe=typeof Uint8Array<"u",oe=pe?new Uint8Array(256):[],De=0;De<256;++De)oe[De]=Se(De);function $e(ie,we){var fe=oe[ie&255];return we<=8?fe>>>8-we:(fe=fe<<8|oe[ie>>8&255],we<=16?fe>>>16-we:(fe=fe<<8|oe[ie>>16&255],fe>>>24-we))}function Ze(ie,we){var fe=we&7,me=we>>>3;return(ie[me]|(fe<=6?0:ie[me+1]<<8))>>>fe&3}function Ce(ie,we){var fe=we&7,me=we>>>3;return(ie[me]|(fe<=5?0:ie[me+1]<<8))>>>fe&7}function se(ie,we){var fe=we&7,me=we>>>3;return(ie[me]|(fe<=4?0:ie[me+1]<<8))>>>fe&15}function yt(ie,we){var fe=we&7,me=we>>>3;return(ie[me]|(fe<=3?0:ie[me+1]<<8))>>>fe&31}function Ke(ie,we){var fe=we&7,me=we>>>3;return(ie[me]|(fe<=1?0:ie[me+1]<<8))>>>fe&127}function Ne(ie,we,fe){var me=we&7,be=we>>>3,_e=(1<<fe)-1,Be=ie[be]>>>me;return fe<8-me||(Be|=ie[be+1]<<8-me,fe<16-me)||(Be|=ie[be+2]<<16-me,fe<24-me)||(Be|=ie[be+3]<<24-me),Be&_e}function Ge(ie,we,fe){var me=we&7,be=we>>>3;return me<=5?ie[be]|=(fe&7)<<me:(ie[be]|=fe<<me&255,ie[be+1]=(fe&7)>>8-me),we+3}function pt(ie,we,fe){var me=we&7,be=we>>>3;return fe=(fe&1)<<me,ie[be]|=fe,we+1}function it(ie,we,fe){var me=we&7,be=we>>>3;return fe<<=me,ie[be]|=fe&255,fe>>>=8,ie[be+1]=fe,we+8}function jt(ie,we,fe){var me=we&7,be=we>>>3;return fe<<=me,ie[be]|=fe&255,fe>>>=8,ie[be+1]=fe&255,ie[be+2]=fe>>>8,we+16}function Dt(ie,we){var fe=ie.length,me=2*fe>we?2*fe:we+5,be=0;if(fe>=we)return ie;if(pn){var _e=SP(me);if(ie.copy)ie.copy(_e);else for(;be<ie.length;++be)_e[be]=ie[be];return _e}else if(pe){var Be=new Uint8Array(me);if(Be.set)Be.set(ie);else for(;be<fe;++be)Be[be]=ie[be];return Be}return ie.length=me,ie}function gr(ie){for(var we=new Array(ie),fe=0;fe<ie;++fe)we[fe]=0;return we}function qt(ie,we,fe){var me=1,be=0,_e=0,Be=0,Xe=0,ze=ie.length,qe=pe?new Uint16Array(32):gr(32);for(_e=0;_e<32;++_e)qe[_e]=0;for(_e=ze;_e<fe;++_e)ie[_e]=0;ze=ie.length;var We=pe?new Uint16Array(ze):gr(ze);for(_e=0;_e<ze;++_e)qe[be=ie[_e]]++,me<be&&(me=be),We[_e]=0;for(qe[0]=0,_e=1;_e<=me;++_e)qe[_e+16]=Xe=Xe+qe[_e-1]<<1;for(_e=0;_e<ze;++_e)Xe=ie[_e],Xe!=0&&(We[_e]=qe[Xe+16]++);var gt=0;for(_e=0;_e<ze;++_e)if(gt=ie[_e],gt!=0)for(Xe=$e(We[_e],me)>>me-gt,Be=(1<<me+4-gt)-1;Be>=0;--Be)we[Xe|Be<<gt]=gt&15|_e<<4;return me}var Ee=pe?new Uint16Array(512):gr(512),at=pe?new Uint16Array(32):gr(32);if(!pe){for(var rt=0;rt<512;++rt)Ee[rt]=0;for(rt=0;rt<32;++rt)at[rt]=0}(function(){for(var ie=[],we=0;we<32;we++)ie.push(5);qt(ie,at,32);var fe=[];for(we=0;we<=143;we++)fe.push(8);for(;we<=255;we++)fe.push(9);for(;we<=279;we++)fe.push(7);for(;we<=287;we++)fe.push(8);qt(fe,Ee,288)})();var lt=function(){for(var we=pe?new Uint8Array(32768):[],fe=0,me=0;fe<ge.length-1;++fe)for(;me<ge[fe+1];++me)we[me]=fe;for(;me<32768;++me)we[me]=29;var be=pe?new Uint8Array(259):[];for(fe=0,me=0;fe<Q.length-1;++fe)for(;me<Q[fe+1];++me)be[me]=fe;function _e(Xe,ze){for(var qe=0;qe<Xe.length;){var We=Math.min(65535,Xe.length-qe),gt=qe+We==Xe.length;for(ze.write_shift(1,+gt),ze.write_shift(2,We),ze.write_shift(2,~We&65535);We-- >0;)ze[ze.l++]=Xe[qe++]}return ze.l}function Be(Xe,ze){for(var qe=0,We=0,gt=pe?new Uint16Array(32768):[];We<Xe.length;){var At=Math.min(65535,Xe.length-We);if(At<10){for(qe=Ge(ze,qe,+(We+At==Xe.length)),qe&7&&(qe+=8-(qe&7)),ze.l=qe/8|0,ze.write_shift(2,At),ze.write_shift(2,~At&65535);At-- >0;)ze[ze.l++]=Xe[We++];qe=ze.l*8;continue}qe=Ge(ze,qe,+(We+At==Xe.length)+2);for(var It=0;At-- >0;){var vt=Xe[We];It=(It<<5^vt)&32767;var kt=-1,fr=0;if((kt=gt[It])&&(kt|=We&-32768,kt>We&&(kt-=32768),kt<We))for(;Xe[kt+fr]==Xe[We+fr]&&fr<250;)++fr;if(fr>2){vt=be[fr],vt<=22?qe=it(ze,qe,oe[vt+1]>>1)-1:(it(ze,qe,3),qe+=5,it(ze,qe,oe[vt-23]>>5),qe+=3);var mn=vt<8?0:vt-4>>2;mn>0&&(jt(ze,qe,fr-Q[vt]),qe+=mn),vt=we[We-kt],qe=it(ze,qe,oe[vt]>>3),qe-=3;var $r=vt<4?0:vt-2>>1;$r>0&&(jt(ze,qe,We-kt-ge[vt]),qe+=$r);for(var Un=0;Un<fr;++Un)gt[It]=We&32767,It=(It<<5^Xe[We])&32767,++We;At-=fr-1}else vt<=143?vt=vt+48:qe=pt(ze,qe,1),qe=it(ze,qe,oe[vt]),gt[It]=We&32767,++We}qe=it(ze,qe,0)-1}return ze.l=(qe+7)/8|0,ze.l}return function(ze,qe){return ze.length<8?_e(ze,qe):Be(ze,qe)}}();function Et(ie){var we=et(50+Math.floor(ie.length*1.1)),fe=lt(ie,we);return we.slice(0,fe)}var St=pe?new Uint16Array(32768):gr(32768),or=pe?new Uint16Array(32768):gr(32768),cr=pe?new Uint16Array(128):gr(128),Bt=1,sr=1;function Gr(ie,we){var fe=yt(ie,we)+257;we+=5;var me=yt(ie,we)+1;we+=5;var be=se(ie,we)+4;we+=4;for(var _e=0,Be=pe?new Uint8Array(19):gr(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,qe=pe?new Uint8Array(8):gr(8),We=pe?new Uint8Array(8):gr(8),gt=Be.length,At=0;At<be;++At)Be[V[At]]=_e=Ce(ie,we),ze<_e&&(ze=_e),qe[_e]++,we+=3;var It=0;for(qe[0]=0,At=1;At<=ze;++At)We[At]=It=It+qe[At-1]<<1;for(At=0;At<gt;++At)(It=Be[At])!=0&&(Xe[At]=We[It]++);var vt=0;for(At=0;At<gt;++At)if(vt=Be[At],vt!=0){It=oe[Xe[At]]>>8-vt;for(var kt=(1<<7-vt)-1;kt>=0;--kt)cr[It|kt<<vt]=vt&7|At<<3}var fr=[];for(ze=1;fr.length<fe+me;)switch(It=cr[Ke(ie,we)],we+=It&7,It>>>=3){case 16:for(_e=3+Ze(ie,we),we+=2,It=fr[fr.length-1];_e-- >0;)fr.push(It);break;case 17:for(_e=3+Ce(ie,we),we+=3;_e-- >0;)fr.push(0);break;case 18:for(_e=11+Ke(ie,we),we+=7;_e-- >0;)fr.push(0);break;default:fr.push(It),ze<It&&(ze=It);break}var mn=fr.slice(0,fe),$r=fr.slice(fe);for(At=fe;At<286;++At)mn[At]=0;for(At=me;At<30;++At)$r[At]=0;return Bt=qt(mn,St,286),sr=qt($r,or,30),we}function Xt(ie,we){if(ie[0]==3&&!(ie[1]&3))return[H0(we),2];for(var fe=0,me=0,be=SP(we||1<<18),_e=0,Be=be.length>>>0,Xe=0,ze=0;!(me&1);){if(me=Ce(ie,fe),fe+=3,me>>>1)me>>1==1?(Xe=9,ze=5):(fe=Gr(ie,fe),Xe=Bt,ze=sr);else{fe&7&&(fe+=8-(fe&7));var qe=ie[fe>>>3]|ie[(fe>>>3)+1]<<8;if(fe+=32,qe>0)for(!we&&Be<_e+qe&&(be=Dt(be,_e+qe),Be=be.length);qe-- >0;)be[_e++]=ie[fe>>>3],fe+=8;continue}for(;;){!we&&Be<_e+32767&&(be=Dt(be,_e+32767),Be=be.length);var We=Ne(ie,fe,Xe),gt=me>>>1==1?Ee[We]:St[We];if(fe+=gt&15,gt>>>=4,!(gt>>>8&255))be[_e++]=gt;else{if(gt==256)break;gt-=257;var At=gt<8?0:gt-4>>2;At>5&&(At=0);var It=_e+Q[gt];At>0&&(It+=Ne(ie,fe,At),fe+=At),We=Ne(ie,fe,ze),gt=me>>>1==1?at[We]:or[We],fe+=gt&15,gt>>>=4;var vt=gt<4?0:gt-2>>1,kt=ge[gt];for(vt>0&&(kt+=Ne(ie,fe,vt),fe+=vt),!we&&Be<It&&(be=Dt(be,It+100),Be=be.length);_e<It;)be[_e]=be[_e-kt],++_e}}}return we?[be,fe+7>>>3]:[be.slice(0,_e),fe+7>>>3]}function Er(ie,we){var fe=ie.slice(ie.l||0),me=Xt(fe,we);return ie.l+=me[1],me[0]}function yr(ie,we){if(ie)typeof console<"u"&&console.error(we);else throw new Error(we)}function jn(ie,we){var fe=ie;To(fe,0);var me=[],be=[],_e={FileIndex:me,FullPaths:be};j(_e,{root:we.root});for(var Be=fe.length-4;(fe[Be]!=80||fe[Be+1]!=75||fe[Be+2]!=5||fe[Be+3]!=6)&&Be>=0;)--Be;fe.l=Be+4,fe.l+=4;var Xe=fe.read_shift(2);fe.l+=6;var ze=fe.read_shift(4);for(fe.l=ze,Be=0;Be<Xe;++Be){fe.l+=20;var qe=fe.read_shift(4),We=fe.read_shift(4),gt=fe.read_shift(2),At=fe.read_shift(2),It=fe.read_shift(2);fe.l+=8;var vt=fe.read_shift(4),kt=o(fe.slice(fe.l+gt,fe.l+gt+At));fe.l+=gt+At+It;var fr=fe.l;fe.l=vt+4,Xn(fe,qe,We,_e,kt),fe.l=fr}return _e}function Xn(ie,we,fe,me,be){ie.l+=2;var _e=ie.read_shift(2),Be=ie.read_shift(2),Xe=a(ie);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var ze=ie.read_shift(4),qe=ie.read_shift(4),We=ie.read_shift(4),gt=ie.read_shift(2),At=ie.read_shift(2),It="",vt=0;vt<gt;++vt)It+=String.fromCharCode(ie[ie.l++]);if(At){var kt=o(ie.slice(ie.l,ie.l+At));(kt[21589]||{}).mt&&(Xe=kt[21589].mt),((be||{})[21589]||{}).mt&&(Xe=be[21589].mt)}ie.l+=At;var fr=ie.slice(ie.l,ie.l+qe);switch(Be){case 8:fr=U(ie,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var mn=!1;_e&8&&(ze=ie.read_shift(4),ze==134695760&&(ze=ie.read_shift(4),mn=!0),qe=ie.read_shift(4),We=ie.read_shift(4)),qe!=we&&yr(mn,"Bad compressed size: "+we+" != "+qe),We!=fe&&yr(mn,"Bad uncompressed size: "+fe+" != "+We),ci(me,It,fr,{unsafe:!0,mt:Xe})}function cn(ie,we){var fe=we||{},me=[],be=[],_e=et(1),Be=fe.compression?8:0,Xe=0,ze=0,qe=0,We=0,gt=0,At=ie.FullPaths[0],It=At,vt=ie.FileIndex[0],kt=[],fr=0;for(ze=1;ze<ie.FullPaths.length;++ze)if(It=ie.FullPaths[ze].slice(At.length),vt=ie.FileIndex[ze],!(!vt.size||!vt.content||It=="Sh33tJ5")){var mn=We,$r=et(It.length);for(qe=0;qe<It.length;++qe)$r.write_shift(1,It.charCodeAt(qe)&127);$r=$r.slice(0,$r.l),kt[gt]=Goe.buf(vt.content,0);var Un=vt.content;Be==8&&(Un=G(Un)),_e=et(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,Xe),_e.write_shift(2,Be),vt.mt?i(_e,vt.mt):_e.write_shift(4,0),_e.write_shift(-4,kt[gt]),_e.write_shift(4,Un.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,$r.length),_e.write_shift(2,0),We+=_e.length,me.push(_e),We+=$r.length,me.push($r),We+=Un.length,me.push(Un),_e=et(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,Xe),_e.write_shift(2,Be),_e.write_shift(4,0),_e.write_shift(-4,kt[gt]),_e.write_shift(4,Un.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,$r.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,mn),fr+=_e.l,be.push(_e),fr+=$r.length,be.push($r),++gt}return _e=et(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,gt),_e.write_shift(2,gt),_e.write_shift(4,fr),_e.write_shift(4,We),_e.write_shift(2,0),Di([Di(me),Di(be),_e])}var lr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function tn(ie,we){if(ie.ctype)return ie.ctype;var fe=ie.name||"",me=fe.match(/\.([^\.]+)$/);return me&&lr[me[1]]||we&&(me=(fe=we).match(/[\.\\]([^\.\\])+$/),me&&lr[me[1]])?lr[me[1]]:"application/octet-stream"}function _l(ie){for(var we=Ky(ie),fe=[],me=0;me<we.length;me+=76)fe.push(we.slice(me,me+76));return fe.join(`\r
`)+`\r
`}function Bs(ie){var we=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var We=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],me=we.split(`\r
`),be=0;be<me.length;++be){var _e=me[be];if(_e.length==0){fe.push("");continue}for(var Be=0;Be<_e.length;){var Xe=76,ze=_e.slice(Be,Be+Xe);ze.charAt(Xe-1)=="="?Xe--:ze.charAt(Xe-2)=="="?Xe-=2:ze.charAt(Xe-3)=="="&&(Xe-=3),ze=_e.slice(Be,Be+Xe),Be+=Xe,Be<_e.length&&(ze+="="),fe.push(ze)}}return fe.join(`\r
`)}function Ra(ie){for(var we=[],fe=0;fe<ie.length;++fe){for(var me=ie[fe];fe<=ie.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ie[++fe];we.push(me)}for(var be=0;be<we.length;++be)we[be]=we[be].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return nc(we.join(`\r
`))}function Da(ie,we,fe){for(var me="",be="",_e="",Be,Xe=0;Xe<10;++Xe){var ze=we[Xe];if(!ze||ze.match(/^\s*$/))break;var qe=ze.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":me=qe[2].trim();break;case"content-type":_e=qe[2].trim();break;case"content-transfer-encoding":be=qe[2].trim();break}}switch(++Xe,be.toLowerCase()){case"base64":Be=nc(pd(we.slice(Xe).join("")));break;case"quoted-printable":Be=Ra(we.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var We=ci(ie,me.slice(fe.length),Be,{unsafe:!0});_e&&(We.ctype=_e)}function rr(ie,we){if(ne(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=we&&we.root||"",me=(pn&&Buffer.isBuffer(ie)?ie.toString("binary"):ne(ie)).split(`\r
`),be=0,_e="";for(be=0;be<me.length;++be)if(_e=me[be],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),fe||(fe=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),_e.slice(0,fe.length)!=fe););var Be=(me[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Xe="--"+(Be[1]||""),ze=[],qe=[],We={FileIndex:ze,FullPaths:qe};j(We);var gt,At=0;for(be=0;be<me.length;++be){var It=me[be];It!==Xe&&It!==Xe+"--"||(At++&&Da(We,me.slice(gt,be),fe),gt=be)}return We}function oo(ie,we){var fe=we||{},me=fe.boundary||"SheetJS";me="------="+me;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],_e=ie.FullPaths[0],Be=_e,Xe=ie.FileIndex[0],ze=1;ze<ie.FullPaths.length;++ze)if(Be=ie.FullPaths[ze].slice(_e.length),Xe=ie.FileIndex[ze],!(!Xe.size||!Xe.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(fr){return"_x"+fr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(fr){return"_u"+fr.charCodeAt(0).toString(16)+"_"});for(var qe=Xe.content,We=pn&&Buffer.isBuffer(qe)?qe.toString("binary"):ne(qe),gt=0,At=Math.min(1024,We.length),It=0,vt=0;vt<=At;++vt)(It=We.charCodeAt(vt))>=32&&It<128&&++gt;var kt=gt>=At*4/5;be.push(me),be.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+Be),be.push("Content-Transfer-Encoding: "+(kt?"quoted-printable":"base64")),be.push("Content-Type: "+tn(Xe,Be)),be.push(""),be.push(kt?Bs(We):_l(We))}return be.push(me+`--\r
`),be.join(`\r
`)}function oa(ie){var we={};return j(we,ie),we}function ci(ie,we,fe,me){var be=me&&me.unsafe;be||j(ie);var _e=!be&&On.find(ie,we);if(!_e){var Be=ie.FullPaths[0];we.slice(0,Be.length)==Be?Be=we:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+we).replace("//","/")),_e={name:s(we),type:2},ie.FileIndex.push(_e),ie.FullPaths.push(Be),be||On.utils.cfb_gc(ie)}return _e.content=fe,_e.size=fe?fe.length:0,me&&(me.CLSID&&(_e.clsid=me.CLSID),me.mt&&(_e.mt=me.mt),me.ct&&(_e.ct=me.ct)),_e}function ui(ie,we){j(ie);var fe=On.find(ie,we);if(fe){for(var me=0;me<ie.FileIndex.length;++me)if(ie.FileIndex[me]==fe)return ie.FileIndex.splice(me,1),ie.FullPaths.splice(me,1),!0}return!1}function Fn(ie,we,fe){j(ie);var me=On.find(ie,we);if(me){for(var be=0;be<ie.FileIndex.length;++be)if(ie.FileIndex[be]==me)return ie.FileIndex[be].name=s(fe),ie.FullPaths[be]=fe,!0}return!1}function ms(ie){F(ie,!0)}return t.find=k,t.read=B,t.parse=u,t.write=ee,t.writeFile=Z,t.utils={cfb_new:oa,cfb_add:ci,cfb_del:ui,cfb_mov:Fn,cfb_gc:ms,ReadShift:oy,CheckField:wB,prep_blob:To,bconcat:Di,use_zlib:I,_deflateRaw:Et,_inflateRaw:Er,consts:W},t}();function Koe(e){return typeof e=="string"?A_(e):Array.isArray(e)?woe(e):e}function Ux(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=A_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Xy(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([Koe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=e,a.href=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Bx(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Bi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function PP(e,t){for(var r=[],n=Bi(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function ZN(e){for(var t=[],r=Bi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function T_(e){for(var t=[],r=Bi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Yoe(e){for(var t=[],r=Bi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var hb=new Date(1899,11,30,0,0,0);function so(e,t){var r=e.getTime(),n=hb.getTime()+(e.getTimezoneOffset()-hb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var nB=new Date,Xoe=hb.getTime()+(nB.getTimezoneOffset()-hb.getTimezoneOffset())*6e4,OP=nB.getTimezoneOffset();function sB(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Xoe),t.getTimezoneOffset()!==OP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-OP)*6e4),t}var RP=new Date("2017-02-19T19:06:09.000Z"),iB=isNaN(RP.getFullYear())?new Date("2/19/17"):RP,Qoe=iB.getFullYear()==2017;function Ia(e,t){var r=new Date(e);if(Qoe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(iB.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function k_(e,t){if(pn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function io(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=io(e[r]));return t}function Es(e,t){for(var r="";r.length<t;)r+=e;return r}function nd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Zoe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yy(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Zoe.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Mr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return pn?n=wd(r):n=boe(r),On.utils.cfb_add(e,t,n)}On.utils.cfb_add(e,t,r)}else e.file(t,r)}function JN(){return On.utils.cfb_new()}var Ks=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Joe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},eT=ZN(Joe),tT=/[&<>'"]/g,ele=/[\u0000-\u0008\u000b-\u001f]/g;function kn(e){var t=e+"";return t.replace(tT,function(r){return eT[r]}).replace(ele,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function DP(e){return kn(e).replace(/ /g,"_x0020_")}var aB=/[\u0000-\u001f]/g;function tle(e){var t=e+"";return t.replace(tT,function(r){return eT[r]}).replace(/\n/g,"<br/>").replace(aB,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function rle(e){var t=e+"";return t.replace(tT,function(r){return eT[r]}).replace(aB,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function nle(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function sle(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function OS(e){for(var t="",r=0,n=0,s=0,i=0,a=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=e.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function LP(e){var t=H0(2*e.length),r,n,s=1,i=0,a=0,o;for(n=0;n<e.length;n+=s)s=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(t[i++]=a&255,t[i++]=a>>>8,a=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function jP(e){return wd(e,"binary").toString("utf8")}var f2="foo bar baz",ay=pn&&(jP(f2)==OS(f2)&&jP||LP(f2)==OS(f2)&&LP)||OS,Xy=pn?function(e){return wd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ile=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),oB=/(^\s|\s$|\n)/;function Li(e,t){return"<"+e+(t.match(oB)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Qy(e){return Bi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Nt(e,t,r){return"<"+e+(r!=null?Qy(r):"")+(t!=null?(t.match(oB)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function cA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function ale(e,t){switch(typeof e){case"string":var r=Nt("vt:lpwstr",kn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Nt((e|0)==e?"vt:i4":"vt:r8",kn(String(e)));case"boolean":return Nt("vt:bool",e?"true":"false")}if(e instanceof Date)return Nt("vt:filetime",cA(e));throw new Error("Unable to serialize "+e)}var wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ko={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ole(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function lle(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,a=n?-t:t;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var FP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},MP=pn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:wd(t)})):FP(e)}:FP,BP=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(D1(e,s)));return n.join("").replace(iy,"")},rT=pn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(iy,""):BP(e,t,r)}:BP,UP=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},lB=pn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):UP(e,t,r)}:UP,$P=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(qp(e,s)));return n.join("")},$x=pn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):$P(t,r,n)}:$P,cB=function(e,t){var r=Co(e,t);return r>0?$x(e,t+4,t+4+r-1):""},uB=cB,dB=function(e,t){var r=Co(e,t);return r>0?$x(e,t+4,t+4+r-1):""},fB=dB,hB=function(e,t){var r=2*Co(e,t);return r>0?$x(e,t+4,t+4+r-1):""},pB=hB,mB=function(t,r){var n=Co(t,r);return n>0?rT(t,r+4,r+4+n):""},gB=mB,yB=function(e,t){var r=Co(e,t);return r>0?$x(e,t+4,t+4+r):""},xB=yB,vB=function(e,t){return ole(e,t)},pb=vB,nT=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};pn&&(uB=function(t,r){if(!Buffer.isBuffer(t))return cB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},fB=function(t,r){if(!Buffer.isBuffer(t))return dB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},pB=function(t,r){if(!Buffer.isBuffer(t))return hB(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},gB=function(t,r){if(!Buffer.isBuffer(t))return mB(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},xB=function(t,r){if(!Buffer.isBuffer(t))return yB(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},pb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):vB(t,r)},nT=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qp=function(e,t){return e[t]},D1=function(e,t){return e[t+1]*256+e[t]},cle=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Co=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},n0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ule=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function oy(e,t){var r="",n,s,i=[],a,o,l,c;switch(t){case"dbcs":if(c=this.l,pn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(D1(this,c)),c+=2;e*=2;break;case"utf8":r=$x(this,this.l,this.l+e);break;case"utf16le":e*=2,r=rT(this,this.l,this.l+e);break;case"wstr":return oy.call(this,e,"dbcs");case"lpstr-ansi":r=uB(this,this.l),e=4+Co(this,this.l);break;case"lpstr-cp":r=fB(this,this.l),e=4+Co(this,this.l);break;case"lpwstr":r=pB(this,this.l),e=4+2*Co(this,this.l);break;case"lpp4":e=4+Co(this,this.l),r=gB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Co(this,this.l),r=xB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(a=qp(this,this.l+e++))!==0;)i.push(c2(a));r=i.join("");break;case"_wstr":for(e=0,r="";(a=D1(this,this.l+e))!==0;)i.push(c2(a)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=qp(this,c),this.l=c+1,o=oy.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(c2(D1(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=qp(this,c),this.l=c+1,o=oy.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(c2(qp(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=qp(this,this.l),this.l++,n;case 2:return n=(t==="i"?cle:D1)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?n0:ule)(this,this.l),this.l+=4,n):(s=Co(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=pb(this,this.l):s=pb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=lB(this,this.l,e);break}}return this.l+=e,r}var dle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fle=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ple(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)hle(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dle(this,t,this.l);break;case 8:if(n=8,r==="f"){lle(this,t,this.l);break}case 16:break;case-4:n=4,fle(this,t,this.l);break}return this.l+=n,this}function wB(e,t){var r=lB(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function To(e,t){e.l=t,e.read_shift=oy,e.chk=wB,e.write_shift=ple}function gu(e,t){e.l+=t}function et(e){var t=H0(e);return To(t,0),t}function no(){var e=[],t=pn?256:2048,r=function(c){var u=et(c);return To(u,0),u},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(s(),n=r(Math.max(c+1,t)))},a=function(){return s(),Di(e)},o=function(c){s(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:a,_bufs:e}}function ht(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=o0e[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var a=e.next(i);s<=127?a.write_shift(1,s):(a.write_shift(1,(s&127)+128),a.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&nT(r)&&e.push(r)}}function ly(e,t,r){var n=io(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function zP(e,t,r){var n=io(e);return n.s=ly(n.s,t.s,r),n.e=ly(n.e,t.s,r),n}function cy(e,t){if(e.cRel&&e.c<0)for(e=io(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=io(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=In(e);return!e.cRel&&e.cRel!=null&&(r=yle(r)),!e.rRel&&e.rRel!=null&&(r=mle(r)),r}function RS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+sa(e.s.c)+":"+(e.e.cRel?"":"$")+sa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Fi(e.s.r)+":"+(e.e.rRel?"":"$")+Fi(e.e.r):cy(e.s,t.biff)+":"+cy(e.e,t.biff)}function sT(e){return parseInt(gle(e),10)-1}function Fi(e){return""+(e+1)}function mle(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gle(e){return e.replace(/\$(\d+)$/,"$1")}function iT(e){for(var t=xle(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function sa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function yle(e){return e.replace(/^([A-Z])/,"$$$1")}function xle(e){return e.replace(/^\$([A-Z])/,"$1")}function vle(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bi(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function In(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Fo(e){var t=e.indexOf(":");return t==-1?{s:bi(e),e:bi(e)}:{s:bi(e.slice(0,t)),e:bi(e.slice(t+1))}}function Gs(e,t){return typeof t>"u"||typeof t=="number"?Gs(e.s,e.e):(typeof e!="string"&&(e=In(e)),typeof t!="string"&&(t=In(t)),e==t?e:e+":"+t)}function Kn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function qP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=eh(e.z,r?so(t):t)}catch{}try{return e.w=eh((e.XF||{}).numFmtId||(r?14:0),r?so(t):t)}catch{return""+t}}function md(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zx[e.v]||e.v:t==null?qP(e,e.v):qP(e,t))}function np(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function bB(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),a=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?bi(n.origin):n.origin;a=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Kn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if(!(typeof t[h][p]>"u")){var m={v:t[h][p]},x=a+h,y=o+p;if(c.s.r>x&&(c.s.r=x),c.s.c>y&&(c.s.c=y),c.e.r<x&&(c.e.r=x),c.e.c<y&&(c.e.c=y),t[h][p]&&typeof t[h][p]=="object"&&!Array.isArray(t[h][p])&&!(t[h][p]instanceof Date))m=t[h][p];else if(Array.isArray(m.v)&&(m.f=t[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ts[14],n.cellDates?(m.t="d",m.w=eh(m.z,so(m.v))):(m.t="n",m.v=so(m.v),m.w=eh(m.z,m.v))):m.t="s";if(s)i[x]||(i[x]=[]),i[x][y]&&i[x][y].z&&(m.z=i[x][y].z),i[x][y]=m;else{var b=In({c:y,r:x});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return c.s.c<1e7&&(i["!ref"]=Gs(c)),i}function _g(e,t){return bB(null,e,t)}function wle(e){return e.read_shift(4,"i")}function uc(e,t){return t||(t=et(4)),t.write_shift(4,e),t}function ia(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function _i(e,t){var r=!1;return t==null&&(r=!0,t=et(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function ble(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function _le(e,t){return t||(t=et(4)),t.write_shift(2,0),t.write_shift(2,0),t}function aT(e,t){var r=e.l,n=e.read_shift(1),s=ia(e),i=[],a={t:s,h:s};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(ble(e));a.r=i}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}function Sle(e,t){var r=!1;return t==null&&(r=!0,t=et(15+4*e.t.length)),t.write_shift(1,0),_i(e.t,t),r?t.slice(0,t.l):t}var Ale=aT;function Ele(e,t){var r=!1;return t==null&&(r=!0,t=et(23+4*e.t.length)),t.write_shift(1,1),_i(e.t,t),t.write_shift(4,1),_le({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function bl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sp(e,t){return t==null&&(t=et(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ip(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ap(e,t){return t==null&&(t=et(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Nle=ia,_B=_i;function oT(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function mb(e,t){var r=!1;return t==null&&(r=!0,t=et(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Tle=ia,uA=oT,lT=mb;function SB(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?pb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):n0(t,0)>>2;return r?s/100:s}function AB(e,t){t==null&&(t=et(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function EB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function kle(e,t){return t||(t=et(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var op=EB,Sg=kle;function Ag(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function W0(e,t){return(t||et(8)).write_shift(8,e,"f")}function Cle(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var c=Mle[s];c&&(t.rgb=eO(c));break;case 2:t.rgb=eO([a,o,l]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function gb(e,t){if(t||(t=et(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Ile(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Ple(e,t){t||(t=et(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var NB=2,Eo=3,h2=11,yb=19,p2=64,Ole=65,Rle=71,Dle=4108,Lle=4126,Oi=80,HP={1:{n:"CodePage",t:NB},2:{n:"Category",t:Oi},3:{n:"PresentationFormat",t:Oi},4:{n:"ByteCount",t:Eo},5:{n:"LineCount",t:Eo},6:{n:"ParagraphCount",t:Eo},7:{n:"SlideCount",t:Eo},8:{n:"NoteCount",t:Eo},9:{n:"HiddenCount",t:Eo},10:{n:"MultimediaClipCount",t:Eo},11:{n:"ScaleCrop",t:h2},12:{n:"HeadingPairs",t:Dle},13:{n:"TitlesOfParts",t:Lle},14:{n:"Manager",t:Oi},15:{n:"Company",t:Oi},16:{n:"LinksUpToDate",t:h2},17:{n:"CharacterCount",t:Eo},19:{n:"SharedDoc",t:h2},22:{n:"HyperlinksChanged",t:h2},23:{n:"AppVersion",t:Eo,p:"version"},24:{n:"DigSig",t:Ole},26:{n:"ContentType",t:Oi},27:{n:"ContentStatus",t:Oi},28:{n:"Language",t:Oi},29:{n:"Version",t:Oi},255:{},2147483648:{n:"Locale",t:yb},2147483651:{n:"Behavior",t:yb},1919054434:{}},WP={1:{n:"CodePage",t:NB},2:{n:"Title",t:Oi},3:{n:"Subject",t:Oi},4:{n:"Author",t:Oi},5:{n:"Keywords",t:Oi},6:{n:"Comments",t:Oi},7:{n:"Template",t:Oi},8:{n:"LastAuthor",t:Oi},9:{n:"RevNumber",t:Oi},10:{n:"EditTime",t:p2},11:{n:"LastPrinted",t:p2},12:{n:"CreatedDate",t:p2},13:{n:"ModifiedDate",t:p2},14:{n:"PageCount",t:Eo},15:{n:"WordCount",t:Eo},16:{n:"CharCount",t:Eo},17:{n:"Thumbnail",t:Rle},18:{n:"Application",t:Oi},19:{n:"DocSecurity",t:Eo},255:{},2147483648:{n:"Locale",t:yb},2147483651:{n:"Behavior",t:yb},1919054434:{}};function jle(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Fle=jle([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Mle=io(Fle),zx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ble={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function TB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kB(e,t){var r=Yoe(Ble),n=[],s;n[n.length]=Ks,n[n.length]=Nt("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Nt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(s=e[l][0],n[n.length]=Nt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:m2[l][t.bookType]||m2[l].xlsx}))},a=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:m2[l][t.bookType]||m2[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var fn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function CB(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function bm(e){var t=[Ks,Nt("Relationships",null,{xmlns:wi.RELS})];return Bi(e["!id"]).forEach(function(r){t[t.length]=Nt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function An(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[fn.HLINK,fn.XPATH,fn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Ule(e){var t=[Ks];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function VP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function $le(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function zle(e){var t=[Ks];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(VP(e[r][0],e[r][1])),t.push($le("",e[r][0]));return t.push(VP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function IB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+cb.version+"</meta:generator></office:meta></office:document-meta>"}var O0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function DS(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=kn(t),n[n.length]=r?Nt(e,t,r):Li(e,t))}function PB(e,t){var r=t||{},n=[Ks,Nt("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&DS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:cA(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&DS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:cA(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=O0.length;++i){var a=O0[i],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e?e[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&DS(a[0],o,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var _m=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],OB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function RB(e){var t=[],r=Nt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ks,t[t.length]=Nt("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),_m.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=kn(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+kn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function DB(e){var t=[Ks,Nt("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!e)return t.join("");var r=1;return Bi(e).forEach(function(s){++r,t[t.length]=Nt("property",ale(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:kn(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var GP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function qle(e,t){var r=[];return Bi(GP).map(function(n){for(var s=0;s<O0.length;++s)if(O0[s][1]==n)return O0[s];for(s=0;s<_m.length;++s)if(_m[s][1]==n)return _m[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Li(GP[n[1]]||n[1],s))}}),Nt("DocumentProperties",r.join(""),{xmlns:ko.o})}function Hle(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&Bi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var a=0;a<O0.length;++a)if(i==O0[a][1])return;for(a=0;a<_m.length;++a)if(i==_m[a][1])return;for(a=0;a<r.length;++a)if(i==r[a])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),s.push(Nt(DP(i),o,{"dt:dt":l}))}}),t&&Bi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var a=t[i],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),s.push(Nt(DP(i),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+ko.o+'">'+s.join("")+"</"+n+">"}function Wle(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var a=et(8);return a.write_shift(4,n),a.write_shift(4,s),a}function KP(e,t){var r=et(4),n=et(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=et(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Wle(t);break;case 31:case 80:for(n=et(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Di([r,n])}var LB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Vle(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function YP(e,t,r){var n=et(8),s=[],i=[],a=8,o=0,l=et(8),c=et(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),s.push(c),a+=8+l.length,!t){c=et(8),c.write_shift(4,0),s.unshift(c);var u=[et(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for(l=et(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Di(u),i.unshift(l),a+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(LB.indexOf(e[o][0])>-1||OB.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],m=0;if(t){m=+t[e[o][0]];var x=r[m];if(x.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}l=KP(x.t,p)}else{var b=Vle(p);b==-1&&(b=31,p=String(p)),l=KP(b,p)}i.push(l),c=et(8),c.write_shift(4,t?m:2+o),s.push(c),a+=8+l.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)s[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,a),n.write_shift(4,i.length),Di([n].concat(s).concat(i))}function XP(e,t,r,n,s,i){var a=et(s?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,On.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,s?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,s?68:48);var l=YP(e,r,n);if(o.push(l),s){var c=YP(s,null,null);a.write_shift(16,i,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Di(o)}function Gle(e,t){t||(t=et(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Kle(e,t){return e.read_shift(t)===1}function Aa(e,t){return t||(t=et(2)),t.write_shift(2,+!!e),t}function jB(e){return e.read_shift(2,"u")}function rl(e,t){return t||(t=et(2)),t.write_shift(2,e),t}function FB(e,t,r){return r||(r=et(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function MB(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var a=n?e.read_shift(n,s):"";return a}function Yle(e){var t=e.t||"",r=et(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=et(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Di(s)}function Xle(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Qle(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Xle(e,n,r)}function Zle(e,t,r){if(r.biff>5)return Qle(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function BB(e,t,r){return r||(r=et(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function QP(e,t){t||(t=et(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Jle(e){var t=et(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(i==28)n=n.slice(1),QP(n,t);else if(i&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var o=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&QP(s>-1?n.slice(s+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function V0(e,t,r,n){return n||(n=et(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ece(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),a=e.read_shift(n,"i");return[s,i,a]}function tce(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function UB(e,t){return t||(t=et(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function cT(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=et(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function rce(e,t){var r=!t||t.biff==8,n=et(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function nce(e,t){var r=!t||t.biff>=8?2:1,n=et(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function sce(e,t){var r=et(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=Yle(e[s]);var i=Di([r].concat(n));return i.parts=[r.length].concat(n.map(function(a){return a.length})),i}function ice(){var e=et(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function ace(e){var t=et(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function oce(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=et(s);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function lce(e,t,r,n){var s=et(10);return V0(e,t,n,s),s.write_shift(4,r),s}function cce(e,t,r,n,s){var i=!s||s.biff==8,a=et(8+ +i+(1+i)*r.length);return V0(e,t,n,a),a.write_shift(2,r.length),i&&a.write_shift(1,1),a.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),a}function uce(e,t,r,n){var s=r&&r.biff==5;n||(n=et(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function dce(e,t){var r=t.biff==8||!t.biff?4:2,n=et(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function ZP(e,t,r,n){var s=r&&r.biff==5;n||(n=et(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function fce(e){var t=et(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function hce(e,t,r,n,s,i){var a=et(8);return V0(e,t,n,a),FB(r,i,a),a}function pce(e,t,r,n){var s=et(14);return V0(e,t,n,s),W0(r,s),s}function mce(e,t,r){if(r.biff<8)return gce(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ece(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function gce(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=MB(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function yce(e){var t=et(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)UB(e[r],t);return t}function xce(e){var t=et(24),r=bi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Di([t,Jle(e[1])])}function vce(e){var t=e[1].Tooltip,r=et(10+2*(t.length+1));r.write_shift(2,2048);var n=bi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function wce(e){return e||(e=et(4)),e.write_shift(2,1),e.write_shift(2,1),e}function bce(e,t,r){if(!r.cellStyles)return gu(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s,e:i,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function _ce(e,t){var r=et(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Sce(e){for(var t=et(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Ace(e,t,r){var n=et(15);return Hx(n,e,t),n.write_shift(8,r,"f"),n}function Ece(e,t,r){var n=et(9);return Hx(n,e,t),n.write_shift(2,r),n}var Nce=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ZN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=H0(1);switch(l.type){case"base64":u=nc(pd(o));break;case"binary":u=nc(o);break;case"buffer":case"array":u=o;break}To(u,0);var h=u.read_shift(1),p=!!(h&136),m=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,b=521;h==2&&(y=u.read_shift(2)),u.l+=3,h!=2&&(y=u.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(b=u.read_shift(2));var v=u.read_shift(2),S=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(S=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var _=[],T={},R=Math.min(u.length,h==2?521:b-10-(m?264:0)),B=x?32:11;u.l<R&&u[u.l]!=13;)switch(T={},T.name=r0.utils.decode(S,u.slice(u.l,u.l+B)).replace(/[\u0000\r\n].*$/g,""),u.l+=B,T.type=String.fromCharCode(u.read_shift(1)),h!=2&&!x&&(T.offset=u.read_shift(4)),T.len=u.read_shift(1),h==2&&(T.offset=u.read_shift(2)),T.dec=u.read_shift(1),T.name.length&&_.push(T),h!=2&&(u.l+=x?13:14),T.type){case"B":(!m||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var j=0,P=0;for(c[0]=[],P=0;P!=_.length;++P)c[0][P]=_[P].name;for(;y-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,c[++j]=[],P=0,P=0;P!=_.length;++P){var F=u.slice(u.l,u.l+_[P].len);u.l+=_[P].len,To(F,0);var N=r0.utils.decode(S,F);switch(_[P].type){case"C":N.trim().length&&(c[j][P]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[j][P]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[j][P]=N;break;case"F":c[j][P]=parseFloat(N.trim());break;case"+":case"I":c[j][P]=x?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[j][P]=!0;break;case"N":case"F":c[j][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[j][P]="##MEMO##"+(x?parseInt(N.trim(),10):F.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[j][P]=+N||0);break;case"@":c[j][P]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":c[j][P]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":c[j][P]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[j][P]=-F.read_shift(-8,"f");break;case"B":if(m&&_[P].len==8){c[j][P]=F.read_shift(8,"f");break}case"G":case"P":F.l+=_[P].len;break;case"0":if(_[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[P].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=_g(r(o,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function s(o,l){try{return np(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Gy(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=no(),h=_b(o,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),x=o["!cols"]||[],y=0,b=0,v=0,S=1;for(y=0;y<p.length;++y){if(((x[y]||{}).DBF||{}).name){p[y]=x[y].DBF.name,++v;continue}if(p[y]!=null){if(++v,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(b=0;b<1024;++b)if(p.indexOf(p[y]+"_"+b)==-1){p[y]+="_"+b;break}}}}var _=Kn(o["!ref"]),T=[],R=[],B=[];for(y=0;y<=_.e.c-_.s.c;++y){var j="",P="",F=0,N=[];for(b=0;b<m.length;++b)m[b][y]!=null&&N.push(m[b][y]);if(N.length==0||p[y]==null){T[y]="?";continue}for(b=0;b<N.length;++b){switch(typeof N[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=N[b]instanceof Date?"D":"C";break;default:P="C"}F=Math.max(F,String(N[b]).length),j=j&&j!=P?"C":P}F>250&&(F=250),P=((x[y]||{}).DBF||{}).type,P=="C"&&x[y].DBF.len>F&&(F=x[y].DBF.len),j=="B"&&P=="N"&&(j="N",B[y]=x[y].DBF.dec,F=x[y].DBF.len),R[y]=j=="C"||P=="N"?F:i[j]||0,S+=R[y],T[y]=j}var k=u.next(32);for(k.write_shift(4,318902576),k.write_shift(4,m.length),k.write_shift(2,296+32*v),k.write_shift(2,S),y=0;y<4;++y)k.write_shift(4,0);for(k.write_shift(4,0|(+t[z7]||3)<<8),y=0,b=0;y<p.length;++y)if(p[y]!=null){var C=u.next(32),H=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,H,"sbcs"),C.write_shift(1,T[y]=="?"?"C":T[y],"sbcs"),C.write_shift(4,b),C.write_shift(1,R[y]||i[T[y]]||0),C.write_shift(1,B[y]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),b+=R[y]||i[T[y]]||0}var z=u.next(264);for(z.write_shift(4,13),y=0;y<65;++y)z.write_shift(4,0);for(y=0;y<m.length;++y){var K=u.next(S);for(K.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(T[b]){case"L":K.write_shift(1,m[y][b]==null?63:m[y][b]?84:70);break;case"B":K.write_shift(8,m[y][b]||0,"f");break;case"N":var Y="0";for(typeof m[y][b]=="number"&&(Y=m[y][b].toFixed(B[b]||0)),v=0;v<R[b]-Y.length;++v)K.write_shift(1,32);K.write_shift(1,Y,"sbcs");break;case"D":m[y][b]?(K.write_shift(4,("0000"+m[y][b].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(m[y][b].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+m[y][b].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[y][b]!=null?m[y][b]:"").slice(0,R[b]);for(K.write_shift(1,W,"sbcs"),v=0;v<R[b]-W.length;++v)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}}(),Tce=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Bi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,m){var x=e[m];return typeof x=="number"?_P(x):x},n=function(p,m,x){var y=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return y==59?p:_P(y)};e["|"]=254;function s(p,m){switch(m.type){case"base64":return i(pd(p),m);case"binary":return i(p,m);case"buffer":return i(pn&&Buffer.isBuffer(p)?p.toString("binary"):Bx(p),m);case"array":return i(k_(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var x=p.split(/[\n\r]+/),y=-1,b=-1,v=0,S=0,_=[],T=[],R=null,B={},j=[],P=[],F=[],N=0,k;for(+m.codepage>=0&&Gy(+m.codepage);v!==x.length;++v){N=0;var C=x[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=C.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),z=H[0],K;if(C.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&T.push(C.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,W=!1,Z=!1,ne=!1,ee=-1,X=-1;for(S=1;S<H.length;++S)switch(H[S].charAt(0)){case"A":break;case"X":b=parseInt(H[S].slice(1))-1,W=!0;break;case"Y":for(y=parseInt(H[S].slice(1))-1,W||(b=0),k=_.length;k<=y;++k)_[k]=[];break;case"K":K=H[S].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(nd(K))?isNaN(Yy(K).getDate())||(K=Ia(K)):(K=nd(K),R!==null&&eB(R)&&(K=sB(K))),Y=!0;break;case"E":ne=!0;var I=Eue(H[S].slice(1),{r:y,c:b});_[y][b]=[_[y][b],I];break;case"S":Z=!0,_[y][b]=[_[y][b],"S5S"];break;case"G":break;case"R":ee=parseInt(H[S].slice(1))-1;break;case"C":X=parseInt(H[S].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}if(Y&&(_[y][b]&&_[y][b].length==2?_[y][b][0]=K:_[y][b]=K,R=null),Z){if(ne)throw new Error("SYLK shared formula cannot have own formula");var U=ee>-1&&_[ee][X];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");_[y][b][1]=Nue(U[1],{r:y-ee,c:b-X})}break;case"F":var G=0;for(S=1;S<H.length;++S)switch(H[S].charAt(0)){case"X":b=parseInt(H[S].slice(1))-1,++G;break;case"Y":for(y=parseInt(H[S].slice(1))-1,k=_.length;k<=y;++k)_[k]=[];break;case"M":N=parseInt(H[S].slice(1))/20;break;case"F":break;case"G":break;case"P":R=T[parseInt(H[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=H[S].slice(1).split(" "),k=parseInt(F[0],10);k<=parseInt(F[1],10);++k)N=parseInt(F[2],10),P[k-1]=N===0?{hidden:!0}:{wch:N},uT(P[k-1]);break;case"C":b=parseInt(H[S].slice(1))-1,P[b]||(P[b]={});break;case"R":y=parseInt(H[S].slice(1))-1,j[y]||(j[y]={}),N>0?(j[y].hpt=N,j[y].hpx=WB(N)):N===0&&(j[y].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}G<1&&(R=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}}return j.length>0&&(B["!rows"]=j),P.length>0&&(B["!cols"]=P),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,B]}function a(p,m){var x=s(p,m),y=x[0],b=x[1],v=_g(y,m);return Bi(b).forEach(function(S){v[S]=b[S]}),v}function o(p,m){return np(a(p,m),m)}function l(p,m,x,y){var b="C;Y"+(x+1)+";X"+(y+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+fT(p.f,{r:x,c:y}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function c(p,m){m.forEach(function(x,y){var b="F;W"+(y+1)+" "+(y+1)+" ";x.hidden?b+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=xb(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=vb(x.wpx)),typeof x.wch=="number"&&(b+=Math.round(x.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,m){m.forEach(function(x,y){var b="F;";x.hidden?b+="M0;":x.hpt?b+="M"+20*x.hpt+";":x.hpx&&(b+="M"+20*wb(x.hpx)+";"),b.length>2&&p.push(b+"R"+(y+1))})}function h(p,m){var x=["ID;PWXL;N;E"],y=[],b=Kn(p["!ref"]),v,S=Array.isArray(p),_=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),p["!cols"]&&c(x,p["!cols"]),p["!rows"]&&u(x,p["!rows"]),x.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var T=b.s.r;T<=b.e.r;++T)for(var R=b.s.c;R<=b.e.c;++R){var B=In({r:T,c:R});v=S?(p[T]||[])[R]:p[B],!(!v||v.v==null&&(!v.f||v.F))&&y.push(l(v,p,T,R))}return x.join(_)+_+y.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),kce=function(){function e(i,a){switch(a.type){case"base64":return t(pd(i),a);case"binary":return t(i,a);case"buffer":return t(pn&&Buffer.isBuffer(i)?i.toString("binary"):Bx(i),a);case"array":return t(k_(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){for(var o=i.split(`
`),l=-1,c=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var p=o[u].trim().split(","),m=p[0],x=p[1];++u;for(var y=o[u]||"";(y.match(/["]/g)||[]).length&1&&u<o.length-1;)y+=`
`+o[++u];switch(y=y.trim(),+m){case-1:if(y==="BOT"){h[++l]=[],c=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[l][c]=!0:y==="FALSE"?h[l][c]=!1:isNaN(nd(x))?isNaN(Yy(x).getDate())?h[l][c]=x:h[l][c]=Ia(x):h[l][c]=nd(x),++c;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[l][c++]=y!==""?y:null;break}if(y==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(i,a){return _g(e(i,a),a)}function n(i,a){return np(r(i,a),a)}var s=function(){var i=function(l,c,u,h,p){l.push(c),l.push(u+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=Kn(l["!ref"]),h,p=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){a(c,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var y=In({r:m,c:x});if(h=p?(l[m]||[])[x]:l[y],!h){a(c,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?a(c,1,0,"="+h.f):a(c,1,0,""):a(c,0,b,"V");break;case"b":a(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=eh(h.z||Ts[14],so(Ia(h.v)))),a(c,0,h.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var v=`\r
`,S=c.join(v);return S}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),$B=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,p){for(var m=h.split(`
`),x=-1,y=-1,b=0,v=[];b!==m.length;++b){var S=m[b].trim().split(":");if(S[0]==="cell"){var _=bi(S[1]);if(v.length<=_.r)for(x=v.length;x<=_.r;++x)v[x]||(v[x]=[]);switch(x=_.r,y=_.c,S[2]){case"t":v[x][y]=e(S[3]);break;case"v":v[x][y]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":v[x][y]=!!+S[4];break;default:v[x][y]=+S[4];break}S[2]=="vtf"&&(v[x][y]=[v[x][y],T])}}}return p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),v}function n(h,p){return _g(r(h,p),p)}function s(h,p){return np(n(h,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],x,y="",b=Fo(h["!ref"]),v=Array.isArray(h),S=b.s.r;S<=b.e.r;++S)for(var _=b.s.c;_<=b.e.c;++_)if(y=In({r:S,c:_}),x=v?(h[S]||[])[_]:h[y],!(!x||x.v==null||x.t==="z")){switch(m=["cell",y,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var T=so(Ia(x.v));m[2]="vtc",m[3]="nd",m[4]=""+T,m[5]=x.w||eh(x.z||Ts[14],T);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(h){return[i,a,o,a,c(h),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}}(),Cce=function(){function e(u,h,p,m,x){x.raw?h[p][m]=u:u===""||(u==="TRUE"?h[p][m]=!0:u==="FALSE"?h[p][m]=!1:isNaN(nd(u))?isNaN(Yy(u).getDate())?h[p][m]=u:h[p][m]=Ia(u):h[p][m]=nd(u))}function t(u,h){var p=h||{},m=[];if(!u||u.length===0)return m;for(var x=u.split(/[\r\n]/),y=x.length-1;y>=0&&x[y].length===0;)--y;for(var b=10,v=0,S=0;S<=y;++S)v=x[S].indexOf(" "),v==-1?v=x[S].length:v++,b=Math.max(b,v);for(S=0;S<=y;++S){m[S]=[];var _=0;for(e(x[S].slice(0,b).trim(),m,S,_,p),_=1;_<=(x[S].length-b)/10+1;++_)e(x[S].slice(b+(_-1)*10,b+_*10).trim(),m,S,_,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var h={},p=!1,m=0,x=0;m<u.length;++m)(x=u.charCodeAt(m))==34?p=!p:!p&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&x.push([h[m],m]);if(!x.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&x.push([h[m],m])}return x.sort(function(y,b){return y[0]-b[0]||n[y[1]]-n[b[1]]}),r[x.pop()[1]]||44}function i(u,h){var p=h||{},m="",x=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=s(u.slice(0,1024)):p&&p.FS?m=p.FS:m=s(u.slice(0,1024));var b=0,v=0,S=0,_=0,T=0,R=m.charCodeAt(0),B=!1,j=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var F=p.dateNF!=null?Woe(p.dateNF):null;function N(){var k=u.slice(_,T),C={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)C.t="z";else if(p.raw)C.t="s",C.v=k;else if(k.trim().length===0)C.t="s",C.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(C.t="s",C.v=k.slice(2,-1).replace(/""/g,'"')):Tue(k)?(C.t="n",C.f=k.slice(1)):(C.t="s",C.v=k);else if(k=="TRUE")C.t="b",C.v=!0;else if(k=="FALSE")C.t="b",C.v=!1;else if(!isNaN(S=nd(k)))C.t="n",p.cellText!==!1&&(C.w=k),C.v=S;else if(!isNaN(Yy(k).getDate())||F&&k.match(F)){C.z=p.dateNF||Ts[14];var H=0;F&&k.match(F)&&(k=Voe(k,p.dateNF,k.match(F)||[]),H=1),p.cellDates?(C.t="d",C.v=Ia(k,H)):(C.t="n",C.v=so(Ia(k,H))),p.cellText!==!1&&(C.w=eh(C.z,C.v instanceof Date?so(C.v):C.v)),p.cellNF||delete C.z}else C.t="s",C.v=k;if(C.t=="z"||(p.dense?(x[b]||(x[b]=[]),x[b][v]=C):x[In({c:v,r:b})]=C),_=T+1,P=u.charCodeAt(_),y.e.c<v&&(y.e.c=v),y.e.r<b&&(y.e.r=b),j==R)++v;else if(v=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;T<u.length;++T)switch(j=u.charCodeAt(T)){case 34:P===34&&(B=!B);break;case R:case 10:case 13:if(!B&&N())break e;break}return T-_>0&&N(),x["!ref"]=Gs(y),x}function a(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):_g(t(u,h),h)}function o(u,h){var p="",m=h.type=="string"?[0,0,0,0]:$0e(u,h);switch(h.type){case"base64":p=pd(u);break;case"binary":p=u;break;case"buffer":h.codepage==65001?p=u.toString("utf8"):h.codepage&&typeof r0<"u"?p=r0.utils.decode(h.codepage,u):p=pn&&Buffer.isBuffer(u)?u.toString("binary"):Bx(u);break;case"array":p=k_(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=ay(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=ay(p):h.type=="binary"&&typeof r0<"u"&&h.codepage&&(p=r0.utils.decode(h.codepage,r0.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?$B.to_sheet(h.type=="string"?p:ay(p),h):a(p,h)}function l(u,h){return np(o(u,h),h)}function c(u){for(var h=[],p=Kn(u["!ref"]),m,x=Array.isArray(u),y=p.s.r;y<=p.e.r;++y){for(var b=[],v=p.s.c;v<=p.e.c;++v){var S=In({r:y,c:v});if(m=x?(u[y]||[])[v]:u[S],!m||m.v==null){b.push("          ");continue}for(var _=(m.w||(md(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";b.push(_+(v===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),JP=function(){function e(I,U,G){if(I){To(I,I.l||0);for(var V=G.Enum||ee;I.l<I.length;){var Q=I.read_shift(2),ge=V[Q]||V[65535],Se=I.read_shift(2),pe=I.l+Se,oe=ge.f&&ge.f(I,Se,G);if(I.l=pe,U(oe,ge,Q))return}}}function t(I,U){switch(U.type){case"base64":return r(nc(pd(I)),U);case"binary":return r(nc(I),U);case"buffer":case"array":return r(I,U)}throw"Unsupported type "+U.type}function r(I,U){if(!I)return I;var G=U||{},V=G.dense?[]:{},Q="Sheet1",ge="",Se=0,pe={},oe=[],De=[],$e={s:{r:0,c:0},e:{r:0,c:0}},Ze=G.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)G.Enum=ee,e(I,function(Ke,Ne,Ge){switch(Ge){case 0:G.vers=Ke,Ke>=4096&&(G.qpro=!0);break;case 6:$e=Ke;break;case 204:Ke&&(ge=Ke);break;case 222:ge=Ke;break;case 15:case 51:G.qpro||(Ke[1].v=Ke[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(Ke[2]&112)==112&&(Ke[2]&15)>1&&(Ke[2]&15)<15&&(Ke[1].z=G.dateNF||Ts[14],G.cellDates&&(Ke[1].t="d",Ke[1].v=sB(Ke[1].v))),G.qpro&&Ke[3]>Se&&(V["!ref"]=Gs($e),pe[Q]=V,oe.push(Q),V=G.dense?[]:{},$e={s:{r:0,c:0},e:{r:0,c:0}},Se=Ke[3],Q=ge||"Sheet"+(Se+1),ge="");var pt=G.dense?(V[Ke[0].r]||[])[Ke[0].c]:V[In(Ke[0])];if(pt){pt.t=Ke[1].t,pt.v=Ke[1].v,Ke[1].z!=null&&(pt.z=Ke[1].z),Ke[1].f!=null&&(pt.f=Ke[1].f);break}G.dense?(V[Ke[0].r]||(V[Ke[0].r]=[]),V[Ke[0].r][Ke[0].c]=Ke[1]):V[In(Ke[0])]=Ke[1];break}},G);else if(I[2]==26||I[2]==14)G.Enum=X,I[2]==14&&(G.qpro=!0,I.l=0),e(I,function(Ke,Ne,Ge){switch(Ge){case 204:Q=Ke;break;case 22:Ke[1].v=Ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ke[3]>Se&&(V["!ref"]=Gs($e),pe[Q]=V,oe.push(Q),V=G.dense?[]:{},$e={s:{r:0,c:0},e:{r:0,c:0}},Se=Ke[3],Q="Sheet"+(Se+1)),Ze>0&&Ke[0].r>=Ze)break;G.dense?(V[Ke[0].r]||(V[Ke[0].r]=[]),V[Ke[0].r][Ke[0].c]=Ke[1]):V[In(Ke[0])]=Ke[1],$e.e.c<Ke[0].c&&($e.e.c=Ke[0].c),$e.e.r<Ke[0].r&&($e.e.r=Ke[0].r);break;case 27:Ke[14e3]&&(De[Ke[14e3][0]]=Ke[14e3][1]);break;case 1537:De[Ke[0]]=Ke[1],Ke[0]==Se&&(Q=Ke[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(V["!ref"]=Gs($e),pe[ge||Q]=V,oe.push(ge||Q),!De.length)return{SheetNames:oe,Sheets:pe};for(var Ce={},se=[],yt=0;yt<De.length;++yt)pe[oe[yt]]?(se.push(De[yt]||oe[yt]),Ce[De[yt]]=pe[De[yt]]||pe[oe[yt]]):(se.push(De[yt]),Ce[De[yt]]={"!ref":"A1"});return{SheetNames:se,Sheets:Ce}}function n(I,U){var G=U||{};if(+G.codepage>=0&&Gy(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var V=no(),Q=Kn(I["!ref"]),ge=Array.isArray(I),Se=[];Tt(V,0,i(1030)),Tt(V,6,l(Q));for(var pe=Math.min(Q.e.r,8191),oe=Q.s.r;oe<=pe;++oe)for(var De=Fi(oe),$e=Q.s.c;$e<=Q.e.c;++$e){oe===Q.s.r&&(Se[$e]=sa($e));var Ze=Se[$e]+De,Ce=ge?(I[oe]||[])[$e]:I[Ze];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?Tt(V,13,m(oe,$e,Ce.v)):Tt(V,14,y(oe,$e,Ce.v));else{var se=md(Ce);Tt(V,15,h(oe,$e,se.slice(0,239)))}}return Tt(V,1),V.end()}function s(I,U){var G=U||{};if(+G.codepage>=0&&Gy(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var V=no();Tt(V,0,a(I));for(var Q=0,ge=0;Q<I.SheetNames.length;++Q)(I.Sheets[I.SheetNames[Q]]||{})["!ref"]&&Tt(V,27,ne(I.SheetNames[Q],ge++));var Se=0;for(Q=0;Q<I.SheetNames.length;++Q){var pe=I.Sheets[I.SheetNames[Q]];if(!(!pe||!pe["!ref"])){for(var oe=Kn(pe["!ref"]),De=Array.isArray(pe),$e=[],Ze=Math.min(oe.e.r,8191),Ce=oe.s.r;Ce<=Ze;++Ce)for(var se=Fi(Ce),yt=oe.s.c;yt<=oe.e.c;++yt){Ce===oe.s.r&&($e[yt]=sa(yt));var Ke=$e[yt]+se,Ne=De?(pe[Ce]||[])[yt]:pe[Ke];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")Tt(V,23,N(Ce,yt,Se,Ne.v));else{var Ge=md(Ne);Tt(V,22,j(Ce,yt,Se,Ge.slice(0,239)))}}++Se}}return Tt(V,1),V.end()}function i(I){var U=et(2);return U.write_shift(2,I),U}function a(I){var U=et(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var G=0,V=0,Q=0,ge=0;ge<I.SheetNames.length;++ge){var Se=I.SheetNames[ge],pe=I.Sheets[Se];if(!(!pe||!pe["!ref"])){++Q;var oe=Fo(pe["!ref"]);G<oe.e.r&&(G=oe.e.r),V<oe.e.c&&(V=oe.e.c)}}return G>8191&&(G=8191),U.write_shift(2,G),U.write_shift(1,Q),U.write_shift(1,V),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(I,U,G){var V={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&G.qpro?(V.s.c=I.read_shift(1),I.l++,V.s.r=I.read_shift(2),V.e.c=I.read_shift(1),I.l++,V.e.r=I.read_shift(2),V):(V.s.c=I.read_shift(2),V.s.r=I.read_shift(2),U==12&&G.qpro&&(I.l+=2),V.e.c=I.read_shift(2),V.e.r=I.read_shift(2),U==12&&G.qpro&&(I.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(I){var U=et(8);return U.write_shift(2,I.s.c),U.write_shift(2,I.s.r),U.write_shift(2,I.e.c),U.write_shift(2,I.e.r),U}function c(I,U,G){var V=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(V[0].c=I.read_shift(1),V[3]=I.read_shift(1),V[0].r=I.read_shift(2),I.l+=2):(V[2]=I.read_shift(1),V[0].c=I.read_shift(2),V[0].r=I.read_shift(2)),V}function u(I,U,G){var V=I.l+U,Q=c(I,U,G);if(Q[1].t="s",G.vers==20768){I.l++;var ge=I.read_shift(1);return Q[1].v=I.read_shift(ge,"utf8"),Q}return G.qpro&&I.l++,Q[1].v=I.read_shift(V-I.l,"cstr"),Q}function h(I,U,G){var V=et(7+G.length);V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,I),V.write_shift(1,39);for(var Q=0;Q<V.length;++Q){var ge=G.charCodeAt(Q);V.write_shift(1,ge>=128?95:ge)}return V.write_shift(1,0),V}function p(I,U,G){var V=c(I,U,G);return V[1].v=I.read_shift(2,"i"),V}function m(I,U,G){var V=et(7);return V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,I),V.write_shift(2,G,"i"),V}function x(I,U,G){var V=c(I,U,G);return V[1].v=I.read_shift(8,"f"),V}function y(I,U,G){var V=et(13);return V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,I),V.write_shift(8,G,"f"),V}function b(I,U,G){var V=I.l+U,Q=c(I,U,G);if(Q[1].v=I.read_shift(8,"f"),G.qpro)I.l=V;else{var ge=I.read_shift(2);T(I.slice(I.l,I.l+ge),Q),I.l+=ge}return Q}function v(I,U,G){var V=U&32768;return U&=-32769,U=(V?I:0)+(U>=8192?U-16384:U),(V?"":"$")+(G?sa(U):Fi(U))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(I,U){To(I,0);for(var G=[],V=0,Q="",ge="",Se="",pe="";I.l<I.length;){var oe=I[I.l++];switch(oe){case 0:G.push(I.read_shift(8,"f"));break;case 1:ge=v(U[0].c,I.read_shift(2),!0),Q=v(U[0].r,I.read_shift(2),!1),G.push(ge+Q);break;case 2:{var De=v(U[0].c,I.read_shift(2),!0),$e=v(U[0].r,I.read_shift(2),!1);ge=v(U[0].c,I.read_shift(2),!0),Q=v(U[0].r,I.read_shift(2),!1),G.push(De+$e+":"+ge+Q)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(I.read_shift(2));break;case 6:{for(var Ze="";oe=I[I.l++];)Ze+=String.fromCharCode(oe);G.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:pe=G.pop(),Se=G.pop(),G.push(["AND","OR"][oe-20]+"("+Se+","+pe+")");break;default:if(oe<32&&_[oe])pe=G.pop(),Se=G.pop(),G.push(Se+_[oe]+pe);else if(S[oe]){if(V=S[oe][1],V==69&&(V=I[I.l++]),V>G.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+G.join("|")+"|");return}var Ce=G.slice(-V);G.length-=V,G.push(S[oe][0]+"("+Ce.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}G.length==1?U[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function R(I){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=I.read_shift(2),U[3]=I[I.l++],U[0].c=I[I.l++],U}function B(I,U){var G=R(I);return G[1].t="s",G[1].v=I.read_shift(U-4,"cstr"),G}function j(I,U,G,V){var Q=et(6+V.length);Q.write_shift(2,I),Q.write_shift(1,G),Q.write_shift(1,U),Q.write_shift(1,39);for(var ge=0;ge<V.length;++ge){var Se=V.charCodeAt(ge);Q.write_shift(1,Se>=128?95:Se)}return Q.write_shift(1,0),Q}function P(I,U){var G=R(I);G[1].v=I.read_shift(2);var V=G[1].v>>1;if(G[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return G[1].v=V,G}function F(I,U){var G=R(I),V=I.read_shift(4),Q=I.read_shift(4),ge=I.read_shift(2);if(ge==65535)return V===0&&Q===3221225472?(G[1].t="e",G[1].v=15):V===0&&Q===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Se=ge&32768;return ge=(ge&32767)-16446,G[1].v=(1-Se*2)*(Q*Math.pow(2,ge+32)+V*Math.pow(2,ge)),G}function N(I,U,G,V){var Q=et(14);if(Q.write_shift(2,I),Q.write_shift(1,G),Q.write_shift(1,U),V==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ge=0,Se=0,pe=0,oe=0;return V<0&&(ge=1,V=-V),Se=Math.log2(V)|0,V/=Math.pow(2,Se-31),oe=V>>>0,oe&2147483648||(V/=2,++Se,oe=V>>>0),V-=oe,oe|=2147483648,oe>>>=0,V*=Math.pow(2,32),pe=V>>>0,Q.write_shift(4,pe),Q.write_shift(4,oe),Se+=16383+(ge?32768:0),Q.write_shift(2,Se),Q}function k(I,U){var G=F(I);return I.l+=U-14,G}function C(I,U){var G=R(I),V=I.read_shift(4);return G[1].v=V>>6,G}function H(I,U){var G=R(I),V=I.read_shift(8,"f");return G[1].v=V,G}function z(I,U){var G=H(I);return I.l+=U-10,G}function K(I,U){return I[I.l+U-1]==0?I.read_shift(U,"cstr"):""}function Y(I,U){var G=I[I.l++];G>U-1&&(G=U-1);for(var V="";V.length<G;)V+=String.fromCharCode(I[I.l++]);return V}function W(I,U,G){if(!(!G.qpro||U<21)){var V=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var Q=I.read_shift(U-21,"cstr");return[V,Q]}}function Z(I,U){for(var G={},V=I.l+U;I.l<V;){var Q=I.read_shift(2);if(Q==14e3){for(G[Q]=[0,""],G[Q][0]=I.read_shift(2);I[I.l];)G[Q][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return G}function ne(I,U){var G=et(5+I.length);G.write_shift(2,14e3),G.write_shift(2,U);for(var V=0;V<I.length;++V){var Q=I.charCodeAt(V);G[G.l++]=Q>127?95:Q}return G[G.l++]=0,G}var ee={0:{n:"BOF",f:jB},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),Ice=/^\s|\s$|[\t\n\r]/;function zB(e,t){if(!t.bookSST)return"";var r=[Ks];r[r.length]=Nt("sst",null,{xmlns:bg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Ice)&&(i+=' xml:space="preserve"'),i+=">"+kn(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Pce(e){return[e.read_shift(4),e.read_shift(4)]}function Oce(e,t){return t||(t=et(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Rce=Sle;function Dce(e){var t=no();ht(t,159,Oce(e));for(var r=0;r<e.length;++r)ht(t,19,Rce(e[r]));return ht(t,160),t.end()}function Lce(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function qB(e){var t=0,r,n=Lce(e),s=n.length+1,i,a,o,l,c;for(r=H0(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)a=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^a;return t^52811}var jce=function(){function e(s,i){switch(i.type){case"base64":return t(pd(s),i);case"binary":return t(s,i);case"buffer":return t(pn&&Buffer.isBuffer(s)?s.toString("binary"):Bx(s),i);case"array":return t(k_(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var a=i||{},o=a.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,m=0,x,y=-1;x=p.exec(u);){switch(x[0]){case"\\cell":var b=u.slice(m,p.lastIndex-x[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var v={v:b,t:"s"};Array.isArray(o)?o[h][y]=v:o[In({r:h,c:y})]=v}break}m=p.lastIndex}y>c.e.c&&(c.e.c=y)}),o["!ref"]=Gs(c),o}function r(s,i){return np(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=Kn(s["!ref"]),o,l=Array.isArray(s),c=a.s.r;c<=a.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var h=In({r:c,c:u});o=l?(s[c]||[])[u]:s[h],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(md(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function eO(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Fce=6,sd=Fce;function xb(e){return Math.floor((e+Math.round(128/sd)/256)*sd)}function vb(e){return Math.floor((e-5)/sd*100+.5)/100}function dA(e){return Math.round((e*sd+5)/sd*256)/256}function uT(e){e.width?(e.wpx=xb(e.width),e.wch=vb(e.wpx),e.MDW=sd):e.wpx?(e.wch=vb(e.wpx),e.width=dA(e.wch),e.MDW=sd):typeof e.wch=="number"&&(e.width=dA(e.wch),e.wpx=xb(e.width),e.MDW=sd),e.customWidth&&delete e.customWidth}var Mce=96,HB=Mce;function wb(e){return e*96/HB}function WB(e){return e*HB/96}function Bce(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Nt("numFmt",null,{numFmtId:n,formatCode:kn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Uce(e){var t=[];return t[t.length]=Nt("cellXfs",null),e.forEach(function(r){t[t.length]=Nt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function VB(e,t){var r=[Ks,Nt("styleSheet",null,{xmlns:bg[0],"xmlns:vt":wi.vt})],n;return e.SSF&&(n=Bce(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Uce(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function $ce(e,t){var r=e.read_shift(2),n=ia(e);return[r,n]}function zce(e,t,r){r||(r=et(6+4*t.length)),r.write_shift(2,e),_i(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function qce(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=Ile(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(n.underline=a);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Cle(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ia(e),n}function Hce(e,t){t||(t=et(25+4*32)),t.write_shift(2,e.sz*20),Ple(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),gb(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),_i(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Wce=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],LS,Vce=gu;function tO(e,t){t||(t=et(4*3+8*7+16*1)),LS||(LS=ZN(Wce));var r=LS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(gb({auto:1},t),gb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Gce(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function GB(e,t,r){r||(r=et(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function g1(e,t){return t||(t=et(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Kce=gu;function Yce(e,t){return t||(t=et(51)),t.write_shift(1,0),g1(null,t),g1(null,t),g1(null,t),g1(null,t),g1(null,t),t.length>t.l?t.slice(0,t.l):t}function Xce(e,t){return t||(t=et(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),mb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Qce(e,t,r){var n=et(2052);return n.write_shift(4,e),mb(t,n),mb(r,n),n.length>n.l?n.slice(0,n.l):n}function Zce(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(ht(e,615,uc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&ht(e,44,zce(s,t[s]))}),ht(e,616))}}function Jce(e){var t=1;ht(e,611,uc(t)),ht(e,43,Hce({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ht(e,612)}function eue(e){var t=2;ht(e,603,uc(t)),ht(e,45,tO({patternType:"none"})),ht(e,45,tO({patternType:"gray125"})),ht(e,604)}function tue(e){var t=1;ht(e,613,uc(t)),ht(e,46,Yce()),ht(e,614)}function rue(e){var t=1;ht(e,626,uc(t)),ht(e,47,GB({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ht(e,627)}function nue(e,t){ht(e,617,uc(t.length)),t.forEach(function(r){ht(e,47,GB(r,0))}),ht(e,618)}function sue(e){var t=1;ht(e,619,uc(t)),ht(e,48,Xce({xfId:0,builtinId:0,name:"Normal"})),ht(e,620)}function iue(e){var t=0;ht(e,505,uc(t)),ht(e,506)}function aue(e){var t=0;ht(e,508,Qce(t,"TableStyleMedium9","PivotStyleMedium4")),ht(e,509)}function oue(e,t){var r=no();return ht(r,278),Zce(r,e.SSF),Jce(r),eue(r),tue(r),rue(r),nue(r,t.cellXfs),sue(r),iue(r),aue(r),ht(r,279),r.end()}function KB(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ks];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function lue(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ia(e)}}function cue(e){var t=et(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),_i(e.name,t),t.slice(0,t.l)}function uue(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function due(e){var t=et(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function fue(e,t){var r=et(8+2*t.length);return r.write_shift(4,e),_i(t,r),r.slice(0,r.l)}function hue(e){return e.l+=4,e.read_shift(4)!=0}function pue(e,t){var r=et(8);return r.write_shift(4,e),r.write_shift(4,1),r}function mue(){var e=no();return ht(e,332),ht(e,334,uc(1)),ht(e,335,cue({name:"XLDAPR",version:12e4,flags:3496657072})),ht(e,336),ht(e,339,fue(1,"XLDAPR")),ht(e,52),ht(e,35,uc(514)),ht(e,4096,uc(0)),ht(e,4097,rl(1)),ht(e,36),ht(e,53),ht(e,340),ht(e,337,pue(1)),ht(e,51,due([[1,0]])),ht(e,338),ht(e,333),e.end()}function YB(){var e=[Ks];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function gue(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=In(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var dm=1024;function XB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Nt("xml",null,{"xmlns:v":ko.v,"xmlns:o":ko.o,"xmlns:x":ko.x,"xmlns:mv":ko.mv}).replace(/\/>/,">"),Nt("o:shapelayout",Nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Nt("v:shapetype",[Nt("v:stroke",null,{joinstyle:"miter"}),Nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];dm<e*1e3;)dm+=1e3;return t.forEach(function(i){var a=bi(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Nt("v:fill",l,o),u={on:"t",obscured:"t"};++dm,s=s.concat(["<v:shape"+Qy({id:"_x0000_s"+dm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Nt("v:shadow",null,u),Nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Li("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Li("x:AutoFill","False"),Li("x:Row",String(a.r)),Li("x:Column",String(a.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function QB(e){var t=[Ks,Nt("comments",null,{xmlns:bg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=kn(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf(kn(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Li("t",kn(i[0]||"")));else{for(var a=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)a+=`Reply:
    `+i[o]+`
`;t.push(Li("t",kn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function yue(e,t,r){var n=[Ks,Nt("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(Nt("threadedComment",Li("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function xue(e){var t=[Ks,Nt("personList",null,{xmlns:wi.TCMNT,"xmlns:x":bg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Nt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function vue(e){var t={};t.iauthor=e.read_shift(4);var r=op(e);return t.rfx=r.s,t.ref=In(r.s),e.l+=16,t}function wue(e,t){return t==null&&(t=et(36)),t.write_shift(4,e[1].iauthor),Sg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var bue=ia;function _ue(e){return _i(e.slice(0,54))}function Sue(e){var t=no(),r=[];return ht(t,628),ht(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ht(t,632,_ue(s.a)))})}),ht(t,631),ht(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:bi(n[0]),e:bi(n[0])};ht(t,635,wue([i,s])),s.t&&s.t.length>0&&ht(t,637,Ele(s)),ht(t,636),delete s.iauthor})}),ht(t,634),ht(t,629),t.end()}function Aue(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&On.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var ZB=["xlsb","xlsm","xlam","biff8","xla"],Eue=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,a){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,s+(o?"":"$")+sa(u)+(l?"":"$")+Fi(c)}return function(s,i){return t=i,s.replace(e,r)}}(),dT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fT=function(){return function(t,r){return t.replace(dT,function(n,s,i,a,o,l){var c=iT(a)-(i?0:r.c),u=sT(l)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",p=c==0?"":i?c+1:"["+c+"]";return s+"R"+h+"C"+p})}}();function Nue(e,t){return e.replace(dT,function(r,n,s,i,a,o){return n+(s=="$"?s+i:sa(iT(i)+t.c))+(a=="$"?a+o:Fi(sT(o)+t.r))})}function Tue(e){return e.length!=1}function zs(e){e.l+=1}function th(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function JB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return e9(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),a=th(e),o=th(e);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function e9(e){var t=th(e),r=th(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function kue(e,t,r){if(r.biff<8)return e9(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=th(e),a=th(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function t9(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Cue(e);var n=e.read_shift(r&&r.biff==12?4:2),s=th(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Cue(e){var t=th(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Iue(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Pue(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Oue(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function Oue(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function Rue(e,t,r){var n=(e[e.l++]&96)>>5,s=JB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Due(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var a=JB(e,i,r);return[n,s,a]}function Lue(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function jue(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function Fue(e,t,r){var n=(e[e.l++]&96)>>5,s=kue(e,t-1,r);return[n,s]}function Mue(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function rO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Bue(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Uue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $ue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zue(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function que(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function r9(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Hue(e){return e.read_shift(2),r9(e)}function Wue(e){return e.read_shift(2),r9(e)}function Vue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=t9(e,0,r);return[n,s]}function Gue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Pue(e,0,r);return[n,s]}function Kue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=t9(e,0,r);return[n,s,i]}function Yue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Yde[s],i9[s],n]}function Xue(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Que(e);return[s,(i[0]===0?i9:Kde)[i[1]]]}function Que(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Zue(e,t,r){e.l+=r&&r.biff==2?3:4}function Jue(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function ede(e){return e.l++,zx[e.read_shift(1)]}function tde(e){return e.l++,e.read_shift(2)}function rde(e){return e.l++,e.read_shift(1)!==0}function nde(e){return e.l++,Ag(e)}function sde(e,t,r){return e.l++,MB(e,t-1,r)}function ide(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Kle(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zx[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ag(e);break;case 2:r[1]=Zle(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ade(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?op:tce)(e));return s}function ode(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=ide(e,r.biff);return a}function lde(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function cde(e,t,r){if(r.biff==5)return ude(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function ude(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function dde(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function fde(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function hde(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function pde(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var mde=gu,gde=gu,yde=gu;function qx(e,t,r){return e.l+=2,[Iue(e)]}function hT(e){return e.l+=6,[]}var xde=qx,vde=hT,wde=hT,bde=qx;function n9(e){return e.l+=2,[jB(e),e.read_shift(2)&1]}var _de=qx,Sde=n9,Ade=hT,Ede=qx,Nde=qx,Tde=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kde(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),a=Tde[r>>2&31];return{ixti:t,coltype:r&3,rt:a,idx:n,c:s,C:i}}function Cde(e){return e.l+=2,[e.read_shift(4)]}function Ide(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Pde(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Ode(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Rde(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Dde(e){return e.l+=4,[0,0]}var nO={1:{n:"PtgExp",f:Jue},2:{n:"PtgTbl",f:yde},3:{n:"PtgAdd",f:zs},4:{n:"PtgSub",f:zs},5:{n:"PtgMul",f:zs},6:{n:"PtgDiv",f:zs},7:{n:"PtgPower",f:zs},8:{n:"PtgConcat",f:zs},9:{n:"PtgLt",f:zs},10:{n:"PtgLe",f:zs},11:{n:"PtgEq",f:zs},12:{n:"PtgGe",f:zs},13:{n:"PtgGt",f:zs},14:{n:"PtgNe",f:zs},15:{n:"PtgIsect",f:zs},16:{n:"PtgUnion",f:zs},17:{n:"PtgRange",f:zs},18:{n:"PtgUplus",f:zs},19:{n:"PtgUminus",f:zs},20:{n:"PtgPercent",f:zs},21:{n:"PtgParen",f:zs},22:{n:"PtgMissArg",f:zs},23:{n:"PtgStr",f:sde},26:{n:"PtgSheet",f:Ide},27:{n:"PtgEndSheet",f:Pde},28:{n:"PtgErr",f:ede},29:{n:"PtgBool",f:rde},30:{n:"PtgInt",f:tde},31:{n:"PtgNum",f:nde},32:{n:"PtgArray",f:Mue},33:{n:"PtgFunc",f:Yue},34:{n:"PtgFuncVar",f:Xue},35:{n:"PtgName",f:lde},36:{n:"PtgRef",f:Vue},37:{n:"PtgArea",f:Rue},38:{n:"PtgMemArea",f:dde},39:{n:"PtgMemErr",f:mde},40:{n:"PtgMemNoMem",f:gde},41:{n:"PtgMemFunc",f:fde},42:{n:"PtgRefErr",f:hde},43:{n:"PtgAreaErr",f:Lue},44:{n:"PtgRefN",f:Gue},45:{n:"PtgAreaN",f:Fue},46:{n:"PtgMemAreaN",f:Ode},47:{n:"PtgMemNoMemN",f:Rde},57:{n:"PtgNameX",f:cde},58:{n:"PtgRef3d",f:Kue},59:{n:"PtgArea3d",f:Due},60:{n:"PtgRefErr3d",f:pde},61:{n:"PtgAreaErr3d",f:jue},255:{}},Lde={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jde={1:{n:"PtgElfLel",f:n9},2:{n:"PtgElfRw",f:Ede},3:{n:"PtgElfCol",f:xde},6:{n:"PtgElfRwV",f:Nde},7:{n:"PtgElfColV",f:bde},10:{n:"PtgElfRadical",f:_de},11:{n:"PtgElfRadicalS",f:Ade},13:{n:"PtgElfColS",f:vde},15:{n:"PtgElfColSV",f:wde},16:{n:"PtgElfRadicalLel",f:Sde},25:{n:"PtgList",f:kde},29:{n:"PtgSxName",f:Cde},255:{}},Fde={0:{n:"PtgAttrNoop",f:Dde},1:{n:"PtgAttrSemi",f:que},2:{n:"PtgAttrIf",f:$ue},4:{n:"PtgAttrChoose",f:Bue},8:{n:"PtgAttrGoto",f:Uue},16:{n:"PtgAttrSum",f:Zue},32:{n:"PtgAttrBaxcel",f:rO},33:{n:"PtgAttrBaxcel",f:rO},64:{n:"PtgAttrSpace",f:Hue},65:{n:"PtgAttrSpaceSemi",f:Wue},128:{n:"PtgAttrIfError",f:zue},255:{}};function Mde(e,t,r,n){if(n.biff<8)return gu(e,t);for(var s=e.l+t,i=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=ode(e,0,n),i.push(r[a][1]);break;case"PtgMemArea":r[a][2]=ade(e,r[a][1],n),i.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=e.read_shift(4),i.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return t=s-e.l,t!==0&&i.push(gu(e,t)),i}function Bde(e,t,r){for(var n=e.l+t,s,i,a=[];n!=e.l;)t=n-e.l,i=e[e.l],s=nO[i]||nO[Lde[i]],(i===24||i===25)&&(s=(i===24?jde:Fde)[e[e.l+1]]),!s||!s.f?gu(e,t):a.push([s.n,s.f(e,t,r)]);return a}function Ude(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var $de={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zde(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function s9(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sO(e,t,r){var n=s9(e,t,r);return n=="#REF"?n:zde(n,r)}function ng(e,t,r,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,h=0,p=0,m,x="";if(!e[0]||!e[0][0])return"";for(var y=-1,b="",v=0,S=e[0].length;v<S;++v){var _=e[0][v];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:b=Es(" ",e[0][y][1][1]);break;case 1:b=Es("\r",e[0][y][1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}c=c+b,y=-1}o.push(c+$de[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ly(_[1][1],a,s),o.push(cy(u,i));break;case"PtgRefN":u=r?ly(_[1][1],r,s):_[1][1],o.push(cy(u,i));break;case"PtgRef3d":h=_[1][1],u=ly(_[1][2],a,s),x=sO(n,h,s),o.push(x+"!"+cy(u,i));break;case"PtgFunc":case"PtgFuncVar":var T=_[1][0],R=_[1][1];T||(T=0),T&=127;var B=T==0?[]:o.slice(-T);o.length-=T,R==="User"&&(R=B.shift()),o.push(R+"("+B.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":m=zP(_[1][1],r?{s:r}:a,s),o.push(RS(m,s));break;case"PtgArea":m=zP(_[1][1],a,s),o.push(RS(m,s));break;case"PtgArea3d":h=_[1][1],m=_[1][2],x=sO(n,h,s),o.push(x+"!"+RS(m,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=_[1][2];var j=(n.names||[])[p-1]||(n[0]||[])[p],P=j?j.Name:"SH33TJSNAME"+String(p);P&&P.slice(0,6)=="_xlfn."&&!s.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var F=_[1][1];p=_[1][2];var N;if(s.biff<=5)F<0&&(F=-F),n[F]&&(N=n[F][p]);else{var k="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][p]&&n[F][p].itab>0&&(k=n.SheetNames[n[F][p].itab-1]+"!"):k=n.SheetNames[p-1]+"!"),n[F]&&n[F][p])k+=n[F][p].Name;else if(n[0]&&n[0][p])k+=n[0][p].Name;else{var C=(s9(n,F,s)||"").split(";;");C[p-1]?k=C[p-1]:k+="SH33TJSERRX"}o.push(k);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var H="(",z=")";if(y>=0){switch(b="",e[0][y][1][0]){case 2:H=Es(" ",e[0][y][1][1])+H;break;case 3:H=Es("\r",e[0][y][1][1])+H;break;case 4:z=Es(" ",e[0][y][1][1])+z;break;case 5:z=Es("\r",e[0][y][1][1])+z;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(H+o.pop()+z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var K={c:r.c,r:r.r};if(n.sharedf[In(u)]){var Y=n.sharedf[In(u)];o.push(ng(Y,a,K,n,s))}else{var W=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ng(c[1],a,K,n,s)),W=!0;break}W||o.push(_[1])}break;case"PtgArray":o.push("{"+Ude(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&Z.indexOf(e[0][v][0])==-1){_=e[0][y];var ne=!0;switch(_[1][0]){case 4:ne=!1;case 0:b=Es(" ",_[1][1]);break;case 5:ne=!1;case 1:b=Es("\r",_[1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((ne?b:"")+o.pop()+(ne?"":b)),y=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function qde(e){if(e==null){var t=et(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return W0(e);return W0(0)}function Hde(e,t,r,n,s){var i=V0(t,r,s),a=qde(e.v),o=et(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=et(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var h=Di([i,a,o,c]);return h}function C_(e,t,r){var n=e.read_shift(4),s=Bde(e,n,r),i=e.read_shift(4),a=i>0?Mde(e,i,s,r):null;return[s,a]}var Wde=C_,I_=C_,Vde=C_,Gde=C_,Kde={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},i9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Yde={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Xde(e){var t="of:="+e.replace(dT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Qde(e){return e.replace(/\./,"!")}var uy=typeof Map<"u";function pT(e,t,r){var n=0,s=e.length;if(r){if(uy?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=uy?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(uy?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function P_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(sd=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=vb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=dA(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function a9(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dh(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){tB(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Zde(e,t,r){if(e&&e["!ref"]){var n=Kn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Jde(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Gs(e[r])+'"/>';return t+"</mergeCells>"}function efe(e,t,r,n,s){var i=!1,a={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,a.codeName=Xy(kn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Nt("outlinePr",null,c)}!i&&!o||(s[s.length]=Nt("sheetPr",o,a))}var tfe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rfe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function nfe(e){var t={sheet:1};return tfe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),rfe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=qB(e.password).toString(16).toUpperCase()),Nt("sheetProtection",null,t)}function sfe(e){return a9(e),Nt("pageMargins",null,e)}function ife(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Nt("col",null,P_(s,n)));return r[r.length]="</cols>",r.join("")}function afe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Gs(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,a=Fo(s);a.s.r==a.e.r&&(a.e.r=Fo(t["!ref"]).e.r,s=Gs(a));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Nt("autoFilter",null,{ref:s})}function ofe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Nt("sheetViews",Nt("sheetView",null,s),{})}function lfe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,a=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=zx[e.v];break;case"d":n&&n.cellDates?s=Ia(e.v,-1).toISOString():(e=io(e),e.t="n",s=""+(e.v=so(Ia(e.v)))),typeof e.z>"u"&&(e.z=Ts[14]);break;default:s=e.v;break}var o=Li("v",kn(s)),l={r:t},c=dh(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Li("v",""+pT(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=a),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Nt("f",kn(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Nt("c",o,l)}function cfe(e,t,r,n){var s=[],i=[],a=Kn(e["!ref"]),o="",l,c="",u=[],h=0,p=0,m=e["!rows"],x=Array.isArray(e),y={r:c},b,v=-1;for(p=a.s.c;p<=a.e.c;++p)u[p]=sa(p);for(h=a.s.r;h<=a.e.r;++h){for(i=[],c=Fi(h),p=a.s.c;p<=a.e.c;++p){l=u[p]+c;var S=x?(e[h]||[])[p]:e[l];S!==void 0&&(o=lfe(S,l,e,t))!=null&&i.push(o)}(i.length>0||m&&m[h])&&(y={r:c},m&&m[h]&&(b=m[h],b.hidden&&(y.hidden=1),v=-1,b.hpx?v=wb(b.hpx):b.hpt&&(v=b.hpt),v>-1&&(y.ht=v,y.customHeight=1),b.level&&(y.outlineLevel=b.level)),s[s.length]=Nt("row",i.join(""),y))}if(m)for(;h<m.length;++h)m&&m[h]&&(y={r:h+1},b=m[h],b.hidden&&(y.hidden=1),v=-1,b.hpx?v=wb(b.hpx):b.hpt&&(v=b.hpt),v>-1&&(y.ht=v,y.customHeight=1),b.level&&(y.outlineLevel=b.level),s[s.length]=Nt("row","",y));return s.join("")}function o9(e,t,r,n){var s=[Ks,Nt("worksheet",null,{xmlns:bg[0],"xmlns:r":wi.r})],i=r.SheetNames[e],a=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=Kn(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=Gs(u)}n||(n={}),l["!comments"]=[];var h=[];efe(l,r,e,t,s),s[s.length]=Nt("dimension",null,{ref:c}),s[s.length]=ofe(l,t,e,r),t.sheetFormat&&(s[s.length]=Nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=ife(l,l["!cols"])),s[a=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=cfe(l,t),o.length>0&&(s[s.length]=o)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),l["!protect"]&&(s[s.length]=nfe(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=afe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=Jde(l["!merges"]));var p=-1,m,x=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(m={ref:y[0]},y[1].Target.charAt(0)!="#"&&(x=An(n,-1,kn(y[1].Target).replace(/#.*$/,""),fn.HLINK),m["r:id"]="rId"+x),(p=y[1].Target.indexOf("#"))>-1&&(m.location=kn(y[1].Target.slice(p+1))),y[1].Tooltip&&(m.tooltip=kn(y[1].Tooltip)),s[s.length]=Nt("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=sfe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Li("ignoredErrors",Nt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(x=An(n,-1,"../drawings/drawing"+(e+1)+".xml",fn.DRAW),s[s.length]=Nt("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=h),l["!comments"].length>0&&(x=An(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",fn.VML),s[s.length]=Nt("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function ufe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function dfe(e,t,r){var n=et(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=wb(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var a=0;s.level&&(a|=s.level),s.hidden&&(a|=16),(s.hpx||s.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,p=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var x=Array.isArray(r)?(r[c.r]||[])[c.c]:r[In(c)];x&&(h<0&&(h=m),p=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,p))}var y=n.l;return n.l=l,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function ffe(e,t,r,n){var s=dfe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&ht(e,0,s)}var hfe=op,pfe=Sg;function mfe(){}function gfe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Nle(e),r}function yfe(e,t,r){r==null&&(r=et(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return gb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),_B(e,r),r.slice(0,r.l)}function xfe(e){var t=bl(e);return[t]}function vfe(e,t,r){return r==null&&(r=et(8)),sp(t,r)}function wfe(e){var t=ip(e);return[t]}function bfe(e,t,r){return r==null&&(r=et(4)),ap(t,r)}function _fe(e){var t=bl(e),r=e.read_shift(1);return[t,r,"b"]}function Sfe(e,t,r){return r==null&&(r=et(9)),sp(t,r),r.write_shift(1,e.v?1:0),r}function Afe(e){var t=ip(e),r=e.read_shift(1);return[t,r,"b"]}function Efe(e,t,r){return r==null&&(r=et(5)),ap(t,r),r.write_shift(1,e.v?1:0),r}function Nfe(e){var t=bl(e),r=e.read_shift(1);return[t,r,"e"]}function Tfe(e,t,r){return r==null&&(r=et(9)),sp(t,r),r.write_shift(1,e.v),r}function kfe(e){var t=ip(e),r=e.read_shift(1);return[t,r,"e"]}function Cfe(e,t,r){return r==null&&(r=et(8)),ap(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Ife(e){var t=bl(e),r=e.read_shift(4);return[t,r,"s"]}function Pfe(e,t,r){return r==null&&(r=et(12)),sp(t,r),r.write_shift(4,t.v),r}function Ofe(e){var t=ip(e),r=e.read_shift(4);return[t,r,"s"]}function Rfe(e,t,r){return r==null&&(r=et(8)),ap(t,r),r.write_shift(4,t.v),r}function Dfe(e){var t=bl(e),r=Ag(e);return[t,r,"n"]}function Lfe(e,t,r){return r==null&&(r=et(16)),sp(t,r),W0(e.v,r),r}function jfe(e){var t=ip(e),r=Ag(e);return[t,r,"n"]}function Ffe(e,t,r){return r==null&&(r=et(12)),ap(t,r),W0(e.v,r),r}function Mfe(e){var t=bl(e),r=SB(e);return[t,r,"n"]}function Bfe(e,t,r){return r==null&&(r=et(12)),sp(t,r),AB(e.v,r),r}function Ufe(e){var t=ip(e),r=SB(e);return[t,r,"n"]}function $fe(e,t,r){return r==null&&(r=et(8)),ap(t,r),AB(e.v,r),r}function zfe(e){var t=bl(e),r=aT(e);return[t,r,"is"]}function qfe(e){var t=bl(e),r=ia(e);return[t,r,"str"]}function Hfe(e,t,r){return r==null&&(r=et(12+4*e.v.length)),sp(t,r),_i(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Wfe(e){var t=ip(e),r=ia(e);return[t,r,"str"]}function Vfe(e,t,r){return r==null&&(r=et(8+4*e.v.length)),ap(t,r),_i(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Gfe(e,t,r){var n=e.l+t,s=bl(e);s.r=r["!row"];var i=e.read_shift(1),a=[s,i,"b"];if(r.cellFormula){e.l+=2;var o=I_(e,n-e.l,r);a[3]=ng(o,null,s,r.supbooks,r)}else e.l=n;return a}function Kfe(e,t,r){var n=e.l+t,s=bl(e);s.r=r["!row"];var i=e.read_shift(1),a=[s,i,"e"];if(r.cellFormula){e.l+=2;var o=I_(e,n-e.l,r);a[3]=ng(o,null,s,r.supbooks,r)}else e.l=n;return a}function Yfe(e,t,r){var n=e.l+t,s=bl(e);s.r=r["!row"];var i=Ag(e),a=[s,i,"n"];if(r.cellFormula){e.l+=2;var o=I_(e,n-e.l,r);a[3]=ng(o,null,s,r.supbooks,r)}else e.l=n;return a}function Xfe(e,t,r){var n=e.l+t,s=bl(e);s.r=r["!row"];var i=ia(e),a=[s,i,"str"];if(r.cellFormula){e.l+=2;var o=I_(e,n-e.l,r);a[3]=ng(o,null,s,r.supbooks,r)}else e.l=n;return a}var Qfe=op,Zfe=Sg;function Jfe(e,t){return t==null&&(t=et(4)),t.write_shift(4,e),t}function ehe(e,t){var r=e.l+t,n=op(e),s=oT(e),i=ia(e),a=ia(e),o=ia(e);e.l=r;var l={rfx:n,relId:s,loc:i,display:o};return a&&(l.Tooltip=a),l}function the(e,t){var r=et(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Sg({s:bi(e[0]),e:bi(e[0])},r),lT("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return _i(s||"",r),_i(e[1].Tooltip||"",r),_i("",r),r.slice(0,r.l)}function rhe(){}function nhe(e,t,r){var n=e.l+t,s=EB(e),i=e.read_shift(1),a=[s];if(a[2]=i,r.cellFormula){var o=Wde(e,n-e.l,r);a[1]=o}else e.l=n;return a}function she(e,t,r){var n=e.l+t,s=op(e),i=[s];if(r.cellFormula){var a=Gde(e,n-e.l,r);i[1]=a,e.l=n}else e.l=n;return i}function ihe(e,t,r){r==null&&(r=et(18));var n=P_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var l9=["left","right","top","bottom","header","footer"];function ahe(e){var t={};return l9.forEach(function(r){t[r]=Ag(e)}),t}function ohe(e,t){return t==null&&(t=et(6*8)),a9(e),l9.forEach(function(r){W0(e[r],t)}),t}function lhe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function che(e,t,r){r==null&&(r=et(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function uhe(e){var t=et(24);return t.write_shift(4,4),t.write_shift(4,1),Sg(e,t),t}function dhe(e,t){return t==null&&(t=et(16*4+2)),t.write_shift(2,e.password?qB(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function fhe(){}function hhe(){}function phe(e,t,r,n,s,i,a){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=io(t),t.z=t.z||Ts[14],t.v=so(Ia(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=dh(s.cellXfs,t,s),t.l&&i["!links"].push([In(l),t.l]),t.c&&i["!comments"].push([In(l),t.c]),t.t){case"s":case"str":return s.bookSST?(o=pT(s.Strings,t.v,s.revStrings),l.t="s",l.v=o,a?ht(e,18,Rfe(t,l)):ht(e,7,Pfe(t,l))):(l.t="str",a?ht(e,17,Vfe(t,l)):ht(e,6,Hfe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?ht(e,13,$fe(t,l)):ht(e,2,Bfe(t,l)):a?ht(e,16,Ffe(t,l)):ht(e,5,Lfe(t,l)),!0;case"b":return l.t="b",a?ht(e,15,Efe(t,l)):ht(e,4,Sfe(t,l)),!0;case"e":return l.t="e",a?ht(e,14,Cfe(t,l)):ht(e,3,Tfe(t,l)),!0}return a?ht(e,12,bfe(t,l)):ht(e,1,vfe(t,l)),!0}function mhe(e,t,r,n){var s=Kn(t["!ref"]||"A1"),i,a="",o=[];ht(e,145);var l=Array.isArray(t),c=s.e.r;t["!rows"]&&(c=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=c;++u){a=Fi(u),ffe(e,t,s,u);var h=!1;if(u<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){u===s.s.r&&(o[p]=sa(p)),i=o[p]+a;var m=l?(t[u]||[])[p]:t[i];if(!m){h=!1;continue}h=phe(e,m,u,p,n,t,h)}}ht(e,146)}function ghe(e,t){!t||!t["!merges"]||(ht(e,177,Jfe(t["!merges"].length)),t["!merges"].forEach(function(r){ht(e,176,Zfe(r))}),ht(e,178))}function yhe(e,t){!t||!t["!cols"]||(ht(e,390),t["!cols"].forEach(function(r,n){r&&ht(e,60,ihe(n,r))}),ht(e,391))}function xhe(e,t){!t||!t["!ref"]||(ht(e,648),ht(e,649,uhe(Kn(t["!ref"]))),ht(e,650))}function vhe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=An(r,-1,n[1].Target.replace(/#.*$/,""),fn.HLINK);ht(e,494,the(n,s))}}),delete t["!links"]}function whe(e,t,r,n){if(t["!comments"].length>0){var s=An(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",fn.VML);ht(e,551,lT("rId"+s)),t["!legacy"]=s}}function bhe(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Gs(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Fo(i);o.s.r==o.e.r&&(o.e.r=Fo(t["!ref"]).e.r,i=Gs(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ht(e,161,Sg(Kn(i))),ht(e,162)}}function _he(e,t,r){ht(e,133),ht(e,137,che(t,r)),ht(e,138),ht(e,134)}function She(e,t){t["!protect"]&&ht(e,535,dhe(t["!protect"]))}function Ahe(e,t,r,n){var s=no(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Kn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ht(s,129),(r.vbaraw||a["!outline"])&&ht(s,147,yfe(o,a["!outline"])),ht(s,148,pfe(l)),_he(s,a,r.Workbook),yhe(s,a),mhe(s,a,e,t),She(s,a),bhe(s,a,r,e),ghe(s,a),vhe(s,a,n),a["!margins"]&&ht(s,476,ohe(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&xhe(s,a),whe(s,a,e,n),ht(s,130),s.end()}function Ehe(e,t){e.l+=10;var r=ia(e);return{name:r}}var Nhe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function The(e){return!e.Workbook||!e.Workbook.WBProps?"false":sle(e.Workbook.WBProps.date1904)?"true":"false"}var khe="][*?/\\".split("");function c9(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return khe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Che(e,t,r){e.forEach(function(n,s){c9(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=t&&t[s]&&t[s].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Ihe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Che(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Zde(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function u9(e){var t=[Ks];t[t.length]=Nt("workbook",null,{xmlns:bg[0],"xmlns:r":wi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Nhe.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Nt("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var a={name:kn(e.SheetNames[i].slice(0,31))};if(a.sheetId=""+(i+1),a["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Nt("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=Nt("definedName",kn(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Phe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=uA(e),r.name=ia(e),r}function Ohe(e,t){return t||(t=et(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),lT(e.strRelID,t),_i(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Rhe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?ia(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Dhe(e,t){t||(t=et(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),_B(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Lhe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Tle(e),a=Vde(e,0,r),o=oT(e);e.l=n;var l={Name:i,Ptg:a};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function jhe(e,t){ht(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ht(e,156,Ohe(s))}ht(e,144)}function Fhe(e,t){t||(t=et(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return _i("SheetJS",t),_i(cb.version,t),_i(cb.version,t),_i("7262",t),t.length>t.l?t.slice(0,t.l):t}function Mhe(e,t){t||(t=et(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Bhe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(ht(e,135),ht(e,158,Mhe(s)),ht(e,136))}}function Uhe(e,t){var r=no();return ht(r,131),ht(r,128,Fhe()),ht(r,153,Dhe(e.Workbook&&e.Workbook.WBProps||null)),Bhe(r,e),jhe(r,e),ht(r,132),r.end()}function $he(e,t,r){return(t.slice(-4)===".bin"?Uhe:u9)(e)}function zhe(e,t,r,n,s){return(t.slice(-4)===".bin"?Ahe:o9)(e,r,n,s)}function qhe(e,t,r){return(t.slice(-4)===".bin"?oue:VB)(e,r)}function Hhe(e,t,r){return(t.slice(-4)===".bin"?Dce:zB)(e,r)}function Whe(e,t,r){return(t.slice(-4)===".bin"?Sue:QB)(e)}function Vhe(e){return(e.slice(-4)===".bin"?mue:YB)()}function Ghe(e,t){var r=[];return e.Props&&r.push(qle(e.Props,t)),e.Custprops&&r.push(Hle(e.Props,e.Custprops)),r.join("")}function Khe(){return""}function Yhe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(Nt("NumberFormat",null,{"ss:Format":kn(Ts[n.numFmtId])}));var a={"ss:ID":"s"+(21+s)};r.push(Nt("Style",i.join(""),a))}),Nt("Styles",r.join(""))}function d9(e){return Nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+fT(e.Ref,{r:0,c:0})})}function Xhe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(d9(s)))}return Nt("Names",r.join(""))}function Qhe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],a=0;a<s.length;++a){var o=s[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(d9(o)))}return i.join("")}function Zhe(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Nt("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Nt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Li("ProtectContents","True")),e["!protect"].objects&&s.push(Li("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Li("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Li("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Li("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){e["!protect"][a[0]]&&s.push("<"+a[1]+"/>")})),s.length==0?"":Nt("WorksheetOptions",s.join(""),{xmlns:ko.x})}function Jhe(e){return e.map(function(t){var r=nle(t.t||""),n=Nt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nt("Comment",n,{"ss:Author":t.a})}).join("")}function e0e(e,t,r,n,s,i,a){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+kn(fT(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var l=bi(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=kn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=kn(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=zx[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ts[14]);break;case"s":h="String",p=rle(e.v||"");break}var m=dh(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var x=e.v!=null?p:"",y=e.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(e.c||[]).length>0&&(y+=Jhe(e.c)),Nt("Cell",y,o)}function t0e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=WB(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function r0e(e,t,r,n){if(!e["!ref"])return"";var s=Kn(e["!ref"]),i=e["!merges"]||[],a=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,v){uT(b);var S=!!b.width,_=P_(v,b),T={"ss:Index":v+1};S&&(T["ss:Width"]=xb(_.width)),b.hidden&&(T["ss:Hidden"]="1"),o.push(Nt("Column",null,T))});for(var l=Array.isArray(e),c=s.s.r;c<=s.e.r;++c){for(var u=[t0e(c,(e["!rows"]||[])[c])],h=s.s.c;h<=s.e.c;++h){var p=!1;for(a=0;a!=i.length;++a)if(!(i[a].s.c>h)&&!(i[a].s.r>c)&&!(i[a].e.c<h)&&!(i[a].e.r<c)){(i[a].s.c!=h||i[a].s.r!=c)&&(p=!0);break}if(!p){var m={r:c,c:h},x=In(m),y=l?(e[c]||[])[h]:e[x];u.push(e0e(y,x,e,t,r,n,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function n0e(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],a=i?Qhe(i,t,e,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=i?r0e(i,t,e,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(Zhe(i,t,e,r)),n.join("")}function s0e(e,t){t||(t={}),e.SSF||(e.SSF=io(Ts)),e.SSF&&(N_(),E_(e.SSF),t.revssf=T_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],dh(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Ghe(e,t)),r.push(Khe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Nt("Worksheet",n0e(n,t,e),{"ss:Name":kn(e.SheetNames[n])}));return r[2]=Yhe(e,t),r[3]=Xhe(e),Ks+Nt("Workbook",r.join(""),{xmlns:ko.ss,"xmlns:o":ko.o,"xmlns:x":ko.x,"xmlns:ss":ko.ss,"xmlns:dt":ko.dt,"xmlns:html":ko.html})}var jS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function i0e(e,t){var r=[],n=[],s=[],i=0,a,o=PP(HP,"n"),l=PP(WP,"n");if(e.Props)for(a=Bi(e.Props),i=0;i<a.length;++i)(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(l,a[i])?n:s).push([a[i],e.Props[a[i]]]);if(e.Custprops)for(a=Bi(e.Custprops),i=0;i<a.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},a[i])||(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(l,a[i])?n:s).push([a[i],e.Custprops[a[i]]]);var c=[];for(i=0;i<s.length;++i)LB.indexOf(s[i][0])>-1||OB.indexOf(s[i][0])>-1||s[i][1]!=null&&c.push(s[i]);n.length&&On.utils.cfb_add(t,"/SummaryInformation",XP(n,jS.SI,l,WP)),(r.length||c.length)&&On.utils.cfb_add(t,"/DocumentSummaryInformation",XP(r,jS.DSI,o,HP,c.length?c:null,jS.UDI))}function a0e(e,t){var r=t||{},n=On.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return On.utils.cfb_add(n,s,f9(e,r)),r.biff==8&&(e.Props||e.Custprops)&&i0e(e,n),r.biff==8&&e.vbaraw&&Aue(n,On.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var o0e={0:{f:ufe},1:{f:xfe},2:{f:Mfe},3:{f:Nfe},4:{f:_fe},5:{f:Dfe},6:{f:qfe},7:{f:Ife},8:{f:Xfe},9:{f:Yfe},10:{f:Gfe},11:{f:Kfe},12:{f:wfe},13:{f:Ufe},14:{f:kfe},15:{f:Afe},16:{f:jfe},17:{f:Wfe},18:{f:Ofe},19:{f:aT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Lhe},40:{},42:{},43:{f:qce},44:{f:$ce},45:{f:Vce},46:{f:Kce},47:{f:Gce},48:{},49:{f:wle},50:{},51:{f:uue},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bce},62:{f:zfe},63:{f:gue},64:{f:fhe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lhe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gfe},148:{f:hfe,p:16},151:{f:rhe},152:{},153:{f:Rhe},154:{},155:{},156:{f:Phe},157:{},158:{},159:{T:1,f:Pce},160:{T:-1},161:{T:1,f:op},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Qfe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lue},336:{T:-1},337:{f:hue,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mce},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:nhe},427:{f:she},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ahe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mfe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ehe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bue},633:{T:1},634:{T:-1},635:{T:1,f:vue},636:{T:-1},637:{f:Ale},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ehe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hhe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Tt(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,a=e.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&nT(r)&&e.push(r)}}function l0e(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Tt(e,t,r,s);var i=t;if(!isNaN(i)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<s;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function Hx(e,t,r){return e||(e=et(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function c0e(e,t,r,n){var s=et(9);return Hx(s,e,t),FB(r,n||"b",s),s}function u0e(e,t,r){var n=et(8+2*r.length);return Hx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function d0e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?so(Ia(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Tt(e,2,Ece(r,n,s)):Tt(e,3,Ace(r,n,s));return;case"b":case"e":Tt(e,5,c0e(r,n,t.v,t.t));return;case"s":case"str":Tt(e,4,u0e(r,n,(t.v||"").slice(0,255)));return}Tt(e,1,Hx(null,r,n))}function f0e(e,t,r,n){var s=Array.isArray(t),i=Kn(t["!ref"]||"A1"),a,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=Gs(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Fi(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=sa(u)),a=l[u]+o;var h=s?(t[c]||[])[u]:t[a];h&&d0e(e,h,c,u)}}}function h0e(e,t){for(var r=t||{},n=no(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Tt(n,r.biff==4?1033:r.biff==3?521:9,cT(e,16,r)),f0e(n,e.Sheets[e.SheetNames[s]],s,r),Tt(n,10),n.end()}function p0e(e,t,r){Tt(e,49,oce({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function m0e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Tt(e,1054,uce(s,t[s],r))})}function g0e(e,t){var r=et(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Tt(e,2151,r),r=et(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),UB(Kn(t["!ref"]||"A1"),r),r.write_shift(4,4),Tt(e,2152,r)}function y0e(e,t){for(var r=0;r<16;++r)Tt(e,224,ZP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Tt(e,224,ZP(n,0,t))})}function x0e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Tt(e,440,xce(n)),n[1].Tooltip&&Tt(e,2048,vce(n))}delete t["!links"]}function v0e(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Tt(e,125,_ce(P_(s,n),s))})}}function w0e(e,t,r,n,s){var i=16+dh(s.cellXfs,t,s);if(t.v==null&&!t.bf){Tt(e,513,V0(r,n,i));return}if(t.bf)Tt(e,6,Hde(t,r,n,s,i));else switch(t.t){case"d":case"n":var a=t.t=="d"?so(Ia(t.v)):t.v;Tt(e,515,pce(r,n,a,i));break;case"b":case"e":Tt(e,517,hce(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var o=pT(s.Strings,t.v,s.revStrings);Tt(e,253,lce(r,n,o,i))}else Tt(e,516,cce(r,n,(t.v||"").slice(0,255),i,s));break;default:Tt(e,513,V0(r,n,i))}}function b0e(e,t,r){var n=no(),s=r.SheetNames[e],i=r.Sheets[s]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,u,h="",p=[],m=Kn(i["!ref"]||"A1"),x=c?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}Tt(n,2057,cT(r,16,t)),Tt(n,13,rl(1)),Tt(n,12,rl(100)),Tt(n,15,Aa(!0)),Tt(n,17,Aa(!1)),Tt(n,16,W0(.001)),Tt(n,95,Aa(!0)),Tt(n,42,Aa(!1)),Tt(n,43,Aa(!1)),Tt(n,130,rl(1)),Tt(n,128,fce()),Tt(n,131,Aa(!1)),Tt(n,132,Aa(!1)),c&&v0e(n,i["!cols"]),Tt(n,512,dce(m,t)),c&&(i["!links"]=[]);for(var y=m.s.r;y<=m.e.r;++y){h=Fi(y);for(var b=m.s.c;b<=m.e.c;++b){y===m.s.r&&(p[b]=sa(b)),u=p[b]+h;var v=l?(i[y]||[])[b]:i[u];v&&(w0e(n,v,y,b,t),c&&v.l&&i["!links"].push([u,v.l]))}}var S=o.CodeName||o.name||s;return c&&Tt(n,574,ace((a.Views||[])[0])),c&&(i["!merges"]||[]).length&&Tt(n,229,yce(i["!merges"])),c&&x0e(n,i),Tt(n,442,BB(S)),c&&g0e(n,i),Tt(n,10),n.end()}function _0e(e,t,r){var n=no(),s=(e||{}).Workbook||{},i=s.Sheets||[],a=s.WBProps||{},o=r.biff==8,l=r.biff==5;if(Tt(n,2057,cT(e,5,r)),r.bookType=="xla"&&Tt(n,135),Tt(n,225,o?rl(1200):null),Tt(n,193,Gle(2)),l&&Tt(n,191),l&&Tt(n,192),Tt(n,226),Tt(n,92,rce("SheetJS",r)),Tt(n,66,rl(o?1200:1252)),o&&Tt(n,353,rl(0)),o&&Tt(n,448),Tt(n,317,Sce(e.SheetNames.length)),o&&e.vbaraw&&Tt(n,211),o&&e.vbaraw){var c=a.CodeName||"ThisWorkbook";Tt(n,442,BB(c))}Tt(n,156,rl(17)),Tt(n,25,Aa(!1)),Tt(n,18,Aa(!1)),Tt(n,19,rl(0)),o&&Tt(n,431,Aa(!1)),o&&Tt(n,444,rl(0)),Tt(n,61,ice()),Tt(n,64,Aa(!1)),Tt(n,141,rl(0)),Tt(n,34,Aa(The(e)=="true")),Tt(n,14,Aa(!0)),o&&Tt(n,439,Aa(!1)),Tt(n,218,rl(0)),p0e(n,e,r),m0e(n,e.SSF,r),y0e(n,r),o&&Tt(n,352,Aa(!1));var u=n.end(),h=no();o&&Tt(h,140,wce()),o&&r.Strings&&l0e(h,252,sce(r.Strings)),Tt(h,10);var p=h.end(),m=no(),x=0,y=0;for(y=0;y<e.SheetNames.length;++y)x+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var b=u.length+x+p.length;for(y=0;y<e.SheetNames.length;++y){var v=i[y]||{};Tt(m,133,nce({pos:b,hs:v.Hidden||0,dt:0,name:e.SheetNames[y]},r)),b+=t[y].length}var S=m.end();if(x!=S.length)throw new Error("BS8 "+x+" != "+S.length);var _=[];return u.length&&_.push(u),S.length&&_.push(S),p.length&&_.push(p),Di(_)}function S0e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=io(Ts)),e&&e.SSF&&(N_(),E_(e.SSF),r.revssf=T_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,mT(r),r.cellXfs=[],dh(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=b0e(s,r,e);return n.unshift(_0e(e,n,r)),Di(n)}function f9(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Fo(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return S0e(e,t);case 4:case 3:case 2:return h0e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function A0e(e,t,r,n){for(var s=e["!merges"]||[],i=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>r||s[c].s.c>a)&&!(s[c].e.r<r||s[c].e.c<a)){if(s[c].s.r<r||s[c].s.c<a){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var u=In({r,c:a}),h=n.dense?(e[r]||[])[a]:e[u],p=h&&h.v!=null&&(h.h||tle(h.w||(md(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+u,i.push(Nt("td",p,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var E0e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',N0e="</body></html>";function T0e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function h9(e,t){var r=t||{},n=r.header!=null?r.header:E0e,s=r.footer!=null?r.footer:N0e,i=[n],a=Fo(e["!ref"]);r.dense=Array.isArray(e),i.push(T0e(e,a,r));for(var o=a.s.r;o<=a.e.r;++o)i.push(A0e(e,a,o,r));return i.push("</table>"+s),i.join("")}function p9(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?bi(n.origin):n.origin;s=a.r,i=a.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var u=Fo(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),s==-1&&(c.e.r=s=u.e.r+1)}var h=[],p=0,m=e["!rows"]||(e["!rows"]=[]),x=0,y=0,b=0,v=0,S=0,_=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&y<l;++x){var T=o[x];if(iO(T)){if(n.display)continue;m[y]={hidden:!0}}var R=T.children;for(b=v=0;b<R.length;++b){var B=R[b];if(!(n.display&&iO(B))){var j=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):ile(B.innerHTML),P=B.getAttribute("data-z")||B.getAttribute("z");for(p=0;p<h.length;++p){var F=h[p];F.s.c==v+i&&F.s.r<y+s&&y+s<=F.e.r&&(v=F.e.c+1-i,p=-1)}_=+B.getAttribute("colspan")||1,((S=+B.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:y+s,c:v+i},e:{r:y+s+(S||1)-1,c:v+i+(_||1)-1}});var N={t:"s",v:j},k=B.getAttribute("data-t")||B.getAttribute("t")||"";j!=null&&(j.length==0?N.t=k||"z":n.raw||j.trim().length==0||k=="s"||(j==="TRUE"?N={t:"b",v:!0}:j==="FALSE"?N={t:"b",v:!1}:isNaN(nd(j))?isNaN(Yy(j).getDate())||(N={t:"d",v:Ia(j)},n.cellDates||(N={t:"n",v:so(N.v)}),N.z=n.dateNF||Ts[14]):N={t:"n",v:nd(j)})),N.z===void 0&&P!=null&&(N.z=P);var C="",H=B.getElementsByTagName("A");if(H&&H.length)for(var z=0;z<H.length&&!(H[z].hasAttribute("href")&&(C=H[z].getAttribute("href"),C.charAt(0)!="#"));++z);C&&C.charAt(0)!="#"&&(N.l={Target:C}),n.dense?(e[y+s]||(e[y+s]=[]),e[y+s][v+i]=N):e[In({c:v+i,r:y+s})]=N,c.e.c<v+i&&(c.e.c=v+i),v+=_}}++y}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,y-1+s),e["!ref"]=Gs(c),y>=l&&(e["!fullref"]=Gs((c.e.r=o.length-x+y-1+s,c))),e}function m9(e,t){var r=t||{},n=r.dense?[]:{};return p9(n,e,t)}function k0e(e,t){return np(m9(e,t),t)}function iO(e){var t="",r=C0e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function C0e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var I0e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ks+t}}(),aO=function(){var e=function(i){return kn(i).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,a,o){var l=[];l.push('      <table:table table:name="'+kn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,h=Fo(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var y="",b=i["!rows"]||[];for(c=0;c<h.s.r;++c)y=b[c]?' table:style-name="ro'+b[c].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;c<=h.e.r;++c){for(y=b[c]?' table:style-name="ro'+b[c].ods+'"':"",l.push("        <table:table-row"+y+`>
`),u=0;u<h.s.c;++u)l.push(t);for(;u<=h.e.c;++u){var v=!1,S={},_="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>c)&&!(p[m].e.c<u)&&!(p[m].e.r<c)){(p[m].s.c!=u||p[m].s.r!=c)&&(v=!0),S["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,S["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(v){l.push(r);continue}var T=In({r:c,c:u}),R=x?(i[c]||[])[u]:i[T];if(R&&R.f&&(S["table:formula"]=kn(Xde(R.f)),R.F&&R.F.slice(0,T.length)==T)){var B=Fo(R.F);S["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,S["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!R){l.push(t);continue}switch(R.t){case"b":_=R.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=R.v?"true":"false";break;case"n":_=R.w||String(R.v||0),S["office:value-type"]="float",S["office:value"]=R.v||0;break;case"s":case"str":_=R.v==null?"":R.v,S["office:value-type"]="string";break;case"d":_=R.w||Ia(R.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Ia(R.v).toISOString(),S["table:style-name"]="ce1";break;default:l.push(t);continue}var j=e(_);if(R.l&&R.l.Target){var P=R.l.Target;P=P.charAt(0)=="#"?"#"+Qde(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),j=Nt("text:a",j,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+Nt("table:table-cell",Nt("text:p",j,{}),S)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(i,a){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;uT(h),h.ods=o;var p=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ks],c=Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Qy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(IB().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),s(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function g9(e,t){if(t.bookType=="fods")return aO(e,t);var r=JN(),n="",s=[],i=[];return n="mimetype",Mr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Mr(r,n,aO(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Mr(r,n,I0e(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Mr(r,n,Ks+IB()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Mr(r,n,zle(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Mr(r,n,Ule(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function bb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function P0e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):nc(Xy(e))}function O0e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function rh(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function R0e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Zy(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Sn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Sm(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ri(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Zy(e,r),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:a=4,o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Zy(e,r),o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var c={data:o,type:i};t[s]==null?t[s]=[c]:t[s].push(c)}return t}function ki(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Sn(n*8+s.type)),s.type==2&&t.push(Sn(s.data.length)),t.push(s.data))})}),rh(t)}function Wl(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Zy(e,n),i=ri(e.slice(n[0],n[0]+s));n[0]+=s;var a={id:Sm(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=ri(o.data),c=Sm(l[3][0].data);a.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(a.merge=Sm(i[3][0].data)>>>0>0),r.push(a)}return r}function Rp(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Sn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Sn(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(a){s.push(a.data),a.meta[3]=[{type:0,data:Sn(a.data.length)}],n[2].push({data:ki(a.meta),type:2})});var i=ki(n);t.push(Sn(i.length)),t.push(i),s.forEach(function(a){return t.push(a)})}),rh(t)}function D0e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Zy(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var a=t[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=t[r[0]],o>1&&(a|=t[r[0]+1]<<8),o>2&&(a|=t[r[0]+2]<<16),o>3&&(a|=t[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}s.push(t.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[rh(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(s.push(s[0].slice(-l)),c-=l;c>=s[s.length-1].length;)s.push(s[s.length-1]),c-=s[s.length-1].length;s.push(s[0].slice(-l,-l+c))}}var u=rh(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Vl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(D0e(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return rh(t)}function Dp(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Sn(n),a=i.length;t.push(i),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),a+=n,s[0]=0,s[1]=a&255,s[2]=a>>8&255,s[3]=a>>16&255,r+=n}return rh(t)}function FS(e,t){var r=new Uint8Array(32),n=bb(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,R0e(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function MS(e,t){var r=new Uint8Array(32),n=bb(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function tf(e){var t=ri(e);return Zy(t[1][0].data)}function L0e(e,t,r){var n,s,i,a;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(i=e[8])==null?void 0:i[0])==null?void 0:a.data)&&Sm(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=bb(e[7][0].data),u=0,h=[],p=bb(e[4][0].data),m=0,x=[],y=0;y<t.length;++y){if(t[y]==null){c.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}c.setUint16(y*2,u,!0),p.setUint16(y*2,m,!0);var b,v;switch(typeof t[y]){case"string":b=FS({t:"s",v:t[y]},r),v=MS({t:"s",v:t[y]},r);break;case"number":b=FS({t:"n",v:t[y]},r),v=MS({t:"n",v:t[y]},r);break;case"boolean":b=FS({t:"b",v:t[y]},r),v=MS({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}h.push(b),u+=b.length,x.push(v),m+=v.length,++l}for(e[2][0].data=Sn(l);y<e[7][0].data.length/2;++y)c.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return e[6][0].data=rh(h),e[3][0].data=rh(x),l}function j0e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fo(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Gs(n)));var i=_b(r,{range:n,header:1}),a=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(G){typeof G=="string"&&a.push(G)})});var o={},l=[],c=On.read(t.numbers,{type:"base64"});c.FileIndex.map(function(U,G){return[U,c.FullPaths[G]]}).forEach(function(U){var G=U[0],V=U[1];if(G.type==2&&G.name.match(/\.iwa/)){var Q=G.content,ge=Vl(Q),Se=Wl(ge);Se.forEach(function(pe){l.push(pe.id),o[pe.id]={deps:[],location:V,type:Sm(pe.messages[0].meta[1][0].data)}})}}),l.sort(function(U,G){return U-G});var u=l.filter(function(U){return U>1}).map(function(U){return[U,Sn(U)]});c.FileIndex.map(function(U,G){return[U,c.FullPaths[G]]}).forEach(function(U){var G=U[0];if(U[1],!!G.name.match(/\.iwa/)){var V=Wl(Vl(G.content));V.forEach(function(Q){Q.messages.forEach(function(ge){u.forEach(function(Se){Q.messages.some(function(pe){return Sm(pe.meta[1][0].data)!=11006&&O0e(pe.data,Se[1])})&&o[Se[0]].deps.push(Q.id)})})})}});for(var h=On.find(c,o[1].location),p=Wl(Vl(h.content)),m,x=0;x<p.length;++x){var y=p[x];y.id==1&&(m=y)}var b=tf(ri(m.messages[0].data)[1][0].data);for(h=On.find(c,o[b].location),p=Wl(Vl(h.content)),x=0;x<p.length;++x)y=p[x],y.id==b&&(m=y);for(b=tf(ri(m.messages[0].data)[2][0].data),h=On.find(c,o[b].location),p=Wl(Vl(h.content)),x=0;x<p.length;++x)y=p[x],y.id==b&&(m=y);for(b=tf(ri(m.messages[0].data)[2][0].data),h=On.find(c,o[b].location),p=Wl(Vl(h.content)),x=0;x<p.length;++x)y=p[x],y.id==b&&(m=y);var v=ri(m.messages[0].data);{v[6][0].data=Sn(n.e.r+1),v[7][0].data=Sn(n.e.c+1);var S=tf(v[46][0].data),_=On.find(c,o[S].location),T=Wl(Vl(_.content));{for(var R=0;R<T.length&&T[R].id!=S;++R);if(T[R].id!=S)throw"Bad ColumnRowUIDMapArchive";var B=ri(T[R].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var j=0;j<=n.e.c;++j){var P=[];P[1]=P[2]=[{type:0,data:Sn(j+420690)}],B[1].push({type:2,data:ki(P)}),B[2].push({type:0,data:Sn(j)}),B[3].push({type:0,data:Sn(j)})}B[4]=[],B[5]=[],B[6]=[];for(var F=0;F<=n.e.r;++F)P=[],P[1]=P[2]=[{type:0,data:Sn(F+726270)}],B[4].push({type:2,data:ki(P)}),B[5].push({type:0,data:Sn(F)}),B[6].push({type:0,data:Sn(F)});T[R].messages[0].data=ki(B)}_.content=Dp(Rp(T)),_.size=_.content.length,delete v[46];var N=ri(v[4][0].data);{N[7][0].data=Sn(n.e.r+1);var k=ri(N[1][0].data),C=tf(k[2][0].data);_=On.find(c,o[C].location),T=Wl(Vl(_.content));{if(T[0].id!=C)throw"Bad HeaderStorageBucket";var H=ri(T[0].messages[0].data);for(F=0;F<i.length;++F){var z=ri(H[2][0].data);z[1][0].data=Sn(F),z[4][0].data=Sn(i[F].length),H[2][F]={type:H[2][0].type,data:ki(z)}}T[0].messages[0].data=ki(H)}_.content=Dp(Rp(T)),_.size=_.content.length;var K=tf(N[2][0].data);_=On.find(c,o[K].location),T=Wl(Vl(_.content));{if(T[0].id!=K)throw"Bad HeaderStorageBucket";for(H=ri(T[0].messages[0].data),j=0;j<=n.e.c;++j)z=ri(H[2][0].data),z[1][0].data=Sn(j),z[4][0].data=Sn(n.e.r+1),H[2][j]={type:H[2][0].type,data:ki(z)};T[0].messages[0].data=ki(H)}_.content=Dp(Rp(T)),_.size=_.content.length;var Y=tf(N[4][0].data);(function(){for(var U=On.find(c,o[Y].location),G=Wl(Vl(U.content)),V,Q=0;Q<G.length;++Q){var ge=G[Q];ge.id==Y&&(V=ge)}var Se=ri(V.messages[0].data);{Se[3]=[];var pe=[];a.forEach(function($e,Ze){pe[1]=[{type:0,data:Sn(Ze)}],pe[2]=[{type:0,data:Sn(1)}],pe[3]=[{type:2,data:P0e($e)}],Se[3].push({type:2,data:ki(pe)})})}V.messages[0].data=ki(Se);var oe=Rp(G),De=Dp(oe);U.content=De,U.size=U.content.length})();var W=ri(N[3][0].data);{var Z=W[1][0];delete W[2];var ne=ri(Z.data);{var ee=tf(ne[2][0].data);(function(){for(var U=On.find(c,o[ee].location),G=Wl(Vl(U.content)),V,Q=0;Q<G.length;++Q){var ge=G[Q];ge.id==ee&&(V=ge)}var Se=ri(V.messages[0].data);{delete Se[6],delete W[7];var pe=new Uint8Array(Se[5][0].data);Se[5]=[];for(var oe=0,De=0;De<=n.e.r;++De){var $e=ri(pe);oe+=L0e($e,i[De],a),$e[1][0].data=Sn(De),Se[5].push({data:ki($e),type:2})}Se[1]=[{type:0,data:Sn(n.e.c+1)}],Se[2]=[{type:0,data:Sn(n.e.r+1)}],Se[3]=[{type:0,data:Sn(oe)}],Se[4]=[{type:0,data:Sn(n.e.r+1)}]}V.messages[0].data=ki(Se);var Ze=Rp(G),Ce=Dp(Ze);U.content=Ce,U.size=U.content.length})()}Z.data=ki(ne)}N[3][0].data=ki(W)}v[4][0].data=ki(N)}m.messages[0].data=ki(v);var X=Rp(p),I=Dp(X);return h.content=I,h.size=h.content.length,c}function F0e(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function mT(e){F0e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function M0e(e,t){return t.bookType=="ods"?g9(e,t):t.bookType=="numbers"?j0e(e,t):t.bookType=="xlsb"?B0e(e,t):U0e(e,t)}function B0e(e,t){dm=1024,e&&!e.SSF&&(e.SSF=io(Ts)),e&&e.SSF&&(N_(),E_(e.SSF),t.revssf=T_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,uy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=ZB.indexOf(t.bookType)>-1,s=TB();mT(t=t||{});var i=JN(),a="",o=0;if(t.cellXfs=[],dh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Mr(i,a,PB(e.Props,t)),s.coreprops.push(a),An(t.rels,2,a,fn.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Mr(i,a,RB(e.Props)),s.extprops.push(a),An(t.rels,3,a,fn.EXT_PROPS),e.Custprops!==e.Props&&Bi(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Mr(i,a,DB(e.Custprops)),s.custprops.push(a),An(t.rels,4,a,fn.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Mr(i,a,zhe(o-1,a,t,e,u)),s.sheets.push(a),An(t.wbrels,-1,"worksheets/sheet"+o+"."+r,fn.WS[0])}if(h){var m=h["!comments"],x=!1,y="";m&&m.length>0&&(y="xl/comments"+o+"."+r,Mr(i,y,Whe(m,y)),s.comments.push(y),An(u,-1,"../comments"+o+"."+r,fn.CMNT),x=!0),h["!legacy"]&&x&&Mr(i,"xl/drawings/vmlDrawing"+o+".vml",XB(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Mr(i,CB(a),bm(u))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Mr(i,a,Hhe(t.Strings,a,t)),s.strs.push(a),An(t.wbrels,-1,"sharedStrings."+r,fn.SST)),a="xl/workbook."+r,Mr(i,a,$he(e,a)),s.workbooks.push(a),An(t.rels,1,a,fn.WB),a="xl/theme/theme1.xml",Mr(i,a,KB(e.Themes,t)),s.themes.push(a),An(t.wbrels,-1,"theme/theme1.xml",fn.THEME),a="xl/styles."+r,Mr(i,a,qhe(e,a,t)),s.styles.push(a),An(t.wbrels,-1,"styles."+r,fn.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Mr(i,a,e.vbaraw),s.vba.push(a),An(t.wbrels,-1,"vbaProject.bin",fn.VBA)),a="xl/metadata."+r,Mr(i,a,Vhe(a)),s.metadata.push(a),An(t.wbrels,-1,"metadata."+r,fn.XLMETA),Mr(i,"[Content_Types].xml",kB(s,t)),Mr(i,"_rels/.rels",bm(t.rels)),Mr(i,"xl/_rels/workbook."+r+".rels",bm(t.wbrels)),delete t.revssf,delete t.ssf,i}function U0e(e,t){dm=1024,e&&!e.SSF&&(e.SSF=io(Ts)),e&&e.SSF&&(N_(),E_(e.SSF),t.revssf=T_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,uy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=ZB.indexOf(t.bookType)>-1,s=TB();mT(t=t||{});var i=JN(),a="",o=0;if(t.cellXfs=[],dh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Mr(i,a,PB(e.Props,t)),s.coreprops.push(a),An(t.rels,2,a,fn.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Mr(i,a,RB(e.Props)),s.extprops.push(a),An(t.rels,3,a,fn.EXT_PROPS),e.Custprops!==e.Props&&Bi(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Mr(i,a,DB(e.Custprops)),s.custprops.push(a),An(t.rels,4,a,fn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Mr(i,a,o9(o-1,t,e,h)),s.sheets.push(a),An(t.wbrels,-1,"worksheets/sheet"+o+"."+r,fn.WS[0])}if(p){var x=p["!comments"],y=!1,b="";if(x&&x.length>0){var v=!1;x.forEach(function(S){S[1].forEach(function(_){_.T==!0&&(v=!0)})}),v&&(b="xl/threadedComments/threadedComment"+o+"."+r,Mr(i,b,yue(x,u,t)),s.threadedcomments.push(b),An(h,-1,"../threadedComments/threadedComment"+o+"."+r,fn.TCMNT)),b="xl/comments"+o+"."+r,Mr(i,b,QB(x)),s.comments.push(b),An(h,-1,"../comments"+o+"."+r,fn.CMNT),y=!0}p["!legacy"]&&y&&Mr(i,"xl/drawings/vmlDrawing"+o+".vml",XB(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Mr(i,CB(a),bm(h))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Mr(i,a,zB(t.Strings,t)),s.strs.push(a),An(t.wbrels,-1,"sharedStrings."+r,fn.SST)),a="xl/workbook."+r,Mr(i,a,u9(e)),s.workbooks.push(a),An(t.rels,1,a,fn.WB),a="xl/theme/theme1.xml",Mr(i,a,KB(e.Themes,t)),s.themes.push(a),An(t.wbrels,-1,"theme/theme1.xml",fn.THEME),a="xl/styles."+r,Mr(i,a,VB(e,t)),s.styles.push(a),An(t.wbrels,-1,"styles."+r,fn.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Mr(i,a,e.vbaraw),s.vba.push(a),An(t.wbrels,-1,"vbaProject.bin",fn.VBA)),a="xl/metadata."+r,Mr(i,a,YB()),s.metadata.push(a),An(t.wbrels,-1,"metadata."+r,fn.XLMETA),u.length>1&&(a="xl/persons/person.xml",Mr(i,a,xue(u)),s.people.push(a),An(t.wbrels,-1,"persons/person.xml",fn.PEOPLE)),Mr(i,"[Content_Types].xml",kB(s,t)),Mr(i,"_rels/.rels",bm(t.rels)),Mr(i,"xl/_rels/workbook."+r+".rels",bm(t.wbrels)),delete t.revssf,delete t.ssf,i}function $0e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=pd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function y9(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Ux(t.file,On.write(e,{type:pn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return On.write(e,t)}function z0e(e,t){var r=io(t||{}),n=M0e(e,r);return q0e(n,r)}function q0e(e,t){var r={},n=pn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?On.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(A_(s))}return t.password&&typeof encrypt_agile<"u"?y9(encrypt_agile(s,t.password),t):t.type==="file"?Ux(t.file,s):t.type=="string"?ay(s):s}function H0e(e,t){var r=t||{},n=a0e(e,r);return y9(n,r)}function Gc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ky(Xy(n));case"binary":return Xy(n);case"string":return e;case"file":return Ux(t.file,n,"utf8");case"buffer":return pn?wd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Gc(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function W0e(e,t){switch(t.type){case"base64":return Ky(e);case"binary":return e;case"string":return e;case"file":return Ux(t.file,e,"binary");case"buffer":return pn?wd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function g2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ky(r):t.type=="string"?ay(r):r;case"file":return Ux(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function x9(e,t){voe(),Ihe(e);var r=io(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=x9(e,r);return r.type="array",A_(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Gc(s0e(e,r),r);case"slk":case"sylk":return Gc(Tce.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Gc(h9(e.Sheets[e.SheetNames[s]],r),r);case"txt":return W0e(v9(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Gc(yT(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Gc(kce.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return g2(Nce.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Gc(Cce.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Gc(jce.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Gc($B.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Gc(g9(e,r),r);case"wk1":return g2(JP.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return g2(JP.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),g2(f9(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),H0e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return z0e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function V0e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gT(e,t,r){var n={};return n.type="file",n.file=t,V0e(n),x9(e,n)}function G0e(e,t,r,n,s,i,a,o){var l=Fi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!a||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=a?e[r][m]:e[n[m]+l];if(x===void 0||x.t===void 0){if(c===void 0)continue;i[m]!=null&&(p[i[m]]=c);continue}var y=x.v;switch(x.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(y==null)if(x.t=="e"&&y===null)p[i[m]]=null;else if(c!==void 0)p[i[m]]=c;else if(u&&y===null)p[i[m]]=null;else continue;else p[i[m]]=u&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?y:md(x,y,o);y!=null&&(h=!1)}}return{row:p,isempty:h}}function _b(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Kn(u);break;case"number":l=Kn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(s=0);var h=Fi(l.s.r),p=[],m=[],x=0,y=0,b=Array.isArray(e),v=l.s.r,S=0,_={};b&&!e[v]&&(e[v]=[]);var T=c.skipHidden&&e["!cols"]||[],R=c.skipHidden&&e["!rows"]||[];for(S=l.s.c;S<=l.e.c;++S)if(!(T[S]||{}).hidden)switch(p[S]=sa(S),r=b?e[v][S]:e[p[S]+h],n){case 1:i[S]=S-l.s.c;break;case 2:i[S]=p[S];break;case 3:i[S]=c.header[S-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=md(r,null,c),y=_[a]||0,!y)_[a]=1;else{do o=a+"_"+y++;while(_[o]);_[a]=y,_[o]=1}i[S]=o}for(v=l.s.r+s;v<=l.e.r;++v)if(!(R[v]||{}).hidden){var B=G0e(e,l,v,p,n,i,b,c);(B.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[x++]=B.row)}return m.length=x,m}var oO=/"/g;function K0e(e,t,r,n,s,i,a,o){for(var l=!0,c=[],u="",h=Fi(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var m=o.dense?(e[r]||[])[p]:e[n[p]+h];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:md(m,null,o));for(var x=0,y=0;x!==u.length;++x)if((y=u.charCodeAt(x))===s||y===i||y===34||o.forceQuotes){u='"'+u.replace(oO,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(oO,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function yT(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Kn(e["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=s.s.c;x<=s.e.c;++x)(p[x]||{}).hidden||(h[x]=sa(x));for(var y=0,b=s.s.r;b<=s.e.r;++b)(m[b]||{}).hidden||(u=K0e(e,s,b,h,a,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((y++?o:"")+u)));return delete n.dense,r.join("")}function v9(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=yT(e,t);return r}function Y0e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Kn(e["!ref"]),i="",a=[],o,l=[],c=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)a[o]=sa(o);for(var u=s.s.r;u<=s.e.r;++u)for(i=Fi(u),o=s.s.c;o<=s.e.c;++o)if(t=a[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function w9(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},a=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?bi(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+t.length-1+s}};if(i["!ref"]){var h=Kn(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),a==-1&&(a=h.e.r+1,u.e.r=a+t.length-1+s)}else a==-1&&(a=0,u.e.r=t.length-1+s);var p=n.header||[],m=0;t.forEach(function(y,b){Bi(y).forEach(function(v){(m=p.indexOf(v))==-1&&(p[m=p.length]=v);var S=y[v],_="z",T="",R=In({c:o+m,r:a+b+s});c=Jy(i,R),S&&typeof S=="object"&&!(S instanceof Date)?i[R]=S:(typeof S=="number"?_="n":typeof S=="boolean"?_="b":typeof S=="string"?_="s":S instanceof Date?(_="d",n.cellDates||(_="n",S=so(S)),T=n.dateNF||Ts[14]):S===null&&n.nullError&&(_="e",S=0),c?(c.t=_,c.v=S,delete c.w,delete c.R,T&&(c.z=T)):i[R]=c={t:_,v:S},T&&(c.z=T))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var x=Fi(a);if(s)for(m=0;m<p.length;++m)i[sa(m+o)+x]={t:"s",v:p[m]};return i["!ref"]=Gs(u),i}function X0e(e,t){return w9(null,e,t)}function Jy(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=bi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Jy(e,In(t)):Jy(e,In({r:t,c:r||0}))}function Q0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Z0e(){return{SheetNames:[],Sheets:{}}}function J0e(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=a+s)!=-1;++s);}if(c9(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function epe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Q0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function tpe(e,t){return e.z=t,e}function b9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function rpe(e,t,r){return b9(e,"#"+t,r)}function npe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function spe(e,t,r,n){for(var s=typeof t!="string"?t:Kn(t),i=typeof t=="string"?t:Gs(t),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var l=Jy(e,a,o);l.t="n",l.F=i,delete l.v,a==s.s.r&&o==s.s.c&&(l.f=r,n&&(l.D=!0))}return e}var sc={encode_col:sa,encode_row:Fi,encode_cell:In,encode_range:Gs,decode_col:iT,decode_row:sT,split_cell:vle,decode_cell:bi,decode_range:Fo,format_cell:md,sheet_add_aoa:bB,sheet_add_json:w9,sheet_add_dom:p9,aoa_to_sheet:_g,json_to_sheet:X0e,table_to_sheet:m9,table_to_book:k0e,sheet_to_csv:yT,sheet_to_txt:v9,sheet_to_json:_b,sheet_to_html:h9,sheet_to_formulae:Y0e,sheet_to_row_object_array:_b,sheet_get_cell:Jy,book_new:Z0e,book_append_sheet:J0e,book_set_sheet_visibility:epe,cell_set_number_format:tpe,cell_set_hyperlink:b9,cell_set_internal_link:rpe,cell_add_comment:npe,sheet_set_array_formula:spe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const xT=(e,t,r,n)=>{const{socket:s}=vd(),{t:i,language:a}=Yn(),o=a==="ar",l=c=>{const u={:{ar:"",en:"kg"},:{ar:"",en:"piece"},:{ar:"",en:"pack"},:{ar:"",en:"tray"},kg:{ar:"",en:"kg"},piece:{ar:"",en:"piece"},pack:{ar:"",en:"pack"},tray:{ar:"",en:"tray"}};return c&&u[c]?o?u[c].ar:u[c].en:o?"":"unit"};return L.useEffect(()=>{var u;if(!s||!r){console.warn(`[${new Date().toISOString()}] Socket or user not available`);return}s.emit("joinRoom",{role:r.role,branchId:r.branchId,chefId:r.role==="chef"?r._id:void 0,departmentId:r.role==="production"?(u=r.department)==null?void 0:u._id:void 0,userId:r._id});const c=[{name:"orderCreated",handler:h=>{var x,y,b,v,S,_,T;if(!(h!=null&&h._id)||!Array.isArray(h.items)||!h.orderNumber||!((x=h.branch)!=null&&x.name)){console.warn(`[${new Date().toISOString()}] Invalid order data:`,h);return}if(!["admin","branch","production"].includes(r.role))return;const p=t.current;if(p.filterStatus&&h.status!==p.filterStatus||p.filterBranch&&((y=h.branch)==null?void 0:y._id)!==p.filterBranch||r.role==="production"&&r.department&&!h.items.some(R=>{var B,j;return((j=(B=R==null?void 0:R.product)==null?void 0:B.department)==null?void 0:j._id)===r.department._id})||r.role==="branch"&&((b=h.branch)==null?void 0:b._id)!==r.branchId)return;const m={id:h._id,orderNumber:h.orderNumber||i("orders.unknown"),branchName:((v=h.branch)==null?void 0:v.name)||i("branches.unknown"),branchId:((S=h.branch)==null?void 0:S._id)||"unknown",branch:h.branch||{_id:"unknown",name:i("branches.unknown")},items:h.items.map(R=>{var B,j,P,F;return{_id:R._id||crypto.randomUUID(),itemId:R._id||crypto.randomUUID(),productId:((B=R.product)==null?void 0:B._id)||"unknown",productName:((j=R.product)==null?void 0:j.name)||i("products.unknown"),quantity:Number(R.quantity)||1,price:Number(R.price)||0,unit:l(R.unit||((P=R.product)==null?void 0:P.unit)),department:((F=R.product)==null?void 0:F.department)||{_id:"unknown",name:i("departments.unknown")},status:R.status||"pending",assignedTo:R.assignedTo?{_id:R.assignedTo._id,username:R.assignedTo.username,name:R.assignedTo.name}:void 0,returnedQuantity:Number(R.returnedQuantity)||0,returnReason:R.returnReason||""}}),status:h.status||"pending",totalAmount:Number(h.totalAmount)||0,adjustedTotal:typeof h.adjustedTotal=="number"?h.adjustedTotal:Number(h.totalAmount)||0,date:dr(h.createdAt||new Date,i("language")),notes:h.notes||"",priority:h.priority||"medium",createdBy:((_=h.createdBy)==null?void 0:_.username)||i("orders.unknown"),statusHistory:Array.isArray(h.statusHistory)?h.statusHistory.map(R=>({status:R.status||"pending",changedBy:R.changedBy||i("orders.unknown"),changedAt:dr(R.changedAt||new Date,i("language")),notes:R.notes||""})):[],returns:Array.isArray(h.returns)?h.returns.map(R=>({returnId:R._id||crypto.randomUUID(),items:Array.isArray(R.items)?R.items.map(B=>{var j;return{productId:((j=B.product)==null?void 0:j._id)||"unknown",quantity:Number(B.quantity)||0,reason:B.reason||""}}):[],status:R.status||"pending_approval",reviewNotes:R.reviewNotes||"",createdAt:dr(R.createdAt||new Date,i("language"))})):[]};e({type:"ADD_ORDER",payload:m}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_created",{orderNumber:h.orderNumber,branchName:((T=h.branch)==null?void 0:T.name)||i("branches.unknown")}),data:{orderId:h._id,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]})},config:{type:"ADD_ORDER",roles:["admin","branch","production"]}},{name:"orderConfirmed",handler:h=>{if(["admin","branch"].includes(r.role)){if(!h.orderId||!h.orderNumber||!h.branchName){console.warn(`[${new Date().toISOString()}] Invalid order confirmed data:`,h);return}r.role==="branch"&&h.branchId!==r.branchId||(e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:"confirmed"}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_confirmed",{orderNumber:h.orderNumber,branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]}))}},config:{type:"UPDATE_ORDER_STATUS",roles:["admin","branch"]}},{name:"taskAssigned",handler:h=>{console.log(`[${new Date().toISOString()}] taskAssigned - Received data:`,JSON.stringify(h,null,2));const p=h.data||h;if(!p.orderId||!p.orderNumber||!Array.isArray(p.items)||!p.branchName){console.warn(`[${new Date().toISOString()}] Invalid task assigned data:`,p);return}if(!["admin","production","chef"].includes(r.role)||r.role==="chef"&&!p.items.some(x=>{var y;return((y=x.assignedTo)==null?void 0:y._id)===r._id}))return;const m=p.items.filter(x=>{var y,b;return x._id&&((y=x.product)==null?void 0:y.name)&&((b=x.assignedTo)==null?void 0:b._id)}).map(x=>{var y,b,v,S;return{_id:x._id||x.itemId||crypto.randomUUID(),itemId:x._id||x.itemId||crypto.randomUUID(),productId:((y=x.product)==null?void 0:y._id)||x.productId||"unknown",productName:((b=x.product)==null?void 0:b.name)||x.productName||i("products.unknown"),quantity:Number(x.quantity)||1,unit:l(x.unit||((v=x.product)==null?void 0:v.unit)),department:x.department||((S=x.product)==null?void 0:S.department)||{_id:"unknown",name:i("departments.unknown")},status:x.status||"pending",assignedTo:x.assignedTo?{_id:x.assignedTo._id,username:x.assignedTo.username||x.assignedTo.name||i("chefs.unknown"),name:x.assignedTo.name}:void 0}});if(m.length===0){console.warn(`[${new Date().toISOString()}] No valid items for taskAssigned:`,p);return}e({type:"TASK_ASSIGNED",payload:{orderId:p.orderId,items:m,orderNumber:p.orderNumber,branchName:p.branchName}}),m.forEach(x=>{var y,b;n({_id:`${p.eventId||crypto.randomUUID()}-${x.itemId}`,type:"info",message:i("notifications.task_assigned_to_chef",{chefName:((y=x.assignedTo)==null?void 0:y.name)||((b=x.assignedTo)==null?void 0:b.username)||i("chefs.unknown"),productName:x.productName||i("products.unknown"),quantity:x.quantity,unit:x.unit,orderNumber:p.orderNumber,branchName:p.branchName||i("branches.unknown")}),data:{orderId:p.orderId,itemId:x.itemId,eventId:p.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]})})},config:{type:"TASK_ASSIGNED",roles:["admin","production","chef"]}},{name:"itemStatusUpdated",handler:async h=>{if(["admin","production","chef"].includes(r.role)){if(!h.orderId||!h.itemId||!h.status||!h.orderNumber||!h.branchName){console.warn(`[${new Date().toISOString()}] Invalid item status update data:`,h);return}if(!(r.role==="chef"&&h.chefId!==r._id)){e({type:"UPDATE_ITEM_STATUS",payload:{orderId:h.orderId,itemId:h.itemId,status:h.status}});try{const p=await Ws.getById(h.orderId);if(!p||!p._id||!Array.isArray(p.items)){console.warn(`[${new Date().toISOString()}] Failed to fetch updated order:`,h.orderId);return}p.items.every(x=>x.status==="completed")&&p.status!=="completed"&&(e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:"completed"}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_completed",{orderNumber:h.orderNumber,branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]}))}catch(p){console.error(`[${new Date().toISOString()}] Failed to fetch updated order:`,p)}}}},config:{type:"UPDATE_ITEM_STATUS",roles:["admin","production","chef"]}},{name:"orderStatusUpdated",handler:h=>{if(["admin","branch","production"].includes(r.role)){if(!h.orderId||!h.status||!h.orderNumber||!h.branchName){console.warn(`[${new Date().toISOString()}] Invalid order status update data:`,h);return}e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:h.status}),n({_id:h.eventId||crypto.randomUUID(),type:"info",message:i("notifications.order_status_updated",{orderNumber:h.orderNumber,status:i(`order_status.${h.status}`),branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]})}},config:{type:"UPDATE_ORDER_STATUS",roles:["admin","branch","production"]}},{name:"orderCompleted",handler:async h=>{var p,m,x;if(["admin","branch","production","chef"].includes(r.role)){if(!h.orderId||!h.orderNumber||!h.branchName){console.warn(`[${new Date().toISOString()}] Invalid order completed data:`,h);return}try{const y=await Ws.getById(h.orderId);if(!y||!y._id){console.warn(`[${new Date().toISOString()}] Failed to fetch updated order:`,h.orderId);return}const b={id:y._id,orderNumber:y.orderNumber||i("orders.unknown"),branchName:((p=y.branch)==null?void 0:p.name)||i("branches.unknown"),branchId:((m=y.branch)==null?void 0:m._id)||"unknown",branch:y.branch||{_id:"unknown",name:i("branches.unknown")},items:y.items.map(v=>{var S,_,T,R;return{_id:v._id||crypto.randomUUID(),itemId:v._id||crypto.randomUUID(),productId:((S=v.product)==null?void 0:S._id)||"unknown",productName:((_=v.product)==null?void 0:_.name)||i("products.unknown"),quantity:Number(v.quantity)||1,price:Number(v.price)||0,unit:l(v.unit||((T=v.product)==null?void 0:T.unit)),department:((R=v.product)==null?void 0:R.department)||{_id:"unknown",name:i("departments.unknown")},status:v.status||"completed",assignedTo:v.assignedTo?{_id:v.assignedTo._id,username:v.assignedTo.username,name:v.assignedTo.name}:void 0,returnedQuantity:Number(v.returnedQuantity)||0,returnReason:v.returnReason||""}}),status:"completed",totalAmount:Number(y.totalAmount)||0,date:dr(y.createdAt||new Date,i("language")),notes:y.notes||"",priority:y.priority||"medium",createdBy:((x=y.createdBy)==null?void 0:x.username)||i("orders.unknown"),statusHistory:Array.isArray(y.statusHistory)?y.statusHistory.map(v=>({status:v.status||"pending",changedBy:v.changedBy||i("orders.unknown"),changedAt:dr(v.changedAt||new Date,i("language")),notes:v.notes||""})):[],returns:Array.isArray(y.returns)?y.returns.map(v=>({returnId:v._id||crypto.randomUUID(),items:Array.isArray(v.items)?v.items.map(S=>{var _;return{productId:((_=S.product)==null?void 0:_._id)||"unknown",quantity:Number(S.quantity)||0,reason:S.reason||""}}):[],status:v.status||"pending_approval",reviewNotes:v.reviewNotes||"",createdAt:dr(v.createdAt||new Date,i("language"))})):[]};e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:"completed",payload:b}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_completed",{orderNumber:h.orderNumber,branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]})}catch(y){console.error(`[${new Date().toISOString()}] Failed to fetch updated order:`,y)}}},config:{type:"UPDATE_ORDER_STATUS",roles:["admin","branch","production","chef"]}},{name:"orderShipped",handler:async h=>{var p,m,x;if(["admin","branch","production"].includes(r.role)){if(!h.orderId||!h.orderNumber||!h.branchName||!h.branchId){console.warn(`[${new Date().toISOString()}] Invalid order shipped data:`,h);return}if(!(r.role==="branch"&&h.branchId!==r.branchId))try{const y=await Ws.getById(h.orderId);if(!y||!y._id){console.warn(`[${new Date().toISOString()}] Failed to fetch updated order:`,h.orderId);return}const b={id:y._id,orderNumber:y.orderNumber||i("orders.unknown"),branchName:((p=y.branch)==null?void 0:p.name)||i("branches.unknown"),branchId:((m=y.branch)==null?void 0:m._id)||"unknown",branch:y.branch||{_id:"unknown",name:i("branches.unknown")},items:y.items.map(v=>{var S,_,T,R;return{_id:v._id||crypto.randomUUID(),itemId:v._id||crypto.randomUUID(),productId:((S=v.product)==null?void 0:S._id)||"unknown",productName:((_=v.product)==null?void 0:_.name)||i("products.unknown"),quantity:Number(v.quantity)||1,price:Number(v.price)||0,unit:l(v.unit||((T=v.product)==null?void 0:T.unit)),department:((R=v.product)==null?void 0:R.department)||{_id:"unknown",name:i("departments.unknown")},status:v.status||"completed",assignedTo:v.assignedTo?{_id:v.assignedTo._id,username:v.assignedTo.username||i("chefs.unknown"),name:v.assignedTo.name}:void 0,returnedQuantity:Number(v.returnedQuantity)||0,returnReason:v.returnReason||""}}),status:"in_transit",totalAmount:Number(y.totalAmount)||0,date:dr(y.createdAt||new Date,i("language")),notes:y.notes||"",priority:y.priority||"medium",createdBy:((x=y.createdBy)==null?void 0:x.username)||i("orders.unknown"),statusHistory:Array.isArray(y.statusHistory)?y.statusHistory.map(v=>({status:v.status||"pending",changedBy:v.changedBy||i("orders.unknown"),changedAt:dr(v.changedAt||new Date,i("language")),notes:v.notes||""})):[],returns:Array.isArray(y.returns)?y.returns.map(v=>({returnId:v._id||crypto.randomUUID(),items:Array.isArray(v.items)?v.items.map(S=>{var _;return{productId:((_=S.product)==null?void 0:_._id)||"unknown",quantity:Number(S.quantity)||0,reason:S.reason||""}}):[],status:v.status||"pending_approval",reviewNotes:v.reviewNotes||"",createdAt:dr(v.createdAt||new Date,i("language"))})):[]};e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:"in_transit",payload:b}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_shipped",{orderNumber:h.orderNumber,branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]})}catch(y){console.error(`[${new Date().toISOString()}] Failed to fetch updated order:`,y)}}},config:{type:"UPDATE_ORDER_STATUS",roles:["admin","branch","production"]}},{name:"orderDelivered",handler:async h=>{var p,m,x;if(["admin","branch","production"].includes(r.role)){if(!h.orderId||!h.orderNumber||!h.branchName){console.warn(`[${new Date().toISOString()}] Invalid order delivered data:`,h);return}if(!(r.role==="branch"&&h.branchId!==r.branchId))try{const y=await Ws.getById(h.orderId);if(!y||!y._id){console.warn(`[${new Date().toISOString()}] Failed to fetch updated order:`,h.orderId);return}const b={id:y._id,orderNumber:y.orderNumber||i("orders.unknown"),branchName:((p=y.branch)==null?void 0:p.name)||i("branches.unknown"),branchId:((m=y.branch)==null?void 0:m._id)||"unknown",branch:y.branch||{_id:"unknown",name:i("branches.unknown")},items:y.items.map(v=>{var S,_,T,R;return{_id:v._id||crypto.randomUUID(),itemId:v._id||crypto.randomUUID(),productId:((S=v.product)==null?void 0:S._id)||"unknown",productName:((_=v.product)==null?void 0:_.name)||i("products.unknown"),quantity:Number(v.quantity)||1,price:Number(v.price)||0,unit:l(v.unit||((T=v.product)==null?void 0:T.unit)),department:((R=v.product)==null?void 0:R.department)||{_id:"unknown",name:i("departments.unknown")},status:v.status||"completed",assignedTo:v.assignedTo?{_id:v.assignedTo._id,username:v.assignedTo.username||i("chefs.unknown"),name:v.assignedTo.name}:void 0,returnedQuantity:Number(v.returnedQuantity)||0,returnReason:v.returnReason||""}}),status:"delivered",totalAmount:Number(y.totalAmount)||0,date:dr(y.createdAt||new Date,i("language")),notes:y.notes||"",priority:y.priority||"medium",createdBy:((x=y.createdBy)==null?void 0:x.username)||i("orders.unknown"),statusHistory:Array.isArray(y.statusHistory)?y.statusHistory.map(v=>({status:v.status||"pending",changedBy:v.changedBy||i("orders.unknown"),changedAt:dr(v.changedAt||new Date,i("language")),notes:v.notes||""})):[],returns:Array.isArray(y.returns)?y.returns.map(v=>({returnId:v._id||crypto.randomUUID(),items:Array.isArray(v.items)?v.items.map(S=>{var _;return{productId:((_=S.product)==null?void 0:_._id)||"unknown",quantity:Number(S.quantity)||0,reason:S.reason||""}}):[],status:v.status||"pending_approval",reviewNotes:v.reviewNotes||"",createdAt:dr(v.createdAt||new Date,i("language"))})):[]};e({type:"UPDATE_ORDER_STATUS",orderId:h.orderId,status:"delivered",payload:b}),n({_id:h.eventId||crypto.randomUUID(),type:"success",message:i("notifications.order_delivered",{orderNumber:h.orderNumber,branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[400,100,400]})}catch(y){console.error(`[${new Date().toISOString()}] Failed to fetch updated order:`,y)}}},config:{type:"UPDATE_ORDER_STATUS",roles:["admin","branch","production"]}},{name:"returnStatusUpdated",handler:h=>{if(["admin","branch","production"].includes(r.role)){if(!h.orderId||!h.returnId||!h.status||!h.orderNumber){console.warn(`[${new Date().toISOString()}] Invalid return status update data:`,h);return}e({type:"RETURN_STATUS_UPDATED",orderId:h.orderId,returnId:h.returnId,status:h.status}),n({_id:h.eventId||crypto.randomUUID(),type:"info",message:i("notifications.return_status_updated",{orderNumber:h.orderNumber,status:i(`returns.${h.status}`),branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,returnId:h.returnId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[200,100,200]})}},config:{type:"RETURN_STATUS_UPDATED",roles:["admin","branch","production"]}},{name:"missingAssignments",handler:h=>{if(["admin","production"].includes(r.role)){if(!h.orderId||!h.itemId||!h.orderNumber||!h.productName){console.warn(`[${new Date().toISOString()}] Invalid missing assignments data:`,h);return}e({type:"MISSING_ASSIGNMENTS",orderId:h.orderId,itemId:h.itemId,productName:h.productName}),n({_id:h.eventId||crypto.randomUUID(),type:"warning",message:i("notifications.missing_assignments",{orderNumber:h.orderNumber,productName:h.productName||i("products.unknown"),branchName:h.branchName||i("branches.unknown")}),data:{orderId:h.orderId,itemId:h.itemId,eventId:h.eventId},read:!1,createdAt:new Date().toISOString(),sound:"/sounds/notification.mp3",vibrate:[300,100,300]})}},config:{type:"MISSING_ASSIGNMENTS",roles:["admin","production"]}},{name:"connect",handler:()=>{e({type:"SET_SOCKET_CONNECTED",payload:!0}),e({type:"SET_SOCKET_ERROR",payload:null}),console.log(`[${new Date().toISOString()}] Socket connected`)},config:{type:"SET_SOCKET_CONNECTED",roles:["admin","branch","production","chef"]}},{name:"disconnect",handler:()=>{e({type:"SET_SOCKET_CONNECTED",payload:!1}),e({type:"SET_SOCKET_ERROR",payload:i("socket.disconnected")}),console.warn(`[${new Date().toISOString()}] Socket disconnected`)},config:{type:"SET_SOCKET_DISCONNECTED",roles:["admin","branch","production","chef"]}},{name:"connect_error",handler:h=>{e({type:"SET_SOCKET_ERROR",payload:`${i("socket.error")}: ${h.message}`}),console.error(`[${new Date().toISOString()}] Socket connection error:`,h)},config:{type:"SET_SOCKET_ERROR",roles:["admin","branch","production","chef"]}}];return c.forEach(({name:h,handler:p})=>s.on(h,p)),()=>{c.forEach(({name:h,handler:p})=>s.off(h,p))}},[s,r,e,t,i,a,n]),{}};function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}var pc=Uint8Array,Oo=Uint16Array,vT=Int32Array,wT=new pc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bT=new pc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lO=new pc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_9=function(e,t){for(var r=new Oo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new vT(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},S9=_9(wT,2),ipe=S9.b,fA=S9.r;ipe[28]=258,fA[258]=28;var ape=_9(bT,0),cO=ape.r,hA=new Oo(32768);for(var Vn=0;Vn<32768;++Vn){var rf=(Vn&43690)>>1|(Vn&21845)<<1;rf=(rf&52428)>>2|(rf&13107)<<2,rf=(rf&61680)>>4|(rf&3855)<<4,hA[Vn]=((rf&65280)>>8|(rf&255)<<8)>>1}var dy=function(e,t,r){for(var n=e.length,s=0,i=new Oo(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Oo(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new Oo(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],h=a[e[s]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)o[hA[h]>>l]=c}else for(o=new Oo(n),s=0;s<n;++s)e[s]&&(o[s]=hA[a[e[s]-1]++]>>15-e[s]);return o},G0=new pc(288);for(var Vn=0;Vn<144;++Vn)G0[Vn]=8;for(var Vn=144;Vn<256;++Vn)G0[Vn]=9;for(var Vn=256;Vn<280;++Vn)G0[Vn]=7;for(var Vn=280;Vn<288;++Vn)G0[Vn]=8;var Sb=new pc(32);for(var Vn=0;Vn<32;++Vn)Sb[Vn]=5;var ope=dy(G0,9,0),lpe=dy(Sb,5,0),A9=function(e){return(e+7)/8|0},cpe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new pc(e.subarray(t,r))},Du=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},y1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},BS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:N9,l:0};if(s==1){var a=new pc(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(R,B){return R.f-B.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=s-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var m=new Oo(p+1),x=pA(r[u-1],m,0);if(x>t){var n=0,y=0,b=x-t,v=1<<b;for(i.sort(function(B,j){return m[j.s]-m[B.s]||B.f-j.f});n<s;++n){var S=i[n].s;if(m[S]>t)y+=v-(1<<x-m[S]),m[S]=t;else break}for(y>>=b;y>0;){var _=i[n].s;m[_]<t?y-=1<<t-m[_]++-1:++n}for(;n>=0&&y;--n){var T=i[n].s;m[T]==t&&(--m[T],++y)}x=t}return{t:new pc(m),l:x}},pA=function(e,t,r){return e.s==-1?Math.max(pA(e.l,t,r+1),pA(e.r,t,r+1)):t[e.s]=r},uO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Oo(++t),n=0,s=e[0],i=1,a=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==s&&o!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[o]}return{c:r.subarray(0,n),n:t}},x1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},E9=function(e,t,r){var n=r.length,s=A9(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},dO=function(e,t,r,n,s,i,a,o,l,c,u){Du(t,u++,r),++s[256];for(var h=BS(s,15),p=h.t,m=h.l,x=BS(i,15),y=x.t,b=x.l,v=uO(p),S=v.c,_=v.n,T=uO(y),R=T.c,B=T.n,j=new Oo(19),P=0;P<S.length;++P)++j[S[P]&31];for(var P=0;P<R.length;++P)++j[R[P]&31];for(var F=BS(j,7),N=F.t,k=F.l,C=19;C>4&&!N[lO[C-1]];--C);var H=c+5<<3,z=x1(s,G0)+x1(i,Sb)+a,K=x1(s,p)+x1(i,y)+a+14+3*C+x1(j,N)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&H<=z&&H<=K)return E9(t,u,e.subarray(l,l+c));var Y,W,Z,ne;if(Du(t,u,1+(K<z)),u+=2,K<z){Y=dy(p,m,0),W=p,Z=dy(y,b,0),ne=y;var ee=dy(N,k,0);Du(t,u,_-257),Du(t,u+5,B-1),Du(t,u+10,C-4),u+=14;for(var P=0;P<C;++P)Du(t,u+3*P,N[lO[P]]);u+=3*C;for(var X=[S,R],I=0;I<2;++I)for(var U=X[I],P=0;P<U.length;++P){var G=U[P]&31;Du(t,u,ee[G]),u+=N[G],G>15&&(Du(t,u,U[P]>>5&127),u+=U[P]>>12)}}else Y=ope,W=G0,Z=lpe,ne=Sb;for(var P=0;P<o;++P){var V=n[P];if(V>255){var G=V>>18&31;y1(t,u,Y[G+257]),u+=W[G+257],G>7&&(Du(t,u,V>>23&31),u+=wT[G]);var Q=V&31;y1(t,u,Z[Q]),u+=ne[Q],Q>3&&(y1(t,u,V>>5&8191),u+=bT[Q])}else y1(t,u,Y[V]),u+=W[V]}return y1(t,u,Y[256]),u+W[256]},upe=new vT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N9=new pc(0),dpe=function(e,t,r,n,s,i){var a=i.z||e.length,o=new pc(n+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var h=upe[t-1],p=h>>13,m=h&8191,x=(1<<r)-1,y=i.p||new Oo(32768),b=i.h||new Oo(x+1),v=Math.ceil(r/3),S=2*v,_=function(Ce){return(e[Ce]^e[Ce+1]<<v^e[Ce+2]<<S)&x},T=new vT(25e3),R=new Oo(288),B=new Oo(32),j=0,P=0,F=i.i||0,N=0,k=i.w||0,C=0;F+2<a;++F){var H=_(F),z=F&32767,K=b[H];if(y[z]=K,b[H]=z,k<=F){var Y=a-F;if((j>7e3||N>24576)&&(Y>423||!c)){u=dO(e,l,0,T,R,B,P,N,C,F-C,u),N=j=P=0,C=F;for(var W=0;W<286;++W)R[W]=0;for(var W=0;W<30;++W)B[W]=0}var Z=2,ne=0,ee=m,X=z-K&32767;if(Y>2&&H==_(F-X))for(var I=Math.min(p,Y)-1,U=Math.min(32767,F),G=Math.min(258,Y);X<=U&&--ee&&z!=K;){if(e[F+Z]==e[F+Z-X]){for(var V=0;V<G&&e[F+V]==e[F+V-X];++V);if(V>Z){if(Z=V,ne=X,V>I)break;for(var Q=Math.min(X,V-2),ge=0,W=0;W<Q;++W){var Se=F-X+W&32767,pe=y[Se],oe=Se-pe&32767;oe>ge&&(ge=oe,K=Se)}}}z=K,K=y[z],X+=z-K&32767}if(ne){T[N++]=268435456|fA[Z]<<18|cO[ne];var De=fA[Z]&31,$e=cO[ne]&31;P+=wT[De]+bT[$e],++R[257+De],++B[$e],k=F+Z,++j}else T[N++]=e[F],++R[e[F]]}}for(F=Math.max(F,k);F<a;++F)T[N++]=e[F],++R[e[F]];u=dO(e,l,c,T,R,B,P,N,C,F-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=b,i.p=y,i.i=F,i.w=k)}else{for(var F=i.w||0;F<a+c;F+=65535){var Ze=F+65535;Ze>=a&&(l[u/8|0]=c,Ze=a),u=E9(l,u+1,e.subarray(F,Ze))}i.i=a}return cpe(o,0,n+A9(u)+s)},T9=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},fpe=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new pc(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return dpe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},k9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hpe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=T9();s.p(t.dictionary),k9(e,2,s.d())}};function mA(e,t){t||(t={});var r=T9();r.p(e);var n=fpe(e,t,t.dictionary?6:2,4);return hpe(n,t),k9(n,n.length-4,r.d()),n}var ppe=typeof TextDecoder<"u"&&new TextDecoder,mpe=0;try{ppe.decode(N9,{stream:!0}),mpe=1}catch{}function gpe(e){if(Array.isArray(e))return e}function ype(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xpe(e,t){if(e){if(typeof e=="string")return fO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fO(e,t):void 0}}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hO(e,t){return gpe(e)||ype(e,t)||xpe(e,t)||vpe()}function pO(e,t="utf8"){return new TextDecoder(t).decode(e)}const wpe=new TextEncoder;function bpe(e){return wpe.encode(e)}const _pe=1024*8,Spe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),US={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _T{constructor(t=_pe,r={}){_t(this,"buffer");_t(this,"byteLength");_t(this,"byteOffset");_t(this,"length");_t(this,"offset");_t(this,"lastWrittenByte");_t(this,"littleEndian");_t(this,"_data");_t(this,"_mark");_t(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof _T)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=US[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===Spe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+n));o.reverse();const l=new US[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new US[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return pO(this.readBytes(t))}decodeText(t=1,r="utf8"){return pO(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(bpe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ape=4,mO=0,gO=1,Epe=2;function Eg(e){let t=e.length;for(;--t>=0;)e[t]=0}const Npe=0,C9=1,Tpe=2,kpe=3,Cpe=258,ST=29,Wx=256,ex=Wx+1+ST,Am=30,AT=19,I9=2*ex+1,d0=15,$S=16,Ipe=7,ET=256,P9=16,O9=17,R9=18,gA=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),pw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ppe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ope=512,zu=new Array((ex+2)*2);Eg(zu);const fy=new Array(Am*2);Eg(fy);const tx=new Array(Ope);Eg(tx);const rx=new Array(Cpe-kpe+1);Eg(rx);const NT=new Array(ST);Eg(NT);const Ab=new Array(Am);Eg(Ab);function zS(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let L9,j9,F9;function qS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const M9=e=>e<256?tx[e]:tx[256+(e>>>7)],nx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Qa=(e,t,r)=>{e.bi_valid>$S-r?(e.bi_buf|=t<<e.bi_valid&65535,nx(e,e.bi_buf),e.bi_buf=t>>$S-e.bi_valid,e.bi_valid+=r-$S):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},su=(e,t,r)=>{Qa(e,r[t*2],r[t*2+1])},B9=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},Rpe=e=>{e.bi_valid===16?(nx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Dpe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,p,m,x,y=0;for(p=0;p<=d0;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<I9;c++)u=e.heap[c],p=r[r[u*2+1]*2+1]+1,p>l&&(p=l,y++),r[u*2+1]=p,!(u>n)&&(e.bl_count[p]++,m=0,u>=o&&(m=a[u-o]),x=r[u*2],e.opt_len+=x*(p+m),i&&(e.static_len+=x*(s[u*2+1]+m)));if(y!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(p=l;p!==0;p--)for(u=e.bl_count[p];u!==0;)h=e.heap[--c],!(h>n)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),u--)}},U9=(e,t,r)=>{const n=new Array(d0+1);let s=0,i,a;for(i=1;i<=d0;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=B9(n[o]++,o))}},Lpe=()=>{let e,t,r,n,s;const i=new Array(d0+1);for(r=0,n=0;n<ST-1;n++)for(NT[n]=r,e=0;e<1<<gA[n];e++)rx[r++]=n;for(rx[r-1]=n,s=0,n=0;n<16;n++)for(Ab[n]=s,e=0;e<1<<pw[n];e++)tx[s++]=n;for(s>>=7;n<Am;n++)for(Ab[n]=s<<7,e=0;e<1<<pw[n]-7;e++)tx[256+s++]=n;for(t=0;t<=d0;t++)i[t]=0;for(e=0;e<=143;)zu[e*2+1]=8,e++,i[8]++;for(;e<=255;)zu[e*2+1]=9,e++,i[9]++;for(;e<=279;)zu[e*2+1]=7,e++,i[7]++;for(;e<=287;)zu[e*2+1]=8,e++,i[8]++;for(U9(zu,ex+1,i),e=0;e<Am;e++)fy[e*2+1]=5,fy[e*2]=B9(e,5);L9=new zS(zu,gA,Wx+1,ex,d0),j9=new zS(fy,pw,0,Am,d0),F9=new zS(new Array(0),Ppe,0,AT,Ipe)},$9=e=>{let t;for(t=0;t<ex;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Am;t++)e.dyn_dtree[t*2]=0;for(t=0;t<AT;t++)e.bl_tree[t*2]=0;e.dyn_ltree[ET*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},z9=e=>{e.bi_valid>8?nx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},yO=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},HS=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&yO(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!yO(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},xO=(e,t,r)=>{let n,s,i=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?su(e,s,t):(a=rx[s],su(e,a+Wx+1,t),o=gA[a],o!==0&&(s-=NT[a],Qa(e,s,o)),n--,a=M9(n),su(e,a,r),o=pw[a],o!==0&&(n-=Ab[a],Qa(e,n,o)));while(i<e.sym_next);su(e,ET,t)},yA=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,o,l=-1,c;for(e.heap_len=0,e.heap_max=I9,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,s&&(e.static_len-=n[c*2+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)HS(e,r,a);c=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],HS(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[c*2]=r[a*2]+r[o*2],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=c,e.heap[1]=c++,HS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Dpe(e,t),U9(r,l,e.bl_count)},vO=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++o<l&&i===a)&&(o<c?e.bl_tree[i*2]+=o:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[P9*2]++):o<=10?e.bl_tree[O9*2]++:e.bl_tree[R9*2]++,o=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},wO=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++o<l&&i===a)){if(o<c)do su(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==s&&(su(e,i,e.bl_tree),o--),su(e,P9,e.bl_tree),Qa(e,o-3,2)):o<=10?(su(e,O9,e.bl_tree),Qa(e,o-3,3)):(su(e,R9,e.bl_tree),Qa(e,o-11,7));o=0,s=i,a===0?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},jpe=e=>{let t;for(vO(e,e.dyn_ltree,e.l_desc.max_code),vO(e,e.dyn_dtree,e.d_desc.max_code),yA(e,e.bl_desc),t=AT-1;t>=3&&e.bl_tree[D9[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Fpe=(e,t,r,n)=>{let s;for(Qa(e,t-257,5),Qa(e,r-1,5),Qa(e,n-4,4),s=0;s<n;s++)Qa(e,e.bl_tree[D9[s]*2+1],3);wO(e,e.dyn_ltree,t-1),wO(e,e.dyn_dtree,r-1)},Mpe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return mO;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return gO;for(r=32;r<Wx;r++)if(e.dyn_ltree[r*2]!==0)return gO;return mO};let bO=!1;const Bpe=e=>{bO||(Lpe(),bO=!0),e.l_desc=new qS(e.dyn_ltree,L9),e.d_desc=new qS(e.dyn_dtree,j9),e.bl_desc=new qS(e.bl_tree,F9),e.bi_buf=0,e.bi_valid=0,$9(e)},q9=(e,t,r,n)=>{Qa(e,(Npe<<1)+(n?1:0),3),z9(e),nx(e,r),nx(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Upe=e=>{Qa(e,C9<<1,3),su(e,ET,zu),Rpe(e)},$pe=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===Epe&&(e.strm.data_type=Mpe(e)),yA(e,e.l_desc),yA(e,e.d_desc),a=jpe(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?q9(e,t,r,n):e.strategy===Ape||i===s?(Qa(e,(C9<<1)+(n?1:0),3),xO(e,zu,fy)):(Qa(e,(Tpe<<1)+(n?1:0),3),Fpe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),xO(e,e.dyn_ltree,e.dyn_dtree)),$9(e),n&&z9(e)},zpe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(rx[r]+Wx+1)*2]++,e.dyn_dtree[M9(t)*2]++),e.sym_next===e.sym_end);var qpe=Bpe,Hpe=q9,Wpe=$pe,Vpe=zpe,Gpe=Upe,Kpe={_tr_init:qpe,_tr_stored_block:Hpe,_tr_flush_block:Wpe,_tr_tally:Vpe,_tr_align:Gpe};const Ype=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var sx=Ype;const Xpe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Qpe=new Uint32Array(Xpe()),Zpe=(e,t,r,n)=>{const s=Qpe,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var yi=Zpe,sg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vx={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Jpe,_tr_stored_block:xA,_tr_flush_block:eme,_tr_tally:Hf,_tr_align:tme}=Kpe,{Z_NO_FLUSH:Wf,Z_PARTIAL_FLUSH:rme,Z_FULL_FLUSH:nme,Z_FINISH:ol,Z_BLOCK:_O,Z_OK:Ii,Z_STREAM_END:SO,Z_STREAM_ERROR:fu,Z_DATA_ERROR:sme,Z_BUF_ERROR:WS,Z_DEFAULT_COMPRESSION:ime,Z_FILTERED:ame,Z_HUFFMAN_ONLY:y2,Z_RLE:ome,Z_FIXED:lme,Z_DEFAULT_STRATEGY:cme,Z_UNKNOWN:ume,Z_DEFLATED:O_}=Vx,dme=9,fme=15,hme=8,pme=29,mme=256,vA=mme+1+pme,gme=30,yme=19,xme=2*vA+1,vme=15,en=3,Cf=258,hu=Cf+en+1,wme=32,ig=42,TT=57,wA=69,bA=73,_A=91,SA=103,f0=113,L1=666,ka=1,Ng=2,K0=3,Tg=4,bme=3,h0=(e,t)=>(e.msg=sg[t],t),AO=e=>e*2-(e>4?9:0),hf=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_me=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let Sme=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Vf=Sme;const Ao=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Ro=(e,t)=>{eme(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ao(e.strm)},hn=(e,t)=>{e.pending_buf[e.pending++]=t},v1=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},AA=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=sx(e.adler,t,s,r):e.state.wrap===2&&(e.adler=yi(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},H9=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-hu?e.strstart-(e.w_size-hu):0,c=e.window,u=e.w_mask,h=e.prev,p=e.strstart+Cf;let m=c[n+a-1],x=c[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(s=t,!(c[s+a]!==x||c[s+a-1]!==m||c[s]!==c[n]||c[++s]!==c[n+1])){n+=2,s++;do;while(c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&n<p);if(i=Cf-(p-n),n=p-Cf,i>a){if(e.match_start=t,a=i,i>=o)break;m=c[n+a-1],x=c[n+a]}}while((t=h[t&u])>l&&--r!==0);return a<=e.lookahead?a:e.lookahead},ag=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-hu)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_me(e),n+=t),e.strm.avail_in===0)break;if(r=AA(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=en)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Vf(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Vf(e,e.ins_h,e.window[s+en-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<en)););}while(e.lookahead<hu&&e.strm.avail_in!==0)},W9=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==ol||t===Wf||n!==s+e.strm.avail_in)))break;a=t===ol&&n===s+e.strm.avail_in?1:0,xA(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Ao(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(AA(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Tg:t!==Wf&&t!==ol&&e.strm.avail_in===0&&e.strstart===e.block_start?Ng:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(AA(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===ol)&&t!==Wf&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===ol&&e.strm.avail_in===0&&n===s?1:0,xA(e,e.block_start,n,a),e.block_start+=n,Ao(e.strm)),a?K0:ka)},VS=(e,t)=>{let r,n;for(;;){if(e.lookahead<hu){if(ag(e),e.lookahead<hu&&t===Wf)return ka;if(e.lookahead===0)break}if(r=0,e.lookahead>=en&&(e.ins_h=Vf(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-hu&&(e.match_length=H9(e,r)),e.match_length>=en)if(n=Hf(e,e.strstart-e.match_start,e.match_length-en),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=en){e.match_length--;do e.strstart++,e.ins_h=Vf(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Vf(e,e.ins_h,e.window[e.strstart+1]);else n=Hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ro(e,!1),e.strm.avail_out===0))return ka}return e.insert=e.strstart<en-1?e.strstart:en-1,t===ol?(Ro(e,!0),e.strm.avail_out===0?K0:Tg):e.sym_next&&(Ro(e,!1),e.strm.avail_out===0)?ka:Ng},Lp=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<hu){if(ag(e),e.lookahead<hu&&t===Wf)return ka;if(e.lookahead===0)break}if(r=0,e.lookahead>=en&&(e.ins_h=Vf(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=en-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-hu&&(e.match_length=H9(e,r),e.match_length<=5&&(e.strategy===ame||e.match_length===en&&e.strstart-e.match_start>4096)&&(e.match_length=en-1)),e.prev_length>=en&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-en,n=Hf(e,e.strstart-1-e.prev_match,e.prev_length-en),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Vf(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=en-1,e.strstart++,n&&(Ro(e,!1),e.strm.avail_out===0))return ka}else if(e.match_available){if(n=Hf(e,0,e.window[e.strstart-1]),n&&Ro(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ka}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Hf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<en-1?e.strstart:en-1,t===ol?(Ro(e,!0),e.strm.avail_out===0?K0:Tg):e.sym_next&&(Ro(e,!1),e.strm.avail_out===0)?ka:Ng},Ame=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=Cf){if(ag(e),e.lookahead<=Cf&&t===Wf)return ka;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=en&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+Cf;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=Cf-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=en?(r=Hf(e,1,e.match_length-en),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ro(e,!1),e.strm.avail_out===0))return ka}return e.insert=0,t===ol?(Ro(e,!0),e.strm.avail_out===0?K0:Tg):e.sym_next&&(Ro(e,!1),e.strm.avail_out===0)?ka:Ng},Eme=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(ag(e),e.lookahead===0)){if(t===Wf)return ka;break}if(e.match_length=0,r=Hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ro(e,!1),e.strm.avail_out===0))return ka}return e.insert=0,t===ol?(Ro(e,!0),e.strm.avail_out===0?K0:Tg):e.sym_next&&(Ro(e,!1),e.strm.avail_out===0)?ka:Ng};function Hc(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const j1=[new Hc(0,0,0,0,W9),new Hc(4,4,8,4,VS),new Hc(4,5,16,8,VS),new Hc(4,6,32,32,VS),new Hc(4,4,16,16,Lp),new Hc(8,16,32,32,Lp),new Hc(8,16,128,128,Lp),new Hc(8,32,128,256,Lp),new Hc(32,128,258,1024,Lp),new Hc(32,258,258,4096,Lp)],Nme=e=>{e.window_size=2*e.w_size,hf(e.head),e.max_lazy_match=j1[e.level].max_lazy,e.good_match=j1[e.level].good_length,e.nice_match=j1[e.level].nice_length,e.max_chain_length=j1[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=en-1,e.match_available=0,e.ins_h=0};function Tme(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xme*2),this.dyn_dtree=new Uint16Array((2*gme+1)*2),this.bl_tree=new Uint16Array((2*yme+1)*2),hf(this.dyn_ltree),hf(this.dyn_dtree),hf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vme+1),this.heap=new Uint16Array(2*vA+1),hf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vA+1),hf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gx=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ig&&t.status!==TT&&t.status!==wA&&t.status!==bA&&t.status!==_A&&t.status!==SA&&t.status!==f0&&t.status!==L1?1:0},V9=e=>{if(Gx(e))return h0(e,fu);e.total_in=e.total_out=0,e.data_type=ume;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?TT:t.wrap?ig:f0,e.adler=t.wrap===2?0:1,t.last_flush=-2,Jpe(t),Ii},G9=e=>{const t=V9(e);return t===Ii&&Nme(e.state),t},kme=(e,t)=>Gx(e)||e.state.wrap!==2?fu:(e.state.gzhead=t,Ii),K9=(e,t,r,n,s,i)=>{if(!e)return fu;let a=1;if(t===ime&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>dme||r!==O_||n<8||n>15||t<0||t>9||i<0||i>lme||n===8&&a!==1)return h0(e,fu);n===8&&(n=9);const o=new Tme;return e.state=o,o.strm=e,o.status=ig,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+en-1)/en),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,G9(e)},Cme=(e,t)=>K9(e,t,O_,fme,hme,cme),Ime=(e,t)=>{if(Gx(e)||t>_O||t<0)return e?h0(e,fu):fu;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===L1&&t!==ol)return h0(e,e.avail_out===0?WS:fu);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Ao(e),e.avail_out===0)return r.last_flush=-1,Ii}else if(e.avail_in===0&&AO(t)<=AO(n)&&t!==ol)return h0(e,WS);if(r.status===L1&&e.avail_in!==0)return h0(e,WS);if(r.status===ig&&r.wrap===0&&(r.status=f0),r.status===ig){let s=O_+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=y2||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=wme),s+=31-s%31,v1(r,s),r.strstart!==0&&(v1(r,e.adler>>>16),v1(r,e.adler&65535)),e.adler=1,r.status=f0,Ao(e),r.pending!==0)return r.last_flush=-1,Ii}if(r.status===TT){if(e.adler=0,hn(r,31),hn(r,139),hn(r,8),r.gzhead)hn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),hn(r,r.gzhead.time&255),hn(r,r.gzhead.time>>8&255),hn(r,r.gzhead.time>>16&255),hn(r,r.gzhead.time>>24&255),hn(r,r.level===9?2:r.strategy>=y2||r.level<2?4:0),hn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(hn(r,r.gzhead.extra.length&255),hn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=yi(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=wA;else if(hn(r,0),hn(r,0),hn(r,0),hn(r,0),hn(r,0),hn(r,r.level===9?2:r.strategy>=y2||r.level<2?4:0),hn(r,bme),r.status=f0,Ao(e),r.pending!==0)return r.last_flush=-1,Ii}if(r.status===wA){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=o,Ao(e),r.pending!==0)return r.last_flush=-1,Ii;s=0,i-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=bA}if(r.status===bA){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s)),Ao(e),r.pending!==0)return r.last_flush=-1,Ii;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,hn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=_A}if(r.status===_A){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s)),Ao(e),r.pending!==0)return r.last_flush=-1,Ii;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,hn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=yi(e.adler,r.pending_buf,r.pending-s,s))}r.status=SA}if(r.status===SA){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ao(e),r.pending!==0))return r.last_flush=-1,Ii;hn(r,e.adler&255),hn(r,e.adler>>8&255),e.adler=0}if(r.status=f0,Ao(e),r.pending!==0)return r.last_flush=-1,Ii}if(e.avail_in!==0||r.lookahead!==0||t!==Wf&&r.status!==L1){let s=r.level===0?W9(r,t):r.strategy===y2?Eme(r,t):r.strategy===ome?Ame(r,t):j1[r.level].func(r,t);if((s===K0||s===Tg)&&(r.status=L1),s===ka||s===K0)return e.avail_out===0&&(r.last_flush=-1),Ii;if(s===Ng&&(t===rme?tme(r):t!==_O&&(xA(r,0,0,!1),t===nme&&(hf(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ao(e),e.avail_out===0))return r.last_flush=-1,Ii}return t!==ol?Ii:r.wrap<=0?SO:(r.wrap===2?(hn(r,e.adler&255),hn(r,e.adler>>8&255),hn(r,e.adler>>16&255),hn(r,e.adler>>24&255),hn(r,e.total_in&255),hn(r,e.total_in>>8&255),hn(r,e.total_in>>16&255),hn(r,e.total_in>>24&255)):(v1(r,e.adler>>>16),v1(r,e.adler&65535)),Ao(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ii:SO)},Pme=e=>{if(Gx(e))return fu;const t=e.state.status;return e.state=null,t===f0?h0(e,sme):Ii},Ome=(e,t)=>{let r=t.length;if(Gx(e))return fu;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==ig||n.lookahead)return fu;if(s===1&&(e.adler=sx(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(hf(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const i=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,ag(n);n.lookahead>=en;){let l=n.strstart,c=n.lookahead-(en-1);do n.ins_h=Vf(n,n.ins_h,n.window[l+en-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=en-1,ag(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=en-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=i,n.wrap=s,Ii};var Rme=Cme,Dme=K9,Lme=G9,jme=V9,Fme=kme,Mme=Ime,Bme=Pme,Ume=Ome,$me="pako deflate (from Nodeca project)",hy={deflateInit:Rme,deflateInit2:Dme,deflateReset:Lme,deflateResetKeep:jme,deflateSetHeader:Fme,deflate:Mme,deflateEnd:Bme,deflateSetDictionary:Ume,deflateInfo:$me};const zme=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var qme=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)zme(r,n)&&(e[n]=r[n])}}return e},Hme=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},R_={assign:qme,flattenChunks:Hme};let Y9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Y9=!1}const ix=new Uint8Array(256);for(let e=0;e<256;e++)ix[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ix[254]=ix[254]=1;var Wme=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,o=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,s=0;i<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Vme=(e,t)=>{if(t<65534&&e.subarray&&Y9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Gme=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let o=ix[a];if(o>4){i[s++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return Vme(i,s)},Kme=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ix[e[r]]>t?r:t},ax={string2buf:Wme,buf2string:Gme,utf8border:Kme};function Yme(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var X9=Yme;const Q9=Object.prototype.toString,{Z_NO_FLUSH:Xme,Z_SYNC_FLUSH:Qme,Z_FULL_FLUSH:Zme,Z_FINISH:Jme,Z_OK:Eb,Z_STREAM_END:ege,Z_DEFAULT_COMPRESSION:tge,Z_DEFAULT_STRATEGY:rge,Z_DEFLATED:nge}=Vx;function kT(e){this.options=R_.assign({level:tge,method:nge,chunkSize:16384,windowBits:15,memLevel:8,strategy:rge},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X9,this.strm.avail_out=0;let r=hy.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Eb)throw new Error(sg[r]);if(t.header&&hy.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=ax.string2buf(t.dictionary):Q9.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=hy.deflateSetDictionary(this.strm,n),r!==Eb)throw new Error(sg[r]);this._dict_set=!0}}kT.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Jme:Xme,typeof e=="string"?r.input=ax.string2buf(e):Q9.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Qme||i===Zme)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=hy.deflate(r,i),s===ege)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=hy.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Eb;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};kT.prototype.onData=function(e){this.chunks.push(e)};kT.prototype.onEnd=function(e){e===Eb&&(this.result=R_.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const x2=16209,sge=16191;var ige=function(t,r){let n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T,R,B,j,P,F,N;const k=t.state;n=t.next_in,F=t.input,s=n+(t.avail_in-5),i=t.next_out,N=t.output,a=i-(r-t.avail_out),o=i+(t.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,h=k.wnext,p=k.window,m=k.hold,x=k.bits,y=k.lencode,b=k.distcode,v=(1<<k.lenbits)-1,S=(1<<k.distbits)-1;e:do{x<15&&(m+=F[n++]<<x,x+=8,m+=F[n++]<<x,x+=8),_=y[m&v];t:for(;;){if(T=_>>>24,m>>>=T,x-=T,T=_>>>16&255,T===0)N[i++]=_&65535;else if(T&16){R=_&65535,T&=15,T&&(x<T&&(m+=F[n++]<<x,x+=8),R+=m&(1<<T)-1,m>>>=T,x-=T),x<15&&(m+=F[n++]<<x,x+=8,m+=F[n++]<<x,x+=8),_=b[m&S];r:for(;;){if(T=_>>>24,m>>>=T,x-=T,T=_>>>16&255,T&16){if(B=_&65535,T&=15,x<T&&(m+=F[n++]<<x,x+=8,x<T&&(m+=F[n++]<<x,x+=8)),B+=m&(1<<T)-1,B>l){t.msg="invalid distance too far back",k.mode=x2;break e}if(m>>>=T,x-=T,T=i-a,B>T){if(T=B-T,T>u&&k.sane){t.msg="invalid distance too far back",k.mode=x2;break e}if(j=0,P=p,h===0){if(j+=c-T,T<R){R-=T;do N[i++]=p[j++];while(--T);j=i-B,P=N}}else if(h<T){if(j+=c+h-T,T-=h,T<R){R-=T;do N[i++]=p[j++];while(--T);if(j=0,h<R){T=h,R-=T;do N[i++]=p[j++];while(--T);j=i-B,P=N}}}else if(j+=h-T,T<R){R-=T;do N[i++]=p[j++];while(--T);j=i-B,P=N}for(;R>2;)N[i++]=P[j++],N[i++]=P[j++],N[i++]=P[j++],R-=3;R&&(N[i++]=P[j++],R>1&&(N[i++]=P[j++]))}else{j=i-B;do N[i++]=N[j++],N[i++]=N[j++],N[i++]=N[j++],R-=3;while(R>2);R&&(N[i++]=N[j++],R>1&&(N[i++]=N[j++]))}}else if(T&64){t.msg="invalid distance code",k.mode=x2;break e}else{_=b[(_&65535)+(m&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){k.mode=sge;break e}else{t.msg="invalid literal/length code",k.mode=x2;break e}else{_=y[(_&65535)+(m&(1<<T)-1)];continue t}break}}while(n<s&&i<o);R=x>>3,n-=R,x-=R<<3,m&=(1<<x)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<o?257+(o-i):257-(i-o),k.hold=m,k.bits=x};const jp=15,EO=852,NO=592,TO=0,GS=1,kO=2,age=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oge=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lge=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cge=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uge=(e,t,r,n,s,i,a,o)=>{const l=o.bits;let c=0,u=0,h=0,p=0,m=0,x=0,y=0,b=0,v=0,S=0,_,T,R,B,j,P=null,F;const N=new Uint16Array(jp+1),k=new Uint16Array(jp+1);let C=null,H,z,K;for(c=0;c<=jp;c++)N[c]=0;for(u=0;u<n;u++)N[t[r+u]]++;for(m=l,p=jp;p>=1&&N[p]===0;p--);if(m>p&&(m=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<p&&N[h]===0;h++);for(m<h&&(m=h),b=1,c=1;c<=jp;c++)if(b<<=1,b-=N[c],b<0)return-1;if(b>0&&(e===TO||p!==1))return-1;for(k[1]=0,c=1;c<jp;c++)k[c+1]=k[c]+N[c];for(u=0;u<n;u++)t[r+u]!==0&&(a[k[t[r+u]]++]=u);if(e===TO?(P=C=a,F=20):e===GS?(P=age,C=oge,F=257):(P=lge,C=cge,F=0),S=0,u=0,c=h,j=i,x=m,y=0,R=-1,v=1<<m,B=v-1,e===GS&&v>EO||e===kO&&v>NO)return 1;for(;;){H=c-y,a[u]+1<F?(z=0,K=a[u]):a[u]>=F?(z=C[a[u]-F],K=P[a[u]-F]):(z=96,K=0),_=1<<c-y,T=1<<x,h=T;do T-=_,s[j+(S>>y)+T]=H<<24|z<<16|K|0;while(T!==0);for(_=1<<c-1;S&_;)_>>=1;if(_!==0?(S&=_-1,S+=_):S=0,u++,--N[c]===0){if(c===p)break;c=t[r+a[u]]}if(c>m&&(S&B)!==R){for(y===0&&(y=m),j+=h,x=c-y,b=1<<x;x+y<p&&(b-=N[x+y],!(b<=0));)x++,b<<=1;if(v+=1<<x,e===GS&&v>EO||e===kO&&v>NO)return 1;R=S&B,s[R]=m<<24|x<<16|j-i|0}}return S!==0&&(s[j+S]=c-y<<24|64<<16|0),o.bits=m,0};var py=uge;const dge=0,Z9=1,J9=2,{Z_FINISH:CO,Z_BLOCK:fge,Z_TREES:v2,Z_OK:Y0,Z_STREAM_END:hge,Z_NEED_DICT:pge,Z_STREAM_ERROR:gl,Z_DATA_ERROR:eU,Z_MEM_ERROR:tU,Z_BUF_ERROR:mge,Z_DEFLATED:IO}=Vx,D_=16180,PO=16181,OO=16182,RO=16183,DO=16184,LO=16185,jO=16186,FO=16187,MO=16188,BO=16189,Nb=16190,Lu=16191,KS=16192,UO=16193,YS=16194,$O=16195,zO=16196,qO=16197,HO=16198,w2=16199,b2=16200,WO=16201,VO=16202,GO=16203,KO=16204,YO=16205,XS=16206,XO=16207,QO=16208,Zn=16209,rU=16210,nU=16211,gge=852,yge=592,xge=15,vge=xge,ZO=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function wge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<D_||t.mode>nU?1:0},sU=e=>{if(lp(e))return gl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=D_,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(gge),t.distcode=t.distdyn=new Int32Array(yge),t.sane=1,t.back=-1,Y0},iU=e=>{if(lp(e))return gl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,sU(e)},aU=(e,t)=>{let r;if(lp(e))return gl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?gl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,iU(e))},oU=(e,t)=>{if(!e)return gl;const r=new wge;e.state=r,r.strm=e,r.window=null,r.mode=D_;const n=aU(e,t);return n!==Y0&&(e.state=null),n},bge=e=>oU(e,vge);let JO=!0,QS,ZS;const _ge=e=>{if(JO){QS=new Int32Array(512),ZS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(py(Z9,e.lens,0,288,QS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;py(J9,e.lens,0,32,ZS,0,e.work,{bits:5}),JO=!1}e.lencode=QS,e.lenbits=9,e.distcode=ZS,e.distbits=5},lU=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Sge=(e,t)=>{let r,n,s,i,a,o,l,c,u,h,p,m,x,y,b=0,v,S,_,T,R,B,j,P;const F=new Uint8Array(4);let N,k;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lp(e)||!e.output||!e.input&&e.avail_in!==0)return gl;r=e.state,r.mode===Lu&&(r.mode=KS),a=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,h=o,p=l,P=Y0;e:for(;;)switch(r.mode){case D_:if(r.wrap===0){r.mode=KS;break}for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=c&255,F[1]=c>>>8&255,r.check=yi(r.check,F,2,0),c=0,u=0,r.mode=PO;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Zn;break}if((c&15)!==IO){e.msg="unknown compression method",r.mode=Zn;break}if(c>>>=4,u-=4,j=(c&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){e.msg="invalid window size",r.mode=Zn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?BO:Lu,c=0,u=0;break;case PO:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==IO){e.msg="unknown compression method",r.mode=Zn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Zn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=yi(r.check,F,2,0)),c=0,u=0,r.mode=OO;case OO:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,r.check=yi(r.check,F,4,0)),c=0,u=0,r.mode=RO;case RO:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=yi(r.check,F,2,0)),c=0,u=0,r.mode=DO;case DO:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=yi(r.check,F,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=LO;case LO:if(r.flags&1024&&(m=r.length,m>o&&(m=o),m&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+m),j)),r.flags&512&&r.wrap&4&&(r.check=yi(r.check,n,m,i)),o-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=jO;case jO:if(r.flags&2048){if(o===0)break e;m=0;do j=n[i+m++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=yi(r.check,n,m,i)),o-=m,i+=m,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=FO;case FO:if(r.flags&4096){if(o===0)break e;m=0;do j=n[i+m++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=yi(r.check,n,m,i)),o-=m,i+=m,j)break e}else r.head&&(r.head.comment=null);r.mode=MO;case MO:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Zn;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Lu;break;case BO:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}e.adler=r.check=ZO(c),c=0,u=0,r.mode=Nb;case Nb:if(r.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,pge;e.adler=r.check=1,r.mode=Lu;case Lu:if(t===fge||t===v2)break e;case KS:if(r.last){c>>>=u&7,u-=u&7,r.mode=XS;break}for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=UO;break;case 1:if(_ge(r),r.mode=w2,t===v2){c>>>=2,u-=2;break e}break;case 2:r.mode=zO;break;case 3:e.msg="invalid block type",r.mode=Zn}c>>>=2,u-=2;break;case UO:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Zn;break}if(r.length=c&65535,c=0,u=0,r.mode=YS,t===v2)break e;case YS:r.mode=$O;case $O:if(m=r.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;s.set(n.subarray(i,i+m),a),o-=m,i+=m,l-=m,a+=m,r.length-=m;break}r.mode=Lu;break;case zO:for(;u<14;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Zn;break}r.have=0,r.mode=qO;case qO:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.lens[C[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},P=py(dge,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,P){e.msg="invalid code lengths set",r.mode=Zn;break}r.have=0,r.mode=HO;case HO:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(_<16)c>>>=v,u-=v,r.lens[r.have++]=_;else{if(_===16){for(k=v+2;u<k;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(c>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Zn;break}j=r.lens[r.have-1],m=3+(c&3),c>>>=2,u-=2}else if(_===17){for(k=v+3;u<k;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=v,u-=v,j=0,m=3+(c&7),c>>>=3,u-=3}else{for(k=v+7;u<k;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=v,u-=v,j=0,m=11+(c&127),c>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Zn;break}for(;m--;)r.lens[r.have++]=j}}if(r.mode===Zn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Zn;break}if(r.lenbits=9,N={bits:r.lenbits},P=py(Z9,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,P){e.msg="invalid literal/lengths set",r.mode=Zn;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},P=py(J9,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,P){e.msg="invalid distances set",r.mode=Zn;break}if(r.mode=w2,t===v2)break e;case w2:r.mode=b2;case b2:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,ige(e,p),a=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===Lu&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(S&&!(S&240)){for(T=v,R=S,B=_;b=r.lencode[B+((c&(1<<T+R)-1)>>T)],v=b>>>24,S=b>>>16&255,_=b&65535,!(T+v<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=T,u-=T,r.back+=T}if(c>>>=v,u-=v,r.back+=v,r.length=_,S===0){r.mode=YO;break}if(S&32){r.back=-1,r.mode=Lu;break}if(S&64){e.msg="invalid literal/length code",r.mode=Zn;break}r.extra=S&15,r.mode=WO;case WO:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=VO;case VO:for(;b=r.distcode[c&(1<<r.distbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(!(S&240)){for(T=v,R=S,B=_;b=r.distcode[B+((c&(1<<T+R)-1)>>T)],v=b>>>24,S=b>>>16&255,_=b&65535,!(T+v<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=T,u-=T,r.back+=T}if(c>>>=v,u-=v,r.back+=v,S&64){e.msg="invalid distance code",r.mode=Zn;break}r.offset=_,r.extra=S&15,r.mode=GO;case GO:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Zn;break}r.mode=KO;case KO:if(l===0)break e;if(m=p-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Zn;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),y=r.window}else y=s,x=a-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do s[a++]=y[x++];while(--m);r.length===0&&(r.mode=b2);break;case YO:if(l===0)break e;s[a++]=r.length,l--,r.mode=b2;break;case XS:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[i++]<<u,u+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?yi(r.check,s,p,a-p):sx(r.check,s,p,a-p)),p=l,r.wrap&4&&(r.flags?c:ZO(c))!==r.check){e.msg="incorrect data check",r.mode=Zn;break}c=0,u=0}r.mode=XO;case XO:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Zn;break}c=0,u=0}r.mode=QO;case QO:P=hge;break e;case Zn:P=eU;break e;case rU:return tU;case nU:default:return gl}return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<Zn&&(r.mode<XS||t!==CO))&&lU(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?yi(r.check,s,p,e.next_out-p):sx(r.check,s,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Lu?128:0)+(r.mode===w2||r.mode===YS?256:0),(h===0&&p===0||t===CO)&&P===Y0&&(P=mge),P},Age=e=>{if(lp(e))return gl;let t=e.state;return t.window&&(t.window=null),e.state=null,Y0},Ege=(e,t)=>{if(lp(e))return gl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Y0):gl},Nge=(e,t)=>{const r=t.length;let n,s,i;return lp(e)||(n=e.state,n.wrap!==0&&n.mode!==Nb)?gl:n.mode===Nb&&(s=1,s=sx(s,t,r,0),s!==n.check)?eU:(i=lU(e,t,r,r),i?(n.mode=rU,tU):(n.havedict=1,Y0))};var Tge=iU,kge=aU,Cge=sU,Ige=bge,Pge=oU,Oge=Sge,Rge=Age,Dge=Ege,Lge=Nge,jge="pako inflate (from Nodeca project)",qu={inflateReset:Tge,inflateReset2:kge,inflateResetKeep:Cge,inflateInit:Ige,inflateInit2:Pge,inflate:Oge,inflateEnd:Rge,inflateGetHeader:Dge,inflateSetDictionary:Lge,inflateInfo:jge};function Fge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mge=Fge;const cU=Object.prototype.toString,{Z_NO_FLUSH:Bge,Z_FINISH:Uge,Z_OK:ox,Z_STREAM_END:JS,Z_NEED_DICT:e3,Z_STREAM_ERROR:$ge,Z_DATA_ERROR:e8,Z_MEM_ERROR:zge}=Vx;function Kx(e){this.options=R_.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X9,this.strm.avail_out=0;let r=qu.inflateInit2(this.strm,t.windowBits);if(r!==ox)throw new Error(sg[r]);if(this.header=new Mge,qu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ax.string2buf(t.dictionary):cU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=qu.inflateSetDictionary(this.strm,t.dictionary),r!==ox)))throw new Error(sg[r])}Kx.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Uge:Bge,cU.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=qu.inflate(r,a),i===e3&&s&&(i=qu.inflateSetDictionary(r,s),i===ox?i=qu.inflate(r,a):i===e8&&(i=e3));r.avail_in>0&&i===JS&&r.state.wrap>0&&e[r.next_in]!==0;)qu.inflateReset(r),i=qu.inflate(r,a);switch(i){case $ge:case e8:case e3:case zge:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===JS))if(this.options.to==="string"){let l=ax.utf8border(r.output,r.next_out),c=r.next_out-l,u=ax.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===ox&&o===0)){if(i===JS)return i=qu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kx.prototype.onData=function(e){this.chunks.push(e)};Kx.prototype.onEnd=function(e){e===ox&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R_.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function CT(e,t){const r=new Kx(t);if(r.push(e),r.err)throw r.msg||sg[r.err];return r.result}function qge(e,t){return t=t||{},t.raw=!0,CT(e,t)}var Hge=Kx,Wge=CT,Vge=qge,Gge=CT,Kge=Vx,Yge={Inflate:Hge,inflate:Wge,inflateRaw:Vge,ungzip:Gge,constants:Kge};const{Inflate:Xge,inflate:Qge,inflateRaw:p5e,ungzip:m5e}=Yge;var t8=Xge,Zge=Qge;const uU=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;uU[e]=t}const r8=4294967295;function Jge(e,t,r){let n=e;for(let s=0;s<r;s++)n=uU[(n^t[s])&255]^n>>>8;return n}function e1e(e,t){return(Jge(r8,e,t)^r8)>>>0}function n8(e,t,r){const n=e.readUint32(),s=e1e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function dU(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function fU(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function hU(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function pU(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function mU(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+t1e(t[i-s],r[i],r[i-s])&255}}function t1e(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function r1e(e,t,r,n,s,i){switch(e){case 0:dU(t,r,s);break;case 1:fU(t,r,s,i);break;case 2:hU(t,r,n,s);break;case 3:pU(t,r,n,s,i);break;case 4:mU(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const n1e=new Uint16Array([255]),s1e=new Uint8Array(n1e.buffer),i1e=s1e[0]===255;function a1e(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const h=a[u],p=Math.ceil((r-h.x)/h.xStep),m=Math.ceil((n-h.y)/h.yStep);if(p<=0||m<=0)continue;const x=p*o,y=new Uint8Array(x);for(let b=0;b<m;b++){const v=t[c++],S=t.subarray(c,c+x);c+=x;const _=new Uint8Array(x);r1e(v,S,_,y,x,o),y.set(_);for(let T=0;T<p;T++){const R=h.x+T*h.xStep,B=h.y+b*h.yStep;if(!(R>=r||B>=n))for(let j=0;j<o;j++)l[(B*r+R)*o+j]=_[T*o+j]}}}if(i===16){const u=new Uint16Array(l.buffer);if(i1e)for(let h=0;h<u.length;h++)u[h]=o1e(u[h]);return u}else return l}function o1e(e){return(e&255)<<8|e>>8&255}const l1e=new Uint16Array([255]),c1e=new Uint8Array(l1e.buffer),u1e=c1e[0]===255,d1e=new Uint8Array(0);function s8(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*r),l=new Uint8Array(n*o);let c=d1e,u=0,h,p;for(let m=0;m<n;m++){switch(h=t.subarray(u+1,u+1+o),p=l.subarray(m*o,(m+1)*o),t[u]){case 0:dU(h,p,o);break;case 1:fU(h,p,o,a);break;case 2:hU(h,p,c,o);break;case 3:pU(h,p,c,o,a);break;case 4:mU(h,p,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=o+1}if(i===16){const m=new Uint16Array(l.buffer);if(u1e)for(let x=0;x<m.length;x++)m[x]=f1e(m[x]);return m}else return l}function f1e(e){return(e&255)<<8|e>>8&255}const mw=Uint8Array.of(137,80,78,71,13,10,26,10);function i8(e){if(!h1e(e.readBytes(mw.length)))throw new Error("wrong PNG signature")}function h1e(e){if(e.length<mw.length)return!1;for(let t=0;t<mw.length;t++)if(e[t]!==mw[t])return!1;return!0}const p1e="tEXt",m1e=0,gU=new TextDecoder("latin1");function g1e(e){if(x1e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const y1e=/^[\u0000-\u00FF]*$/;function x1e(e){if(!y1e.test(e))throw new Error("invalid latin1 text")}function v1e(e,t,r){const n=yU(t);e[n]=w1e(t,r-n.length-1)}function yU(e){for(e.mark();e.readByte()!==m1e;);const t=e.offset;e.reset();const r=gU.decode(e.readBytes(t-e.offset-1));return e.skip(1),g1e(r),r}function w1e(e,t){return gU.decode(e.readBytes(t))}const So={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},t3={UNKNOWN:-1,DEFLATE:0},a8={UNKNOWN:-1,ADAPTIVE:0},r3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_2={NONE:0,BACKGROUND:1,PREVIOUS:2},n3={SOURCE:0,OVER:1};class b1e extends _T{constructor(r,n={}){super(r);_t(this,"_checkCrc");_t(this,"_inflator");_t(this,"_png");_t(this,"_apng");_t(this,"_end");_t(this,"_hasPalette");_t(this,"_palette");_t(this,"_hasTransparency");_t(this,"_transparency");_t(this,"_compressionMethod");_t(this,"_filterMethod");_t(this,"_interlaceMethod");_t(this,"_colorType");_t(this,"_isAnimated");_t(this,"_numberOfFrames");_t(this,"_numberOfPlays");_t(this,"_frames");_t(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new t8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=t3.UNKNOWN,this._filterMethod=a8.UNKNOWN,this._interlaceMethod=r3.UNKNOWN,this._colorType=So.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(i8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(i8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case p1e:v1e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?n8(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?n8(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=_1e(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case So.GREYSCALE:s=1;break;case So.TRUECOLOUR:s=3;break;case So.INDEXED_COLOUR:s=1;break;case So.GREYSCALE_ALPHA:s=2;break;case So.TRUECOLOUR_ALPHA:s=4;break;case So.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==t3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case So.GREYSCALE:case So.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case So.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case So.UNKNOWN:case So.GREYSCALE_ALPHA:case So.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=yU(this),s=this.readUint8();if(s!==t3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Zge(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=s8({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case _2.NONE:break;case _2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[o+l]=0}break;case _2.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case n3.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case n3.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/s,p=u%(this._png.channels-1)===0?1:n.data[c+u],m=Math.floor(h*p+(1-h)*r.data[l+u]);r.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==a8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===r3.NO_INTERLACE)this._png.data=s8({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===r3.ADAM7)this._png.data=a1e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_2.NONE,blendOp:n3.SOURCE,data:r}),this._inflator=new t8,this._writingDataChunks=!1}}function _1e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var o8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(o8||(o8={}));function S1e(e,t){return new b1e(e,t).decode()}var Sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s3(){Sr.console&&typeof Sr.console.log=="function"&&Sr.console.log.apply(Sr.console,arguments)}var Ln={log:s3,warn:function(e){Sr.console&&(typeof Sr.console.warn=="function"?Sr.console.warn.apply(Sr.console,arguments):s3.call(null,arguments))},error:function(e){Sr.console&&(typeof Sr.console.error=="function"?Sr.console.error.apply(Sr.console,arguments):s3(e))}};function i3(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Jh(n.response,t,r)},n.onerror=function(){Ln.error("could not download file")},n.send()}function l8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function S2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Jh=Sr.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Sr.URL||Sr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?l8(s.href)?i3(e,t,r):S2(s,s.target="_blank"):S2(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){S2(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(l8(e))i3(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){S2(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Nn(i)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return i3(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Sr.HTMLElement)||Sr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Sr.URL||Sr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var gw=Sr.atob.bind(Sr),c8=Sr.btoa.bind(Sr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a3(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Ki(r,n,s,i,t[0],7,-680876936),i=Ki(i,r,n,s,t[1],12,-389564586),s=Ki(s,i,r,n,t[2],17,606105819),n=Ki(n,s,i,r,t[3],22,-1044525330),r=Ki(r,n,s,i,t[4],7,-176418897),i=Ki(i,r,n,s,t[5],12,1200080426),s=Ki(s,i,r,n,t[6],17,-1473231341),n=Ki(n,s,i,r,t[7],22,-45705983),r=Ki(r,n,s,i,t[8],7,1770035416),i=Ki(i,r,n,s,t[9],12,-1958414417),s=Ki(s,i,r,n,t[10],17,-42063),n=Ki(n,s,i,r,t[11],22,-1990404162),r=Ki(r,n,s,i,t[12],7,1804603682),i=Ki(i,r,n,s,t[13],12,-40341101),s=Ki(s,i,r,n,t[14],17,-1502002290),r=Yi(r,n=Ki(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Yi(i,r,n,s,t[6],9,-1069501632),s=Yi(s,i,r,n,t[11],14,643717713),n=Yi(n,s,i,r,t[0],20,-373897302),r=Yi(r,n,s,i,t[5],5,-701558691),i=Yi(i,r,n,s,t[10],9,38016083),s=Yi(s,i,r,n,t[15],14,-660478335),n=Yi(n,s,i,r,t[4],20,-405537848),r=Yi(r,n,s,i,t[9],5,568446438),i=Yi(i,r,n,s,t[14],9,-1019803690),s=Yi(s,i,r,n,t[3],14,-187363961),n=Yi(n,s,i,r,t[8],20,1163531501),r=Yi(r,n,s,i,t[13],5,-1444681467),i=Yi(i,r,n,s,t[2],9,-51403784),s=Yi(s,i,r,n,t[7],14,1735328473),r=Xi(r,n=Yi(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Xi(i,r,n,s,t[8],11,-2022574463),s=Xi(s,i,r,n,t[11],16,1839030562),n=Xi(n,s,i,r,t[14],23,-35309556),r=Xi(r,n,s,i,t[1],4,-1530992060),i=Xi(i,r,n,s,t[4],11,1272893353),s=Xi(s,i,r,n,t[7],16,-155497632),n=Xi(n,s,i,r,t[10],23,-1094730640),r=Xi(r,n,s,i,t[13],4,681279174),i=Xi(i,r,n,s,t[0],11,-358537222),s=Xi(s,i,r,n,t[3],16,-722521979),n=Xi(n,s,i,r,t[6],23,76029189),r=Xi(r,n,s,i,t[9],4,-640364487),i=Xi(i,r,n,s,t[12],11,-421815835),s=Xi(s,i,r,n,t[15],16,530742520),r=Qi(r,n=Xi(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Qi(i,r,n,s,t[7],10,1126891415),s=Qi(s,i,r,n,t[14],15,-1416354905),n=Qi(n,s,i,r,t[5],21,-57434055),r=Qi(r,n,s,i,t[12],6,1700485571),i=Qi(i,r,n,s,t[3],10,-1894986606),s=Qi(s,i,r,n,t[10],15,-1051523),n=Qi(n,s,i,r,t[1],21,-2054922799),r=Qi(r,n,s,i,t[8],6,1873313359),i=Qi(i,r,n,s,t[15],10,-30611744),s=Qi(s,i,r,n,t[6],15,-1560198380),n=Qi(n,s,i,r,t[13],21,1309151649),r=Qi(r,n,s,i,t[4],6,-145523070),i=Qi(i,r,n,s,t[11],10,-1120210379),s=Qi(s,i,r,n,t[2],15,718787259),n=Qi(n,s,i,r,t[9],21,-343485551),e[0]=If(r,e[0]),e[1]=If(n,e[1]),e[2]=If(s,e[2]),e[3]=If(i,e[3])}function L_(e,t,r,n,s,i){return t=If(If(t,e),If(n,i)),If(t<<s|t>>>32-s,r)}function Ki(e,t,r,n,s,i,a){return L_(t&r|~t&n,e,t,s,i,a)}function Yi(e,t,r,n,s,i,a){return L_(t&n|r&~n,e,t,s,i,a)}function Xi(e,t,r,n,s,i,a){return L_(t^r^n,e,t,s,i,a)}function Qi(e,t,r,n,s,i,a){return L_(r^(t|~n),e,t,s,i,a)}function vU(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a3(n,A1e(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(a3(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,a3(n,s),n}function A1e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var u8="0123456789abcdef".split("");function E1e(e){for(var t="",r=0;r<4;r++)t+=u8[e>>8*r+4&15]+u8[e>>8*r&15];return t}function N1e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function EA(e){return vU(e).map(N1e).join("")}var T1e=function(e){for(var t=0;t<e.length;t++)e[t]=E1e(e[t]);return e.join("")}(vU("hello"))!="5d41402abc4b2a76b9719d911017c592";function If(e,t){if(T1e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function NA(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var h=t.length,p=0,m=0,x="";for(l=0;l<h;l++)m=(m+(u=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=u,a=o[(o[p]+o[m])%256],x+=String.fromCharCode(t.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d8={print:4,modify:8,copy:16,"annot-forms":32};function Hp(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(d8.perm!==void 0)throw new Error("Invalid permission: "+o);s+=d8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=EA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=NA(this.encryptionKey,this.padding)}function Wp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function f8(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(o){Sr.console&&Ln.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Tb(e){if(!(this instanceof Tb))return new Tb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function wU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function s0(e,t,r,n,s){if(!(this instanceof s0))return new s0(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,wU.call(this,n,s)}function fm(e,t,r,n,s){if(!(this instanceof fm))return new fm(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,wU.call(this,n,s)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,l=16,c="S",u=null;Nn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=f8;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(O){x=O};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return b};var v=m.__private__.getPageFormat=function(O){return b[O]};s=s||"a4";var S="compat",_="advanced",T=S;function R(){this.saveGraphicsState(),se(new rr(Et,0,0,-Et,0,Ec()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),c="n",T=_}function B(){this.restoreGraphicsState(),c="S",T=S}var j=m.__private__.combineFontStyleAndFontWeight=function(O,re){if(O=="bold"&&re=="normal"||O=="bold"&&re==400||O=="normal"&&re=="italic"||O=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(O=re==400||re==="normal"?O==="italic"?"italic":"normal":re!=700&&re!=="bold"||O!=="normal"?(re==700?"bold":re)+""+O:"bold"),O};m.advancedAPI=function(O){var re=T===S;return re&&R.call(this),typeof O!="function"||(O(this),re&&B.call(this)),this},m.compatAPI=function(O){var re=T===_;return re&&B.call(this),typeof O!="function"||(O(this),re&&R.call(this)),this},m.isAdvancedAPI=function(){return T===_};var P,F=function(O){if(T!==_)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=m.roundToPrecision=m.__private__.roundToPrecision=function(O,re){var ye=t||re;if(isNaN(O)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ye).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof l=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return N(O,l)}:l==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return N(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return N(O,16)};var k=m.f2=m.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return N(O,2)},C=m.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return N(O,3)},H=m.scale=m.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return T===S?O*Et:T===_?O:void 0},z=function(O){return H(function(re){return T===S?Ec()-re:T===_?re:void 0}(O))};m.__private__.setPrecision=m.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var K,Y="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return Y},Z=m.__private__.setFileId=function(O){return Y=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ss=new Hp(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};m.setFileId=function(O){return Z(O),this},m.getFileId=function(){return W()};var ne=m.__private__.convertDateToPDFDate=function(O){var re=O.getTimezoneOffset(),ye=re<0?"+":"-",Te=Math.floor(Math.abs(re/60)),je=Math.abs(re%60),nt=[ye,G(Te),"'",G(je),"'"].join("");return["D:",O.getFullYear(),G(O.getMonth()+1),G(O.getDate()),G(O.getHours()),G(O.getMinutes()),G(O.getSeconds()),nt].join("")},ee=m.__private__.convertPDFDateToDate=function(O){var re=parseInt(O.substr(2,4),10),ye=parseInt(O.substr(6,2),10)-1,Te=parseInt(O.substr(8,2),10),je=parseInt(O.substr(10,2),10),nt=parseInt(O.substr(12,2),10),ft=parseInt(O.substr(14,2),10);return new Date(re,ye,Te,je,nt,ft,0)},X=m.__private__.setCreationDate=function(O){var re;if(O===void 0&&(O=new Date),O instanceof Date)re=ne(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=O}return K=re},I=m.__private__.getCreationDate=function(O){var re=K;return O==="jsDate"&&(re=ee(K)),re};m.setCreationDate=function(O){return X(O),this},m.getCreationDate=function(O){return I(O)};var U,G=m.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},V=m.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},Q=0,ge=[],Se=[],pe=0,oe=[],De=[],$e=!1,Ze=Se;m.__private__.setCustomOutputDestination=function(O){$e=!0,Ze=O};var Ce=function(O){$e||(Ze=O)};m.__private__.resetCustomOutputDestination=function(){$e=!1,Ze=Se};var se=m.__private__.out=function(O){return O=O.toString(),pe+=O.length+1,Ze.push(O),Ze},yt=m.__private__.write=function(O){return se(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(O){for(var re=O.length,ye=new ArrayBuffer(re),Te=new Uint8Array(ye);re--;)Te[re]=O.charCodeAt(re);return ye},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ne};var Ge=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(O){return Ge=T===_?O/Et:O,this};var pt,it=m.__private__.getFontSize=m.getFontSize=function(){return T===S?Ge:Ge*Et},jt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(O){return jt=O,this},m.__private__.getR2L=m.getR2L=function(){return jt};var Dt,gr=m.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))pt=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');pt=O}else pt=parseInt(O,10)};m.__private__.getZoomMode=function(){return pt};var qt,Ee=m.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Dt=O};m.__private__.getPageMode=function(){return Dt};var at=m.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');qt=O};m.__private__.getLayoutMode=function(){return qt},m.__private__.setDisplayMode=m.setDisplayMode=function(O,re,ye){return gr(O),at(re),Ee(ye),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(O){if(Object.keys(rt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[O]},m.__private__.getDocumentProperties=function(){return rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(O){for(var re in rt)rt.hasOwnProperty(re)&&O[re]&&(rt[re]=O[re]);return this},m.__private__.setDocumentProperty=function(O,re){if(Object.keys(rt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[O]=re};var lt,Et,St,or,cr,Bt={},sr={},Gr=[],Xt={},Er={},yr={},jn={},Xn=null,cn=0,lr=[],tn=new f8(m),_l=e.hotfixes||[],Bs={},Ra={},Da=[],rr=function O(re,ye,Te,je,nt,ft){if(!(this instanceof O))return new O(re,ye,Te,je,nt,ft);isNaN(re)&&(re=1),isNaN(ye)&&(ye=0),isNaN(Te)&&(Te=0),isNaN(je)&&(je=1),isNaN(nt)&&(nt=0),isNaN(ft)&&(ft=0),this._matrix=[re,ye,Te,je,nt,ft]};Object.defineProperty(rr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(rr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(rr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(rr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(rr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(rr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(rr.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(rr.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(rr.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(rr.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(rr.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(rr.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(rr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rr.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(O)},rr.prototype.multiply=function(O){var re=O.sx*this.sx+O.shy*this.shx,ye=O.sx*this.shy+O.shy*this.sy,Te=O.shx*this.sx+O.sy*this.shx,je=O.shx*this.shy+O.sy*this.sy,nt=O.tx*this.sx+O.ty*this.shx+this.tx,ft=O.tx*this.shy+O.ty*this.sy+this.ty;return new rr(re,ye,Te,je,nt,ft)},rr.prototype.decompose=function(){var O=this.sx,re=this.shy,ye=this.shx,Te=this.sy,je=this.tx,nt=this.ty,ft=Math.sqrt(O*O+re*re),Ft=(O/=ft)*ye+(re/=ft)*Te;ye-=O*Ft,Te-=re*Ft;var Wt=Math.sqrt(ye*ye+Te*Te);return Ft/=Wt,O*(Te/=Wt)<re*(ye/=Wt)&&(O=-O,re=-re,Ft=-Ft,ft=-ft),{scale:new rr(ft,0,0,Wt,0,0),translate:new rr(1,0,0,1,je,nt),rotate:new rr(O,re,-re,O,0,0),skew:new rr(1,0,Ft,1,0,0)}},rr.prototype.toString=function(O){return this.join(" ")},rr.prototype.inversed=function(){var O=this.sx,re=this.shy,ye=this.shx,Te=this.sy,je=this.tx,nt=this.ty,ft=1/(O*Te-re*ye),Ft=Te*ft,Wt=-re*ft,hr=-ye*ft,zt=O*ft;return new rr(Ft,Wt,hr,zt,-Ft*je-hr*nt,-Wt*je-zt*nt)},rr.prototype.applyToPoint=function(O){var re=O.x*this.sx+O.y*this.shx+this.tx,ye=O.x*this.shy+O.y*this.sy+this.ty;return new wu(re,ye)},rr.prototype.applyToRectangle=function(O){var re=this.applyToPoint(O),ye=this.applyToPoint(new wu(O.x+O.w,O.y+O.h));return new Id(re.x,re.y,ye.x-re.x,ye.y-re.y)},rr.prototype.clone=function(){var O=this.sx,re=this.shy,ye=this.shx,Te=this.sy,je=this.tx,nt=this.ty;return new rr(O,re,ye,Te,je,nt)},m.Matrix=rr;var oo=m.matrixMult=function(O,re){return re.multiply(O)},oa=new rr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=oa;var ci=function(O,re){if(!Er[O]){var ye=(re instanceof s0?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);re.id=ye,Er[O]=ye,Xt[ye]=re,tn.publish("addPattern",re)}};m.ShadingPattern=s0,m.TilingPattern=fm,m.addShadingPattern=function(O,re){return F("addShadingPattern()"),ci(O,re),this},m.beginTilingPattern=function(O){F("beginTilingPattern()"),is(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},m.endTilingPattern=function(O,re){F("endTilingPattern()"),re.stream=De[U].join(`
`),ci(O,re),tn.publish("endTilingPattern",re),Da.pop().restore()};var ui,Fn=m.__private__.newObject=function(){var O=ms();return ie(O,!0),O},ms=m.__private__.newObjectDeferred=function(){return Q++,ge[Q]=function(){return pe},Q},ie=function(O,re){return re=typeof re=="boolean"&&re,ge[O]=pe,re&&se(O+" 0 obj"),O},we=m.__private__.newAdditionalObject=function(){var O={objId:ms(),content:""};return oe.push(O),O},fe=ms(),me=ms(),be=m.__private__.decodeColorString=function(O){var re=O.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var ye=parseFloat(re[0]);re=[ye,ye,ye,"r"]}for(var Te="#",je=0;je<3;je++)Te+=("0"+Math.floor(255*parseFloat(re[je])).toString(16)).slice(-2);return Te},_e=m.__private__.encodeColorString=function(O){var re;typeof O=="string"&&(O={ch1:O});var ye=O.ch1,Te=O.ch2,je=O.ch3,nt=O.ch4,ft=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Ft=new xU(ye);if(Ft.ok)ye=Ft.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var Wt=parseInt(ye.substr(1),16);ye=Wt>>16&255,Te=Wt>>8&255,je=255&Wt}if(Te===void 0||nt===void 0&&ye===Te&&Te===je)re=typeof ye=="string"?ye+" "+ft[0]:O.precision===2?k(ye/255)+" "+ft[0]:C(ye/255)+" "+ft[0];else if(nt===void 0||Nn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",ft[1]].join(" ");re=typeof ye=="string"?[ye,Te,je,ft[1]].join(" "):O.precision===2?[k(ye/255),k(Te/255),k(je/255),ft[1]].join(" "):[C(ye/255),C(Te/255),C(je/255),ft[1]].join(" ")}else re=typeof ye=="string"?[ye,Te,je,nt,ft[2]].join(" "):O.precision===2?[k(ye),k(Te),k(je),k(nt),ft[2]].join(" "):[C(ye),C(Te),C(je),C(nt),ft[2]].join(" ");return re},Be=m.__private__.getFilters=function(){return a},Xe=m.__private__.putStream=function(O){var re=(O=O||{}).data||"",ye=O.filters||Be(),Te=O.alreadyAppliedFilters||[],je=O.addLength1||!1,nt=re.length,ft=O.objectId,Ft=function(ks){return ks};if(u!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ft=ss.encryptor(ft,0));var Wt={};ye===!0&&(ye=["FlateEncode"]);var hr=O.additionalKeyValues||[],zt=(Wt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(re,ye):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(Wt.data.length!==0&&(hr.push({key:"Length",value:Wt.data.length}),je===!0&&hr.push({key:"Length1",value:nt})),zt.length!=0)if(zt.split("/").length-1==1)hr.push({key:"Filter",value:zt});else{hr.push({key:"Filter",value:"["+zt+"]"});for(var Lr=0;Lr<hr.length;Lr+=1)if(hr[Lr].key==="DecodeParms"){for(var Rn=[],ys=0;ys<Wt.reverseChain.split("/").length-1;ys+=1)Rn.push("null");Rn.push(hr[Lr].value),hr[Lr].value="["+Rn.join(" ")+"]"}}se("<<");for(var gn=0;gn<hr.length;gn++)se("/"+hr[gn].key+" "+hr[gn].value);se(">>"),Wt.data.length!==0&&(se("stream"),se(Ft(Wt.data)),se("endstream"))},ze=m.__private__.putPage=function(O){var re=O.number,ye=O.data,Te=O.objId,je=O.contentsObjId;ie(Te,!0),se("<</Type /Page"),se("/Parent "+O.rootDictionaryObjId+" 0 R"),se("/Resources "+O.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(P(O.mediaBox.bottomLeftX))+" "+parseFloat(P(O.mediaBox.bottomLeftY))+" "+P(O.mediaBox.topRightX)+" "+P(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&se("/CropBox ["+P(O.cropBox.bottomLeftX)+" "+P(O.cropBox.bottomLeftY)+" "+P(O.cropBox.topRightX)+" "+P(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&se("/BleedBox ["+P(O.bleedBox.bottomLeftX)+" "+P(O.bleedBox.bottomLeftY)+" "+P(O.bleedBox.topRightX)+" "+P(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&se("/TrimBox ["+P(O.trimBox.bottomLeftX)+" "+P(O.trimBox.bottomLeftY)+" "+P(O.trimBox.topRightX)+" "+P(O.trimBox.topRightY)+"]"),O.artBox!==null&&se("/ArtBox ["+P(O.artBox.bottomLeftX)+" "+P(O.artBox.bottomLeftY)+" "+P(O.artBox.topRightX)+" "+P(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&se("/UserUnit "+O.userUnit),tn.publish("putPage",{objId:Te,pageContext:lr[re],pageNumber:re,page:ye}),se("/Contents "+je+" 0 R"),se(">>"),se("endobj");var nt=ye.join(`
`);return T===_&&(nt+=`
Q`),ie(je,!0),Xe({data:nt,filters:Be(),objectId:je}),se("endobj"),Te},qe=m.__private__.putPages=function(){var O,re,ye=[];for(O=1;O<=cn;O++)lr[O].objId=ms(),lr[O].contentsObjId=ms();for(O=1;O<=cn;O++)ye.push(ze({number:O,data:De[O],objId:lr[O].objId,contentsObjId:lr[O].contentsObjId,mediaBox:lr[O].mediaBox,cropBox:lr[O].cropBox,bleedBox:lr[O].bleedBox,trimBox:lr[O].trimBox,artBox:lr[O].artBox,userUnit:lr[O].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:me}));ie(fe,!0),se("<</Type /Pages");var Te="/Kids [";for(re=0;re<cn;re++)Te+=ye[re]+" 0 R ";se(Te+"]"),se("/Count "+cn),se(">>"),se("endobj"),tn.publish("postPutPages")},We=function(O){tn.publish("putFont",{font:O,out:se,newObject:Fn,putStream:Xe}),O.isAlreadyPutted!==!0&&(O.objectNumber=Fn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Wp(O.postScriptName)),se("/Subtype /Type1"),typeof O.encoding=="string"&&se("/Encoding /"+O.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},gt=function(O){O.objectNumber=Fn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[P(O.x),P(O.y),P(O.x+O.width),P(O.y+O.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ye=O.pages[1].join(`
`);Xe({data:ye,additionalKeyValues:re,objectId:O.objectNumber}),se("endobj")},At=function(O,re){re||(re=21);var ye=Fn(),Te=function(ft,Ft){var Wt,hr=[],zt=1/(Ft-1);for(Wt=0;Wt<1;Wt+=zt)hr.push(Wt);if(hr.push(1),ft[0].offset!=0){var Lr={offset:0,color:ft[0].color};ft.unshift(Lr)}if(ft[ft.length-1].offset!=1){var Rn={offset:1,color:ft[ft.length-1].color};ft.push(Rn)}for(var ys="",gn=0,ks=0;ks<hr.length;ks++){for(Wt=hr[ks];Wt>ft[gn+1].offset;)gn++;var xs=ft[gn].offset,Ys=(Wt-xs)/(ft[gn+1].offset-xs),ca=ft[gn].color,Xs=ft[gn+1].color;ys+=V(Math.round((1-Ys)*ca[0]+Ys*Xs[0]).toString(16))+V(Math.round((1-Ys)*ca[1]+Ys*Xs[1]).toString(16))+V(Math.round((1-Ys)*ca[2]+Ys*Xs[2]).toString(16))}return ys.trim()}(O.colors,re),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+re+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Te,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),se("endobj"),O.objectNumber=Fn(),se("<< /ShadingType "+O.type),se("/ColorSpace /DeviceRGB");var nt="/Coords ["+P(parseFloat(O.coords[0]))+" "+P(parseFloat(O.coords[1]))+" ";O.type===2?nt+=P(parseFloat(O.coords[2]))+" "+P(parseFloat(O.coords[3])):nt+=P(parseFloat(O.coords[2]))+" "+P(parseFloat(O.coords[3]))+" "+P(parseFloat(O.coords[4]))+" "+P(parseFloat(O.coords[5])),se(nt+="]"),O.matrix&&se("/Matrix ["+O.matrix.toString()+"]"),se("/Function "+ye+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},It=function(O,re){var ye=ms(),Te=Fn();re.push({resourcesOid:ye,objectOid:Te}),O.objectNumber=Te;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+O.boundingBox.map(P).join(" ")+"]"}),je.push({key:"XStep",value:P(O.xStep)}),je.push({key:"YStep",value:P(O.yStep)}),je.push({key:"Resources",value:ye+" 0 R"}),O.matrix&&je.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Xe({data:O.stream,additionalKeyValues:je,objectId:O.objectNumber}),se("endobj")},vt=function(O){for(var re in O.objectNumber=Fn(),se("<<"),O)switch(re){case"opacity":se("/ca "+k(O[re]));break;case"stroke-opacity":se("/CA "+k(O[re]))}se(">>"),se("endobj")},kt=function(O){ie(O.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var re in se("/Font <<"),Bt)Bt.hasOwnProperty(re)&&(h===!1||h===!0&&p.hasOwnProperty(re))&&se("/"+re+" "+Bt[re].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(Xt).length>0){for(var re in se("/Shading <<"),Xt)Xt.hasOwnProperty(re)&&Xt[re]instanceof s0&&Xt[re].objectNumber>=0&&se("/"+re+" "+Xt[re].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),se(">>")}}(),function(re){if(Object.keys(Xt).length>0){for(var ye in se("/Pattern <<"),Xt)Xt.hasOwnProperty(ye)&&Xt[ye]instanceof m.TilingPattern&&Xt[ye].objectNumber>=0&&Xt[ye].objectNumber<re&&se("/"+ye+" "+Xt[ye].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),se(">>")}}(O.objectOid),function(){if(Object.keys(yr).length>0){var re;for(re in se("/ExtGState <<"),yr)yr.hasOwnProperty(re)&&yr[re].objectNumber>=0&&se("/"+re+" "+yr[re].objectNumber+" 0 R");tn.publish("putGStateDict"),se(">>")}}(),function(){for(var re in se("/XObject <<"),Bs)Bs.hasOwnProperty(re)&&Bs[re].objectNumber>=0&&se("/"+re+" "+Bs[re].objectNumber+" 0 R");tn.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},fr=function(O){sr[O.fontName]=sr[O.fontName]||{},sr[O.fontName][O.fontStyle]=O.id},mn=function(O,re,ye,Te,je){var nt={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:O,fontName:re,fontStyle:ye,encoding:Te,isStandardFont:je||!1,metadata:{}};return tn.publish("addFont",{font:nt,instance:this}),Bt[nt.id]=nt,fr(nt),nt.id},$r=m.__private__.pdfEscape=m.pdfEscape=function(O,re){return function(ye,Te){var je,nt,ft,Ft,Wt,hr,zt,Lr,Rn;if(ft=(Te=Te||{}).sourceEncoding||"Unicode",Wt=Te.outputEncoding,(Te.autoencode||Wt)&&Bt[lt].metadata&&Bt[lt].metadata[ft]&&Bt[lt].metadata[ft].encoding&&(Ft=Bt[lt].metadata[ft].encoding,!Wt&&Bt[lt].encoding&&(Wt=Bt[lt].encoding),!Wt&&Ft.codePages&&(Wt=Ft.codePages[0]),typeof Wt=="string"&&(Wt=Ft[Wt]),Wt)){for(zt=!1,hr=[],je=0,nt=ye.length;je<nt;je++)(Lr=Wt[ye.charCodeAt(je)])?hr.push(String.fromCharCode(Lr)):hr.push(ye[je]),hr[je].charCodeAt(0)>>8&&(zt=!0);ye=hr.join("")}for(je=ye.length;zt===void 0&&je!==0;)ye.charCodeAt(je-1)>>8&&(zt=!0),je--;if(!zt)return ye;for(hr=Te.noBOM?[]:[254,255],je=0,nt=ye.length;je<nt;je++){if((Rn=(Lr=ye.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hr.push(Rn),hr.push(Lr-(Rn<<8))}return String.fromCharCode.apply(void 0,hr)}(O,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Un=m.__private__.beginPage=function(O){De[++cn]=[],lr[cn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Uo(cn),Ce(De[U])},lo=function(O,re){var ye,Te,je;switch(r=re||r,typeof O=="string"&&(ye=v(O.toLowerCase()),Array.isArray(ye)&&(Te=ye[0],je=ye[1])),Array.isArray(O)&&(Te=O[0]*Et,je=O[1]*Et),isNaN(Te)&&(Te=s[0],je=s[1]),(Te>14400||je>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),je=Math.min(14400,je)),s=[Te,je],r.substr(0,1)){case"l":je>Te&&(s=[je,Te]);break;case"p":Te>je&&(s=[je,Te])}Un(s),Rg(ph),se(kd),gh!==0&&se(gh+" J"),yh!==0&&se(yh+" j"),tn.publish("addPage",{pageNumber:cn})},La=function(O){O>0&&O<=cn&&(De.splice(O,1),lr.splice(O,1),cn--,U>cn&&(U=cn),this.setPage(U))},Uo=function(O){O>0&&O<=cn&&(U=O)},ja=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return De.length-1},bc=function(O,re,ye){var Te,je=void 0;return ye=ye||{},O=O!==void 0?O:Bt[lt].fontName,re=re!==void 0?re:Bt[lt].fontStyle,Te=O.toLowerCase(),sr[Te]!==void 0&&sr[Te][re]!==void 0?je=sr[Te][re]:sr[O]!==void 0&&sr[O][re]!==void 0?je=sr[O][re]:ye.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+O+"', '"+re+"'. Refer to getFontList() for available fonts."),je||ye.noFallback||(je=sr.times[re])==null&&(je=sr.times.normal),je},di=m.__private__.putInfo=function(){var O=Fn(),re=function(Te){return Te};for(var ye in u!==null&&(re=ss.encryptor(O,0)),se("<<"),se("/Producer ("+$r(re("jsPDF "+Zt.version))+")"),rt)rt.hasOwnProperty(ye)&&rt[ye]&&se("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+$r(re(rt[ye]))+")");se("/CreationDate ("+$r(re(K))+")"),se(">>"),se("endobj")},dp=m.__private__.putCatalog=function(O){var re=(O=O||{}).rootDictionaryObjId||fe;switch(Fn(),se("<<"),se("/Type /Catalog"),se("/Pages "+re+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+pt;ye.substr(ye.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+k(pt)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Dt&&se("/PageMode /"+Dt),tn.publish("putCatalog"),se(">>"),se("endobj")},ns=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(Q+1)),se("/Root "+Q+" 0 R"),se("/Info "+(Q-1)+" 0 R"),u!==null&&se("/Encrypt "+ss.oid+" 0 R"),se("/ID [ <"+Y+"> <"+Y+"> ]"),se(">>")},fh=m.__private__.putHeader=function(){se("%PDF-"+x),se("%")},_d=m.__private__.putXRef=function(){var O="0000000000";se("xref"),se("0 "+(Q+1)),se("0000000000 65535 f ");for(var re=1;re<=Q;re++)typeof ge[re]=="function"?se((O+ge[re]()).slice(-10)+" 00000 n "):ge[re]!==void 0?se((O+ge[re]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Sl=m.__private__.buildDocument=function(){var O;Q=0,pe=0,Se=[],ge=[],oe=[],fe=ms(),me=ms(),Ce(Se),tn.publish("buildDocument"),fh(),qe(),function(){tn.publish("putAdditionalObjects");for(var ye=0;ye<oe.length;ye++){var Te=oe[ye];ie(Te.objId,!0),se(Te.content),se("endobj")}tn.publish("postPutAdditionalObjects")}(),O=[],function(){for(var ye in Bt)Bt.hasOwnProperty(ye)&&(h===!1||h===!0&&p.hasOwnProperty(ye))&&We(Bt[ye])}(),function(){var ye;for(ye in yr)yr.hasOwnProperty(ye)&&vt(yr[ye])}(),function(){for(var ye in Bs)Bs.hasOwnProperty(ye)&&gt(Bs[ye])}(),function(ye){var Te;for(Te in Xt)Xt.hasOwnProperty(Te)&&(Xt[Te]instanceof s0?At(Xt[Te]):Xt[Te]instanceof fm&&It(Xt[Te],ye))}(O),tn.publish("putResources"),O.forEach(kt),kt({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources"),u!==null&&(ss.oid=Fn(),se("<<"),se("/Filter /Standard"),se("/V "+ss.v),se("/R "+ss.r),se("/U <"+ss.toHexString(ss.U)+">"),se("/O <"+ss.toHexString(ss.O)+">"),se("/P "+ss.P),se(">>"),se("endobj")),di(),dp();var re=pe;return _d(),ns(),se("startxref"),se(""+re),se("%%EOF"),Ce(De[U]),Se.join(`
`)},_c=m.__private__.getBlob=function(O){return new Blob([Ke(O)],{type:"application/pdf"})},Ui=m.output=m.__private__.output=(ui=function(O,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",O){case void 0:return Sl();case"save":m.save(re.filename);break;case"arraybuffer":return Ke(Sl());case"blob":return _c(Sl());case"bloburi":case"bloburl":if(Sr.URL!==void 0&&typeof Sr.URL.createObjectURL=="function")return Sr.URL&&Sr.URL.createObjectURL(_c(Sl()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Te=Sl();try{ye=c8(Te)}catch{ye=c8(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+re.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sr)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(je=re.pdfObjectUrl,nt="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Ft=Sr.open();return Ft!==null&&Ft.document.write(ft),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sr)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',hr=Sr.open();if(hr!==null){hr.document.write(Wt);var zt=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=re.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Rn=Sr.open();if(Rn!==null&&(Rn.document.write(Lr),Rn.document.title=re.filename),Rn||typeof safari>"u")return Rn;break;case"datauri":case"dataurl":return Sr.document.location.href=this.output("datauristring",re);default:return null}},ui.foo=function(){try{return ui.apply(this,arguments)}catch(ye){var O=ye.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var re="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Sr.console)throw new Error(re);Sr.console.error(re,ye),Sr.alert&&alert(re)}},ui.foo.bar=ui,ui.foo),Sc=function(O){return Array.isArray(_l)===!0&&_l.indexOf(O)>-1};switch(n){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=Sc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Et=n}var ss=null;X(),Z();var Sd=m.__private__.getPageInfo=m.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[O].objId,pageNumber:O,pageContext:lr[O]}},fp=m.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in lr)if(lr[re].objId===O)break;return Sd(re)},hh=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lr[U].objId,pageNumber:U,pageContext:lr[U]}};m.addPage=function(){return lo.apply(this,arguments),this},m.setPage=function(){return Uo.apply(this,arguments),Ce.call(this,De[U]),this},m.insertPage=function(O){return this.addPage(),this.movePage(U,O),this},m.movePage=function(O,re){var ye,Te;if(O>re){ye=De[O],Te=lr[O];for(var je=O;je>re;je--)De[je]=De[je-1],lr[je]=lr[je-1];De[re]=ye,lr[re]=Te,this.setPage(re)}else if(O<re){ye=De[O],Te=lr[O];for(var nt=O;nt<re;nt++)De[nt]=De[nt+1],lr[nt]=lr[nt+1];De[re]=ye,lr[re]=Te,this.setPage(re)}return this},m.deletePage=function(){return La.apply(this,arguments),this},m.__private__.text=m.text=function(O,re,ye,Te,je){var nt,ft,Ft,Wt,hr,zt,Lr,Rn,ys,gn=(Te=Te||{}).scope||this;if(typeof O=="number"&&typeof re=="number"&&(typeof ye=="string"||Array.isArray(ye))){var ks=ye;ye=re,re=O,O=ks}if(arguments[3]instanceof rr==0?(Ft=arguments[4],Wt=arguments[5],Nn(Lr=arguments[3])==="object"&&Lr!==null||(typeof Ft=="string"&&(Wt=Ft,Ft=null),typeof Lr=="string"&&(Wt=Lr,Lr=null),typeof Lr=="number"&&(Ft=Lr,Lr=null),Te={flags:Lr,angle:Ft,align:Wt})):(F("The transform parameter of text() with a Matrix value"),ys=je),isNaN(re)||isNaN(ye)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return gn;var xs,Ys="",ca=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:xu,Xs=gn.internal.scaleFactor;function Tl(Ot){return Ot=Ot.split("	").join(Array(Te.TabLen||9).join(" ")),$r(Ot,Lr)}function Od(Ot){for(var Qt,Or=Ot.concat(),br=[],mo=Or.length;mo--;)typeof(Qt=Or.shift())=="string"?br.push(Qt):Array.isArray(Ot)&&(Qt.length===1||Qt[1]===void 0&&Qt[2]===void 0)?br.push(Qt[0]):br.push([Qt[0],Qt[1],Qt[2]]);return br}function Nc(Ot,Qt){var Or;if(typeof Ot=="string")Or=Qt(Ot)[0];else if(Array.isArray(Ot)){for(var br,mo,kh=Ot.concat(),Qs=[],Su=kh.length;Su--;)typeof(br=kh.shift())=="string"?Qs.push(Qt(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(mo=Qt(br[0],br[1],br[2]),Qs.push([mo[0],mo[1],mo[2]]));Or=Qs}return Or}var kl=!1,Cl=!0;if(typeof O=="string")kl=!0;else if(Array.isArray(O)){var Il=O.concat();ft=[];for(var Tc,fi=Il.length;fi--;)(typeof(Tc=Il.shift())!="string"||Array.isArray(Tc)&&typeof Tc[0]!="string")&&(Cl=!1);kl=Cl}if(kl===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Pl=Ge/gn.internal.scaleFactor,Ol=Pl*(ca-1);switch(Te.baseline){case"bottom":ye-=Ol;break;case"top":ye+=Pl-Ol;break;case"hanging":ye+=Pl-2*Ol;break;case"middle":ye+=Pl/2-Ol}if((zt=Te.maxWidth||0)>0&&(typeof O=="string"?O=gn.splitTextToSize(O,zt):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Ot,Qt){return Ot.concat(gn.splitTextToSize(Qt,zt))},[]))),nt={text:O,x:re,y:ye,options:Te,mutex:{pdfEscape:$r,activeFontKey:lt,fonts:Bt,activeFontSize:Ge}},tn.publish("preProcessText",nt),O=nt.text,Ft=(Te=nt.options).angle,ys instanceof rr==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Te.rotationDirection===0&&(Ft=-Ft),T===_&&(Ft=-Ft);var _h=Math.cos(Ft),Rd=Math.sin(Ft);ys=new rr(_h,Rd,-Rd,_h,0,0)}else Ft&&Ft instanceof rr&&(ys=Ft);T!==_||ys||(ys=oa),(hr=Te.charSpace||Cd)!==void 0&&(Ys+=P(H(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rn=Te.horizontalScale)!==void 0&&(Ys+=P(100*Rn)+` Tz
`),Te.lang;var Kr=-1,ho=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,zo=gn.internal.getCurrentPageInfo().pageContext;switch(ho){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Sh=zo.usedRenderingMode!==void 0?zo.usedRenderingMode:-1;Kr!==-1?Ys+=Kr+` Tr
`:Sh!==-1&&(Ys+=`0 Tr
`),Kr!==-1&&(zo.usedRenderingMode=Kr),Wt=Te.align||"left";var ua,bu=Ge*ca,Ah=gn.internal.pageSize.getWidth(),Eh=Bt[lt];hr=Te.charSpace||Cd,zt=Te.maxWidth||0,Lr=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var kc=[],_u=function(Ot){return gn.getStringUnitWidth(Ot,{font:Eh,charSpace:hr,fontSize:Ge,doKerning:!1})*Ge/Xs};if(Object.prototype.toString.call(O)==="[object Array]"){var Us;ft=Od(O),Wt!=="left"&&(ua=ft.map(_u));var da,Cc=0;if(Wt==="right"){re-=ua[0],O=[],fi=ft.length;for(var po=0;po<fi;po++)po===0?(da=uo(re),Us=El(ye)):(da=H(Cc-ua[po]),Us=-bu),O.push([ft[po],da,Us]),Cc=ua[po]}else if(Wt==="center"){re-=ua[0]/2,O=[],fi=ft.length;for(var Rl=0;Rl<fi;Rl++)Rl===0?(da=uo(re),Us=El(ye)):(da=H((Cc-ua[Rl])/2),Us=-bu),O.push([ft[Rl],da,Us]),Cc=ua[Rl]}else if(Wt==="left"){O=[],fi=ft.length;for(var Fa=0;Fa<fi;Fa++)O.push(ft[Fa])}else if(Wt==="justify"&&Eh.encoding==="Identity-H"){O=[],fi=ft.length,zt=zt!==0?zt:Ah;for(var Dl=0,as=0;as<fi;as++)if(Us=as===0?El(ye):-bu,da=as===0?uo(re):Dl,as<fi-1){var mp=H((zt-ua[as])/(ft[as].split(" ").length-1)),qo=ft[as].split(" ");O.push([qo[0]+" ",da,Us]),Dl=0;for(var Ai=1;Ai<qo.length;Ai++){var Ei=(_u(qo[Ai-1]+" "+qo[Ai])-_u(qo[Ai]))*Xs+mp;Ai==qo.length-1?O.push([qo[Ai],Ei,0]):O.push([qo[Ai]+" ",Ei,0]),Dl-=Ei}}else O.push([ft[as],da,Us]);O.push(["",Dl,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],fi=ft.length,zt=zt!==0?zt:Ah,as=0;as<fi;as++){Us=as===0?El(ye):-bu,da=as===0?uo(re):0;var Dd=ft[as].split(" ").length-1,Nh=Dd>0?(zt-ua[as])/Dd:0;as<fi-1?kc.push(P(H(Nh))):kc.push(0),O.push([ft[as],da,Us])}}}(typeof Te.R2L=="boolean"?Te.R2L:jt)===!0&&(O=Nc(O,function(Ot,Qt,Or){return[Ot.split("").reverse().join(""),Qt,Or]})),nt={text:O,x:re,y:ye,options:Te,mutex:{pdfEscape:$r,activeFontKey:lt,fonts:Bt,activeFontSize:Ge}},tn.publish("postProcessText",nt),O=nt.text,xs=nt.mutex.isHex||!1;var Th=Bt[lt].encoding;Th!=="WinAnsiEncoding"&&Th!=="StandardEncoding"||(O=Nc(O,function(Ot,Qt,Or){return[Tl(Ot),Qt,Or]})),ft=Od(O),O=[];for(var Ic,Pc,Oc,Ma=Array.isArray(ft[0])?1:0,Re="",Je=function(Ot,Qt,Or){var br="";return Or instanceof rr?(Or=typeof Te.angle=="number"?oo(Or,new rr(1,0,0,1,Ot,Qt)):oo(new rr(1,0,0,1,Ot,Qt),Or),T===_&&(Or=oo(new rr(1,0,0,-1,0,0),Or)),br=Or.join(" ")+` Tm
`):br=P(Ot)+" "+P(Qt)+` Td
`,br},Ve=0;Ve<ft.length;Ve++){switch(Re="",Ma){case 1:Oc=(xs?"<":"(")+ft[Ve][0]+(xs?">":")"),Ic=parseFloat(ft[Ve][1]),Pc=parseFloat(ft[Ve][2]);break;case 0:Oc=(xs?"<":"(")+ft[Ve]+(xs?">":")"),Ic=uo(re),Pc=El(ye)}kc!==void 0&&kc[Ve]!==void 0&&(Re=kc[Ve]+` Tw
`),Ve===0?O.push(Re+Je(Ic,Pc,ys)+Oc):Ma===0?O.push(Re+Oc):Ma===1&&O.push(Re+Je(Ic,Pc,ys)+Oc)}O=Ma===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Pt=`BT
/`;return Pt+=lt+" "+Ge+` Tf
`,Pt+=P(Ge*ca)+` TL
`,Pt+=rn+`
`,Pt+=Ys,Pt+=O,se(Pt+="ET"),p[lt]=!0,gn};var Ig=m.__private__.clip=m.clip=function(O){return se(O==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ig("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var co=m.__private__.isValidStyle=function(O){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(O){return co(O)&&(c=O),this};var Ad=m.__private__.getStyle=m.getStyle=function(O){var re=c;switch(O){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=O}return re},Ed=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(O){return la("f",O),this},m.fillEvenOdd=function(O){return la("f*",O),this},m.fillStroke=function(O){return la("B",O),this},m.fillStrokeEvenOdd=function(O){return la("B*",O),this};var la=function(O,re){Nn(re)==="object"?Pg(re,O):se(O)},Nd=function(O){O===null||T===_&&O===void 0||(O=Ad(O),se(O))};function hp(O,re,ye,Te,je){var nt=new fm(re||this.boundingBox,ye||this.xStep,Te||this.yStep,this.gState,je||this.matrix);nt.stream=this.stream;var ft=O+"$$"+this.cloneIndex+++"$$";return ci(ft,nt),nt}var Pg=function(O,re){var ye=Er[O.key],Te=Xt[ye];if(Te instanceof s0)se("q"),se(pp(re)),Te.gState&&m.setGState(Te.gState),se(O.matrix.toString()+" cm"),se("/"+ye+" sh"),se("Q");else if(Te instanceof fm){var je=new rr(1,0,0,-1,0,Ec());O.matrix&&(je=je.multiply(O.matrix||oa),ye=hp.call(Te,O.key,O.boundingBox,O.xStep,O.yStep,je).id),se("q"),se("/Pattern cs"),se("/"+ye+" scn"),Te.gState&&m.setGState(Te.gState),se(re),se("Q")}},pp=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Td=m.moveTo=function(O,re){return se(P(H(O))+" "+P(z(re))+" m"),this},Ac=m.lineTo=function(O,re){return se(P(H(O))+" "+P(z(re))+" l"),this},Al=m.curveTo=function(O,re,ye,Te,je,nt){return se([P(H(O)),P(z(re)),P(H(ye)),P(z(Te)),P(H(je)),P(z(nt)),"c"].join(" ")),this};m.__private__.line=m.line=function(O,re,ye,Te,je){if(isNaN(O)||isNaN(re)||isNaN(ye)||isNaN(Te)||!co(je))throw new Error("Invalid arguments passed to jsPDF.line");return T===S?this.lines([[ye-O,Te-re]],O,re,[1,1],je||"S"):this.lines([[ye-O,Te-re]],O,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(O,re,ye,Te,je,nt){var ft,Ft,Wt,hr,zt,Lr,Rn,ys,gn,ks,xs,Ys;if(typeof O=="number"&&(Ys=ye,ye=re,re=O,O=Ys),Te=Te||[1,1],nt=nt||!1,isNaN(re)||isNaN(ye)||!Array.isArray(O)||!Array.isArray(Te)||!co(je)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Td(re,ye),ft=Te[0],Ft=Te[1],hr=O.length,ks=re,xs=ye,Wt=0;Wt<hr;Wt++)(zt=O[Wt]).length===2?(ks=zt[0]*ft+ks,xs=zt[1]*Ft+xs,Ac(ks,xs)):(Lr=zt[0]*ft+ks,Rn=zt[1]*Ft+xs,ys=zt[2]*ft+ks,gn=zt[3]*Ft+xs,ks=zt[4]*ft+ks,xs=zt[5]*Ft+xs,Al(Lr,Rn,ys,gn,ks,xs));return nt&&Ed(),Nd(je),this},m.path=function(O){for(var re=0;re<O.length;re++){var ye=O[re],Te=ye.c;switch(ye.op){case"m":Td(Te[0],Te[1]);break;case"l":Ac(Te[0],Te[1]);break;case"c":Al.apply(this,Te);break;case"h":Ed()}}return this},m.__private__.rect=m.rect=function(O,re,ye,Te,je){if(isNaN(O)||isNaN(re)||isNaN(ye)||isNaN(Te)||!co(je))throw new Error("Invalid arguments passed to jsPDF.rect");return T===S&&(Te=-Te),se([P(H(O)),P(z(re)),P(H(ye)),P(H(Te)),"re"].join(" ")),Nd(je),this},m.__private__.triangle=m.triangle=function(O,re,ye,Te,je,nt,ft){if(isNaN(O)||isNaN(re)||isNaN(ye)||isNaN(Te)||isNaN(je)||isNaN(nt)||!co(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-O,Te-re],[je-ye,nt-Te],[O-je,re-nt]],O,re,[1,1],ft,!0),this},m.__private__.roundedRect=m.roundedRect=function(O,re,ye,Te,je,nt,ft){if(isNaN(O)||isNaN(re)||isNaN(ye)||isNaN(Te)||isNaN(je)||isNaN(nt)||!co(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ye),nt=Math.min(nt,.5*Te),this.lines([[ye-2*je,0],[je*Ft,0,je,nt-nt*Ft,je,nt],[0,Te-2*nt],[0,nt*Ft,-je*Ft,nt,-je,nt],[2*je-ye,0],[-je*Ft,0,-je,-nt*Ft,-je,-nt],[0,2*nt-Te],[0,-nt*Ft,je*Ft,-nt,je,-nt]],O+je,re,[1,1],ft,!0),this},m.__private__.ellipse=m.ellipse=function(O,re,ye,Te,je){if(isNaN(O)||isNaN(re)||isNaN(ye)||isNaN(Te)||!co(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*ye,ft=4/3*(Math.SQRT2-1)*Te;return Td(O+ye,re),Al(O+ye,re-ft,O+nt,re-Te,O,re-Te),Al(O-nt,re-Te,O-ye,re-ft,O-ye,re),Al(O-ye,re+ft,O-nt,re+Te,O,re+Te),Al(O+nt,re+Te,O+ye,re+ft,O+ye,re),Nd(je),this},m.__private__.circle=m.circle=function(O,re,ye,Te){if(isNaN(O)||isNaN(re)||isNaN(ye)||!co(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,re,ye,ye,Te)},m.setFont=function(O,re,ye){return ye&&(re=j(re,ye)),lt=bc(O,re,{disableWarning:!1}),this};var Og=m.__private__.getFont=m.getFont=function(){return Bt[bc.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var O,re,ye={};for(O in sr)if(sr.hasOwnProperty(O))for(re in ye[O]=[],sr[O])sr[O].hasOwnProperty(re)&&ye[O].push(re);return ye},m.addFont=function(O,re,ye,Te,je){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(ye=j(ye,Te)),mn.call(this,O,re,ye,je=je||"Identity-H")};var xu,ph=e.lineWidth||.200025,xr=m.__private__.getLineWidth=m.getLineWidth=function(){return ph},Rg=m.__private__.setLineWidth=m.setLineWidth=function(O){return ph=O,se(P(H(O))+" w"),this};m.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(O,re){if(O=O||[],re=re||0,isNaN(re)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ye){return P(H(ye))}).join(" "),re=P(H(re)),se("["+O+"] "+re+" d"),this};var Dg=m.__private__.getLineHeight=m.getLineHeight=function(){return Ge*xu};m.__private__.getLineHeight=m.getLineHeight=function(){return Ge*xu};var Lg=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(xu=O),this},jg=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return xu};Lg(e.lineHeight);var uo=m.__private__.getHorizontalCoordinate=function(O){return H(O)},El=m.__private__.getVerticalCoordinate=function(O){return T===_?O:lr[U].mediaBox.topRightY-lr[U].mediaBox.bottomLeftY-H(O)},Fg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(O){return P(uo(O))},Mg=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(O){return P(El(O))},kd=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return be(kd)},m.__private__.setStrokeColor=m.setDrawColor=function(O,re,ye,Te){return kd=_e({ch1:O,ch2:re,ch3:ye,ch4:Te,pdfColorType:"draw",precision:2}),se(kd),this};var mh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return be(mh)},m.__private__.setFillColor=m.setFillColor=function(O,re,ye,Te){return mh=_e({ch1:O,ch2:re,ch3:ye,ch4:Te,pdfColorType:"fill",precision:2}),se(mh),this};var rn=e.textColor||"0 g",nn=m.__private__.getTextColor=m.getTextColor=function(){return be(rn)};m.__private__.setTextColor=m.setTextColor=function(O,re,ye,Te){return rn=_e({ch1:O,ch2:re,ch3:ye,ch4:Te,pdfColorType:"text",precision:3}),this};var Cd=e.charSpace,Bg=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Cd||0)};m.__private__.setCharSpace=m.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cd=O,this};var gh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(O){var re=m.CapJoinStyles[O];if(re===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gh=re,se(re+" J"),this};var yh=0;m.__private__.setLineJoin=m.setLineJoin=function(O){var re=m.CapJoinStyles[O];if(re===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yh=re,se(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(P(H(O))+" M"),this},m.GState=Tb,m.setGState=function(O){(O=typeof O=="string"?yr[jn[O]]:vu(null,O)).equals(Xn)||(se("/"+O.id+" gs"),Xn=O)};var vu=function(O,re){if(!O||!jn[O]){var ye=!1;for(var Te in yr)if(yr.hasOwnProperty(Te)&&yr[Te].equals(re)){ye=!0;break}if(ye)re=yr[Te];else{var je="GS"+(Object.keys(yr).length+1).toString(10);yr[je]=re,re.id=je}return O&&(jn[O]=re.id),tn.publish("addGState",re),re}};m.addGState=function(O,re){return vu(O,re),this},m.saveGraphicsState=function(){return se("q"),Gr.push({key:lt,size:Ge,color:rn}),this},m.restoreGraphicsState=function(){se("Q");var O=Gr.pop();return lt=O.key,Ge=O.size,rn=O.color,Xn=null,this},m.setCurrentTransformationMatrix=function(O){return se(O.toString()+" cm"),this},m.comment=function(O){return se("#"+O),this};var wu=function(O,re){var ye=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(nt){isNaN(nt)||(ye=parseFloat(nt))}});var Te=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(nt){isNaN(nt)||(Te=parseFloat(nt))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(nt){je=nt.toString()}}),this},Id=function(O,re,ye,Te){wu.call(this,O,re),this.type="rect";var je=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(ft){isNaN(ft)||(je=parseFloat(ft))}});var nt=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(ft){isNaN(ft)||(nt=parseFloat(ft))}}),this},Pd=function(){this.page=cn,this.currentPage=U,this.pages=De.slice(0),this.pagesContext=lr.slice(0),this.x=St,this.y=or,this.matrix=cr,this.width=$o(U),this.height=fo(U),this.outputDestination=Ze,this.id="",this.objectNumber=-1};Pd.prototype.restore=function(){cn=this.page,U=this.currentPage,lr=this.pagesContext,De=this.pages,St=this.x,or=this.y,cr=this.matrix,xh(U,this.width),gs(U,this.height),Ze=this.outputDestination};var is=function(O,re,ye,Te,je){Da.push(new Pd),cn=U=0,De=[],St=O,or=re,cr=je,Un([ye,Te])};for(var Nl in m.beginFormObject=function(O,re,ye,Te,je){return is(O,re,ye,Te,je),this},m.endFormObject=function(O){return function(re){if(Ra[re])Da.pop().restore();else{var ye=new Pd,Te="Xo"+(Object.keys(Bs).length+1).toString(10);ye.id=Te,Ra[re]=Te,Bs[Te]=ye,tn.publish("addFormObject",ye),Da.pop().restore()}}(O),this},m.doFormObject=function(O,re){var ye=Bs[Ra[O]];return se("q"),se(re.toString()+" cm"),se("/"+ye.id+" Do"),se("Q"),this},m.getFormObject=function(O){var re=Bs[Ra[O]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(O,re){return O=O||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Jh(_c(Sl()),O),typeof Jh.unload=="function"&&Sr.setTimeout&&setTimeout(Jh.unload,911),this):new Promise(function(ye,Te){try{var je=Jh(_c(Sl()),O);typeof Jh.unload=="function"&&Sr.setTimeout&&setTimeout(Jh.unload,911),ye(je)}catch(nt){Te(nt.message)}})},Zt.API)Zt.API.hasOwnProperty(Nl)&&(Nl==="events"&&Zt.API.events.length?function(O,re){var ye,Te,je;for(je=re.length-1;je!==-1;je--)ye=re[je][0],Te=re[je][1],O.subscribe.apply(O,[ye].concat(typeof Te=="function"?[Te]:Te))}(tn,Zt.API.events):m[Nl]=Zt.API[Nl]);function $o(O){return lr[O].mediaBox.topRightX-lr[O].mediaBox.bottomLeftX}function xh(O,re){lr[O].mediaBox.topRightX=re+lr[O].mediaBox.bottomLeftX}function fo(O){return lr[O].mediaBox.topRightY-lr[O].mediaBox.bottomLeftY}function gs(O,re){lr[O].mediaBox.topRightY=re+lr[O].mediaBox.bottomLeftY}var vh=m.getPageWidth=function(O){return $o(O=O||U)/Et},wh=m.setPageWidth=function(O,re){xh(O,re*Et)},Ec=m.getPageHeight=function(O){return fo(O=O||U)/Et},bh=m.setPageHeight=function(O,re){gs(O,re*Et)};return m.internal={pdfEscape:$r,getStyle:Ad,getFont:Og,getFontSize:it,getCharSpace:Bg,getTextColor:nn,getLineHeight:Dg,getLineHeightFactor:jg,getLineWidth:xr,write:yt,getHorizontalCoordinate:uo,getVerticalCoordinate:El,getCoordinateString:Fg,getVerticalCoordinateString:Mg,collections:{},newObject:Fn,newAdditionalObject:we,newObjectDeferred:ms,newObjectDeferredBegin:ie,getFilters:Be,putStream:Xe,events:tn,scaleFactor:Et,pageSize:{getWidth:function(){return vh(U)},setWidth:function(O){wh(U,O)},getHeight:function(){return Ec(U)},setHeight:function(O){bh(U,O)}},encryptionOptions:u,encryption:ss,getEncryptor:function(O){return u!==null?ss.encryptor(O,0):function(re){return re}},output:Ui,getNumberOfPages:ja,pages:De,out:se,f2:k,f3:C,getPageInfo:Sd,getPageInfoByObjId:fp,getCurrentPageInfo:hh,getPDFVersion:y,Point:wu,Rectangle:Id,Matrix:rr,hasHotfix:Sc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return vh(U)},set:function(O){wh(U,O)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ec(U)},set:function(O){bh(U,O)},enumerable:!0,configurable:!0}),(function(O){for(var re=0,ye=Ne.length;re<ye;re++){var Te=mn.call(this,O[re][0],O[re][1],O[re][2],Ne[re][3],!0);h===!1&&(p[Te]=!0);var je=O[re][0].split("-");fr({id:Te,fontName:je[0],fontStyle:je[1]||""})}tn.publish("addFonts",{fonts:Bt,dictionary:sr})}).call(m,Ne),lt="F1",lo(s,r),tn.publish("initialized"),m}Hp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Hp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Hp.prototype.processOwnerPassword=function(e,t){return NA(EA(t).substr(0,5),e)},Hp.prototype.encryptor=function(e,t){var r=EA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return NA(r,n)}},Tb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Zt.API={events:[]},Zt.version="3.0.3";var _s=Zt.API,IT=1,cp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nr=function(e){return e.toFixed(2)},nf=function(e){return e.toFixed(5)};_s.__acroform__={};var ao=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},h8=function(e){return e*IT},Kc=function(e){var t=new _U,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nr(n)),Number(Nr(r))],t},k1e=_s.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},C1e=_s.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},I1e=_s.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ds=_s.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return I1e(e,t-1)},Ls=_s.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return k1e(e,t-1)},js=_s.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return C1e(e,t-1)},P1e=_s.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(Nr(l.lowerLeft_X)),Number(Nr(l.lowerLeft_Y)),Number(Nr(l.upperRight_X)),Number(Nr(l.upperRight_Y))]},O1e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=TA(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Nr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Kc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},TA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(k){return k.split(`
`)}):s.map(function(k){return[k]});var i=r,a=Vt.internal.getHeight(e)||0;a=a<0?-a:a;var o=Vt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(k,C,H){if(k+1<s.length){var z=C+" "+s[k+1][0];return A2(z,e,H).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,h=A2("3",e,i).height,p=e.multiline?a-i:(a-h)/2,m=p+=2,x=0,y=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+A2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",S=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var T=!1;if(s[_].length!==1&&b!==s[_].length-1){if((h+2)*(S+2)+2>a)continue e;v+=s[_][b],T=!0,y=_,_--}else{v=(v+=s[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var R=parseInt(_),B=l(R,v,i),j=_>=s.length-1;if(B&&!j){v+=" ",b=0;continue}if(B||j){if(j)y=R;else if(e.multiline&&(h+2)*(S+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(S+2)+2>a)continue e;y=R}}for(var P="",F=x;F<=y;F++){var N=s[F];if(e.multiline){if(F===y){P+=N[b]+" ",b=(b+1)%N.length;continue}if(F===x){P+=N[N.length-1]+" ";continue}}P+=N[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=A2(P,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=Nr(c)+" "+Nr(m)+` Td
`,t+="("+cp(P)+`) Tj
`,t+=-Nr(c)+` 0 Td
`,m=-(i+2),u=0,x=T?y:y+1,S++,v=""}break}return n.text=t,n.fontSize=i,n},A2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},R1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D1e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},L1e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(R1e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IT=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new SU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&D1e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=P1e(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Vt.createDefaultAppearanceStream(o),Nn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=O1e(o);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var x=m[a];typeof x=="function"&&(x=x.call(s,o)),h+="/"+a+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(s,o)),h+="/"+a+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&function(y,b){for(var v in y)if(y.hasOwnProperty(v)){var S=v,_=y[v];b.internal.newObjectDeferredBegin(_.objId,!0),Nn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete y[S]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},bU=_s.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Nn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+cp(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o3=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+cp(n(e))+")"},iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};iu.prototype.toString=function(){return this.objId+" 0 R"},iu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},iu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:bU(s,this.objId,this.scope)}):s instanceof iu?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var _U=function(){iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ao(_U,iu);var SU=function(){iu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+cp(r(e))+")"}},set:function(r){e=r}})};ao(SU,iu);var vc=function e(){iu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ds(t,3)},set:function(v){v?this.F=Ls(t,3):this.F=js(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kb)return;i="FieldObject"+e.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+cp(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/IT:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof kb||this instanceof R0))return o3(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vi==0?o3(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof vi==0?v.substr(0,1)==="("?Fp(v.substr(1,v.length-2)):Fp(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vi==1?Fp(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof vi==1?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof vi==0?o3(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof vi==0?v.substr(0,1)==="("?Fp(v.substr(1,v.length-2)):Fp(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vi==1?Fp(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof vi==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(v){x=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,1)},set:function(v){v?this.Ff=Ls(this.Ff,1):this.Ff=js(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,2)},set:function(v){v?this.Ff=Ls(this.Ff,2):this.Ff=js(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,3)},set:function(v){v?this.Ff=Ls(this.Ff,3):this.Ff=js(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};ao(vc,iu);var Em=function(){vc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bU(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var l,c=[];l=a.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,18)},set:function(r){r?this.Ff=Ls(this.Ff,18):this.Ff=js(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ls(this.Ff,19):this.Ff=js(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,20)},set:function(r){r?(this.Ff=Ls(this.Ff,20),t.sort()):this.Ff=js(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,22)},set:function(r){r?this.Ff=Ls(this.Ff,22):this.Ff=js(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(r){r?this.Ff=Ls(this.Ff,23):this.Ff=js(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,27)},set:function(r){r?this.Ff=Ls(this.Ff,27):this.Ff=js(this.Ff,27)}}),this.hasAppearanceStream=!1};ao(Em,vc);var Nm=function(){Em.call(this),this.fontName="helvetica",this.combo=!1};ao(Nm,Em);var Tm=function(){Nm.call(this),this.combo=!0};ao(Tm,Nm);var yw=function(){Tm.call(this),this.edit=!0};ao(yw,Tm);var vi=function(){vc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,15)},set:function(r){r?this.Ff=Ls(this.Ff,15):this.Ff=js(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,16)},set:function(r){r?this.Ff=Ls(this.Ff,16):this.Ff=js(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,17)},set:function(r){r?this.Ff=Ls(this.Ff,17):this.Ff=js(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(r){r?this.Ff=Ls(this.Ff,26):this.Ff=js(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+cp(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Nn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ao(vi,vc);var xw=function(){vi.call(this),this.pushButton=!0};ao(xw,vi);var km=function(){vi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ao(km,vi);var kb=function(){var e,t;vc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+cp(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Nn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ao(kb,vc),km.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},km.prototype.createOption=function(e){var t=new kb;return t.Parent=this,t.optionName=e,this.Kids.push(t),j1e.call(this.scope,t),t};var vw=function(){vi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};ao(vw,vi);var R0=function(){vc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,13)},set:function(t){t?this.Ff=Ls(this.Ff,13):this.Ff=js(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,21)},set:function(t){t?this.Ff=Ls(this.Ff,21):this.Ff=js(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(t){t?this.Ff=Ls(this.Ff,23):this.Ff=js(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,24)},set:function(t){t?this.Ff=Ls(this.Ff,24):this.Ff=js(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,25)},set:function(t){t?this.Ff=Ls(this.Ff,25):this.Ff=js(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(t){t?this.Ff=Ls(this.Ff,26):this.Ff=js(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ao(R0,vc);var ww=function(){R0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,14)},set:function(e){e?this.Ff=Ls(this.Ff,14):this.Ff=js(this.Ff,14)}}),this.password=!0};ao(ww,R0);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=TA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Nr(Vt.internal.getWidth(e))+" "+Nr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Vt.internal.getHeight(e),a=Vt.internal.getWidth(e),o=TA(e,e.caption);return s.push("1 g"),s.push("0 0 "+Nr(a)+" "+Nr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Nr(a-1)+" "+Nr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Nr(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Vt.internal.getWidth(e))+" "+Nr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Vt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nf(Vt.internal.getWidth(e)/2)+" "+nf(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Vt.internal.Bezier_C).toFixed(5)),a=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(Vt.internal.getWidth(e)/2)+" "+nf(Vt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nf(Vt.internal.getWidth(e)/2)+" "+nf(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(Vt.internal.getWidth(e)/2)+" "+nf(Vt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Nr(Vt.internal.getWidth(e)-2)+" "+Nr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nr(n.x1.x)+" "+Nr(n.x1.y)+" m"),r.push(Nr(n.x2.x)+" "+Nr(n.x2.y)+" l"),r.push(Nr(n.x4.x)+" "+Nr(n.x4.y)+" m"),r.push(Nr(n.x3.x)+" "+Nr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nr(Vt.internal.getWidth(e))+" "+Nr(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nr(Vt.internal.getWidth(e)-2)+" "+Nr(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nr(r.x1.x)+" "+Nr(r.x1.y)+" m"),n.push(Nr(r.x2.x)+" "+Nr(r.x2.y)+" l"),n.push(Nr(r.x4.x)+" "+Nr(r.x4.y)+" m"),n.push(Nr(r.x3.x)+" "+Nr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Vt.internal.getWidth(e))+" "+Nr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return Nn(e)==="object"&&(t=h8(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return Nn(e)==="object"&&(t=h8(e.Rect[3])),t};var j1e=_s.addField=function(e){if(L1e(this,e),!(e instanceof vc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_s.AcroFormChoiceField=Em,_s.AcroFormListBox=Nm,_s.AcroFormComboBox=Tm,_s.AcroFormEditBox=yw,_s.AcroFormButton=vi,_s.AcroFormPushButton=xw,_s.AcroFormRadioButton=km,_s.AcroFormCheckBox=vw,_s.AcroFormTextField=R0,_s.AcroFormPasswordField=ww,_s.AcroFormAppearance=Vt,_s.AcroForm={ChoiceField:Em,ListBox:Nm,ComboBox:Tm,EditBox:yw,Button:vi,PushButton:xw,RadioButton:km,CheckBox:vw,TextField:R0,PasswordField:ww,Appearance:Vt},Zt.AcroForm={ChoiceField:Em,ListBox:Nm,ComboBox:Tm,EditBox:yw,Button:vi,PushButton:xw,RadioButton:km,CheckBox:vw,TextField:R0,PasswordField:ww,Appearance:Vt};function AU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(k,C){var H,z,K,Y,W,Z=r;if((C=C||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(B(k))for(W in n)for(K=n[W],H=0;H<K.length;H+=1){for(Y=!0,z=0;z<K[H].length;z+=1)if(K[H][z]!==void 0&&K[H][z]!==k[z]){Y=!1;break}if(Y===!0){Z=W;break}}else for(W in n)for(K=n[W],H=0;H<K.length;H+=1){for(Y=!0,z=0;z<K[H].length;z+=1)if(K[H][z]!==void 0&&K[H][z]!==k.charCodeAt(z)){Y=!1;break}if(Y===!0){Z=W;break}}return Z===r&&C!==r&&(Z=C),Z},i=function k(C){for(var H=this.internal.write,z=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:C.width}),Y.push({key:"Height",value:C.height}),C.colorSpace===v.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===v.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var W="",Z=0,ne=C.transparency.length;Z<ne;Z++)W+=C.transparency[Z]+" "+C.transparency[Z]+" ";Y.push({key:"Mask",value:"["+W+"]"})}C.sMask!==void 0&&Y.push({key:"SMask",value:C.objectId+1+" 0 R"});var ee=C.filter!==void 0?["/"+C.filter]:void 0;if(z({data:C.data,additionalKeyValues:Y,alreadyAppliedFilters:ee,objectId:C.objectId}),H("endobj"),"sMask"in C&&C.sMask!==void 0){var X,I=(X=C.sMaskBitsPerComponent)!==null&&X!==void 0?X:C.bitsPerComponent,U={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:C.sMask};"filter"in C&&(U.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(C.width),U.filter=C.filter),k.call(this,U)}if(C.colorSpace===v.INDEXED){var G=this.internal.newObject();z({data:P(new Uint8Array(C.palette)),objectId:G}),H("endobj")}},a=function(){var k=this.internal.collections[t+"images"];for(var C in k)i.call(this,k[C])},o=function(){var k,C=this.internal.collections[t+"images"],H=this.internal.write;for(var z in C)H("/I"+(k=C[z]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return Nn(k)==="object"&&k.nodeType===1},m=function(k,C){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var H=""+k.getAttribute("src");if(H.indexOf("data:image/")===0)return gw(unescape(H).split("base64,").pop());var z=e.loadFile(H,!0);if(z!==void 0)return z}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var K;switch(C){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return gw(k.toDataURL(K,1).split("base64,").pop())}},x=function(k){var C=this.internal.collections[t+"images"];if(C){for(var H in C)if(k===C[H].alias)return C[H]}},y=function(k,C,H){return k||C||(k=-96,C=-96),k<0&&(k=-1*H.width*72/k/this.internal.scaleFactor),C<0&&(C=-1*H.height*72/C/this.internal.scaleFactor),k===0&&(k=C*H.width/H.height),C===0&&(C=k*H.height/H.width),[k,C]},b=function(k,C,H,z,K,Y){var W=y.call(this,H,z,K),Z=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ee=c.call(this);if(H=W[0],z=W[1],ee[K.index]=K,Y){Y*=Math.PI/180;var X=Math.cos(Y),I=Math.sin(Y),U=function(V){return V.toFixed(4)},G=[U(X),U(I),U(-1*I),U(X),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,Z(k),ne(C+z),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Z(H),"0","0",Z(z),"0","0","cm"].join(" "))):this.internal.write([Z(H),"0","0",Z(z),Z(k),ne(C+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(k){var C,H,z=0;if(typeof k=="string")for(H=k.length,C=0;C<H;C++)z=(z<<5)-z+k.charCodeAt(C),z|=0;else if(B(k))for(H=k.byteLength/2,C=0;C<H;C++)z=(z<<5)-z+k[C],z|=0;return z},T=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var C=!0;return k.length===0&&(C=!1),k.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(C=!1),C},R=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var C=k.indexOf(",");return C<0?null:k.substring(0,C).trim().endsWith("base64")?k.substring(C+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(k){for(var C=k.length,H=new Uint8Array(C),z=0;z<C;z++)H[z]=k.charCodeAt(z);return H},P=e.__addimage__.arrayBufferToBinaryString=function(k){for(var C="",H=B(k)?k:new Uint8Array(k),z=0;z<H.length;z+=8192)C+=String.fromCharCode.apply(null,H.subarray(z,z+8192));return C};e.addImage=function(){var k,C,H,z,K,Y,W,Z,ne;if(typeof arguments[1]=="number"?(C=r,H=arguments[1],z=arguments[2],K=arguments[3],Y=arguments[4],W=arguments[5],Z=arguments[6],ne=arguments[7]):(C=arguments[1],H=arguments[2],z=arguments[3],K=arguments[4],Y=arguments[5],W=arguments[6],Z=arguments[7],ne=arguments[8]),Nn(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var ee=k;k=ee.imageData,C=ee.format||C||r,H=ee.x||H||0,z=ee.y||z||0,K=ee.w||ee.width||K,Y=ee.h||ee.height||Y,W=ee.alias||W,Z=ee.compression||Z,ne=ee.rotation||ee.angle||ne}var X=this.internal.getFilters();if(Z===void 0&&X.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(H)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=F.call(this,k,C,W,Z);return b.call(this,H,z,K,Y,I,ne),this};var F=function(k,C,H,z){var K,Y,W;if(typeof k=="string"&&s(k)===r){k=unescape(k);var Z=N(k,!1);(Z!==""||(Z=e.loadFile(k,!0))!==void 0)&&(k=Z)}if(p(k)&&(k=m(k,C)),C=s(k,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((W=H)==null||W.length===0)&&(H=function(ne){return typeof ne=="string"||B(ne)?_(ne):B(ne.data)?_(ne.data):null}(k)),(K=x.call(this,H))||(k instanceof Uint8Array||C==="RGBA"||(Y=k,k=j(k)),K=this["process"+C.toUpperCase()](k,u.call(this),H,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:S.NONE}(z),Y)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},N=e.__addimage__.convertBase64ToBinaryString=function(k,C){C=typeof C!="boolean"||C;var H,z="";if(typeof k=="string"){var K;H=(K=R(k))!==null&&K!==void 0?K:k;try{z=gw(H)}catch(Y){if(C)throw T(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(k){var C,H,z="";if(p(k)&&(k=m(k)),typeof k=="string"&&s(k)===r&&((z=N(k,!1))===""&&(z=e.loadFile(k)||""),k=z),H=s(k),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(k instanceof Uint8Array||(k=j(k)),!(C=this["process"+H.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=H,C}})(Zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),S=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(v(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+m(v(S))+") >>",y.content=i;var _=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var B=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,a,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var b=0,v=r,S="",_=0;for(b=0;b<y.length;b+=1)v[y.charCodeAt(b)]!==void 0?(_++,typeof(v=v[y.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(v),v=r,_=0),b===y.length-1&&(v=r,S+=y.charAt(b-(_-1)),b-=_-1,_=0)):(v=r,S+=y.charAt(b-_),b-=_,_=0);return S};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,b,v){return a(y)?i(y)===!1?-1:!c(y)||!a(b)&&!a(v)||!a(v)&&o(b)||o(y)&&!a(b)||o(y)&&l(b)||o(y)&&o(b)?0:u(y)&&a(b)&&!o(b)&&a(v)&&c(v)?3:o(y)||!a(v)?1:2:-1},m=function(y){var b=0,v=0,S=0,_="",T="",R="",B=(y=y||"").split("\\s+"),j=[];for(b=0;b<B.length;b+=1){for(j.push(""),v=0;v<B[b].length;v+=1)_=B[b][v],T=B[b][v-1],R=B[b][v+1],a(_)?(S=p(_,T,R),j[b]+=S!==-1?String.fromCharCode(t[_.charCodeAt(0)][S]):_):j[b]+=_;j[b]=h(j[b])}return j.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var S=0;for(v=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?v.push([m(b[S][0]),b[S][1],b[S][2]]):v.push([m(b[S])]);y=v}else y=m(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(Zt.API),Zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,T){return _.concat(b.splitTextToSize(T,v))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)m<(y=this.getStringUnitWidth(l[S],{font:h})*u)&&(m=y);return m!==0&&(x=l.length),{w:m/=p,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,y,b,v=[],S=[],_=[],T={},R={},B=[],j=[],P=(p=p||{}).autoSize||!1,F=p.printHeaders!==!1,N=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),C=typeof p.padding=="number"?p.padding:3,H=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=z,this.setFontSize(N),h==null)S=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(h)&&Nn(h[0])==="object")for(v=h.map(function(ee){return ee.name}),S=h.map(function(ee){return ee.prompt||ee.name||""}),_=h.map(function(ee){return ee.align||"left"}),m=0;m<h.length;m+=1)R[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=v=h,_=v.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<v.length;m+=1){for(T[b=v[m]]=u.map(function(ee){return ee[b]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(S[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=T[b],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)B.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[b]=Math.max.apply(null,B)+C+C,B=[]}if(F){var K={};for(m=0;m<v.length;m+=1)K[v[m]]={},K[v[m]].text=S[m],K[v[m]].align=_[m];var Y=o.call(this,K,R);j=v.map(function(ee){return new i(l,c,R[ee],Y,K[ee].text,void 0,K[ee].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var W=h.reduce(function(ee,X){return ee[X.name]=X.align,ee},{});for(m=0;m<u.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:u[m]},this);var Z=o.call(this,u[m],R);for(y=0;y<v.length;y+=1){var ne=u[m][v[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:y,data:ne},this),a.call(this,new i(l,c,R[v[y]],Z,ne,m+2,W[v[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Zt.API);var EU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kA=AU(NU),TU=[100,200,300,400,500,600,700,800,900],F1e=AU(TU);function l3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return EU[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof kA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function p8(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var M1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function y8(e){return e.trimLeft()}function B1e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function U1e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var E2,x8,v8,Mp,N2,w8,b8,_8,c3=["times"];function S8(e,t,r,n,s){var i=4,a=E8;switch(s){case Zt.API.image_compression.FAST:i=1,a=A8;break;case Zt.API.image_compression.MEDIUM:i=6,a=N8;break;case Zt.API.image_compression.SLOW:i=9,a=T8}e=function(l,c,u,h){for(var p,m=l.length/c,x=new Uint8Array(l.length+m),y=[$1e,A8,E8,N8,T8],b=0;b<m;b+=1){var v=b*c,S=l.subarray(v,v+c);if(h)x.set(h(S,u,p),v+b);else{for(var _=y.length,T=[],R=0;R<_;R+=1)T[R]=y[R](S,u,p);var B=q1e(T.concat());x.set(T[B],v+b)}p=S}return x}(e,t,Math.ceil(r*n/8),a);var o=mA(e,{level:i});return Zt.API.__addimage__.arrayBufferToBinaryString(o)}function $1e(e){var t=Array.apply([],e);return t.unshift(0),t}function A8(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function E8(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function N8(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,o=r&&r[i]||0;s[i+1]=e[i]+256-(a+o>>>1)&255}return s}function T8(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=z1e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function z1e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function q1e(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function u3(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return kU(e,s)>>i&a}function k8(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),o=(1<<n)-1,l=(t&o)<<a;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(e,i,kU(e,i)&~(o<<a)&65535|l)}function kU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function H1e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=a,t+=3*a);var c=!0,u=[],h=0,p=null,m=0,x=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&y||(p=null),m=y>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,T=e[t++],R=T>>6&1,B=1<<1+(7&T),j=o,P=l,F=!1;T>>7&&(F=!0,j=t,P=B,t+=3*B);var N=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:b,y:v,width:S,height:_,has_local_palette:F,palette_offset:j,palette_size:P,data_offset:N,data_length:t-N,transparent_index:p,interlaced:!!R,delay:h,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,H){var z=this.frameInfo(C),K=z.width*z.height,Y=new Uint8Array(K);C8(e,z.data_offset,Y,K);var W=z.palette_offset,Z=z.transparent_index;Z===null&&(Z=256);var ne=z.width,ee=r-ne,X=ne,I=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),G=I,V=4*ee;z.interlaced===!0&&(V+=4*r*7);for(var Q=8,ge=0,Se=Y.length;ge<Se;++ge){var pe=Y[ge];if(X===0&&(X=ne,(G+=V)>=U&&(V=4*ee+4*r*(Q-1),G=I+(ne+ee)*(Q<<1),Q>>=1)),pe===Z)G+=4;else{var oe=e[W+3*pe],De=e[W+3*pe+1],$e=e[W+3*pe+2];H[G++]=$e,H[G++]=De,H[G++]=oe,H[G++]=255}--X}},this.decodeAndBlitFrameRGBA=function(C,H){var z=this.frameInfo(C),K=z.width*z.height,Y=new Uint8Array(K);C8(e,z.data_offset,Y,K);var W=z.palette_offset,Z=z.transparent_index;Z===null&&(Z=256);var ne=z.width,ee=r-ne,X=ne,I=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),G=I,V=4*ee;z.interlaced===!0&&(V+=4*r*7);for(var Q=8,ge=0,Se=Y.length;ge<Se;++ge){var pe=Y[ge];if(X===0&&(X=ne,(G+=V)>=U&&(V=4*ee+4*r*(Q-1),G=I+(ne+ee)*(Q<<1),Q>>=1)),pe===Z)G+=4;else{var oe=e[W+3*pe],De=e[W+3*pe+1],$e=e[W+3*pe+2];H[G++]=oe,H[G++]=De,H[G++]=$e,H[G++]=255}--X}}}function C8(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,o=a+1,l=s+1,c=(1<<l)-1,u=0,h=0,p=0,m=e[t++],x=new Int32Array(4096),y=null;;){for(;u<16&&m!==0;)h|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<l)break;var b=h&c;if(h>>=l,u-=l,b!==i){if(b===a)break;for(var v=b<o?b:y,S=0,_=v;_>i;)_=x[_]>>8,++S;var T=_;if(p+S+(v!==b?1:0)>n)return void Ln.log("Warning, gif stream longer than expected.");r[p++]=T;var R=p+=S;for(v!==b&&(r[p++]=T),_=v;S--;)_=x[_],r[--R]=255&_,_>>=8;y!==null&&o<4096&&(x[o++]=y<<8|T,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=b}else o=a+1,c=(1<<(l=s+1))-1,y=null}return p!==n&&Ln.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function d3(e){var t,r,n,s,i,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),x=new Array(64),y=[],b=0,v=7,S=new Array(64),_=new Array(64),T=new Array(64),R=new Array(256),B=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(I,U){for(var G=0,V=0,Q=new Array,ge=1;ge<=16;ge++){for(var Se=1;Se<=I[ge];Se++)Q[U[V]]=[],Q[U[V]][0]=G,Q[U[V]][1]=ge,V++,G++;G*=2}return Q}function W(I){for(var U=I[0],G=I[1]-1;G>=0;)U&1<<G&&(b|=1<<v),G--,--v<0&&(b==255?(Z(255),Z(0)):Z(b),v=7,b=0)}function Z(I){y.push(I)}function ne(I){Z(I>>8&255),Z(255&I)}function ee(I,U,G,V,Q){for(var ge,Se=Q[0],pe=Q[240],oe=function(Ge,pt){var it,jt,Dt,gr,qt,Ee,at,rt,lt,Et,St=0;for(lt=0;lt<8;++lt){it=Ge[St],jt=Ge[St+1],Dt=Ge[St+2],gr=Ge[St+3],qt=Ge[St+4],Ee=Ge[St+5],at=Ge[St+6];var or=it+(rt=Ge[St+7]),cr=it-rt,Bt=jt+at,sr=jt-at,Gr=Dt+Ee,Xt=Dt-Ee,Er=gr+qt,yr=gr-qt,jn=or+Er,Xn=or-Er,cn=Bt+Gr,lr=Bt-Gr;Ge[St]=jn+cn,Ge[St+4]=jn-cn;var tn=.707106781*(lr+Xn);Ge[St+2]=Xn+tn,Ge[St+6]=Xn-tn;var _l=.382683433*((jn=yr+Xt)-(lr=sr+cr)),Bs=.5411961*jn+_l,Ra=1.306562965*lr+_l,Da=.707106781*(cn=Xt+sr),rr=cr+Da,oo=cr-Da;Ge[St+5]=oo+Bs,Ge[St+3]=oo-Bs,Ge[St+1]=rr+Ra,Ge[St+7]=rr-Ra,St+=8}for(St=0,lt=0;lt<8;++lt){it=Ge[St],jt=Ge[St+8],Dt=Ge[St+16],gr=Ge[St+24],qt=Ge[St+32],Ee=Ge[St+40],at=Ge[St+48];var oa=it+(rt=Ge[St+56]),ci=it-rt,ui=jt+at,Fn=jt-at,ms=Dt+Ee,ie=Dt-Ee,we=gr+qt,fe=gr-qt,me=oa+we,be=oa-we,_e=ui+ms,Be=ui-ms;Ge[St]=me+_e,Ge[St+32]=me-_e;var Xe=.707106781*(Be+be);Ge[St+16]=be+Xe,Ge[St+48]=be-Xe;var ze=.382683433*((me=fe+ie)-(Be=Fn+ci)),qe=.5411961*me+ze,We=1.306562965*Be+ze,gt=.707106781*(_e=ie+Fn),At=ci+gt,It=ci-gt;Ge[St+40]=It+qe,Ge[St+24]=It-qe,Ge[St+8]=At+We,Ge[St+56]=At-We,St++}for(lt=0;lt<64;++lt)Et=Ge[lt]*pt[lt],m[lt]=Et>0?Et+.5|0:Et-.5|0;return m}(I,U),De=0;De<64;++De)x[j[De]]=oe[De];var $e=x[0]-G;G=x[0],$e==0?W(V[0]):(W(V[p[ge=32767+$e]]),W(h[ge]));for(var Ze=63;Ze>0&&x[Ze]==0;)Ze--;if(Ze==0)return W(Se),G;for(var Ce,se=1;se<=Ze;){for(var yt=se;x[se]==0&&se<=Ze;)++se;var Ke=se-yt;if(Ke>=16){Ce=Ke>>4;for(var Ne=1;Ne<=Ce;++Ne)W(pe);Ke&=15}ge=32767+x[se],W(Q[(Ke<<4)+p[ge]]),W(h[ge]),se++}return Ze!=63&&W(Se),G}function X(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(U){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var Q=a((G[V]*U+50)/100);Q=Math.min(Math.max(Q,1),255),o[j[V]]=Q}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var pe=a((ge[Se]*U+50)/100);pe=Math.min(Math.max(pe,1),255),l[j[Se]]=pe}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,$e=0;$e<8;$e++)for(var Ze=0;Ze<8;Ze++)c[De]=1/(o[j[De]]*oe[$e]*oe[Ze]*8),u[De]=1/(l[j[De]]*oe[$e]*oe[Ze]*8),De++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,U){U&&X(U),y=new Array,b=0,v=7,ne(65496),ne(65504),ne(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ne(1),ne(1),Z(0),Z(0),function(){ne(65499),ne(132),Z(0);for(var jt=0;jt<64;jt++)Z(o[jt]);Z(1);for(var Dt=0;Dt<64;Dt++)Z(l[Dt])}(),function(jt,Dt){ne(65472),ne(17),Z(8),ne(Dt),ne(jt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(I.width,I.height),function(){ne(65476),ne(418),Z(0);for(var jt=0;jt<16;jt++)Z(P[jt+1]);for(var Dt=0;Dt<=11;Dt++)Z(F[Dt]);Z(16);for(var gr=0;gr<16;gr++)Z(N[gr+1]);for(var qt=0;qt<=161;qt++)Z(k[qt]);Z(1);for(var Ee=0;Ee<16;Ee++)Z(C[Ee+1]);for(var at=0;at<=11;at++)Z(H[at]);Z(17);for(var rt=0;rt<16;rt++)Z(z[rt+1]);for(var lt=0;lt<=161;lt++)Z(K[lt])}(),ne(65498),ne(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var G=0,V=0,Q=0;b=0,v=7,this.encode.displayName="_encode_";for(var ge,Se,pe,oe,De,$e,Ze,Ce,se,yt=I.data,Ke=I.width,Ne=I.height,Ge=4*Ke,pt=0;pt<Ne;){for(ge=0;ge<Ge;){for(De=Ge*pt+ge,Ze=-1,Ce=0,se=0;se<64;se++)$e=De+(Ce=se>>3)*Ge+(Ze=4*(7&se)),pt+Ce>=Ne&&($e-=Ge*(pt+1+Ce-Ne)),ge+Ze>=Ge&&($e-=ge+Ze-Ge+4),Se=yt[$e++],pe=yt[$e++],oe=yt[$e++],S[se]=(B[Se]+B[pe+256|0]+B[oe+512|0]>>16)-128,_[se]=(B[Se+768|0]+B[pe+1024|0]+B[oe+1280|0]>>16)-128,T[se]=(B[Se+1280|0]+B[pe+1536|0]+B[oe+1792|0]>>16)-128;G=ee(S,c,G,t,n),V=ee(_,u,V,r,s),Q=ee(T,u,Q,r,s),ge+=32}pt+=8}if(v>=0){var it=[];it[1]=v+1,it[0]=(1<<v+1)-1,W(it)}return ne(65497),new Uint8Array(y)},e=e||50,function(){for(var I=String.fromCharCode,U=0;U<256;U++)R[U]=I(U)}(),t=Y(P,F),r=Y(C,H),n=Y(N,k),s=Y(z,K),function(){for(var I=1,U=2,G=1;G<=15;G++){for(var V=I;V<U;V++)p[32767+V]=G,h[32767+V]=[],h[32767+V][1]=G,h[32767+V][0]=V;for(var Q=-(U-1);Q<=-I;Q++)p[32767+Q]=G,h[32767+Q]=[],h[32767+Q][1]=G,h[32767+Q][0]=U-1+Q;I<<=1,U<<=1}}(),function(){for(var I=0;I<256;I++)B[I]=19595*I,B[I+256|0]=38470*I,B[I+512|0]=7471*I+32768,B[I+768|0]=-11059*I,B[I+1024|0]=-21709*I,B[I+1280|0]=32768*I+8421375,B[I+1536|0]=-27439*I,B[I+1792|0]=-5329*I}(),X(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function I8(e){function t(F){if(!F)throw Error("assert :P")}function r(F,N,k){for(var C=0;4>C;C++)if(F[N+C]!=k.charCodeAt(C))return!0;return!1}function n(F,N,k,C,H){for(var z=0;z<H;z++)F[N+z]=k[C+z]}function s(F,N,k,C){for(var H=0;H<C;H++)F[N+H]=k}function i(F){return new Int32Array(F)}function a(F,N){for(var k=[],C=0;C<F;C++)k.push(new N);return k}function o(F,N){var k=[];return function C(H,z,K){for(var Y=K[z],W=0;W<Y&&(H.push(K.length>z+1?[]:new N),!(K.length<z+1));W++)C(H[W],z+1,K)}(k,0,F),k}var l=function(){var F=this;function N(w,A){for(var D=1<<A-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function k(w,A,D,q,J){t(!(q%D));do w[A+(q-=D)]=J;while(0<q)}function C(w,A,D,q,J){if(t(2328>=J),512>=J)var ae=i(512);else if((ae=i(J))==null)return 0;return function(le,ue,he,xe,Oe,He){var ve,Le,Me=ue,Qe=1<<he,Ue=i(16),tt=i(16);for(t(Oe!=0),t(xe!=null),t(le!=null),t(0<he),Le=0;Le<Oe;++Le){if(15<xe[Le])return 0;++Ue[xe[Le]]}if(Ue[0]==Oe)return 0;for(tt[1]=0,ve=1;15>ve;++ve){if(Ue[ve]>1<<ve)return 0;tt[ve+1]=tt[ve]+Ue[ve]}for(Le=0;Le<Oe;++Le)ve=xe[Le],0<xe[Le]&&(He[tt[ve]++]=Le);if(tt[15]==1)return(xe=new H).g=0,xe.value=He[0],k(le,Me,1,Qe,xe),Qe;var st,xt=-1,ot=Qe-1,Kt=0,Lt=1,nr=1,Gt=1<<he;for(Le=0,ve=1,Oe=2;ve<=he;++ve,Oe<<=1){if(Lt+=nr<<=1,0>(nr-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve])(xe=new H).g=ve,xe.value=He[Le++],k(le,Me+Kt,Oe,Gt,xe),Kt=N(Kt,ve)}for(ve=he+1,Oe=2;15>=ve;++ve,Oe<<=1){if(Lt+=nr<<=1,0>(nr-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve]){if(xe=new H,(Kt&ot)!=xt){for(Me+=Gt,st=1<<(xt=ve)-he;15>xt&&!(0>=(st-=Ue[xt]));)++xt,st<<=1;Qe+=Gt=1<<(st=xt-he),le[ue+(xt=Kt&ot)].g=st+he,le[ue+xt].value=Me-ue-xt}xe.g=ve-he,xe.value=He[Le++],k(le,Me+(Kt>>he),Oe,Gt,xe),Kt=N(Kt,ve)}}return Lt!=2*tt[15]-1?0:Qe}(w,A,D,q,J,ae)}function H(){this.value=this.g=0}function z(){this.value=this.g=0}function K(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(_u,z)}function Y(w,A,D,q){t(w!=null),t(A!=null),t(2147483648>q),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=D,w.Jd=A,w.Yc=D+q,w.Zc=4<=q?D+q-4+1:D,Se(w)}function W(w,A){for(var D=0;0<A--;)D|=oe(w,128)<<A;return D}function Z(w,A){var D=W(w,A);return pe(w)?-D:D}function ne(w,A,D,q){var J,ae=0;for(t(w!=null),t(A!=null),t(4294967288>q),w.Sb=q,w.Ra=0,w.u=0,w.h=0,4<q&&(q=4),J=0;J<q;++J)ae+=A[D+J]<<8*J;w.Ra=ae,w.bb=q,w.oa=A,w.pa=D}function ee(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Cc-8>>>0,++w.bb,w.u-=8;V(w)&&(w.h=1,w.u=0)}function X(w,A){if(t(0<=A),!w.h&&A<=da){var D=G(w)&Us[A];return w.u+=A,ee(w),D}return w.h=1,w.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(w){return w.Ra>>>(w.u&Cc-1)>>>0}function V(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Cc}function Q(w,A){w.u=A,w.h=V(w)}function ge(w){w.u>=po&&(t(w.u>=po),ee(w))}function Se(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function pe(w){return W(w,1)}function oe(w,A){var D=w.Ca;0>w.b&&Se(w);var q=w.b,J=D*A>>>8,ae=(w.I>>>q>J)+0;for(ae?(D-=J,w.I-=J+1<<q>>>0):D=J+1,q=D,J=0;256<=q;)J+=8,q>>=8;return q=7^J+Rl[q],w.b-=q,w.Ca=(D<<q)-1,ae}function De(w,A,D){w[A+0]=D>>24&255,w[A+1]=D>>16&255,w[A+2]=D>>8&255,w[A+3]=255&D}function $e(w,A){return w[A+0]|w[A+1]<<8}function Ze(w,A){return $e(w,A)|w[A+2]<<16}function Ce(w,A){return $e(w,A)|$e(w,A+2)<<16}function se(w,A){var D=1<<A;return t(w!=null),t(0<A),w.X=i(D),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function yt(w,A){t(w!=null),t(A!=null),t(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Ne(w,A,D,q){t(D!=null),t(q!=null);var J=D[0],ae=q[0];return J==0&&(J=(w*ae+A/2)/A),ae==0&&(ae=(A*J+w/2)/w),0>=J||0>=ae?0:(D[0]=J,q[0]=ae,1)}function Ge(w,A){return w+(1<<A)-1>>>A}function pt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function it(w,A){F[A]=function(D,q,J,ae,le,ue,he){var xe;for(xe=0;xe<le;++xe){var Oe=F[w](ue[he+xe-1],J,ae+xe);ue[he+xe]=pt(D[q+xe],Oe)}}}function jt(){this.ud=this.hd=this.jd=0}function Dt(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function gr(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function qt(w,A){return gr(w+(w-A+.5>>1))}function Ee(w,A,D){return Math.abs(A-D)-Math.abs(w-D)}function at(w,A,D,q,J,ae,le){for(q=ae[le-1],D=0;D<J;++D)ae[le+D]=q=pt(w[A+D],q)}function rt(w,A,D,q,J){var ae;for(ae=0;ae<D;++ae){var le=w[A+ae],ue=le>>8&255,he=16711935&(he=(he=16711935&le)+((ue<<16)+ue));q[J+ae]=(4278255360&le)+he>>>0}}function lt(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function Et(w,A,D,q,J,ae){var le;for(le=0;le<q;++le){var ue=A[D+le],he=ue>>>8,xe=ue,Oe=255&(Oe=(Oe=ue>>>16)+((w.jd<<24>>24)*(he<<24>>24)>>>5));xe=255&(xe=(xe+=(w.hd<<24>>24)*(he<<24>>24)>>>5)+((w.ud<<24>>24)*(Oe<<24>>24)>>>5)),J[ae+le]=(4278255360&ue)+(Oe<<16)+xe}}function St(w,A,D,q,J){F[A]=function(ae,le,ue,he,xe,Oe,He,ve,Le){for(he=He;he<ve;++he)for(He=0;He<Le;++He)xe[Oe++]=J(ue[q(ae[le++])])},F[w]=function(ae,le,ue,he,xe,Oe,He){var ve=8>>ae.b,Le=ae.Ea,Me=ae.K[0],Qe=ae.w;if(8>ve)for(ae=(1<<ae.b)-1,Qe=(1<<ve)-1;le<ue;++le){var Ue,tt=0;for(Ue=0;Ue<Le;++Ue)Ue&ae||(tt=q(he[xe++])),Oe[He++]=J(Me[tt&Qe]),tt>>=ve}else F["VP8LMapColor"+D](he,xe,Me,Qe,Oe,He,le,ue,Le)}}function or(w,A,D,q,J){for(D=A+D;A<D;){var ae=w[A++];q[J++]=ae>>16&255,q[J++]=ae>>8&255,q[J++]=255&ae}}function cr(w,A,D,q,J){for(D=A+D;A<D;){var ae=w[A++];q[J++]=ae>>16&255,q[J++]=ae>>8&255,q[J++]=255&ae,q[J++]=ae>>24&255}}function Bt(w,A,D,q,J){for(D=A+D;A<D;){var ae=(le=w[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;q[J++]=ae,q[J++]=le}}function sr(w,A,D,q,J){for(D=A+D;A<D;){var ae=(le=w[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;q[J++]=ae,q[J++]=le}}function Gr(w,A,D,q,J){for(D=A+D;A<D;){var ae=w[A++];q[J++]=255&ae,q[J++]=ae>>8&255,q[J++]=ae>>16&255}}function Xt(w,A,D,q,J,ae){if(ae==0)for(D=A+D;A<D;)De(q,((ae=w[A++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),J+=32;else n(q,J,w,A,D)}function Er(w,A){F[A][0]=F[w+"0"],F[A][1]=F[w+"1"],F[A][2]=F[w+"2"],F[A][3]=F[w+"3"],F[A][4]=F[w+"4"],F[A][5]=F[w+"5"],F[A][6]=F[w+"6"],F[A][7]=F[w+"7"],F[A][8]=F[w+"8"],F[A][9]=F[w+"9"],F[A][10]=F[w+"10"],F[A][11]=F[w+"11"],F[A][12]=F[w+"12"],F[A][13]=F[w+"13"],F[A][14]=F[w+"0"],F[A][15]=F[w+"0"]}function yr(w){return w==Fd||w==Md||w==Bd||w==zg}function jn(){this.eb=[],this.size=this.A=this.fb=0}function Xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jn,this.f.kb=new Xn,this.sd=null}function lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _l(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Bs(w,A){var D=w.T,q=A.ba.f.RGBA,J=q.eb,ae=q.fb+w.ka*q.A,le=fa[A.ba.S],ue=w.y,he=w.O,xe=w.f,Oe=w.N,He=w.ea,ve=w.W,Le=A.cc,Me=A.dc,Qe=A.Mc,Ue=A.Nc,tt=w.ka,st=w.ka+w.T,xt=w.U,ot=xt+1>>1;for(tt==0?le(ue,he,null,null,xe,Oe,He,ve,xe,Oe,He,ve,J,ae,null,null,xt):(le(A.ec,A.fc,ue,he,Le,Me,Qe,Ue,xe,Oe,He,ve,J,ae-q.A,J,ae,xt),++D);tt+2<st;tt+=2)Le=xe,Me=Oe,Qe=He,Ue=ve,Oe+=w.Rc,ve+=w.Rc,ae+=2*q.A,le(ue,(he+=2*w.fa)-w.fa,ue,he,Le,Me,Qe,Ue,xe,Oe,He,ve,J,ae-q.A,J,ae,xt);return he+=w.fa,w.j+st<w.o?(n(A.ec,A.fc,ue,he,xt),n(A.cc,A.dc,xe,Oe,ot),n(A.Mc,A.Nc,He,ve,ot),D--):1&st||le(ue,he,null,null,xe,Oe,He,ve,xe,Oe,He,ve,J,ae+q.A,null,null,xt),D}function Ra(w,A,D){var q=w.F,J=[w.J];if(q!=null){var ae=w.U,le=A.ba.S,ue=le==gp||le==Bd;A=A.ba.f.RGBA;var he=[0],xe=w.ka;he[0]=w.T,w.Kb&&(xe==0?--he[0]:(--xe,J[0]-=w.width),w.j+w.ka+w.T==w.o&&(he[0]=w.o-w.j-xe));var Oe=A.eb;xe=A.fb+xe*A.A,w=ev(q,J[0],w.width,ae,he,Oe,xe+(ue?0:3),A.A),t(D==he),w&&yr(le)&&Ld(Oe,xe,ue,ae,he,A.A)}return 0}function Da(w){var A=w.ma,D=A.ba.S,q=11>D,J=D==Rc||D==Eu||D==gp||D==$g||D==12||yr(D);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Ah(A.Oa,w,J?11:12))return 0;if(J&&yr(D)&&Tl(),w.da)alert("todo:use_scaling");else{if(q){if(A.Ib=_l,w.Kb){if(D=w.U+1>>1,A.memory=i(w.U+2*D),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+D,A.Ib=Bs,Tl()}}else alert("todo:EmitYUV");J&&(A.Jb=Ra,q&&ca())}if(q&&!cv){for(w=0;256>w;++w)Ml[w]=89858*(w-128)+Ho>>xp,K_[w]=-22014*(w-128)+Ho,G_[w]=-45773*(w-128),V_[w]=113618*(w-128)+Ho>>xp;for(w=Uh;w<Wg;++w)A=76283*(w-16)+Ho>>xp,Y_[w-Uh]=Kr(A,255),X_[w-Uh]=Kr(A+8>>4,15);cv=1}return 1}function rr(w){var A=w.ma,D=w.U,q=w.T;return t(!(1&w.ka)),0>=D||0>=q?0:(D=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,D),A.Dc+=D,1)}function oo(w){w.ma.memory=null}function oa(w,A,D,q){return X(w,8)!=47?0:(A[0]=X(w,14)+1,D[0]=X(w,14)+1,q[0]=X(w,1),X(w,3)!=0?0:!w.h)}function ci(w,A){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+X(A,D)+1}function ui(w,A){return 120<A?A-120:1<=(D=((D=U_[A-1])>>4)*w+(8-(15&D)))?D:1;var D}function Fn(w,A,D){var q=G(D),J=w[A+=255&q].g-8;return 0<J&&(Q(D,D.u+8),q=G(D),A+=w[A].value,A+=q&(1<<J)-1),Q(D,D.u+w[A].g),w[A].value}function ms(w,A,D){return D.g+=w.g,D.value+=w.value<<A>>>0,t(8>=D.g),w.g}function ie(w,A,D){var q=w.xc;return t((A=q==0?0:w.vc[w.md*(D>>q)+(A>>q)])<w.Wb),w.Ya[A]}function we(w,A,D,q){var J=w.ab,ae=w.c*A,le=w.C;A=le+A;var ue=D,he=q;for(q=w.Ta,D=w.Ua;0<J--;){var xe=w.gc[J],Oe=le,He=A,ve=ue,Le=he,Me=(he=q,ue=D,xe.Ea);switch(t(Oe<He),t(He<=xe.nc),xe.hc){case 2:as(ve,Le,(He-Oe)*Me,he,ue);break;case 0:var Qe=Oe,Ue=He,tt=he,st=ue,xt=(Gt=xe).Ea;Qe==0&&(Fa(ve,Le,null,null,1,tt,st),at(ve,Le+1,0,0,xt-1,tt,st+1),Le+=xt,st+=xt,++Qe);for(var ot=1<<Gt.b,Kt=ot-1,Lt=Ge(xt,Gt.b),nr=Gt.K,Gt=Gt.w+(Qe>>Gt.b)*Lt;Qe<Ue;){var zr=nr,vs=Gt,_r=1;for(Dl(ve,Le,tt,st-xt,1,tt,st);_r<xt;){var Ut=(_r&~Kt)+ot;Ut>xt&&(Ut=xt),(0,Dd[zr[vs++]>>8&15])(ve,Le+ +_r,tt,st+_r-xt,Ut-_r,tt,st+_r),_r=Ut}Le+=xt,st+=xt,++Qe&Kt||(Gt+=Lt)}He!=xe.nc&&n(he,ue-Me,he,ue+(He-Oe-1)*Me,Me);break;case 1:for(Me=ve,Ue=Le,xt=(ve=xe.Ea)-(st=ve&~(tt=(Le=1<<xe.b)-1)),Qe=Ge(ve,xe.b),ot=xe.K,xe=xe.w+(Oe>>xe.b)*Qe;Oe<He;){for(Kt=ot,Lt=xe,nr=new jt,Gt=Ue+st,zr=Ue+ve;Ue<Gt;)lt(Kt[Lt++],nr),Nh(nr,Me,Ue,Le,he,ue),Ue+=Le,ue+=Le;Ue<zr&&(lt(Kt[Lt++],nr),Nh(nr,Me,Ue,xt,he,ue),Ue+=xt,ue+=xt),++Oe&tt||(xe+=Qe)}break;case 3:if(ve==he&&Le==ue&&0<xe.b){for(Ue=he,ve=Me=ue+(He-Oe)*Me-(st=(He-Oe)*Ge(xe.Ea,xe.b)),Le=he,tt=ue,Qe=[],st=(xt=st)-1;0<=st;--st)Qe[st]=Le[tt+st];for(st=xt-1;0<=st;--st)Ue[ve+st]=Qe[st];mp(xe,Oe,He,he,Me,he,ue)}else mp(xe,Oe,He,ve,Le,he,ue)}ue=q,he=D}he!=D&&n(q,D,ue,he,ae)}function fe(w,A){var D=w.V,q=w.Ba+w.c*w.C,J=A-w.C;if(t(A<=w.l.o),t(16>=J),0<J){var ae=w.l,le=w.Ta,ue=w.Ua,he=ae.width;if(we(w,J,D,q),J=ue=[ue],t((D=w.C)<(q=A)),t(ae.v<ae.va),q>ae.o&&(q=ae.o),D<ae.j){var xe=ae.j-D;D=ae.j,J[0]+=xe*he}if(D>=q?D=0:(J[0]+=4*ae.v,ae.ka=D-ae.j,ae.U=ae.va-ae.v,ae.T=q-D,D=1),D){if(ue=ue[0],11>(D=w.ca).S){var Oe=D.f.RGBA,He=(q=D.S,J=ae.U,ae=ae.T,xe=Oe.eb,Oe.A),ve=ae;for(Oe=Oe.fb+w.Ma*Oe.A;0<ve--;){var Le=le,Me=ue,Qe=J,Ue=xe,tt=Oe;switch(q){case Lh:Th(Le,Me,Qe,Ue,tt);break;case Rc:Ic(Le,Me,Qe,Ue,tt);break;case Fd:Ic(Le,Me,Qe,Ue,tt),Ld(Ue,tt,0,Qe,1,0);break;case Dc:Ma(Le,Me,Qe,Ue,tt);break;case Eu:Xt(Le,Me,Qe,Ue,tt,1);break;case Md:Xt(Le,Me,Qe,Ue,tt,1),Ld(Ue,tt,0,Qe,1,0);break;case gp:Xt(Le,Me,Qe,Ue,tt,0);break;case Bd:Xt(Le,Me,Qe,Ue,tt,0),Ld(Ue,tt,1,Qe,1,0);break;case $g:Pc(Le,Me,Qe,Ue,tt);break;case zg:Pc(Le,Me,Qe,Ue,tt),Ph(Ue,tt,Qe,1,0);break;case nv:Oc(Le,Me,Qe,Ue,tt);break;default:t(0)}ue+=he,Oe+=He}w.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=D.height)}}w.C=A,t(w.C<=w.i)}function me(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var D=w.Ya[A].G,q=w.Ya[A].H;if(0<D[1][q[1]+0].g||0<D[2][q[2]+0].g||0<D[3][q[3]+0].g)return 0}return 1}function be(w,A,D,q,J,ae){if(w.Z!=0){var le=w.qd,ue=w.rd;for(t(Ba[w.Z]!=null);A<D;++A)Ba[w.Z](le,ue,q,J,q,J,ae),le=q,ue=J,J+=ae;w.qd=le,w.rd=ue}}function _e(w,A){var D=w.l.ma,q=D.Z==0||D.Z==1?w.l.j:w.C;if(q=w.C<q?q:w.C,t(A<=w.l.o),A>q){var J=w.l.width,ae=D.ca,le=D.tb+J*q,ue=w.V,he=w.Ba+w.c*q,xe=w.gc;t(w.ab==1),t(xe[0].hc==3),Ai(xe[0],q,A,ue,he,ae,le),be(D,q,A,ae,le,J)}w.C=w.Ma=A}function Be(w,A,D,q,J,ae,le){var ue=w.$/q,he=w.$%q,xe=w.m,Oe=w.s,He=D+w.$,ve=He;J=D+q*J;var Le=D+q*ae,Me=280+Oe.ua,Qe=w.Pb?ue:16777216,Ue=0<Oe.ua?Oe.Wa:null,tt=Oe.wc,st=He<Le?ie(Oe,he,ue):null;t(w.C<ae),t(Le<=J);var xt=!1;e:for(;;){for(;xt||He<Le;){var ot=0;if(ue>=Qe){var Kt=He-D;t((Qe=w).Pb),Qe.wd=Qe.m,Qe.xd=Kt,0<Qe.s.ua&&yt(Qe.s.Wa,Qe.s.vb),Qe=ue+av}if(he&tt||(st=ie(Oe,he,ue)),t(st!=null),st.Qb&&(A[He]=st.qb,xt=!0),!xt)if(ge(xe),st.jc){ot=xe,Kt=A;var Lt=He,nr=st.pd[G(ot)&_u-1];t(st.jc),256>nr.g?(Q(ot,ot.u+nr.g),Kt[Lt]=nr.value,ot=0):(Q(ot,ot.u+nr.g-256),t(256<=nr.value),ot=nr.value),ot==0&&(xt=!0)}else ot=Fn(st.G[0],st.H[0],xe);if(xe.h)break;if(xt||256>ot){if(!xt)if(st.nd)A[He]=(st.qb|ot<<8)>>>0;else{if(ge(xe),xt=Fn(st.G[1],st.H[1],xe),ge(xe),Kt=Fn(st.G[2],st.H[2],xe),Lt=Fn(st.G[3],st.H[3],xe),xe.h)break;A[He]=(Lt<<24|xt<<16|ot<<8|Kt)>>>0}if(xt=!1,++He,++he>=q&&(he=0,++ue,le!=null&&ue<=ae&&!(ue%16)&&le(w,ue),Ue!=null))for(;ve<He;)ot=A[ve++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot}else if(280>ot){if(ot=ci(ot-256,xe),Kt=Fn(st.G[4],st.H[4],xe),ge(xe),Kt=ui(q,Kt=ci(Kt,xe)),xe.h)break;if(He-D<Kt||J-He<ot)break e;for(Lt=0;Lt<ot;++Lt)A[He+Lt]=A[He+Lt-Kt];for(He+=ot,he+=ot;he>=q;)he-=q,++ue,le!=null&&ue<=ae&&!(ue%16)&&le(w,ue);if(t(He<=J),he&tt&&(st=ie(Oe,he,ue)),Ue!=null)for(;ve<He;)ot=A[ve++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot}else{if(!(ot<Me))break e;for(xt=ot-280,t(Ue!=null);ve<He;)ot=A[ve++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot;ot=He,t(!(xt>>>(Kt=Ue).Xa)),A[ot]=Kt.X[xt],xt=!0}xt||t(xe.h==V(xe))}if(w.Pb&&xe.h&&He<J)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&yt(w.s.vb,w.s.Wa);else{if(xe.h)break e;le!=null&&le(w,ue>ae?ae:ue),w.a=0,w.$=He-D}return 1}return w.a=3,0}function Xe(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,t(w!=null)}function ze(){var w=new Wt;return w==null?null:(w.a=0,w.xb=Mh,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),as=rt,Nh=Et,Th=or,Ic=cr,Pc=Bt,Oc=sr,Ma=Gr,F.VP8LMapColor32b=qo,F.VP8LMapColor8b=Ei,w)}function qe(w,A,D,q,J){var ae=1,le=[w],ue=[A],he=q.m,xe=q.s,Oe=null,He=0;e:for(;;){if(D)for(;ae&&X(he,1);){var ve=le,Le=ue,Me=q,Qe=1,Ue=Me.m,tt=Me.gc[Me.ab],st=X(Ue,2);if(Me.Oc&1<<st)ae=0;else{switch(Me.Oc|=1<<st,tt.hc=st,tt.Ea=ve[0],tt.nc=Le[0],tt.K=[null],++Me.ab,t(4>=Me.ab),st){case 0:case 1:tt.b=X(Ue,3)+2,Qe=qe(Ge(tt.Ea,tt.b),Ge(tt.nc,tt.b),0,Me,tt.K),tt.K=tt.K[0];break;case 3:var xt,ot=X(Ue,8)+1,Kt=16<ot?0:4<ot?1:2<ot?2:3;if(ve[0]=Ge(tt.Ea,Kt),tt.b=Kt,xt=Qe=qe(ot,1,0,Me,tt.K)){var Lt,nr=ot,Gt=tt,zr=1<<(8>>Gt.b),vs=i(zr);if(vs==null)xt=0;else{var _r=Gt.K[0],Ut=Gt.w;for(vs[0]=Gt.K[0][0],Lt=1;Lt<1*nr;++Lt)vs[Lt]=pt(_r[Ut+Lt],vs[Lt-1]);for(;Lt<4*zr;++Lt)vs[Lt]=0;Gt.K[0]=null,Gt.K[0]=vs,xt=1}}Qe=xt;break;case 2:break;default:t(0)}ae=Qe}}if(le=le[0],ue=ue[0],ae&&X(he,1)&&!(ae=1<=(He=X(he,4))&&11>=He)){q.a=3;break e}var Ct;if(Ct=ae)t:{var os,vr,Yr,Pn=q,Xr=le,Zs=ue,$n=He,Dn=D,Js=Pn.m,Qn=Pn.s,Rr=[null],dn=1,qr=0,sn=$_[$n];r:for(;;){if(Dn&&X(Js,1)){var ei=X(Js,3)+2,yo=Ge(Xr,ei),ls=Ge(Zs,ei),pi=yo*ls;if(!qe(yo,ls,0,Pn,Rr))break r;for(Rr=Rr[0],Qn.xc=ei,os=0;os<pi;++os){var bn=Rr[os]>>8&65535;Rr[os]=bn,bn>=dn&&(dn=bn+1)}}if(Js.h)break r;for(vr=0;5>vr;++vr){var zn=iv[vr];!vr&&0<$n&&(zn+=1<<$n),qr<zn&&(qr=zn)}var zi=a(dn*sn,H),Ti=dn,pa=a(Ti,K);if(pa==null)var ti=null;else t(65536>=Ti),ti=pa;var qi=i(qr);if(ti==null||qi==null||zi==null){Pn.a=1;break r}var ma=zi;for(os=Yr=0;os<dn;++os){var yn=ti[os],Hi=yn.G,xo=yn.H,Nu=0,Bl=1,$s=0;for(vr=0;5>vr;++vr){zn=iv[vr],Hi[vr]=ma,xo[vr]=Yr,!vr&&0<$n&&(zn+=1<<$n);s:{var Hd,Vg=zn,Wd=Pn,Vd=qi,dv=ma,fv=Yr,Gd=0,jc=Wd.m,hv=X(jc,1);if(s(Vd,0,0,Vg),hv){var pv=X(jc,1)+1,J_=X(jc,1),Gg=X(jc,J_==0?1:8);Vd[Gg]=1,pv==2&&(Vd[Gg=X(jc,8)]=1);var wp=1}else{var bp=i(19),Kg=X(jc,4)+4;if(19<Kg){Wd.a=3;var Kd=0;break s}for(Hd=0;Hd<Kg;++Hd)bp[hi[Hd]]=X(jc,3);var Yg=void 0,Tu=void 0,Cr=Wd,e5=bp,_p=Vg,Yd=Vd,Sp=0,Fc=Cr.m,mv=8,ga=a(128,H);n:for(;C(ga,0,7,e5,19);){if(X(Fc,1)){var t5=2+2*X(Fc,3);if((Yg=2+X(Fc,t5))>_p)break n}else Yg=_p;for(Tu=0;Tu<_p&&Yg--;){ge(Fc);var $h=ga[0+(127&G(Fc))];Q(Fc,Fc.u+$h.g);var Mc=$h.value;if(16>Mc)Yd[Tu++]=Mc,Mc!=0&&(mv=Mc);else{var gv=Mc==16,Xg=Mc-16,ya=B_[Xg],Ul=X(Fc,sv[Xg])+ya;if(Tu+Ul>_p)break n;for(var Qg=gv?mv:0;0<Ul--;)Yd[Tu++]=Qg}}Sp=1;break n}Sp||(Cr.a=3),wp=Sp}(wp=wp&&!jc.h)&&(Gd=C(dv,fv,8,Vd,Vg)),wp&&Gd!=0?Kd=Gd:(Wd.a=3,Kd=0)}if(Kd==0)break r;if(Bl&&Cs[vr]==1&&(Bl=ma[Yr].g==0),Nu+=ma[Yr].g,Yr+=Kd,3>=vr){var Xd,Qd=qi[0];for(Xd=1;Xd<zn;++Xd)qi[Xd]>Qd&&(Qd=qi[Xd]);$s+=Qd}}if(yn.nd=Bl,yn.Qb=0,Bl&&(yn.qb=(Hi[3][xo[3]+0].value<<24|Hi[1][xo[1]+0].value<<16|Hi[2][xo[2]+0].value)>>>0,Nu==0&&256>Hi[0][xo[0]+0].value&&(yn.Qb=1,yn.qb+=Hi[0][xo[0]+0].value<<8)),yn.jc=!yn.Qb&&6>$s,yn.jc){var zh,vo=yn;for(zh=0;zh<_u;++zh){var $l=zh,Vo=vo.pd[$l],Zd=vo.G[0][vo.H[0]+$l];256<=Zd.value?(Vo.g=Zd.g+256,Vo.value=Zd.value):(Vo.g=0,Vo.value=0,$l>>=ms(Zd,8,Vo),$l>>=ms(vo.G[1][vo.H[1]+$l],16,Vo),$l>>=ms(vo.G[2][vo.H[2]+$l],0,Vo),ms(vo.G[3][vo.H[3]+$l],24,Vo))}}}Qn.vc=Rr,Qn.Wb=dn,Qn.Ya=ti,Qn.yc=zi,Ct=1;break t}Ct=0}if(!(ae=Ct)){q.a=3;break e}if(0<He){if(xe.ua=1<<He,!se(xe.Wa,He)){q.a=1,ae=0;break e}}else xe.ua=0;var Go=q,yv=le,Bc=ue,Ap=Go.s,Ep=Ap.xc;if(Go.c=yv,Go.i=Bc,Ap.md=Ge(yv,Ep),Ap.wc=Ep==0?-1:(1<<Ep)-1,D){q.xb=q_;break e}if((Oe=i(le*ue))==null){q.a=1,ae=0;break e}ae=(ae=Be(q,Oe,0,le,ue,ue,null))&&!he.h;break e}return ae?(J!=null?J[0]=Oe:(t(Oe==null),t(D)),q.$=0,D||Xe(xe)):Xe(xe),ae}function We(w,A){var D=w.c*w.i,q=D+A+16*A;return t(w.c<=A),w.V=i(q),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+A,1)}function gt(w,A){var D=w.C,q=A-D,J=w.V,ae=w.Ba+w.c*D;for(t(A<=w.l.o);0<q;){var le=16<q?16:q,ue=w.l.ma,he=w.l.width,xe=he*le,Oe=ue.ca,He=ue.tb+he*D,ve=w.Ta,Le=w.Ua;we(w,le,J,ae),tv(ve,Le,Oe,He,xe),be(ue,D,D+le,Oe,He,he),q-=le,J+=le*w.c,D+=le}t(D==A),w.C=w.Ma=A}function At(){this.ub=this.yd=this.td=this.Rb=0}function It(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function kt(){this.Yb=function(){var w=[];return function A(D,q,J){for(var ae=J[q],le=0;le<ae&&(D.push(J.length>q+1?[]:0),!(J.length<q+1));le++)A(D[le],q+1,J)}(w,0,[3,11]),w}()}function fr(){this.jb=i(3),this.Wc=o([4,8],kt),this.Xc=o([4,17],kt)}function mn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function $r(){this.ld=this.La=this.dd=this.tc=0}function Un(){this.Na=this.la=0}function lo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function La(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uo(){this.uc=this.M=this.Nb=0,this.wa=Array(new $r),this.Y=0,this.ya=Array(new La),this.aa=0,this.l=new di}function ja(){this.y=i(16),this.f=i(8),this.ea=i(8)}function bc(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new At,this.Kc=new It,this.ed=new mn,this.Qa=new vt,this.Ic=this.$c=this.Aa=0,this.D=new Uo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,lo),this.Pa=new fr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ja),this.Hd=0,this.rb=Array(new Un),this.sb=0,this.wa=Array(new $r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new La),this.L=this.aa=0,this.gd=o([4,2],$r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function di(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dp(){var w=new bc;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,jl||(jl=Sl)),w}function ns(w,A,D){return w.a==0&&(w.a=A,w.sc=D,w.cb=0),0}function fh(w,A,D){return 3<=D&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function _d(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return ns(w,2,"null VP8Io passed to VP8GetHeaders()");var D=A.data,q=A.w,J=A.ha;if(4>J)return ns(w,7,"Truncated header.");var ae=D[q+0]|D[q+1]<<8|D[q+2]<<16,le=w.Od;if(le.Rb=!(1&ae),le.td=ae>>1&7,le.yd=ae>>4&1,le.ub=ae>>5,3<le.td)return ns(w,3,"Incorrect keyframe parameters.");if(!le.yd)return ns(w,4,"Frame not displayable.");q+=3,J-=3;var ue=w.Kc;if(le.Rb){if(7>J)return ns(w,7,"cannot parse picture header");if(!fh(D,q,J))return ns(w,3,"Bad code word");ue.c=16383&(D[q+4]<<8|D[q+3]),ue.Td=D[q+4]>>6,ue.i=16383&(D[q+6]<<8|D[q+5]),ue.Ud=D[q+6]>>6,q+=7,J-=7,w.za=ue.c+15>>4,w.Ub=ue.i+15>>4,A.width=ue.c,A.height=ue.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,s((ae=w.Pa).jb,0,255,ae.jb.length),t((ae=w.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,s(ae.Zb,0,0,ae.Zb.length),s(ae.Lb,0,0,ae.Lb)}if(le.ub>J)return ns(w,7,"bad partition length");Y(ae=w.m,D,q,le.ub),q+=le.ub,J-=le.ub,le.Rb&&(ue.Ld=pe(ae),ue.Kd=pe(ae)),ue=w.Qa;var he,xe=w.Pa;if(t(ae!=null),t(ue!=null),ue.Cb=pe(ae),ue.Cb){if(ue.Bb=pe(ae),pe(ae)){for(ue.Fb=pe(ae),he=0;4>he;++he)ue.Zb[he]=pe(ae)?Z(ae,7):0;for(he=0;4>he;++he)ue.Lb[he]=pe(ae)?Z(ae,6):0}if(ue.Bb)for(he=0;3>he;++he)xe.jb[he]=pe(ae)?W(ae,8):255}else ue.Bb=0;if(ae.Ka)return ns(w,3,"cannot parse segment header");if((ue=w.ed).zd=pe(ae),ue.Tb=W(ae,6),ue.wb=W(ae,3),ue.Pc=pe(ae),ue.Pc&&pe(ae)){for(xe=0;4>xe;++xe)pe(ae)&&(ue.vd[xe]=Z(ae,6));for(xe=0;4>xe;++xe)pe(ae)&&(ue.od[xe]=Z(ae,6))}if(w.L=ue.Tb==0?0:ue.zd?1:2,ae.Ka)return ns(w,3,"cannot parse filter header");var Oe=J;if(J=he=q,q=he+Oe,ue=Oe,w.Xb=(1<<W(w.m,2))-1,Oe<3*(xe=w.Xb))D=7;else{for(he+=3*xe,ue-=3*xe,Oe=0;Oe<xe;++Oe){var He=D[J+0]|D[J+1]<<8|D[J+2]<<16;He>ue&&(He=ue),Y(w.Jc[+Oe],D,he,He),he+=He,ue-=He,J+=3}Y(w.Jc[+xe],D,he,ue),D=he<q?0:5}if(D!=0)return ns(w,D,"cannot parse partitions");for(D=W(he=w.m,7),J=pe(he)?Z(he,4):0,q=pe(he)?Z(he,4):0,ue=pe(he)?Z(he,4):0,xe=pe(he)?Z(he,4):0,he=pe(he)?Z(he,4):0,Oe=w.Qa,He=0;4>He;++He){if(Oe.Cb){var ve=Oe.Zb[He];Oe.Fb||(ve+=D)}else{if(0<He){w.pb[He]=w.pb[0];continue}ve=D}var Le=w.pb[He];Le.Sc[0]=qg[Kr(ve+J,127)],Le.Sc[1]=jh[Kr(ve+0,127)],Le.Eb[0]=2*qg[Kr(ve+q,127)],Le.Eb[1]=101581*jh[Kr(ve+ue,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=qg[Kr(ve+xe,117)],Le.Qc[1]=jh[Kr(ve+he,127)],Le.lc=ve+he}if(!le.Rb)return ns(w,4,"Not a key frame.");for(pe(ae),le=w.Pa,D=0;4>D;++D){for(J=0;8>J;++J)for(q=0;3>q;++q)for(ue=0;11>ue;++ue)xe=oe(ae,zd[D][J][q][ue])?W(ae,8):Fh[D][J][q][ue],le.Wc[D][J].Yb[q][ue]=xe;for(J=0;17>J;++J)le.Xc[D][J]=le.Wc[D][z_[J]]}return w.kc=pe(ae),w.kc&&(w.Bd=W(ae,8)),w.cb=1}function Sl(w,A,D,q,J,ae,le){var ue=A[J].Yb[D];for(D=0;16>J;++J){if(!oe(w,ue[D+0]))return J;for(;!oe(w,ue[D+1]);)if(ue=A[++J].Yb[0],D=0,J==16)return 16;var he=A[J+1].Yb;if(oe(w,ue[D+2])){var xe=w,Oe=0;if(oe(xe,(ve=ue)[(He=D)+3]))if(oe(xe,ve[He+6])){for(ue=0,He=2*(Oe=oe(xe,ve[He+8]))+(ve=oe(xe,ve[He+9+Oe])),Oe=0,ve=Hg[He];ve[ue];++ue)Oe+=Oe+oe(xe,ve[ue]);Oe+=3+(8<<He)}else oe(xe,ve[He+7])?(Oe=7+2*oe(xe,165),Oe+=oe(xe,145)):Oe=5+oe(xe,159);else Oe=oe(xe,ve[He+4])?3+oe(xe,ve[He+5]):2;ue=he[2]}else Oe=1,ue=he[1];he=le+Ud[J],0>(xe=w).b&&Se(xe);var He,ve=xe.b,Le=(He=xe.Ca>>1)-(xe.I>>ve)>>31;--xe.b,xe.Ca+=Le,xe.Ca|=1,xe.I-=(He+1&Le)<<ve,ae[he]=((Oe^Le)-Le)*q[(0<J)+0]}return 16}function _c(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,s(w.zc,0,0,w.zc.length),w.ja=0}function Ui(w,A,D,q,J){J=w[A+D+32*q]+(J>>3),w[A+D+32*q]=-256&J?0>J?0:255:J}function Sc(w,A,D,q,J,ae){Ui(w,A,0,D,q+J),Ui(w,A,1,D,q+ae),Ui(w,A,2,D,q-ae),Ui(w,A,3,D,q-J)}function ss(w){return(20091*w>>16)+w}function Sd(w,A,D,q){var J,ae=0,le=i(16);for(J=0;4>J;++J){var ue=w[A+0]+w[A+8],he=w[A+0]-w[A+8],xe=(35468*w[A+4]>>16)-ss(w[A+12]),Oe=ss(w[A+4])+(35468*w[A+12]>>16);le[ae+0]=ue+Oe,le[ae+1]=he+xe,le[ae+2]=he-xe,le[ae+3]=ue-Oe,ae+=4,A++}for(J=ae=0;4>J;++J)ue=(w=le[ae+0]+4)+le[ae+8],he=w-le[ae+8],xe=(35468*le[ae+4]>>16)-ss(le[ae+12]),Ui(D,q,0,0,ue+(Oe=ss(le[ae+4])+(35468*le[ae+12]>>16))),Ui(D,q,1,0,he+xe),Ui(D,q,2,0,he-xe),Ui(D,q,3,0,ue-Oe),ae++,q+=32}function fp(w,A,D,q){var J=w[A+0]+4,ae=35468*w[A+4]>>16,le=ss(w[A+4]),ue=35468*w[A+1]>>16;Sc(D,q,0,J+le,w=ss(w[A+1]),ue),Sc(D,q,1,J+ae,w,ue),Sc(D,q,2,J-ae,w,ue),Sc(D,q,3,J-le,w,ue)}function hh(w,A,D,q,J){Sd(w,A,D,q),J&&Sd(w,A+16,D,q+4)}function Ig(w,A,D,q){Je(w,A+0,D,q,1),Je(w,A+32,D,q+128,1)}function co(w,A,D,q){var J;for(w=w[A+0]+4,J=0;4>J;++J)for(A=0;4>A;++A)Ui(D,q,A,J,w)}function Ad(w,A,D,q){w[A+0]&&Ot(w,A+0,D,q),w[A+16]&&Ot(w,A+16,D,q+4),w[A+32]&&Ot(w,A+32,D,q+128),w[A+48]&&Ot(w,A+48,D,q+128+4)}function Ed(w,A,D,q){var J,ae=i(16);for(J=0;4>J;++J){var le=w[A+0+J]+w[A+12+J],ue=w[A+4+J]+w[A+8+J],he=w[A+4+J]-w[A+8+J],xe=w[A+0+J]-w[A+12+J];ae[0+J]=le+ue,ae[8+J]=le-ue,ae[4+J]=xe+he,ae[12+J]=xe-he}for(J=0;4>J;++J)le=(w=ae[0+4*J]+3)+ae[3+4*J],ue=ae[1+4*J]+ae[2+4*J],he=ae[1+4*J]-ae[2+4*J],xe=w-ae[3+4*J],D[q+0]=le+ue>>3,D[q+16]=xe+he>>3,D[q+32]=le-ue>>3,D[q+48]=xe-he>>3,q+=64}function la(w,A,D){var q,J=A-32,ae=$i,le=255-w[J-1];for(q=0;q<D;++q){var ue,he=ae,xe=le+w[A-1];for(ue=0;ue<D;++ue)w[A+ue]=he[xe+w[J+ue]];A+=32}}function Nd(w,A){la(w,A,4)}function hp(w,A){la(w,A,8)}function Pg(w,A){la(w,A,16)}function pp(w,A){var D;for(D=0;16>D;++D)n(w,A+32*D,w,A-32,16)}function Td(w,A){var D;for(D=16;0<D;--D)s(w,A,w[A-1],16),A+=32}function Ac(w,A,D){var q;for(q=0;16>q;++q)s(A,D+32*q,w,16)}function Al(w,A){var D,q=16;for(D=0;16>D;++D)q+=w[A-1+32*D]+w[A+D-32];Ac(q>>5,w,A)}function Og(w,A){var D,q=8;for(D=0;16>D;++D)q+=w[A-1+32*D];Ac(q>>4,w,A)}function xu(w,A){var D,q=8;for(D=0;16>D;++D)q+=w[A+D-32];Ac(q>>4,w,A)}function ph(w,A){Ac(128,w,A)}function xr(w,A,D){return w+2*A+D+2>>2}function Rg(w,A){var D,q=A-32;for(q=new Uint8Array([xr(w[q-1],w[q+0],w[q+1]),xr(w[q+0],w[q+1],w[q+2]),xr(w[q+1],w[q+2],w[q+3]),xr(w[q+2],w[q+3],w[q+4])]),D=0;4>D;++D)n(w,A+32*D,q,0,q.length)}function Dg(w,A){var D=w[A-1],q=w[A-1+32],J=w[A-1+64],ae=w[A-1+96];De(w,A+0,16843009*xr(w[A-1-32],D,q)),De(w,A+32,16843009*xr(D,q,J)),De(w,A+64,16843009*xr(q,J,ae)),De(w,A+96,16843009*xr(J,ae,ae))}function Lg(w,A){var D,q=4;for(D=0;4>D;++D)q+=w[A+D-32]+w[A-1+32*D];for(q>>=3,D=0;4>D;++D)s(w,A+32*D,q,4)}function jg(w,A){var D=w[A-1+0],q=w[A-1+32],J=w[A-1+64],ae=w[A-1-32],le=w[A+0-32],ue=w[A+1-32],he=w[A+2-32],xe=w[A+3-32];w[A+0+96]=xr(q,J,w[A-1+96]),w[A+1+96]=w[A+0+64]=xr(D,q,J),w[A+2+96]=w[A+1+64]=w[A+0+32]=xr(ae,D,q),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=xr(le,ae,D),w[A+3+64]=w[A+2+32]=w[A+1+0]=xr(ue,le,ae),w[A+3+32]=w[A+2+0]=xr(he,ue,le),w[A+3+0]=xr(xe,he,ue)}function uo(w,A){var D=w[A+1-32],q=w[A+2-32],J=w[A+3-32],ae=w[A+4-32],le=w[A+5-32],ue=w[A+6-32],he=w[A+7-32];w[A+0+0]=xr(w[A+0-32],D,q),w[A+1+0]=w[A+0+32]=xr(D,q,J),w[A+2+0]=w[A+1+32]=w[A+0+64]=xr(q,J,ae),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=xr(J,ae,le),w[A+3+32]=w[A+2+64]=w[A+1+96]=xr(ae,le,ue),w[A+3+64]=w[A+2+96]=xr(le,ue,he),w[A+3+96]=xr(ue,he,he)}function El(w,A){var D=w[A-1+0],q=w[A-1+32],J=w[A-1+64],ae=w[A-1-32],le=w[A+0-32],ue=w[A+1-32],he=w[A+2-32],xe=w[A+3-32];w[A+0+0]=w[A+1+64]=ae+le+1>>1,w[A+1+0]=w[A+2+64]=le+ue+1>>1,w[A+2+0]=w[A+3+64]=ue+he+1>>1,w[A+3+0]=he+xe+1>>1,w[A+0+96]=xr(J,q,D),w[A+0+64]=xr(q,D,ae),w[A+0+32]=w[A+1+96]=xr(D,ae,le),w[A+1+32]=w[A+2+96]=xr(ae,le,ue),w[A+2+32]=w[A+3+96]=xr(le,ue,he),w[A+3+32]=xr(ue,he,xe)}function Fg(w,A){var D=w[A+0-32],q=w[A+1-32],J=w[A+2-32],ae=w[A+3-32],le=w[A+4-32],ue=w[A+5-32],he=w[A+6-32],xe=w[A+7-32];w[A+0+0]=D+q+1>>1,w[A+1+0]=w[A+0+64]=q+J+1>>1,w[A+2+0]=w[A+1+64]=J+ae+1>>1,w[A+3+0]=w[A+2+64]=ae+le+1>>1,w[A+0+32]=xr(D,q,J),w[A+1+32]=w[A+0+96]=xr(q,J,ae),w[A+2+32]=w[A+1+96]=xr(J,ae,le),w[A+3+32]=w[A+2+96]=xr(ae,le,ue),w[A+3+64]=xr(le,ue,he),w[A+3+96]=xr(ue,he,xe)}function Mg(w,A){var D=w[A-1+0],q=w[A-1+32],J=w[A-1+64],ae=w[A-1+96];w[A+0+0]=D+q+1>>1,w[A+2+0]=w[A+0+32]=q+J+1>>1,w[A+2+32]=w[A+0+64]=J+ae+1>>1,w[A+1+0]=xr(D,q,J),w[A+3+0]=w[A+1+32]=xr(q,J,ae),w[A+3+32]=w[A+1+64]=xr(J,ae,ae),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=ae}function kd(w,A){var D=w[A-1+0],q=w[A-1+32],J=w[A-1+64],ae=w[A-1+96],le=w[A-1-32],ue=w[A+0-32],he=w[A+1-32],xe=w[A+2-32];w[A+0+0]=w[A+2+32]=D+le+1>>1,w[A+0+32]=w[A+2+64]=q+D+1>>1,w[A+0+64]=w[A+2+96]=J+q+1>>1,w[A+0+96]=ae+J+1>>1,w[A+3+0]=xr(ue,he,xe),w[A+2+0]=xr(le,ue,he),w[A+1+0]=w[A+3+32]=xr(D,le,ue),w[A+1+32]=w[A+3+64]=xr(q,D,le),w[A+1+64]=w[A+3+96]=xr(J,q,D),w[A+1+96]=xr(ae,J,q)}function mh(w,A){var D;for(D=0;8>D;++D)n(w,A+32*D,w,A-32,8)}function rn(w,A){var D;for(D=0;8>D;++D)s(w,A,w[A-1],8),A+=32}function nn(w,A,D){var q;for(q=0;8>q;++q)s(A,D+32*q,w,8)}function Cd(w,A){var D,q=8;for(D=0;8>D;++D)q+=w[A+D-32]+w[A-1+32*D];nn(q>>4,w,A)}function Bg(w,A){var D,q=4;for(D=0;8>D;++D)q+=w[A+D-32];nn(q>>3,w,A)}function gh(w,A){var D,q=4;for(D=0;8>D;++D)q+=w[A-1+32*D];nn(q>>3,w,A)}function yh(w,A){nn(128,w,A)}function vu(w,A,D){var q=w[A-D],J=w[A+0],ae=3*(J-q)+jd[1020+w[A-2*D]-w[A+D]],le=Dh[112+(ae+4>>3)];w[A-D]=$i[255+q+Dh[112+(ae+3>>3)]],w[A+0]=$i[255+J-le]}function wu(w,A,D,q){var J=w[A+0],ae=w[A+D];return Ni[255+w[A-2*D]-w[A-D]]>q||Ni[255+ae-J]>q}function Id(w,A,D,q){return 4*Ni[255+w[A-D]-w[A+0]]+Ni[255+w[A-2*D]-w[A+D]]<=q}function Pd(w,A,D,q,J){var ae=w[A-3*D],le=w[A-2*D],ue=w[A-D],he=w[A+0],xe=w[A+D],Oe=w[A+2*D],He=w[A+3*D];return 4*Ni[255+ue-he]+Ni[255+le-xe]>q?0:Ni[255+w[A-4*D]-ae]<=J&&Ni[255+ae-le]<=J&&Ni[255+le-ue]<=J&&Ni[255+He-Oe]<=J&&Ni[255+Oe-xe]<=J&&Ni[255+xe-he]<=J}function is(w,A,D,q){var J=2*q+1;for(q=0;16>q;++q)Id(w,A+q,D,J)&&vu(w,A+q,D)}function Nl(w,A,D,q){var J=2*q+1;for(q=0;16>q;++q)Id(w,A+q*D,1,J)&&vu(w,A+q*D,1)}function $o(w,A,D,q){var J;for(J=3;0<J;--J)is(w,A+=4*D,D,q)}function xh(w,A,D,q){var J;for(J=3;0<J;--J)Nl(w,A+=4,D,q)}function fo(w,A,D,q,J,ae,le,ue){for(ae=2*ae+1;0<J--;){if(Pd(w,A,D,ae,le))if(wu(w,A,D,ue))vu(w,A,D);else{var he=w,xe=A,Oe=D,He=he[xe-2*Oe],ve=he[xe-Oe],Le=he[xe+0],Me=he[xe+Oe],Qe=he[xe+2*Oe],Ue=27*(st=jd[1020+3*(Le-ve)+jd[1020+He-Me]])+63>>7,tt=18*st+63>>7,st=9*st+63>>7;he[xe-3*Oe]=$i[255+he[xe-3*Oe]+st],he[xe-2*Oe]=$i[255+He+tt],he[xe-Oe]=$i[255+ve+Ue],he[xe+0]=$i[255+Le-Ue],he[xe+Oe]=$i[255+Me-tt],he[xe+2*Oe]=$i[255+Qe-st]}A+=q}}function gs(w,A,D,q,J,ae,le,ue){for(ae=2*ae+1;0<J--;){if(Pd(w,A,D,ae,le))if(wu(w,A,D,ue))vu(w,A,D);else{var he=w,xe=A,Oe=D,He=he[xe-Oe],ve=he[xe+0],Le=he[xe+Oe],Me=Dh[112+(4+(Qe=3*(ve-He))>>3)],Qe=Dh[112+(Qe+3>>3)],Ue=Me+1>>1;he[xe-2*Oe]=$i[255+he[xe-2*Oe]+Ue],he[xe-Oe]=$i[255+He+Qe],he[xe+0]=$i[255+ve-Me],he[xe+Oe]=$i[255+Le-Ue]}A+=q}}function vh(w,A,D,q,J,ae){fo(w,A,D,1,16,q,J,ae)}function wh(w,A,D,q,J,ae){fo(w,A,1,D,16,q,J,ae)}function Ec(w,A,D,q,J,ae){var le;for(le=3;0<le;--le)gs(w,A+=4*D,D,1,16,q,J,ae)}function bh(w,A,D,q,J,ae){var le;for(le=3;0<le;--le)gs(w,A+=4,1,D,16,q,J,ae)}function O(w,A,D,q,J,ae,le,ue){fo(w,A,J,1,8,ae,le,ue),fo(D,q,J,1,8,ae,le,ue)}function re(w,A,D,q,J,ae,le,ue){fo(w,A,1,J,8,ae,le,ue),fo(D,q,1,J,8,ae,le,ue)}function ye(w,A,D,q,J,ae,le,ue){gs(w,A+4*J,J,1,8,ae,le,ue),gs(D,q+4*J,J,1,8,ae,le,ue)}function Te(w,A,D,q,J,ae,le,ue){gs(w,A+4,1,J,8,ae,le,ue),gs(D,q+4,1,J,8,ae,le,ue)}function je(){this.ba=new cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ft(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new H}function Wt(){this.xb=this.a=0,this.l=new di,this.ca=new cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ft,this.ab=0,this.gc=a(4,ft),this.Oc=0}function hr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new di,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(w,A,D,q,J,ae,le){for(w=w==null?0:w[A+0],A=0;A<le;++A)J[ae+A]=w+D[q+A]&255,w=J[ae+A]}function Lr(w,A,D,q,J,ae,le){var ue;if(w==null)zt(null,null,D,q,J,ae,le);else for(ue=0;ue<le;++ue)J[ae+ue]=w[A+ue]+D[q+ue]&255}function Rn(w,A,D,q,J,ae,le){if(w==null)zt(null,null,D,q,J,ae,le);else{var ue,he=w[A+0],xe=he,Oe=he;for(ue=0;ue<le;++ue)xe=Oe+(he=w[A+ue])-xe,Oe=D[q+ue]+(-256&xe?0>xe?0:255:xe)&255,xe=he,J[ae+ue]=Oe}}function ys(w,A,D,q){var J=A.width,ae=A.o;if(t(w!=null&&A!=null),0>D||0>=q||D+q>ae)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new hr,(le=w.ga==null)||(le=A.width*A.o,t(w.Gb.length==0),w.Gb=i(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var ue=w.Fa,he=w.P,xe=w.qc,Oe=w.mb,He=w.nb,ve=he+1,Le=xe-1,Me=le.l;if(t(ue!=null&&Oe!=null&&A!=null),Ba[0]=null,Ba[1]=zt,Ba[2]=Lr,Ba[3]=Rn,le.ca=Oe,le.tb=He,le.c=A.width,le.i=A.height,t(0<le.c&&0<le.i),1>=xe)A=0;else if(le.$a=3&ue[he+0],le.Z=ue[he+0]>>2&3,le.Lc=ue[he+0]>>4&3,he=ue[he+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||he)A=0;else if(Me.put=rr,Me.ac=Da,Me.bc=oo,Me.ma=le,Me.width=A.width,Me.height=A.height,Me.Da=A.Da,Me.v=A.v,Me.va=A.va,Me.j=A.j,Me.o=A.o,le.$a)e:{t(le.$a==1),A=ze();t:for(;;){if(A==null){A=0;break e}if(t(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,ne(A.m,ue,ve,Le),!qe(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&me(A.s)?(le.ic=1,ue=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(ue),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=We(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=Le>=le.c*le.i;le=!A}if(le)return null;w.ga.Lc!=1?w.Ga=0:q=ae-D}t(w.ga!=null),t(D+q<=ae);e:{if(A=(ue=w.ga).c,ae=ue.l.o,ue.$a==0){if(ve=w.rc,Le=w.Vc,Me=w.Fa,he=w.P+1+D*A,xe=w.mb,Oe=w.nb+D*A,t(he<=w.P+w.qc),ue.Z!=0)for(t(Ba[ue.Z]!=null),le=0;le<q;++le)Ba[ue.Z](ve,Le,Me,he,xe,Oe,A),ve=xe,Le=Oe,Oe+=A,he+=A;else for(le=0;le<q;++le)n(xe,Oe,Me,he,A),ve=xe,Le=Oe,Oe+=A,he+=A;w.rc=ve,w.Vc=Le}else{if(t(ue.mc!=null),A=D+q,t((le=ue.mc)!=null),t(A<=le.i),le.C>=A)A=1;else if(ue.ic||ca(),ue.ic){ue=le.V,ve=le.Ba,Le=le.c;var Qe=le.i,Ue=(Me=1,he=le.$/Le,xe=le.$%Le,Oe=le.m,He=le.s,le.$),tt=Le*Qe,st=Le*A,xt=He.wc,ot=Ue<st?ie(He,xe,he):null;t(Ue<=tt),t(A<=Qe),t(me(He));t:for(;;){for(;!Oe.h&&Ue<st;){if(xe&xt||(ot=ie(He,xe,he)),t(ot!=null),ge(Oe),256>(Qe=Fn(ot.G[0],ot.H[0],Oe)))ue[ve+Ue]=Qe,++Ue,++xe>=Le&&(xe=0,++he<=A&&!(he%16)&&_e(le,he));else{if(!(280>Qe)){Me=0;break t}Qe=ci(Qe-256,Oe);var Kt,Lt=Fn(ot.G[4],ot.H[4],Oe);if(ge(Oe),!(Ue>=(Lt=ui(Le,Lt=ci(Lt,Oe)))&&tt-Ue>=Qe)){Me=0;break t}for(Kt=0;Kt<Qe;++Kt)ue[ve+Ue+Kt]=ue[ve+Ue+Kt-Lt];for(Ue+=Qe,xe+=Qe;xe>=Le;)xe-=Le,++he<=A&&!(he%16)&&_e(le,he);Ue<st&&xe&xt&&(ot=ie(He,xe,he))}t(Oe.h==V(Oe))}_e(le,he>A?A:he);break t}!Me||Oe.h&&Ue<tt?(Me=0,le.a=Oe.h?5:3):le.$=Ue,A=Me}else A=Be(le,le.V,le.Ba,le.c,le.i,A,gt);if(!A){q=0;break e}}D+q>=ae&&(w.Cc=1),q=1}if(!q)return null;if(w.Cc&&((q=w.ga)!=null&&(q.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*J}function gn(w,A,D,q,J,ae){for(;0<J--;){var le,ue=w,he=A+(D?1:0),xe=w,Oe=A+(D?0:3);for(le=0;le<q;++le){var He=xe[Oe+4*le];He!=255&&(He*=32897,ue[he+4*le+0]=ue[he+4*le+0]*He>>23,ue[he+4*le+1]=ue[he+4*le+1]*He>>23,ue[he+4*le+2]=ue[he+4*le+2]*He>>23)}A+=ae}}function ks(w,A,D,q,J){for(;0<q--;){var ae;for(ae=0;ae<D;++ae){var le=w[A+2*ae+0],ue=15&(xe=w[A+2*ae+1]),he=4369*ue,xe=(240&xe|xe>>4)*he>>16;w[A+2*ae+0]=(240&le|le>>4)*he>>16&240|(15&le|le<<4)*he>>16>>4&15,w[A+2*ae+1]=240&xe|ue}A+=J}}function xs(w,A,D,q,J,ae,le,ue){var he,xe,Oe=255;for(xe=0;xe<J;++xe){for(he=0;he<q;++he){var He=w[A+he];ae[le+4*he]=He,Oe&=He}A+=D,le+=ue}return Oe!=255}function Ys(w,A,D,q,J){var ae;for(ae=0;ae<J;++ae)D[q+ae]=w[A+ae]>>8}function ca(){Ld=gn,Ph=ks,ev=xs,tv=Ys}function Xs(w,A,D){F[w]=function(q,J,ae,le,ue,he,xe,Oe,He,ve,Le,Me,Qe,Ue,tt,st,xt){var ot,Kt=xt-1>>1,Lt=ue[he+0]|xe[Oe+0]<<16,nr=He[ve+0]|Le[Me+0]<<16;t(q!=null);var Gt=3*Lt+nr+131074>>2;for(A(q[J+0],255&Gt,Gt>>16,Qe,Ue),ae!=null&&(Gt=3*nr+Lt+131074>>2,A(ae[le+0],255&Gt,Gt>>16,tt,st)),ot=1;ot<=Kt;++ot){var zr=ue[he+ot]|xe[Oe+ot]<<16,vs=He[ve+ot]|Le[Me+ot]<<16,_r=Lt+zr+nr+vs+524296,Ut=_r+2*(zr+nr)>>3;Gt=Ut+Lt>>1,Lt=(_r=_r+2*(Lt+vs)>>3)+zr>>1,A(q[J+2*ot-1],255&Gt,Gt>>16,Qe,Ue+(2*ot-1)*D),A(q[J+2*ot-0],255&Lt,Lt>>16,Qe,Ue+(2*ot-0)*D),ae!=null&&(Gt=_r+nr>>1,Lt=Ut+vs>>1,A(ae[le+2*ot-1],255&Gt,Gt>>16,tt,st+(2*ot-1)*D),A(ae[le+2*ot+0],255&Lt,Lt>>16,tt,st+(2*ot+0)*D)),Lt=zr,nr=vs}1&xt||(Gt=3*Lt+nr+131074>>2,A(q[J+xt-1],255&Gt,Gt>>16,Qe,Ue+(xt-1)*D),ae!=null&&(Gt=3*nr+Lt+131074>>2,A(ae[le+xt-1],255&Gt,Gt>>16,tt,st+(xt-1)*D)))}}function Tl(){fa[Lh]=ce,fa[Rc]=Bh,fa[Dc]=qd,fa[Eu]=ha,fa[gp]=Br,fa[$g]=ov,fa[nv]=H_,fa[Fd]=Bh,fa[Md]=ha,fa[Bd]=Br,fa[zg]=ov}function Od(w){return w&~W_?0>w?0:255:w>>lv}function Nc(w,A){return Od((19077*w>>8)+(26149*A>>8)-14234)}function kl(w,A,D){return Od((19077*w>>8)-(6419*A>>8)-(13320*D>>8)+8708)}function Cl(w,A){return Od((19077*w>>8)+(33050*A>>8)-17685)}function Il(w,A,D,q,J){q[J+0]=Nc(w,D),q[J+1]=kl(w,A,D),q[J+2]=Cl(w,A)}function Tc(w,A,D,q,J){q[J+0]=Cl(w,A),q[J+1]=kl(w,A,D),q[J+2]=Nc(w,D)}function fi(w,A,D,q,J){var ae=kl(w,A,D);A=ae<<3&224|Cl(w,A)>>3,q[J+0]=248&Nc(w,D)|ae>>5,q[J+1]=A}function Pl(w,A,D,q,J){var ae=240&Cl(w,A)|15;q[J+0]=240&Nc(w,D)|kl(w,A,D)>>4,q[J+1]=ae}function Ol(w,A,D,q,J){q[J+0]=255,Il(w,A,D,q,J+1)}function _h(w,A,D,q,J){Tc(w,A,D,q,J),q[J+3]=255}function Rd(w,A,D,q,J){Il(w,A,D,q,J),q[J+3]=255}function Kr(w,A){return 0>w?0:w>A?A:w}function ho(w,A,D){F[w]=function(q,J,ae,le,ue,he,xe,Oe,He){for(var ve=Oe+(-2&He)*D;Oe!=ve;)A(q[J+0],ae[le+0],ue[he+0],xe,Oe),A(q[J+1],ae[le+0],ue[he+0],xe,Oe+D),J+=2,++le,++he,Oe+=2*D;1&He&&A(q[J+0],ae[le+0],ue[he+0],xe,Oe)}}function zo(w,A,D){return D==0?w==0?A==0?6:5:A==0?4:0:D}function Sh(w,A,D,q,J){switch(w>>>30){case 3:Je(A,D,q,J,0);break;case 2:Ve(A,D,q,J);break;case 1:Ot(A,D,q,J)}}function ua(w,A){var D,q,J=A.M,ae=A.Nb,le=w.oc,ue=w.pc+40,he=w.oc,xe=w.pc+584,Oe=w.oc,He=w.pc+600;for(D=0;16>D;++D)le[ue+32*D-1]=129;for(D=0;8>D;++D)he[xe+32*D-1]=129,Oe[He+32*D-1]=129;for(0<J?le[ue-1-32]=he[xe-1-32]=Oe[He-1-32]=129:(s(le,ue-32-1,127,21),s(he,xe-32-1,127,9),s(Oe,He-32-1,127,9)),q=0;q<w.za;++q){var ve=A.ya[A.aa+q];if(0<q){for(D=-1;16>D;++D)n(le,ue+32*D-4,le,ue+32*D+12,4);for(D=-1;8>D;++D)n(he,xe+32*D-4,he,xe+32*D+4,4),n(Oe,He+32*D-4,Oe,He+32*D+4,4)}var Le=w.Gd,Me=w.Hd+q,Qe=ve.ad,Ue=ve.Hc;if(0<J&&(n(le,ue-32,Le[Me].y,0,16),n(he,xe-32,Le[Me].f,0,8),n(Oe,He-32,Le[Me].ea,0,8)),ve.Za){var tt=le,st=ue-32+16;for(0<J&&(q>=w.za-1?s(tt,st,Le[Me].y[15],4):n(tt,st,Le[Me+1].y,0,4)),D=0;4>D;D++)tt[st+128+D]=tt[st+256+D]=tt[st+384+D]=tt[st+0+D];for(D=0;16>D;++D,Ue<<=2)tt=le,st=ue+Wo[D],go[ve.Ob[D]](tt,st),Sh(Ue,Qe,16*+D,tt,st)}else if(tt=zo(q,J,ve.Ob[0]),Lc[tt](le,ue),Ue!=0)for(D=0;16>D;++D,Ue<<=2)Sh(Ue,Qe,16*+D,le,ue+Wo[D]);for(D=ve.Gc,tt=zo(q,J,ve.Dd),Fl[tt](he,xe),Fl[tt](Oe,He),Ue=Qe,tt=he,st=xe,255&(ve=0|D)&&(170&ve?Pt(Ue,256,tt,st):Qt(Ue,256,tt,st)),ve=Oe,Ue=He,255&(D>>=8)&&(170&D?Pt(Qe,320,ve,Ue):Qt(Qe,320,ve,Ue)),J<w.Ub-1&&(n(Le[Me].y,0,le,ue+480,16),n(Le[Me].f,0,he,xe+224,8),n(Le[Me].ea,0,Oe,He+224,8)),D=8*ae*w.B,Le=w.sa,Me=w.ta+16*q+16*ae*w.R,Qe=w.qa,ve=w.ra+8*q+D,Ue=w.Ha,tt=w.Ia+8*q+D,D=0;16>D;++D)n(Le,Me+D*w.R,le,ue+32*D,16);for(D=0;8>D;++D)n(Qe,ve+D*w.B,he,xe+32*D,8),n(Ue,tt+D*w.B,Oe,He+32*D,8)}}function bu(w,A,D,q,J,ae,le,ue,he){var xe=[0],Oe=[0],He=0,ve=he!=null?he.kd:0,Le=he??new nt;if(w==null||12>D)return 7;Le.data=w,Le.w=A,Le.ha=D,A=[A],D=[D],Le.gb=[Le.gb];e:{var Me=A,Qe=D,Ue=Le.gb;if(t(w!=null),t(Qe!=null),t(Ue!=null),Ue[0]=0,12<=Qe[0]&&!r(w,Me[0],"RIFF")){if(r(w,Me[0]+8,"WEBP")){Ue=3;break e}var tt=Ce(w,Me[0]+4);if(12>tt||4294967286<tt){Ue=3;break e}if(ve&&tt>Qe[0]-8){Ue=7;break e}Ue[0]=tt,Me[0]+=12,Qe[0]-=12}Ue=0}if(Ue!=0)return Ue;for(tt=0<Le.gb[0],D=D[0];;){e:{var st=w;Qe=A,Ue=D;var xt=xe,ot=Oe,Kt=Me=[0];if((Gt=He=[He])[0]=0,8>Ue[0])Ue=7;else{if(!r(st,Qe[0],"VP8X")){if(Ce(st,Qe[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Lt=Ce(st,Qe[0]+8),nr=1+Ze(st,Qe[0]+12);if(2147483648<=nr*(st=1+Ze(st,Qe[0]+15))){Ue=3;break e}Kt!=null&&(Kt[0]=Lt),xt!=null&&(xt[0]=nr),ot!=null&&(ot[0]=st),Qe[0]+=18,Ue[0]-=18,Gt[0]=1}Ue=0}}if(He=He[0],Me=Me[0],Ue!=0)return Ue;if(Qe=!!(2&Me),!tt&&He)return 3;if(ae!=null&&(ae[0]=!!(16&Me)),le!=null&&(le[0]=Qe),ue!=null&&(ue[0]=0),le=xe[0],Me=Oe[0],He&&Qe&&he==null){Ue=0;break}if(4>D){Ue=7;break}if(tt&&He||!tt&&!He&&!r(w,A[0],"ALPH")){D=[D],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Lt=w,Ue=A,tt=D;var Gt=Le.gb;xt=Le.na,ot=Le.P,Kt=Le.Sa,nr=22,t(Lt!=null),t(tt!=null),st=Ue[0];var zr=tt[0];for(t(xt!=null),t(Kt!=null),xt[0]=null,ot[0]=null,Kt[0]=0;;){if(Ue[0]=st,tt[0]=zr,8>zr){Ue=7;break e}var vs=Ce(Lt,st+4);if(4294967286<vs){Ue=3;break e}var _r=8+vs+1&-2;if(nr+=_r,0<Gt&&nr>Gt){Ue=3;break e}if(!r(Lt,st,"VP8 ")||!r(Lt,st,"VP8L")){Ue=0;break e}if(zr[0]<_r){Ue=7;break e}r(Lt,st,"ALPH")||(xt[0]=Lt,ot[0]=st+8,Kt[0]=vs),st+=_r,zr-=_r}}if(D=D[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ue!=0)break}D=[D],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Gt=w,Ue=A,tt=D,xt=Le.gb[0],ot=Le.Ja,Kt=Le.xa,Lt=Ue[0],st=!r(Gt,Lt,"VP8 "),nr=!r(Gt,Lt,"VP8L"),t(Gt!=null),t(tt!=null),t(ot!=null),t(Kt!=null),8>tt[0])Ue=7;else{if(st||nr){if(Gt=Ce(Gt,Lt+4),12<=xt&&Gt>xt-12){Ue=3;break e}if(ve&&Gt>tt[0]-8){Ue=7;break e}ot[0]=Gt,Ue[0]+=8,tt[0]-=8,Kt[0]=nr}else Kt[0]=5<=tt[0]&&Gt[Lt+0]==47&&!(Gt[Lt+4]>>5),ot[0]=tt[0];Ue=0}if(D=D[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],A=A[0],Ue!=0)break;if(4294967286<Le.Ja)return 3;if(ue==null||Qe||(ue[0]=Le.xa?2:1),le=[le],Me=[Me],Le.xa){if(5>D){Ue=7;break}ue=le,ve=Me,Qe=ae,w==null||5>D?w=0:5<=D&&w[A+0]==47&&!(w[A+4]>>5)?(tt=[0],Gt=[0],xt=[0],ne(ot=new U,w,A,D),oa(ot,tt,Gt,xt)?(ue!=null&&(ue[0]=tt[0]),ve!=null&&(ve[0]=Gt[0]),Qe!=null&&(Qe[0]=xt[0]),w=1):w=0):w=0}else{if(10>D){Ue=7;break}ue=Me,w==null||10>D||!fh(w,A+3,D-3)?w=0:(ve=w[A+0]|w[A+1]<<8|w[A+2]<<16,Qe=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!Qe||!w?w=0:(le&&(le[0]=Qe),ue&&(ue[0]=w),w=1))}if(!w||(le=le[0],Me=Me[0],He&&(xe[0]!=le||Oe[0]!=Me)))return 3;he!=null&&(he[0]=Le,he.offset=A-he.w,t(4294967286>A-he.w),t(he.offset==he.ha-D));break}return Ue==0||Ue==7&&He&&he==null?(ae!=null&&(ae[0]|=Le.na!=null&&0<Le.na.length),q!=null&&(q[0]=le),J!=null&&(J[0]=Me),0):Ue}function Ah(w,A,D){var q=A.width,J=A.height,ae=0,le=0,ue=q,he=J;if(A.Da=w!=null&&0<w.Da,A.Da&&(ue=w.cd,he=w.bd,ae=w.v,le=w.j,11>D||(ae&=-2,le&=-2),0>ae||0>le||0>=ue||0>=he||ae+ue>q||le+he>J))return 0;if(A.v=ae,A.j=le,A.va=ae+ue,A.o=le+he,A.U=ue,A.T=he,A.da=w!=null&&0<w.da,A.da){if(!Ne(ue,he,D=[w.ib],ae=[w.hb]))return 0;A.ib=D[0],A.hb=ae[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*q/4&&A.hb<3*J/4,A.Kb=0),1}function Eh(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function kc(w,A,D,q){if(q==null||0>=w||0>=A)return 2;if(D!=null){if(D.Da){var J=D.cd,ae=D.bd,le=-2&D.v,ue=-2&D.j;if(0>le||0>ue||0>=J||0>=ae||le+J>w||ue+ae>A)return 2;w=J,A=ae}if(D.da){if(!Ne(w,A,J=[D.ib],ae=[D.hb]))return 2;w=J[0],A=ae[0]}}q.width=w,q.height=A;e:{var he=q.width,xe=q.height;if(w=q.S,0>=he||0>=xe||!(w>=Lh&&13>w))w=2;else{if(0>=q.Rd&&q.sd==null){le=ae=J=A=0;var Oe=(ue=he*uv[w])*xe;if(11>w||(ae=(xe+1)/2*(A=(he+1)/2),w==12&&(le=(J=he)*xe)),(xe=i(Oe+2*ae+le))==null){w=1;break e}q.sd=xe,11>w?((he=q.f.RGBA).eb=xe,he.fb=0,he.A=ue,he.size=Oe):((he=q.f.kb).y=xe,he.O=0,he.fa=ue,he.Fd=Oe,he.f=xe,he.N=0+Oe,he.Ab=A,he.Cd=ae,he.ea=xe,he.W=0+Oe+ae,he.Db=A,he.Ed=ae,w==12&&(he.F=xe,he.J=0+Oe+2*ae),he.Tc=le,he.lb=J)}if(A=1,J=q.S,ae=q.width,le=q.height,J>=Lh&&13>J)if(11>J)w=q.f.RGBA,A&=(ue=Math.abs(w.A))*(le-1)+ae<=w.size,A&=ue>=ae*uv[J],A&=w.eb!=null;else{w=q.f.kb,ue=(ae+1)/2,Oe=(le+1)/2,he=Math.abs(w.fa),xe=Math.abs(w.Ab);var He=Math.abs(w.Db),ve=Math.abs(w.lb),Le=ve*(le-1)+ae;A&=he*(le-1)+ae<=w.Fd,A&=xe*(Oe-1)+ue<=w.Cd,A=(A&=He*(Oe-1)+ue<=w.Ed)&he>=ae&xe>=ue&He>=ue,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,J==12&&(A&=ve>=ae,A&=Le<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||D!=null&&D.fd&&(w=Eh(q)),w}var _u=64,Us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Cc=32,po=8,Rl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(w){return w},F.Predictor2=function(w,A,D){return A[D+0]},F.Predictor3=function(w,A,D){return A[D+1]},F.Predictor4=function(w,A,D){return A[D-1]},F.Predictor5=function(w,A,D){return Dt(Dt(w,A[D+1]),A[D+0])},F.Predictor6=function(w,A,D){return Dt(w,A[D-1])},F.Predictor7=function(w,A,D){return Dt(w,A[D+0])},F.Predictor8=function(w,A,D){return Dt(A[D-1],A[D+0])},F.Predictor9=function(w,A,D){return Dt(A[D+0],A[D+1])},F.Predictor10=function(w,A,D){return Dt(Dt(w,A[D-1]),Dt(A[D+0],A[D+1]))},F.Predictor11=function(w,A,D){var q=A[D+0];return 0>=Ee(q>>24&255,w>>24&255,(A=A[D-1])>>24&255)+Ee(q>>16&255,w>>16&255,A>>16&255)+Ee(q>>8&255,w>>8&255,A>>8&255)+Ee(255&q,255&w,255&A)?q:w},F.Predictor12=function(w,A,D){var q=A[D+0];return(gr((w>>24&255)+(q>>24&255)-((A=A[D-1])>>24&255))<<24|gr((w>>16&255)+(q>>16&255)-(A>>16&255))<<16|gr((w>>8&255)+(q>>8&255)-(A>>8&255))<<8|gr((255&w)+(255&q)-(255&A)))>>>0},F.Predictor13=function(w,A,D){var q=A[D-1];return(qt((w=Dt(w,A[D+0]))>>24&255,q>>24&255)<<24|qt(w>>16&255,q>>16&255)<<16|qt(w>>8&255,q>>8&255)<<8|qt(255&w,255&q))>>>0};var Fa=F.PredictorAdd0;F.PredictorAdd1=at,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Dl=F.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var as,mp=F.ColorIndexInverseTransform,qo=F.MapARGB,Ai=F.VP8LColorIndexInverseTransformAlpha,Ei=F.MapAlpha,Dd=F.VP8LPredictorsAdd=[];Dd.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Nh,Th,Ic,Pc,Oc,Ma,Re,Je,Ve,Pt,Ot,Qt,Or,br,mo,kh,Qs,Su,Zx,Au,Ch,Ih,un,Jx,Ld,Ph,ev,tv,rv=i(511),Oh=i(2041),Ll=i(225),Rh=i(767),Ug=0,jd=Oh,Dh=Ll,$i=Rh,Ni=rv,Lh=0,Rc=1,Dc=2,Eu=3,gp=4,$g=5,nv=6,Fd=7,Md=8,Bd=9,zg=10,sv=[2,3,7],B_=[3,3,11],iv=[280,256,256,256,40],Cs=[0,1,1,1,0],hi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],U_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],av=8,qg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jl=null,Hg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ud=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$d=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lc=[],go=[],Fl=[],q_=1,Mh=2,Ba=[],fa=[];Xs("UpsampleRgbLinePair",Il,3),Xs("UpsampleBgrLinePair",Tc,3),Xs("UpsampleRgbaLinePair",Rd,4),Xs("UpsampleBgraLinePair",_h,4),Xs("UpsampleArgbLinePair",Ol,4),Xs("UpsampleRgba4444LinePair",Pl,2),Xs("UpsampleRgb565LinePair",fi,2);var ce=F.UpsampleRgbLinePair,qd=F.UpsampleBgrLinePair,Bh=F.UpsampleRgbaLinePair,ha=F.UpsampleBgraLinePair,Br=F.UpsampleArgbLinePair,ov=F.UpsampleRgba4444LinePair,H_=F.UpsampleRgb565LinePair,xp=16,Ho=1<<xp-1,Uh=-227,Wg=482,lv=6,W_=(256<<lv)-1,cv=0,Ml=i(256),V_=i(256),G_=i(256),K_=i(256),Y_=i(Wg-Uh),X_=i(Wg-Uh);ho("YuvToRgbRow",Il,3),ho("YuvToBgrRow",Tc,3),ho("YuvToRgbaRow",Rd,4),ho("YuvToBgraRow",_h,4),ho("YuvToArgbRow",Ol,4),ho("YuvToRgba4444Row",Pl,2),ho("YuvToRgb565Row",fi,2);var Wo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vp=[0,2,8],Q_=[8,7,6,4,4,2,2,2,1,1,1,1],Z_=1;this.WebPDecodeRGBA=function(w,A,D,q,J){var ae=Rc,le=new je,ue=new cn;le.ba=ue,ue.S=ae,ue.width=[ue.width],ue.height=[ue.height];var he=ue.width,xe=ue.height,Oe=new lr;if(Oe==null||w==null)var He=2;else t(Oe!=null),He=bu(w,A,D,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(He!=0?he=0:(he!=null&&(he[0]=Oe.width[0]),xe!=null&&(xe[0]=Oe.height[0]),he=1),he){ue.width=ue.width[0],ue.height=ue.height[0],q!=null&&(q[0]=ue.width),J!=null&&(J[0]=ue.height);e:{if(q=new di,(J=new nt).data=w,J.w=A,J.ha=D,J.kd=1,A=[0],t(J!=null),((w=bu(J.data,J.w,J.ha,null,null,null,A,null,J))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(t(le!=null),q.data=J.data,q.w=J.w+J.offset,q.ha=J.ha-J.offset,q.put=rr,q.ac=Da,q.bc=oo,q.ma=le,J.xa){if((w=ze())==null){le=1;break e}if(function(ve,Le){var Me=[0],Qe=[0],Ue=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,ne(ve.m,Le.data,Le.w,Le.ha),!oa(ve.m,Me,Qe,Ue)){ve.a=3;break t}if(ve.xb=Mh,Le.width=Me[0],Le.height=Qe[0],!qe(Me[0],Qe[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(w,q)){if(q=(A=kc(q.width,q.height,le.Oa,le.ba))==0){t:{q=w;r:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((D=q.l)!=null),t((J=D.ma)!=null),q.xb!=0){if(q.ca=J.ba,q.tb=J.tb,t(q.ca!=null),!Ah(J.Oa,D,Eu)){q.a=2;break r}if(!We(q,D.width)||D.da)break r;if((D.da||yr(q.ca.S))&&ca(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&ca()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!se(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!Be(q,q.V,q.Ba,q.c,q.i,D.o,fe))break r;J.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(A=w.a)}else A=w.a}else{if((w=new dp)==null){le=1;break e}if(w.Fa=J.na,w.P=J.P,w.qc=J.Sa,_d(w,q)){if((A=kc(q.width,q.height,le.Oa,le.ba))==0){if(w.Aa=0,D=le.Oa,t((J=w)!=null),D!=null){if(0<(he=0>(he=D.Md)?0:100<he?255:255*he/100)){for(xe=Oe=0;4>xe;++xe)12>(He=J.pb[xe]).lc&&(He.ia=he*Q_[0>He.lc?0:He.lc]>>3),Oe|=He.ia;Oe&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=D.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return ns(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!_d(ve,Le))return 0;if(t(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var Me=vp[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-Me>>4,ve.zb=Le.j-Me>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+Me>>4,ve.Hb=Le.va+15+Me>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var Qe=ve.ed;for(Me=0;4>Me;++Me){var Ue;if(ve.Qa.Cb){var tt=ve.Qa.Lb[Me];ve.Qa.Fb||(tt+=Qe.Tb)}else tt=Qe.Tb;for(Ue=0;1>=Ue;++Ue){var st=ve.gd[Me][Ue],xt=tt;if(Qe.Pc&&(xt+=Qe.vd[0],Ue&&(xt+=Qe.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var ot=xt;0<Qe.wb&&(ot=4<Qe.wb?ot>>2:ot>>1)>9-Qe.wb&&(ot=9-Qe.wb),1>ot&&(ot=1),st.dd=ot,st.tc=2*xt+ot,st.ld=40<=xt?2:15<=xt?1:0}else st.tc=0;st.La=Ue}}}Me=0}else ns(ve,6,"Frame setup failed"),Me=ve.a;if(Me=Me==0){if(Me){ve.$c=0,0<ve.Aa||(ve.Ic=Z_);t:{Me=ve.Ic,Qe=4*(ot=ve.za);var Kt=32*ot,Lt=ot+1,nr=0<ve.L?ot*(0<ve.Aa?2:1):0,Gt=(ve.Aa==2?2:1)*ot;if((st=Qe+832+(Ue=3*(16*Me+vp[ve.L])/2*Kt)+(tt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=st)Me=0;else{if(st>ve.Vb){if(ve.Vb=0,ve.Ec=i(st),ve.Fc=0,ve.Ec==null){Me=ns(ve,1,"no memory during frame initialization.");break t}ve.Vb=st}st=ve.Ec,xt=ve.Fc,ve.Ac=st,ve.Bc=xt,xt+=Qe,ve.Gd=a(Kt,ja),ve.Hd=0,ve.rb=a(Lt+1,Un),ve.sb=1,ve.wa=nr?a(nr,$r):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=ot),t(!0),ve.oc=st,ve.pc=xt,xt+=832,ve.ya=a(Gt,La),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=ot),ve.R=16*ot,ve.B=8*ot,ot=(Kt=vp[ve.L])*ve.R,Kt=Kt/2*ve.B,ve.sa=st,ve.ta=xt+ot,ve.qa=ve.sa,ve.ra=ve.ta+16*Me*ve.R+Kt,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Me*ve.B+Kt,ve.$c=0,xt+=Ue,ve.mb=tt?st:null,ve.nb=tt?xt:null,t(xt+tt<=ve.Fc+ve.Vb),_c(ve),s(ve.Ac,ve.Bc,0,Qe),Me=1}}if(Me){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!Ug){for(Me=-255;255>=Me;++Me)rv[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)Oh[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)Ll[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Rh[255+Me]=0>Me?0:255<Me?255:Me;Ug=1}Re=Ed,Je=hh,Pt=Ig,Ot=co,Qt=Ad,Ve=fp,Or=vh,br=wh,mo=O,kh=re,Qs=Ec,Su=bh,Zx=ye,Au=Te,Ch=is,Ih=Nl,un=$o,Jx=xh,go[0]=Lg,go[1]=Nd,go[2]=Rg,go[3]=Dg,go[4]=jg,go[5]=El,go[6]=uo,go[7]=Fg,go[8]=kd,go[9]=Mg,Lc[0]=Al,Lc[1]=Pg,Lc[2]=pp,Lc[3]=Td,Lc[4]=Og,Lc[5]=xu,Lc[6]=ph,Fl[0]=Cd,Fl[1]=hp,Fl[2]=mh,Fl[3]=rn,Fl[4]=gh,Fl[5]=Bg,Fl[6]=yh,Me=1}else Me=0}Me&&(Me=function(zr,vs){for(zr.M=0;zr.M<zr.Va;++zr.M){var _r,Ut=zr.Jc[zr.M&zr.Xb],Ct=zr.m,os=zr;for(_r=0;_r<os.za;++_r){var vr=Ct,Yr=os,Pn=Yr.Ac,Xr=Yr.Bc+4*_r,Zs=Yr.zc,$n=Yr.ya[Yr.aa+_r];if(Yr.Qa.Bb?$n.$b=oe(vr,Yr.Pa.jb[0])?2+oe(vr,Yr.Pa.jb[2]):oe(vr,Yr.Pa.jb[1]):$n.$b=0,Yr.kc&&($n.Ad=oe(vr,Yr.Bd)),$n.Za=!oe(vr,145)+0,$n.Za){var Dn=$n.Ob,Js=0;for(Yr=0;4>Yr;++Yr){var Qn,Rr=Zs[0+Yr];for(Qn=0;4>Qn;++Qn){Rr=yp[Pn[Xr+Qn]][Rr];for(var dn=$d[oe(vr,Rr[0])];0<dn;)dn=$d[2*dn+oe(vr,Rr[dn])];Rr=-dn,Pn[Xr+Qn]=Rr}n(Dn,Js,Pn,Xr,4),Js+=4,Zs[0+Yr]=Rr}}else Rr=oe(vr,156)?oe(vr,128)?1:3:oe(vr,163)?2:0,$n.Ob[0]=Rr,s(Pn,Xr,Rr,4),s(Zs,0,Rr,4);$n.Dd=oe(vr,142)?oe(vr,114)?oe(vr,183)?1:3:2:0}if(os.m.Ka)return ns(zr,7,"Premature end-of-partition0 encountered.");for(;zr.ja<zr.za;++zr.ja){if(os=Ut,vr=(Ct=zr).rb[Ct.sb-1],Pn=Ct.rb[Ct.sb+Ct.ja],_r=Ct.ya[Ct.aa+Ct.ja],Xr=Ct.kc?_r.Ad:0)vr.la=Pn.la=0,_r.Za||(vr.Na=Pn.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var qr,sn;if(vr=Pn,Pn=os,Xr=Ct.Pa.Xc,Zs=Ct.ya[Ct.aa+Ct.ja],$n=Ct.pb[Zs.$b],Yr=Zs.ad,Dn=0,Js=Ct.rb[Ct.sb-1],Rr=Qn=0,s(Yr,Dn,0,384),Zs.Za)var ei=0,yo=Xr[3];else{dn=i(16);var ls=vr.Na+Js.Na;if(ls=jl(Pn,Xr[1],ls,$n.Eb,0,dn,0),vr.Na=Js.Na=(0<ls)+0,1<ls)Re(dn,0,Yr,Dn);else{var pi=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Yr[Dn+dn]=pi}ei=1,yo=Xr[0]}var bn=15&vr.la,zn=15&Js.la;for(dn=0;4>dn;++dn){var zi=1&zn;for(pi=sn=0;4>pi;++pi)bn=bn>>1|(zi=(ls=jl(Pn,yo,ls=zi+(1&bn),$n.Sc,ei,Yr,Dn))>ei)<<7,sn=sn<<2|(3<ls?3:1<ls?2:Yr[Dn+0]!=0),Dn+=16;bn>>=4,zn=zn>>1|zi<<7,Qn=(Qn<<8|sn)>>>0}for(yo=bn,ei=zn>>4,qr=0;4>qr;qr+=2){for(sn=0,bn=vr.la>>4+qr,zn=Js.la>>4+qr,dn=0;2>dn;++dn){for(zi=1&zn,pi=0;2>pi;++pi)ls=zi+(1&bn),bn=bn>>1|(zi=0<(ls=jl(Pn,Xr[2],ls,$n.Qc,0,Yr,Dn)))<<3,sn=sn<<2|(3<ls?3:1<ls?2:Yr[Dn+0]!=0),Dn+=16;bn>>=2,zn=zn>>1|zi<<5}Rr|=sn<<4*qr,yo|=bn<<4<<qr,ei|=(240&zn)<<qr}vr.la=yo,Js.la=ei,Zs.Hc=Qn,Zs.Gc=Rr,Zs.ia=43690&Rr?0:$n.ia,Xr=!(Qn|Rr)}if(0<Ct.L&&(Ct.wa[Ct.Y+Ct.ja]=Ct.gd[_r.$b][_r.Za],Ct.wa[Ct.Y+Ct.ja].La|=!Xr),os.Ka)return ns(zr,7,"Premature end-of-file encountered.")}if(_c(zr),Ct=vs,os=1,_r=(Ut=zr).D,vr=0<Ut.L&&Ut.M>=Ut.zb&&Ut.M<=Ut.Va,Ut.Aa==0)t:{if(_r.M=Ut.M,_r.uc=vr,ua(Ut,_r),os=1,_r=(sn=Ut.D).Nb,vr=(Rr=vp[Ut.L])*Ut.R,Pn=Rr/2*Ut.B,dn=16*_r*Ut.R,pi=8*_r*Ut.B,Xr=Ut.sa,Zs=Ut.ta-vr+dn,$n=Ut.qa,Yr=Ut.ra-Pn+pi,Dn=Ut.Ha,Js=Ut.Ia-Pn+pi,zn=(bn=sn.M)==0,Qn=bn>=Ut.Va-1,Ut.Aa==2&&ua(Ut,sn),sn.uc)for(zi=(ls=Ut).D.M,t(ls.D.uc),sn=ls.yb;sn<ls.Hb;++sn){ei=sn,yo=zi;var Ti=(pa=($s=ls).D).Nb;qr=$s.R;var pa=pa.wa[pa.Y+ei],ti=$s.sa,qi=$s.ta+16*Ti*qr+16*ei,ma=pa.dd,yn=pa.tc;if(yn!=0)if(t(3<=yn),$s.L==1)0<ei&&Ih(ti,qi,qr,yn+4),pa.La&&Jx(ti,qi,qr,yn),0<yo&&Ch(ti,qi,qr,yn+4),pa.La&&un(ti,qi,qr,yn);else{var Hi=$s.B,xo=$s.qa,Nu=$s.ra+8*Ti*Hi+8*ei,Bl=$s.Ha,$s=$s.Ia+8*Ti*Hi+8*ei;Ti=pa.ld,0<ei&&(br(ti,qi,qr,yn+4,ma,Ti),kh(xo,Nu,Bl,$s,Hi,yn+4,ma,Ti)),pa.La&&(Su(ti,qi,qr,yn,ma,Ti),Au(xo,Nu,Bl,$s,Hi,yn,ma,Ti)),0<yo&&(Or(ti,qi,qr,yn+4,ma,Ti),mo(xo,Nu,Bl,$s,Hi,yn+4,ma,Ti)),pa.La&&(Qs(ti,qi,qr,yn,ma,Ti),Zx(xo,Nu,Bl,$s,Hi,yn,ma,Ti))}}if(Ut.ia&&alert("todo:DitherRow"),Ct.put!=null){if(sn=16*bn,bn=16*(bn+1),zn?(Ct.y=Ut.sa,Ct.O=Ut.ta+dn,Ct.f=Ut.qa,Ct.N=Ut.ra+pi,Ct.ea=Ut.Ha,Ct.W=Ut.Ia+pi):(sn-=Rr,Ct.y=Xr,Ct.O=Zs,Ct.f=$n,Ct.N=Yr,Ct.ea=Dn,Ct.W=Js),Qn||(bn-=Rr),bn>Ct.o&&(bn=Ct.o),Ct.F=null,Ct.J=null,Ut.Fa!=null&&0<Ut.Fa.length&&sn<bn&&(Ct.J=ys(Ut,Ct,sn,bn-sn),Ct.F=Ut.mb,Ct.F==null&&Ct.F.length==0)){os=ns(Ut,3,"Could not decode alpha data.");break t}sn<Ct.j&&(Rr=Ct.j-sn,sn=Ct.j,t(!(1&Rr)),Ct.O+=Ut.R*Rr,Ct.N+=Ut.B*(Rr>>1),Ct.W+=Ut.B*(Rr>>1),Ct.F!=null&&(Ct.J+=Ct.width*Rr)),sn<bn&&(Ct.O+=Ct.v,Ct.N+=Ct.v>>1,Ct.W+=Ct.v>>1,Ct.F!=null&&(Ct.J+=Ct.v),Ct.ka=sn-Ct.j,Ct.U=Ct.va-Ct.v,Ct.T=bn-sn,os=Ct.put(Ct))}_r+1!=Ut.Ic||Qn||(n(Ut.sa,Ut.ta-vr,Xr,Zs+16*Ut.R,vr),n(Ut.qa,Ut.ra-Pn,$n,Yr+8*Ut.B,Pn),n(Ut.Ha,Ut.Ia-Pn,Dn,Js+8*Ut.B,Pn))}if(!os)return ns(zr,6,"Output aborted.")}return 1}(ve,Le)),Le.bc!=null&&Le.bc(Le),Me&=1}return Me?(ve.cb=0,Me):0})(w,q)||(A=w.a)}}else A=w.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=Eh(le.ba))}le=A}ae=le!=0?null:11>ae?ue.f.RGBA.eb:ue.f.kb.y}else ae=null;return ae};var uv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,N){for(var k="",C=0;C<4;C++)k+=String.fromCharCode(F[N++]);return k}function u(F,N){return F[N+0]|F[N+1]<<8}function h(F,N){return(F[N+0]|F[N+1]<<8|F[N+2]<<16)>>>0}function p(F,N){return(F[N+0]|F[N+1]<<8|F[N+2]<<16|F[N+3]<<24)>>>0}new l;var m=[0],x=[0],y=[],b=new l,v=e,S=function(F,N){var k={},C=0,H=!1,z=0,K=0;if(k.frames=[],!function(I,U){for(var G=0;G<4;G++)if(I[U+G]!="RIFF".charCodeAt(G))return!0;return!1}(F,N)){for(p(F,N+=4),N+=8;N<F.length;){var Y=c(F,N),W=p(F,N+=4);N+=4;var Z=W+(1&W);switch(Y){case"VP8 ":case"VP8L":k.frames[C]===void 0&&(k.frames[C]={}),(X=k.frames[C]).src_off=H?K:N-8,X.src_size=z+W+8,C++,H&&(H=!1,z=0,K=0);break;case"VP8X":(X=k.header={}).feature_flags=F[N];var ne=N+4;X.canvas_width=1+h(F,ne),ne+=3,X.canvas_height=1+h(F,ne),ne+=3;break;case"ALPH":H=!0,z=Z+8,K=N-8;break;case"ANIM":(X=k.header).bgcolor=p(F,N),ne=N+4,X.loop_count=u(F,ne),ne+=2;break;case"ANMF":var ee,X;(X=k.frames[C]={}).offset_x=2*h(F,N),N+=3,X.offset_y=2*h(F,N),N+=3,X.width=1+h(F,N),N+=3,X.height=1+h(F,N),N+=3,X.duration=h(F,N),N+=3,ee=F[N++],X.dispose=1&ee,X.blend=ee>>1&1}Y!="ANMF"&&(N+=Z)}return k}}(v,0);S.response=v,S.rgbaoutput=!0,S.dataurl=!1;var _=S.header?S.header:null,T=S.frames?S.frames:null;if(_){_.loop_counter=_.loop_count,m=[_.canvas_height],x=[_.canvas_width];for(var R=0;R<T.length&&T[R].blend!=0;R++);}var B=T[0],j=b.WebPDecodeRGBA(v,B.src_off,B.src_size,x,m);B.rgba=j,B.imgwidth=x[0],B.imgheight=m[0];for(var P=0;P<x[0]*m[0]*4;P++)y[P]=j[P];return this.width=x,this.height=m,this.data=y,this}(function(e){var t,r,n,s,i,a,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=I;Object.defineProperty(this,"pdf",{get:function(){return U}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ce){G=!!Ce}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(Ce){V=!!Ce}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ce){isNaN(Ce)||(Q=Ce)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ce){isNaN(Ce)||(ge=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ce){var se;typeof Ce=="number"?se=[Ce,Ce,Ce,Ce]:((se=new Array(4))[0]=Ce[0],se[1]=Ce.length>=2?Ce[1]:se[0],se[2]=Ce.length>=3?Ce[2]:se[0],se[3]=Ce.length>=4?Ce[3]:se[1]),c.margin=se}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Ce){Se=Ce}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Ce){pe=Ce}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Ce){oe=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ce){Ce instanceof u&&(c=Ce)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ce){c.path=Ce}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var se;se=p(Ce),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var se=p(Ce);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var $e=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Ce){$e=null,Ze=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var se;if(this.ctx.font=Ce,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var yt=se[1];se[2];var Ke=se[3],Ne=se[4];se[5];var Ge=se[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(pt==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var it=function(Et){var St,or,cr=[],Bt=Et.trim();if(Bt==="")return c3;if(Bt in m8)return[m8[Bt]];for(;Bt!=="";){switch(or=null,St=(Bt=y8(Bt)).charAt(0)){case'"':case"'":or=B1e(Bt.substring(1),St);break;default:or=U1e(Bt)}if(or===null||(cr.push(or[0]),(Bt=y8(or[1]))!==""&&Bt.charAt(0)!==","))return c3;Bt=Bt.replace(/^,/,"")}return cr}(Ge);if(this.fontFaces){var jt=function(Et,St){if($e===null){var or=function(cr){var Bt=[];return Object.keys(cr).forEach(function(sr){cr[sr].forEach(function(Gr){var Xt=null;switch(Gr){case"bold":Xt={family:sr,weight:"bold"};break;case"italic":Xt={family:sr,style:"italic"};break;case"bolditalic":Xt={family:sr,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:sr}}Xt!==null&&(Xt.ref={name:sr,style:Gr},Bt.push(Xt))})}),Bt}(Et.getFontList());$e=function(cr){for(var Bt={},sr=0;sr<cr.length;++sr){var Gr=l3(cr[sr]),Xt=Gr.family,Er=Gr.stretch,yr=Gr.style,jn=Gr.weight;Bt[Xt]=Bt[Xt]||{},Bt[Xt][Er]=Bt[Xt][Er]||{},Bt[Xt][Er][yr]=Bt[Xt][Er][yr]||{},Bt[Xt][Er][yr][jn]=Gr}return Bt}(or.concat(St))}return $e}(this.pdf,this.fontFaces),Dt=it.map(function(Et){return{family:Et,stretch:"normal",weight:Ke,style:yt}}),gr=function(Et,St,or){for(var cr=(or=or||{}).defaultFontFamily||"times",Bt=Object.assign({},M1e,or.genericFontFamilies||{}),sr=null,Gr=null,Xt=0;Xt<St.length;++Xt)if(Bt[(sr=l3(St[Xt])).family]&&(sr.family=Bt[sr.family]),Et.hasOwnProperty(sr.family)){Gr=Et[sr.family];break}if(!(Gr=Gr||Et[cr]))throw new Error("Could not find a font-family for the rule '"+g8(sr)+"' and default family '"+cr+"'.");if(Gr=function(Er,yr){if(yr[Er])return yr[Er];var jn=kA[Er],Xn=jn<=kA.normal?-1:1,cn=p8(yr,NU,jn,Xn);if(!cn)throw new Error("Could not find a matching font-stretch value for "+Er);return cn}(sr.stretch,Gr),Gr=function(Er,yr){if(yr[Er])return yr[Er];for(var jn=EU[Er],Xn=0;Xn<jn.length;++Xn)if(yr[jn[Xn]])return yr[jn[Xn]];throw new Error("Could not find a matching font-style for "+Er)}(sr.style,Gr),!(Gr=function(Er,yr){if(yr[Er])return yr[Er];if(Er===400&&yr[500])return yr[500];if(Er===500&&yr[400])return yr[400];var jn=F1e[Er],Xn=p8(yr,TU,jn,Er<400?-1:1);if(!Xn)throw new Error("Could not find a matching font-weight for value "+Er);return Xn}(sr.weight,Gr)))throw new Error("Failed to resolve a font for the rule '"+g8(sr)+"'.");return Gr}(jt,Dt);this.pdf.setFont(gr.ref.name,gr.ref.style)}else{var qt="";(Ke==="bold"||parseInt(Ke,10)>=700||yt==="bold")&&(qt="bold"),yt==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var Ee="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<it.length;rt++){if(this.pdf.internal.getFont(it[rt],qt,{noFallback:!0,disableWarning:!0})!==void 0){Ee=it[rt];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(it[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ee=it[rt],qt="bold";else if(this.pdf.internal.getFont(it[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ee=it[rt],qt="normal";break}}if(Ee===""){for(var lt=0;lt<it.length;lt++)if(at[it[lt]]){Ee=at[it[lt]];break}}Ee=Ee===""?"Times":Ee,this.pdf.setFont(Ee,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,U){if(isNaN(I)||isNaN(U))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(I,U)},h.prototype.closePath=function(){var I=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Nn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){I=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},h.prototype.lineTo=function(I,U){if(isNaN(I)||isNaN(U))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,U,G,V){if(isNaN(G)||isNaN(V)||isNaN(I)||isNaN(U))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new a(G,V)),ge=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},h.prototype.bezierCurveTo=function(I,U,G,V,Q,ge){if(isNaN(Q)||isNaN(ge)||isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new a(Q,ge)),pe=this.ctx.transform.applyToPoint(new a(I,U)),oe=this.ctx.transform.applyToPoint(new a(G,V));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:oe.x,y2:oe.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new a(Se.x,Se.y)},h.prototype.arc=function(I,U,G,V,Q,ge){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V)||isNaN(Q))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new a(I,U));I=Se.x,U=Se.y;var pe=this.ctx.transform.applyToPoint(new a(0,G)),oe=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(pe.x-oe.x,2)+Math.pow(pe.y-oe.y,2))}Math.abs(Q-V)>=2*Math.PI&&(V=0,Q=2*Math.PI),this.path.push({type:"arc",x:I,y:U,radius:G,startAngle:V,endAngle:Q,counterclockwise:ge})},h.prototype.arcTo=function(I,U,G,V,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,U,G,V){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,U),this.lineTo(I+G,U),this.lineTo(I+G,U+V),this.lineTo(I,U+V),this.lineTo(I,U),this.lineTo(I+G,U),this.lineTo(I,U)},h.prototype.fillRect=function(I,U,G,V){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,U,G,V),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(I,U,G,V){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(I,U,G,V),this.stroke())},h.prototype.clearRect=function(I,U,G,V){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,U,G,V))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(U),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(I){var U,G,V,Q;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))U=0,G=0,V=0,Q=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ge!==null)U=parseInt(ge[1]),G=parseInt(ge[2]),V=parseInt(ge[3]),Q=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)U=parseInt(ge[1]),G=parseInt(ge[2]),V=parseInt(ge[3]),Q=parseFloat(ge[4]);else{if(Q=1,typeof I=="string"&&I.charAt(0)!=="#"){var Se=new xU(I);I=Se.ok?Se.toHex():"#000000"}I.length===4?(U=I.substring(1,2),U+=U,G=I.substring(2,3),G+=G,V=I.substring(3,4),V+=V):(U=I.substring(1,3),G=I.substring(3,5),V=I.substring(5,7)),U=parseInt(U,16),G=parseInt(G,16),V=parseInt(V,16)}}return{r:U,g:G,b:V,a:Q,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,U,G,V){if(isNaN(U)||isNaN(G)||typeof I!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!m.call(this)){var Q=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:I,x:U,y:G,scale:ge,angle:Q,align:this.textAlign,maxWidth:V})}},h.prototype.strokeText=function(I,U,G,V){if(isNaN(U)||isNaN(G)||typeof I!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){V=isNaN(V)?void 0:V;var Q=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:I,x:U,y:G,scale:ge,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:V})}},h.prototype.measureText=function(I){if(typeof I!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,G=this.pdf.internal.scaleFactor,V=U.internal.getFontSize(),Q=U.getStringUnitWidth(I)*V/U.internal.scaleFactor;return new function(ge){var Se=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:Q*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(I,U){if(isNaN(I)||isNaN(U))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(I,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(I){if(isNaN(I))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(I,U){if(isNaN(I)||isNaN(U))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,I,U);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(I,U,G,V,Q,ge){if(isNaN(I)||isNaN(U)||isNaN(G)||isNaN(V)||isNaN(Q)||isNaN(ge))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l(I,U,G,V,Q,ge);this.ctx.transform=this.ctx.transform.multiply(Se)},h.prototype.setTransform=function(I,U,G,V,Q,ge){I=isNaN(I)?1:I,U=isNaN(U)?0:U,G=isNaN(G)?0:G,V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(I,U,G,V,Q,ge)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,U,G,V,Q,ge,Se,pe,oe){var De=this.pdf.getImageProperties(I),$e=1,Ze=1,Ce=1,se=1;V!==void 0&&pe!==void 0&&(Ce=pe/V,se=oe/Q,$e=De.width/V*pe/V,Ze=De.height/Q*oe/Q),ge===void 0&&(ge=U,Se=G,U=0,G=0),V!==void 0&&pe===void 0&&(pe=V,oe=Q),V===void 0&&pe===void 0&&(pe=De.width,oe=De.height);for(var yt,Ke=this.ctx.transform.decompose(),Ne=Z(Ke.rotate.shx),Ge=new l,pt=(Ge=(Ge=(Ge=Ge.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new o(ge-U*Ce,Se-G*se,V*$e,Q*Ze)),it=b.call(this,pt),jt=[],Dt=0;Dt<it.length;Dt+=1)jt.indexOf(it[Dt])===-1&&jt.push(it[Dt]);if(_(jt),this.autoPaging)for(var gr=jt[0],qt=jt[jt.length-1],Ee=gr;Ee<qt+1;Ee++){this.pdf.setPage(Ee);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ee===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Ee===1?0:lt+(Ee-2)*Et;if(this.ctx.clip_path.length!==0){var or=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(yt,this.posX+this.margin[3],-St+rt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=or}var cr=JSON.parse(JSON.stringify(pt));cr=S([cr],this.posX+this.margin[3],-St+rt+this.ctx.prevPageLastElemOffset)[0];var Bt=(Ee>gr||Ee<qt)&&y.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Et,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,Ne),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,Ne)};var b=function(I,U,G){var V=[];U=U||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":V.push(Math.floor((I.y+Q)/G)+1);break;case"arc":V.push(Math.floor((I.y+Q-I.radius)/G)+1),V.push(Math.floor((I.y+Q+I.radius)/G)+1);break;case"qct":var ge=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);V.push(Math.floor((ge.y+Q)/G)+1),V.push(Math.floor((ge.y+ge.h+Q)/G)+1);break;case"bct":var Se=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);V.push(Math.floor((Se.y+Q)/G)+1),V.push(Math.floor((Se.y+Se.h+Q)/G)+1);break;case"rect":V.push(Math.floor((I.y+Q)/G)+1),V.push(Math.floor((I.y+I.h+Q)/G)+1)}for(var pe=0;pe<V.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<V[pe];)v.call(this);return V},v=function(){var I=this.fillStyle,U=this.strokeStyle,G=this.font,V=this.lineCap,Q=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=U,this.font=G,this.lineCap=V,this.lineWidth=Q,this.lineJoin=ge},S=function(I,U,G){for(var V=0;V<I.length;V++)switch(I[V].type){case"bct":I[V].x2+=U,I[V].y2+=G;case"qct":I[V].x1+=U,I[V].y1+=G;default:I[V].x+=U,I[V].y+=G}return I},_=function(I){return I.sort(function(U,G){return U-G})},T=function(I,U){for(var G,V,Q=this.fillStyle,ge=this.strokeStyle,Se=this.lineCap,pe=this.lineWidth,oe=Math.abs(pe*this.ctx.transform.scaleX),De=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),Ce=[],se=0;se<Ze.length;se++)if(Ze[se].x!==void 0)for(var yt=b.call(this,Ze[se]),Ke=0;Ke<yt.length;Ke+=1)Ce.indexOf(yt[Ke])===-1&&Ce.push(yt[Ke]);for(var Ne=0;Ne<Ce.length;Ne++)for(;this.pdf.internal.getNumberOfPages()<Ce[Ne];)v.call(this);if(_(Ce),this.autoPaging)for(var Ge=Ce[0],pt=Ce[Ce.length-1],it=Ge;it<pt+1;it++){this.pdf.setPage(it),this.fillStyle=Q,this.strokeStyle=ge,this.lineCap=Se,this.lineWidth=oe,this.lineJoin=De;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=it===1?this.posY+this.margin[0]:this.margin[0],gr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ee=it===1?0:gr+(it-2)*qt;if(this.ctx.clip_path.length!==0){var at=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(G,this.posX+this.margin[3],-Ee+Dt+this.ctx.prevPageLastElemOffset),R.call(this,I,!0),this.path=at}if(V=JSON.parse(JSON.stringify($e)),this.path=S(V,this.posX+this.margin[3],-Ee+Dt+this.ctx.prevPageLastElemOffset),U===!1||it===0){var rt=(it>Ge||it<pt)&&y.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,qt,null).clip().discardPath()),R.call(this,I,U),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=oe,R.call(this,I,U),this.lineWidth=pe;this.path=$e},R=function(I,U){if((I!=="stroke"||U||!x.call(this))&&(I==="stroke"||U||!m.call(this))){for(var G,V,Q=[],ge=this.path,Se=0;Se<ge.length;Se++){var pe=ge[Se];switch(pe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:pe,deltas:[],abs:[]});break;case"lt":var oe=Q.length;if(ge[Se-1]&&!isNaN(ge[Se-1].x)&&(G=[pe.x-ge[Se-1].x,pe.y-ge[Se-1].y],oe>0)){for(;oe>=0;oe--)if(Q[oe-1].close!==!0&&Q[oe-1].begin!==!0){Q[oe-1].deltas.push(G),Q[oe-1].abs.push(pe);break}}break;case"bct":G=[pe.x1-ge[Se-1].x,pe.y1-ge[Se-1].y,pe.x2-ge[Se-1].x,pe.y2-ge[Se-1].y,pe.x-ge[Se-1].x,pe.y-ge[Se-1].y],Q[Q.length-1].deltas.push(G);break;case"qct":var De=ge[Se-1].x+2/3*(pe.x1-ge[Se-1].x),$e=ge[Se-1].y+2/3*(pe.y1-ge[Se-1].y),Ze=pe.x+2/3*(pe.x1-pe.x),Ce=pe.y+2/3*(pe.y1-pe.y),se=pe.x,yt=pe.y;G=[De-ge[Se-1].x,$e-ge[Se-1].y,Ze-ge[Se-1].x,Ce-ge[Se-1].y,se-ge[Se-1].x,yt-ge[Se-1].y],Q[Q.length-1].deltas.push(G);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(pe)}}V=U?null:I==="stroke"?"stroke":"fill";for(var Ke=!1,Ne=0;Ne<Q.length;Ne++)if(Q[Ne].arc)for(var Ge=Q[Ne].abs,pt=0;pt<Ge.length;pt++){var it=Ge[pt];it.type==="arc"?P.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,U,!Ke):H.call(this,it.x,it.y),Ke=!0}else if(Q[Ne].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(Q[Ne].begin!==!0){var jt=Q[Ne].start.x,Dt=Q[Ne].start.y;z.call(this,Q[Ne].deltas,jt,Dt),Ke=!0}V&&F.call(this,V),U&&N.call(this)}},B=function(I){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-G;case"top":return I+U-G;case"hanging":return I+U-2*G;case"middle":return I+U/2-G;default:return I}},j=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(U,G){this.colorStops.push([U,G])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(I,U,G,V,Q,ge,Se,pe,oe){for(var De=Y.call(this,G,V,Q,ge),$e=0;$e<De.length;$e++){var Ze=De[$e];$e===0&&(oe?k.call(this,Ze.x1+I,Ze.y1+U):H.call(this,Ze.x1+I,Ze.y1+U)),K.call(this,I,U,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}pe?N.call(this):F.call(this,Se)},F=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(I,U){this.pdf.internal.out(r(I)+" "+n(U)+" m")},C=function(I){var U;switch(I.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var G=this.pdf.getTextDimensions(I.text),V=B.call(this,I.y),Q=j.call(this,V)-G.h,ge=this.ctx.transform.applyToPoint(new a(I.x,V)),Se=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var oe,De,$e,Ze=this.ctx.transform.applyToRectangle(new o(I.x,V,G.w,G.h)),Ce=pe.applyToRectangle(new o(I.x,Q,G.w,G.h)),se=b.call(this,Ce),yt=[],Ke=0;Ke<se.length;Ke+=1)yt.indexOf(se[Ke])===-1&&yt.push(se[Ke]);if(_(yt),this.autoPaging)for(var Ne=yt[0],Ge=yt[yt.length-1],pt=Ne;pt<Ge+1;pt++){this.pdf.setPage(pt);var it=pt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],gr=Dt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Ee=qt-this.margin[3],at=pt===1?0:jt+(pt-2)*gr;if(this.ctx.clip_path.length!==0){var rt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(oe,this.posX+this.margin[3],-1*at+it),R.call(this,"fill",!0),this.path=rt}var lt=S([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-at+it+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*I.scale),$e=this.lineWidth,this.lineWidth=$e*I.scale);var Et=this.autoPaging!=="text";if(Et||lt.y+lt.h<=Dt){if(Et||lt.y>=it&&lt.x<=qt){var St=Et?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||qt-lt.x)[0],or=S([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-at+it+this.ctx.prevPageLastElemOffset)[0],cr=Et&&(pt>Ne||pt<Ge)&&y.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,gr,null).clip().discardPath()),this.pdf.text(St,or.x,or.y,{angle:I.angle,align:U,renderingMode:I.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else lt.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-lt.y);I.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)}else I.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*I.scale),$e=this.lineWidth,this.lineWidth=$e*I.scale),this.pdf.text(I.text,ge.x+this.posX,ge.y+this.posY,{angle:I.angle,align:U,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)},H=function(I,U,G,V){G=G||0,V=V||0,this.pdf.internal.out(r(I+G)+" "+n(U+V)+" l")},z=function(I,U,G){return this.pdf.lines(I,U,G,null,null)},K=function(I,U,G,V,Q,ge,Se,pe){this.pdf.internal.out([t(s(G+I)),t(i(V+U)),t(s(Q+I)),t(i(ge+U)),t(s(Se+I)),t(i(pe+U)),"c"].join(" "))},Y=function(I,U,G,V){for(var Q=2*Math.PI,ge=Math.PI/2;U>G;)U-=Q;var Se=Math.abs(G-U);Se<Q&&V&&(Se=Q-Se);for(var pe=[],oe=V?-1:1,De=U;Se>1e-5;){var $e=De+oe*Math.min(Se,ge);pe.push(W.call(this,I,De,$e)),Se-=Math.abs($e-De),De=$e}return pe},W=function(I,U,G){var V=(G-U)/2,Q=I*Math.cos(V),ge=I*Math.sin(V),Se=Q,pe=-ge,oe=Se*Se+pe*pe,De=oe+Se*Q+pe*ge,$e=4/3*(Math.sqrt(2*oe*De)-De)/(Se*ge-pe*Q),Ze=Se-$e*pe,Ce=pe+$e*Se,se=Ze,yt=-Ce,Ke=V+U,Ne=Math.cos(Ke),Ge=Math.sin(Ke);return{x1:I*Math.cos(U),y1:I*Math.sin(U),x2:Ze*Ne-Ce*Ge,y2:Ze*Ge+Ce*Ne,x3:se*Ne-yt*Ge,y3:se*Ge+yt*Ne,x4:I*Math.cos(G),y4:I*Math.sin(G)}},Z=function(I){return 180*I/Math.PI},ne=function(I,U,G,V,Q,ge){var Se=I+.5*(G-I),pe=U+.5*(V-U),oe=Q+.5*(G-Q),De=ge+.5*(V-ge),$e=Math.min(I,Q,Se,oe),Ze=Math.max(I,Q,Se,oe),Ce=Math.min(U,ge,pe,De),se=Math.max(U,ge,pe,De);return new o($e,Ce,Ze-$e,se-Ce)},ee=function(I,U,G,V,Q,ge,Se,pe){var oe,De,$e,Ze,Ce,se,yt,Ke,Ne,Ge,pt,it,jt,Dt,gr=G-I,qt=V-U,Ee=Q-G,at=ge-V,rt=Se-Q,lt=pe-ge;for(De=0;De<41;De++)Ne=(yt=($e=I+(oe=De/40)*gr)+oe*((Ce=G+oe*Ee)-$e))+oe*(Ce+oe*(Q+oe*rt-Ce)-yt),Ge=(Ke=(Ze=U+oe*qt)+oe*((se=V+oe*at)-Ze))+oe*(se+oe*(ge+oe*lt-se)-Ke),De==0?(pt=Ne,it=Ge,jt=Ne,Dt=Ge):(pt=Math.min(pt,Ne),it=Math.min(it,Ge),jt=Math.max(jt,Ne),Dt=Math.max(Dt,Ge));return new o(Math.round(pt),Math.round(it),Math.round(jt-pt),Math.round(Dt-it))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,U,G=(I=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:U}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Zt.API),function(e){var t=function(a){var o,l,c,u,h,p,m,x,y,b;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(y=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)%85,l.push(p+33,m+33,x+33,y+33,b+33)):l.push(122);return function(v,S){for(var _=S;_>0;_--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,u,h,p=String,m="length",x=255,y="charCodeAt",b="slice",v="replace";for(a[b](-2),a=a[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,h=(a+=o="uuuuu"[b](a[m]%5||5))[m];h>u;u+=5)l=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(S,_){for(var T=_;T>0;T--)S.pop()}(c,o[m]),p.fromCharCode.apply(p,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=mA(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Zt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,p=0,m=function(x){var y=x.length,b=[],v=String.fromCharCode;for(p=0;p<y;p+=1)b.push(v(255&x.charCodeAt(p)));return b.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return m(h.responseText)}(s,i,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Zt.API),function(e){function t(){return(Sr.html2canvas?Promise.resolve(Sr.html2canvas):fl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Sr.DOMPurify?Promise.resolve(Sr.DOMPurify):fl(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Nn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(o(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var x=u[m],y=x.src.find(function(b){return b.format==="truetype"});y&&c.addFont(y.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),p=c.call(h,o,l);return a.convert(p,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Zt.getPageSize=function(o,l,c){if(Nn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var x,y=0,b=0;if(m.hasOwnProperty(p))y=m[p][1]/h,b=m[p][0]/h;else try{y=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>y&&(x=b,b=y,y=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>b&&(x=b,b=y,y=x)}return{width:b,height:y,unit:l,k:h,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(l3):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(Zt.API),Zt.API.addJS=function(e){return v8=e,this.internal.events.subscribe("postPutResources",function(){E2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(E2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+v8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){E2!==void 0&&x8!==void 0&&this.internal.out("/Names <</JavaScript "+E2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,y={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=m,t.indexOf(h.charCodeAt(b+1))!==-1){p=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),y={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:p,numcomponents:h.charCodeAt(b+9)};break}m=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(Zt.API),Zt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=S1e(e,{checkCrc:!0}),a=i.width,o=i.height,l=i.channels,c=i.palette,u=i.depth;s=c&&l===1?function(P){for(var F=P.width,N=P.height,k=P.data,C=P.palette,H=P.depth,z=!1,K=[],Y=[],W=void 0,Z=!1,ne=0,ee=0;ee<C.length;ee++){var X=hO(C[ee],4),I=X[0],U=X[1],G=X[2],V=X[3];K.push(I,U,G),V!=null&&(V===0?(ne++,Y.length<1&&Y.push(ee)):V<255&&(Z=!0))}if(Z||ne>1){z=!0,Y=void 0;var Q=F*N;W=new Uint8Array(Q);for(var ge=new DataView(k.buffer),Se=0;Se<Q;Se++){var pe=u3(ge,Se,H),oe=hO(C[pe],4)[3];W[Se]=oe}}else ne===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:k,alphaBytes:W,needSMask:z,palette:K,mask:Y}}(i):l===2||l===4?function(P){for(var F=P.data,N=P.width,k=P.height,C=P.channels,H=P.depth,z=C===2?"DeviceGray":"DeviceRGB",K=C-1,Y=N*k,W=K,Z=Y*W,ne=1*Y,ee=Math.ceil(Z*H/8),X=Math.ceil(ne*H/8),I=new Uint8Array(ee),U=new Uint8Array(X),G=new DataView(F.buffer),V=new DataView(I.buffer),Q=new DataView(U.buffer),ge=!1,Se=0;Se<Y;Se++){for(var pe=Se*C,oe=0;oe<W;oe++)k8(V,u3(G,pe+oe,H),Se*W+oe,H);var De=u3(G,pe+W,H);De<(1<<H)-1&&(ge=!0),k8(Q,De,1*Se,H)}return{colorSpace:z,colorsPerPixel:K,sMaskBitsPerComponent:ge?H:void 0,colorBytes:I,alphaBytes:U,needSMask:ge}}(i):function(P){var F=P.data,N=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:N,colorsPerPixel:N==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?function(k){for(var C=k.length,H=new Uint8Array(2*C),z=new DataView(H.buffer,H.byteOffset,H.byteLength),K=0;K<C;K++)z.setUint16(2*K,k[K],!1);return H}(F):F,needSMask:!1}}(i);var h,p,m,x=s,y=x.colorSpace,b=x.colorsPerPixel,v=x.sMaskBitsPerComponent,S=x.colorBytes,_=x.alphaBytes,T=x.needSMask,R=x.palette,B=x.mask,j=null;return n!==Zt.API.image_compression.NONE&&typeof mA=="function"?(j=function(P){var F;switch(P){case Zt.API.image_compression.FAST:F=11;break;case Zt.API.image_compression.MEDIUM:F=13;break;case Zt.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(j," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),e=S8(S,Math.ceil(a*b*u/8),b,u,n),T&&(m=S8(_,Math.ceil(a*v/8),1,v,n))):(h=void 0,p=void 0,e=S,T&&(m=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:B,palette:R,sMask:m,predictor:j,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new H1e(t),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new d3(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)},e.processGIF87A=e.processGIF89A}(Zt.API),Gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ln.log("bit decode error:"+r)}},Gl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Gl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Gl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Gl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},Gl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Gl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Gl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},Gl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new Gl(t,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new d3(100).encode(l,100);return e.processJPEG.call(this,c,r,n,s)}}(Zt.API),I8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new I8(t),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new d3(100).encode(l,100);return e.processJPEG.call(this,c,r,n,s)}}(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var u=n[c],h=n[c+1],p=n[c+2],m=n[c+3];i[o++]=u,i[o++]=h,i[o++]=p,a[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mp=Zt.API,N2=Mp.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,p=0,m=e.length,x=0,y=o[0]||l,b=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&Nn(c[n])==="object"&&!isNaN(parseInt(c[n][x],10))?c[n][x]/u:0,b.push((o[n]||y)/l+p)),x=n;return b},w8=Mp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Mp.processArabic&&(e=Mp.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:N2.apply(this,arguments).reduce(function(i,a){return i+a},0)},b8=function(e,t,r,n){for(var s=[],i=0,a=e.length,o=0;i!==a&&o+t[i]<r;)o+=t[i],i++;s.push(e.slice(0,i));var l=i;for(o=0;i!==a;)o+t[i]>n&&(s.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},_8=function(e,t,r){r||(r={});var n,s,i,a,o,l,c,u=[],h=[u],p=r.textIndent||0,m=0,x=0,y=e.split(" "),b=N2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),S=[];y.map(function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map(function(R,B){return(B&&R.length?`
`:"")+R})):S.push(T[0])}),y=S,l=w8.apply(this,[v,r])}for(i=0,a=y.length;i<a;i++){var _=0;if(n=y[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+m+(x=(s=N2.apply(this,[n,r])).reduce(function(T,R){return T+R},0))>t||_){if(x>t){for(o=b8.apply(this,[n,s,t-(p+m),t]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);x=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(T,R){return T+R},0)}else u=[n];h.push(u),p=x+l,m=b}else u.push(n),p+=m+x,m=b}return c=l?function(T,R){return(R?v:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(c)},Mp.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(_8.apply(this,[n[o],a,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var m,x,y,b,v=["{"];for(var S in p){if(m=p[S],isNaN(parseInt(S,10))?x="'"+S+"'":(S=parseInt(S,10),x=(x=a(S).slice(2)).slice(0,-1)+s[x.slice(-1)]),typeof m=="number")m<0?(y=a(m).slice(3),b="-"):(y=a(m).slice(2),b=""),y=b+y.slice(0,-1)+s[y.slice(-1)];else{if(Nn(m)!=="object")throw new Error("Don't know what to do with value type "+Nn(m)+".");y=o(m)}v.push(x+y)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,y,b,v={},S=1,_=v,T=[],R="",B="",j=p.length-1,P=1;P<j;P+=1)(b=p[P])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(T.push([_,y]),_={},y=void 0):b=="}"?((x=T.pop())[0][x[1]]=_,y=void 0,_=x[0]):b=="-"?S=-1:y===void 0?n.hasOwnProperty(b)?(R+=n[b],y=parseInt(R,16)*S,S=1,R=""):R+=b:n.hasOwnProperty(b)?(B+=n[b],_[y]=parseInt(B,16)*S,S=1,y=void 0,B=""):B+=b;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,x=h.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(Zt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(gw(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Zt),Zt.API.addSvgAsImage=function(e,t,r,n,s,i,a,o){if(isNaN(t)||isNaN(r))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Sr.canvg?Promise.resolve(Sr.canvg):fl(()=>import("./index.es-DypfnkhV.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,r,n,s,a,o)})},Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function p(x,y){var b,v=!1;for(b=0;b<x.length;b+=1)x[b]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(h=0;h<m;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(Nn(e)==="object"){for(s in e)if(i=e[s],p(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?y.push("/"+x+" /"+r[x].value):y.push("/"+x+" "+r[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(o=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var a,o,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(i).sort(function(m,x){return m-x})).length;h<p;h++)a=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",x=0;x<p.length;x++)m+=String.fromCharCode(p[x]);var y=c();u({data:m,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wp(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wp(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Wp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=c();u({data:p,addLength1:!0,objectId:x}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Wp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Wp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,m=h.activeFontKey,x=h.fonts,y=m,b="",v=0,S="",_=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(S=o,y=m,Array.isArray(o)&&(S=o[0]),v=0;v<S.length;v+=1)x[y].metadata.hasOwnProperty("cmap")&&(a=x[y].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),a||S[v].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?b+=S[v]:b+="";var T="";return parseInt(y.slice(1))<14||_==="WinAnsiEncoding"?T=p(b,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(T=r(b,x[y])),h.isHex=!0,{text:T,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var a=i.text||"",o=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(s(Object.assign({},l,{text:a[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:a})).text}])}(Zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,o,l,c,u,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,_=0;this.__bidiEngine__={};var T=function(k){var C=k.charCodeAt(),H=C>>8,z=y[H];return z!==void 0?h[256*z+(255&C)]:H===252||H===253?"AL":v.test(H)?"L":H===8?"R":"N"},R=function(k){for(var C,H=0;H<k.length;H++){if((C=T(k.charAt(H)))==="L")return!1;if(C==="R")return!0}return!1},B=function(k,C,H,z){var K,Y,W,Z,ne=C[z];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ne="AN");break;case"AL":S=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":z<1||z+1>=C.length||(K=H[z-1])!=="EN"&&K!=="AN"||(Y=C[z+1])!=="EN"&&Y!=="AN"?ne="N":S&&(Y="AN"),ne=Y===K?Y:"N";break;case"ES":ne=(K=z>0?H[z-1]:"B")==="EN"&&z+1<C.length&&C[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&H[z-1]==="EN"){ne="EN";break}if(S){ne="N";break}for(W=z+1,Z=C.length;W<Z&&C[W]==="ET";)W++;ne=W<Z&&C[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=C.length,W=z+1;W<Z&&C[W]==="NSM";)W++;if(W<Z){var ee=k[z],X=ee>=1425&&ee<=2303||ee===64286;if(K=C[W],X&&(K==="R"||K==="AL")){ne="R";break}}}ne=z<1||(K=C[z-1])==="B"?"N":H[z-1];break;case"B":S=!1,s=!0,ne=_;break;case"S":i=!0,ne="N"}return ne},j=function(k,C,H){var z=k.split("");return H&&P(z,H,{hiLevel:_}),z.reverse(),C&&C.reverse(),z.join("")},P=function(k,C,H){var z,K,Y,W,Z,ne=-1,ee=k.length,X=0,I=[],U=_?m:p,G=[];for(S=!1,s=!1,i=!1,K=0;K<ee;K++)G[K]=T(k[K]);for(Y=0;Y<ee;Y++){if(Z=X,I[Y]=B(k,G,I,Y),z=240&(X=U[Z][x[I[Y]]]),X&=15,C[Y]=W=U[X][5],z>0)if(z===16){for(K=ne;K<Y;K++)C[K]=1;ne=-1}else ne=-1;if(U[X][6])ne===-1&&(ne=Y);else if(ne>-1){for(K=ne;K<Y;K++)C[K]=W;ne=-1}G[Y]==="B"&&(C[Y]=0),H.hiLevel|=W}i&&function(V,Q,ge){for(var Se=0;Se<ge;Se++)if(V[Se]==="S"){Q[Se]=_;for(var pe=Se-1;pe>=0&&V[pe]==="WS";pe--)Q[pe]=_}}(G,C,ee)},F=function(k,C,H,z,K){if(!(K.hiLevel<k)){if(k===1&&_===1&&!s)return C.reverse(),void(H&&H.reverse());for(var Y,W,Z,ne,ee=C.length,X=0;X<ee;){if(z[X]>=k){for(Z=X+1;Z<ee&&z[Z]>=k;)Z++;for(ne=X,W=Z-1;ne<W;ne++,W--)Y=C[ne],C[ne]=C[W],C[W]=Y,H&&(Y=H[ne],H[ne]=H[W],H[W]=Y);X=Z}X++}}},N=function(k,C,H){var z=k.split(""),K={hiLevel:_};return H||(H=[]),P(z,H,K),function(Y,W,Z){if(Z.hiLevel!==0&&u)for(var ne,ee=0;ee<Y.length;ee++)W[ee]===1&&(ne=b.indexOf(Y[ee]))>=0&&(Y[ee]=b[ne+1])}(z,H,K),F(2,z,C,H,K),F(1,z,C,H,K),z.join("")};return this.__bidiEngine__.doBidiReorder=function(k,C,H){if(function(K,Y){if(Y)for(var W=0;W<K.length;W++)Y[W]=W;o===void 0&&(o=R(K)),c===void 0&&(c=R(K))}(k,C),a||!l||c)if(a&&l&&o^c)_=o?1:0,k=j(k,C,H);else if(!a&&l&&c)_=o?1:0,k=N(k,C,H),k=j(k,C);else if(!a||o||l||c){if(a&&!l&&o^c)k=j(k,C),o?(_=0,k=N(k,C,H)):(_=1,k=N(k,C,H),k=j(k,C));else if(a&&o&&!l&&c)_=1,k=N(k,C,H),k=j(k,C);else if(!a&&!l&&o^c){var z=u;o?(_=1,k=N(k,C,H),_=0,u=!1,k=N(k,C,H),u=z):(_=0,k=N(k,C,H),k=j(k,C),_=1,u=!1,k=N(k,C,H),u=z,k=j(k,C))}}else _=0,k=N(k,C,H);else _=o?1:0,k=N(k,C,H);return k},this.__bidiEngine__.setOptions=function(k){k&&(a=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new nh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new iye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new W1e(this.contents),this.head=new G1e(this),this.name=new Z1e(this),this.cmap=new CU(this),this.toUnicode={},this.hhea=new K1e(this),this.maxp=new J1e(this),this.hmtx=new eye(this),this.post=new X1e(this),this.os2=new Y1e(this),this.loca=new sye(this),this.glyf=new tye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var wc,nh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),W1e=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,o,l,c,u,h,p,m,x,y;for(y in m=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),a=Math.floor(h/l),u=16*m-h,(s=new nh).writeInt(this.scalarType),s.writeShort(m),s.writeShort(h),s.writeShort(a),s.writeShort(u),i=16*m,c=s.pos+i,o=null,x=[],r)for(p=r[y],s.writeString(y),s.writeInt(e(p)),s.writeInt(c),s.writeInt(p.length),x=x.concat(p),y==="head"&&(o=c),c+=p.length;c%4;)x.push(0),c++;return s.write(x),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=IU.call(r);r.length%4;)r.push(0);for(i=new nh(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),V1e={}.hasOwnProperty,yu=function(e,t){for(var r in t)V1e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};wc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var G1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new nh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),P8=function(){function e(t,r){var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,i=function(){var T,R;for(R=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)R.push(t.readUInt16());return R}(),t.pos+=2,y=function(){var T,R;for(R=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)R.push(t.readUInt16());return R}(),c=function(){var T,R;for(R=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)R.push(t.readUInt16());return R}(),u=function(){var T,R;for(R=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)R.push(t.readUInt16());return R}(),s=(this.length-t.pos+this.offset)/2,o=function(){var T,R;for(R=[],l=T=0;0<=s?T<s:T>s;l=0<=s?++T:--T)R.push(t.readUInt16());return R}(),l=v=0,_=i.length;v<_;l=++v)for(b=i[l],n=S=x=y[l];x<=b?S<=b:S>=b;n=x<=b?++S:--S)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-x)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T,R,B,j,P,F,N,k,C,H,z,K,Y,W,Z,ne,ee,X,I,U,G,V,Q,ge,Se,pe,oe,De,$e;switch(z=new nh,a=Object.keys(t).sort(function(Ze,Ce){return Ze-Ce}),r){case"macroman":for(y=0,b=function(){var Ze=[];for(x=0;x<256;++x)Ze.push(0);return Ze}(),S={0:0},i={},K=0,ne=a.length;K<ne;K++)S[pe=t[s=a[K]]]==null&&(S[pe]=++y),i[s]={old:t[s],new:S[t[s]]},b[s]=S[t[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(b),{charMap:i,subtable:z.data,maxGlyphID:y+1};case"unicode":for(C=[],h=[],_=0,S={},n={},v=c=null,Y=0,ee=a.length;Y<ee;Y++)S[R=t[s=a[Y]]]==null&&(S[R]=++_),n[s]={old:R,new:S[R]},o=S[R]-s,v!=null&&o===c||(v&&h.push(v),C.push(s),c=o),v=s;for(v&&h.push(v),h.push(65535),C.push(65535),N=2*(F=C.length),P=2*Math.pow(Math.log(F)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,j=2*F-P,l=[],B=[],m=[],x=W=0,X=C.length;W<X;x=++W){if(k=C[x],u=h[x],k===65535){l.push(0),B.push(0);break}if(k-(H=n[k].new)>=32768)for(l.push(0),B.push(2*(m.length+F-x)),s=Z=k;k<=u?Z<=u:Z>=u;s=k<=u?++Z:--Z)m.push(n[s].new);else l.push(H-k),B.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*F+2*m.length),z.writeUInt16(0),z.writeUInt16(N),z.writeUInt16(P),z.writeUInt16(p),z.writeUInt16(j),ge=0,I=h.length;ge<I;ge++)s=h[ge],z.writeUInt16(s);for(z.writeUInt16(0),Se=0,U=C.length;Se<U;Se++)s=C[Se],z.writeUInt16(s);for(oe=0,G=l.length;oe<G;oe++)o=l[oe],z.writeUInt16(o);for(De=0,V=B.length;De<V;De++)T=B[De],z.writeUInt16(T);for($e=0,Q=m.length;$e<Q;$e++)y=m[$e],z.writeUInt16(y);return{charMap:n,subtable:z.data,maxGlyphID:_+1}}},e}(),CU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new P8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=P8.encode(t,r),(s=new nh).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),K1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Y1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),X1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e}(),Q1e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Z1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,o,l,c,u,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},i=u=0,h=n.length;u<h;i=++u)s=n[i],t.pos=s.offset,c=t.readString(s.length),a=new Q1e(c,s),l[p=s.nameID]==null&&(l[p]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),J1e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),eye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)i=h[c],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),IU=[].slice,tye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,o,l,c,u,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(o=new nh(r.read(s))).readShort(),c=o.readShort(),h=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=a===-1?new nye(o,c,h,l,u):new rye(o,a,c,h,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,o,l;for(a=[],i=[],o=0,l=r.length;o<l;o++)s=t[r[o]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),rye=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),nye=function(){function e(t,r,n,s,i){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new nh(IU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),sye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,wc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(s+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),iye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,o,l;for(s={},a=0,o=t.length;a<o;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,o,l,c,u,h,p,m,x,y,b,v;for(s in n=CU.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),m={0:0},v=n.charMap)m[(l=v[s]).old]=l.new;for(x in p=n.maxGlyphID,a)x in m||(m[x]=p++);return u=function(S){var _,T;for(_ in T={},S)T[S[_]]=_;return T}(m),h=Object.keys(u).sort(function(S,_){return S-_}),y=function(){var S,_,T;for(T=[],S=0,_=h.length;S<_;S++)o=h[S],T.push(u[o]);return T}(),i=this.font.glyf.encode(a,y,m),c=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();Zt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function PU(e,t,r,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,o=s.internal.getFontSize()/a,l=s.getLineHeightFactor?s.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(u):e,p=h.length||1),r+=o*(2-i),n.valign==="middle"?r-=p/2*c:n.valign==="bottom"&&(r-=p*c),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),h&&p>=1){for(var x=0;x<h.length;x++)s.text(h[x],t-s.getStringUnitWidth(h[x])*m,r),r+=c;return s}t-=s.getStringUnitWidth(e)*m}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var O8={},Cm=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:O8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(s=this.jsPDFDocument).setTextColor.apply(s,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return O8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),CA=function(e,t){return CA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},CA(e,t)};function OU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");CA(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var RU=function(e){OU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function aye(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function oye(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Cb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function DU(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var a=LU(s,!1);a&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,a)}function LU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function j_(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function jU(e,t){var r=j_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function lye(e,t,r,n,s){var i={},a=1.3333333333333333,o=f3(t,function(_){return s.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var l=f3(t,function(_){return s.getComputedStyle(_).color});l!=null&&(i.textColor=l);var c=uye(n,r);c&&(i.cellPadding=c);var u="borderTopColor",h=a*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var m=(parseFloat(p)||0)/h;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var x=f3(t,function(_){return s.getComputedStyle(_)[u]});x!=null&&(i.lineColor=x);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(i.fontSize=b/a);var v=cye(n);v&&(i.fontStyle=v);var S=(n.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(i.font=S),i}function cye(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function f3(e,t){var r=FU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function FU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:FU(e.parentElement,t):r}function uye(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),a=j_(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function MU(e,t,r,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],h=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:p};for(var m=0;m<o.rows.length;m++){var x=o.rows[m],y=(a=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),b=dye(l,c,r,x,n,s);b&&(y==="thead"?u.push(b):y==="tfoot"?p.push(b):h.push(b))}return{head:u,body:h,foot:p}}function dye(e,t,r,n,s,i){for(var a=new RU(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(s||c.display!=="none"){var u=void 0;i&&(u=lye(e,l,t,c,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:fye(l)})}}var h=r.getComputedStyle(n);if(a.length>0&&(s||h.display!=="none"))return a}function fye(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function hye(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Zu(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function BU(e,t){var r=new Cm(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();hye(s,n,t);var i=Zu({},s,n,t),a;typeof window<"u"&&(a=window);var o=pye(s,n,t),l=mye(s,n,t),c=gye(r,i),u=xye(r,i,a);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function pye(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],h=r[l];n.columnStyles=Zu({},c,u,h)}else{var p=[e,t,r],m=p.map(function(x){return x[l]||{}});n[l]=Zu({},m[0],m[1],m[2])}},i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];s(o)}return n}function mye(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var o=a[i];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function gye(e,t){var r,n,s,i,a,o,l,c,u,h,p,m,x=j_(t.margin,40/e.scaleFactor()),y=(r=yye(e,t.startY))!==null&&r!==void 0?r:x.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var S=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(S?"plain":"striped"),T=!!t.horizontalPageBreak,R=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:_,startY:y,margin:x,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:b,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:T,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function yye(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;i=a===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function xye(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(r){var o=MU(e,t.html,r,a,t.useCss)||{};n=o.head||n,s=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||vye(n,s,i);return{columns:l,head:n,body:s,foot:i}}function vye(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=s.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};s.push(u)}}),s}var IA=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),wye=function(e){OU(t,e);function t(r,n,s,i,a,o){var l=e.call(this,r,n,o)||this;return l.cell=s,l.row=i,l.column=a,l.section=i.section,l}return t}(IA),bye=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,a){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new wye(t,this,n,s,i,a),h=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new IA(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new IA(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),UU=function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof RU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>s?c:s},0)},e}(),$U=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=j_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),_ye=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},e}();function Sye(e,t){Aye(e,t);var r=[],n=0;t.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(t);a?i.width=a:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=PA(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=PA(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),Nye(t),Tye(t,e),Eye(t)}function Aye(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=jU(e,t);t.allRows().forEach(function(i){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var h=c.padding("horizontal");c.contentWidth=Cb(c.text,c.styles,e)+h;var p=Cb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>s?(c.minWidth=s,c.wrappedWidth=s):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var m=10/r;c.minWidth=c.styles.minCellWidth||m,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function PA(e,t,r){for(var n=t,s=e.reduce(function(m,x){return m+x.wrappedWidth},0),i=0;i<e.length;i++){var a=e[i],o=a.wrappedWidth/s,l=n*o,c=a.width+l,u=r(a),h=c<u?u:c;t-=h-a.width,a.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(m){return t<0?m.width>r(m):!0});p.length&&(t=PA(p,t,r))}return t}function Eye(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,o=e.columns;a<o.length;a++){var l=o[a],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=n.length-s,p=u.rowSpan>h?h:u.rowSpan;t[l.index]={cell:u,left:p,row:i}}}}}function Nye(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,a=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(a-=1,a>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(s){var c=s;delete n.cells[l.index],s=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,i=0,c.colSpan>1){s=c,i+=l.width;continue}c.width=l.width+i}}}function Tye(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],a=0,o=e.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=R8(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=R8(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,u);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<p*c.rowSpan?r={height:p,count:c.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function R8(e,t,r,n,s){return e.map(function(i){return kye(i,t,r,n,s)})}function kye(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Cb(e,r,n))return e;for(;t<Cb(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function zU(e,t){var r=new Cm(e),n=Cye(t,r.scaleFactor()),s=new bye(t,n);return Sye(r,s),r.applyStyles(r.userStyles),s}function Cye(e,t){var r=e.content,n=Pye(r.columns);if(r.head.length===0){var s=D8(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=D8(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,a=e.styles;return{columns:n,head:h3("head",r.head,n,a,i,t),body:h3("body",r.body,n,a,i,t),foot:h3("foot",r.foot,n,a,i,t)}}function h3(e,t,r,n,s,i){var a={},o=t.map(function(l,c){for(var u=0,h={},p=0,m=0,x=0,y=r;x<y.length;x++){var b=y[x];if(a[b.index]==null||a[b.index].left===0)if(m===0){var v=void 0;Array.isArray(l)?v=l[b.index-p-u]:v=l[b.dataKey];var S={};typeof v=="object"&&!Array.isArray(v)&&(S=(v==null?void 0:v.styles)||{});var _=Oye(e,b,c,s,n,i,S),T=new $U(v,_,e);h[b.dataKey]=T,h[b.index]=T,m=T.colSpan-1,a[b.index]={left:T.rowSpan-1,times:m}}else m--,p++;else a[b.index].left--,m=a[b.index].times,u++}return new UU(l,c,e,h)});return o}function D8(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=Iye(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function Iye(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Pye(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new _ye(s,t,r)})}function Oye(e,t,r,n,s,i,a){var o=oye(n),l;e==="head"?l=s.headStyles:e==="body"?l=s.bodyStyles:e==="foot"&&(l=s.footStyles);var c=Zu({},o.table,o[e],s.styles,l),u=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?u:{},p=e==="body"&&r%2===0?Zu({},o.alternateRow,s.alternateRowStyles):{},m=aye(i),x=Zu({},m,c,p,h);return Zu(x,a)}function Rye(e,t,r){var n;r===void 0&&(r={});var s=jU(e,t),i=new Map,a=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var m=t.columns.find(function(x){return x.dataKey===p||x.index===p});m&&!i.has(m.index)&&(i.set(m.index,!0),a.push(m.index),o.push(t.columns[m.index]),s-=m.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var h=t.columns[u].wrappedWidth;if(c||s>=h)c=!1,a.push(u),o.push(t.columns[u]),s-=h;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function Dye(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=Rye(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function qU(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+s.bottom+a;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(p,m){return p+m.height},0);o+=c}var u=new Cm(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(WU(u),i.y=s.top),t.callWillDrawPageHooks(u,i);var h=Zu({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?Lye(u,t,h,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return gd(u,t,p,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(p,m){var x=m===t.body.length-1;Ib(u,t,p,x,h,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return gd(u,t,p,i,t.columns)})),DU(u,t,h,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function Lye(e,t,r,n){var s=Dye(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?my(e,t,r,n,c.columns,!0):L8(e,t,n,c.columns),jye(e,t,r,n,c.columns),p3(e,t,n,c.columns)});else for(var a=-1,o=s[0],l=function(){var c=a;if(o){e.applyStyles(e.userStyles);var u=o.columns;a>=0?my(e,t,r,n,u,!0):L8(e,t,n,u),c=j8(e,t,a+1,n,u),p3(e,t,n,u)}var h=c-a;s.slice(1).forEach(function(p){e.applyStyles(e.userStyles),my(e,t,r,n,p.columns,!0),j8(e,t,a+1,n,p.columns,h),p3(e,t,n,p.columns)}),a=c};a<t.body.length-1;)l()}function L8(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return gd(e,t,i,r,n)})}function jye(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,a){var o=a===t.body.length-1;Ib(e,t,i,o,r,n,s)})}function j8(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var a=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,a).forEach(function(l,c){var u=r+c===t.body.length-1,h=HU(e,t,u,n);l.canEntireRowFit(h,s)&&(gd(e,t,l,n,s),o=r+c)}),o}function p3(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return gd(e,t,i,r,n)})}function Fye(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function Mye(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new $U(c.raw,c.styles,c.section);u=Zu(u,c),u.text=[];var h=Fye(c,t,n);c.text.length>h&&(u.text=c.text.splice(h,c.text.length));var p=n.scaleFactor(),m=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,m),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(p,m),u.contentHeight>i&&(i=u.contentHeight),s[l.index]=u}}var x=new UU(e.raw,-1,e.section,s,!0);x.height=i;for(var y=0,b=r.columns;y<b.length;y++){var l=b[y],u=x.cells[l.index];u&&(u.height=x.height);var c=e.cells[l.index];c&&(c.height=e.height)}return x}function Bye(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,o=s-a;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>o;return h?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Ib(e,t,r,n,s,i,a){var o=HU(e,t,n,i);if(r.canEntireRowFit(o,a))gd(e,t,r,i,a);else if(Bye(e,r,o,t)){var l=Mye(r,o,t,e);gd(e,t,r,i,a),my(e,t,s,i,a),Ib(e,t,l,n,s,i,a)}else my(e,t,s,i,a),Ib(e,t,r,n,s,i,a)}function gd(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var o=a[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}Uye(e,l,n);var u=l.getTextPos();PU(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function Uye(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=LU(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),$ye(e,t,r,n.lineWidth))}function $ye(e,t,r,n){var s,i,a,o;n.top&&(s=r.x,i=r.y,a=r.x+t.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),l(n.top,s,i,a,o)),n.bottom&&(s=r.x,i=r.y+t.height,a=r.x+t.width,o=r.y+t.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),l(n.bottom,s,i,a,o)),n.left&&(s=r.x,i=r.y,a=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,s,i,a,o)),n.right&&(s=r.x+t.width,i=r.y,a=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,s,i,a,o));function l(c,u,h,p,m){e.getDocument().setLineWidth(c),e.getDocument().line(u,h,p,m,"S")}}function HU(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function my(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return gd(e,t,o,n,s)}),t.callEndPageHooks(e,n);var a=t.settings.margin;DU(e,t,r,n),WU(e),t.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return gd(e,t,o,n,s)}),e.applyStyles(e.userStyles))}function WU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function zye(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=BU(this,n),i=zU(this,s);return qU(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){PU(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Cm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Cm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Cm(this),i=MU(s,t,window,r,!1),a=i.head,o=i.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var m3;function PT(e,t){var r=BU(e,t),n=zU(e,r);qU(e,n)}try{if(typeof window<"u"&&window){var F8=window,M8=F8.jsPDF||((m3=F8.jspdf)===null||m3===void 0?void 0:m3.jsPDF);M8&&zye(M8)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Im=e=>{const t=["","","","","","","","","",""];return String(e).replace(/[0-9]/g,r=>t[parseInt(r)])},qye=e=>{const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};return e.replace(/[-]/g,r=>t[r]||r)},Pb=(e,t,r=!1)=>{const n=typeof e=="number"&&!isNaN(e)?e/100:0;let s;return r?(s=n.toLocaleString(t?"ar-SA":"en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),s=t?`${Im(s)} .`:`${s} SAR`):(s=n.toLocaleString(t?"ar-SA":"en-US",{style:"currency",currency:"SAR",minimumFractionDigits:2,maximumFractionDigits:2}),t&&(s=s.replace(/\d/g,i=>String.fromCharCode(1632+parseInt(i))))),s},Hye=(e,t,r)=>e.map(n=>{const s=t?Im(n.quantity):n.quantity,i=t&&n.productNameEn?n.productNameEn:n.productName;return`${s} ${r(n.unit,t)} ${i}`}).join(" + "),B8=e=>{let t="";const r=new Uint8Array(e);for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return window.btoa(t)},Wye=async e=>{const t="Amiri",r={regular:"/fonts/Amiri-Regular.ttf",bold:"/fonts/Amiri-Bold.ttf"};try{const n=await fetch(r.regular).then(i=>{if(!i.ok)throw new Error("   Amiri ");return i.arrayBuffer()});e.addFileToVFS(`${t}-normal.ttf`,B8(n)),e.addFont(`${t}-normal.ttf`,t,"normal");const s=await fetch(r.bold).then(i=>{if(!i.ok)throw new Error("   Amiri ");return i.arrayBuffer()});return e.addFileToVFS(`${t}-bold.ttf`,B8(s)),e.addFont(`${t}-bold.ttf`,t,"bold"),e.setFont(t,"normal"),!0}catch(n){return console.error("  :",n),e.setFont("helvetica","normal"),ke.error("   Amiri   ",{position:"top-right",autoClose:3e3}),!1}},Vye=(e,t,r)=>{const n=new Date().toISOString().split("T")[0],i={pending:r?"__":"Pending_Orders",approved:r?"_":"Approved_Orders",in_production:r?"__":"In_Production_Orders",completed:r?"_":"Completed_Orders",in_transit:r?"__":"In_Transit_Orders",delivered:r?"_":"Delivered_Orders",cancelled:r?"_":"Cancelled_Orders"}[e]||(r?"_":"All_Orders"),a=t?`_${t.replace(/\s+/g,"_")}`:"";return`${i}${a}_${n}.pdf`},Gye=(e,t,r,n,s,i,a,o,l,c)=>{e.setFont(c?l:"helvetica","normal"),e.setFontSize(18),e.setTextColor(33,33,33);const u=e.internal.pageSize.width,h=e.internal.pageSize.height;e.text(r,t?u-20:20,12,{align:t?"right":"left"}),e.setFontSize(10),e.setTextColor(100,100,100);const p={pending:t?" ":"Pending",approved:t?" ":"Approved",in_production:t?" ":"In Production",completed:t?"":"Completed",in_transit:t?" ":"In Transit",delivered:t?" ":"Delivered",cancelled:t?"":"Cancelled"},m=t?`: ${n&&p[n]||""} | : ${s||" "}`:`Status: ${n&&p[n]||"All"} | Branch: ${s||"All Branches"}`,x=t?` : ${Im(i)} |  : ${Im(a)}  |  : ${Pb(o,t,!0)}`:`Total Orders: ${i} | Total Quantity: ${a} units | Total Amount: ${Pb(o,t,!0)}`;e.text(m,t?u-20:20,20,{align:t?"right":"left"}),e.text(x,t?u-20:20,28,{align:t?"right":"left"}),e.setLineWidth(.5),e.setDrawColor(255,193,7),e.line(20,33,u-20,33);const y=e.getNumberOfPages(),b=new Date().toLocaleDateString(t?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"});for(let v=1;v<=y;v++){e.setPage(v),e.setFontSize(8),e.setTextColor(150,150,150),e.setFont(c?l:"helvetica","normal");const S=t?`      - ${Im(b)}`:`Generated by elgoodia Management System - ${b}`;e.text(S,u/2,h-10,{align:"center"})}},Kye=(e,t,r,n,s,i,a,o,l)=>{const c=n?t.map(h=>e.processArabic(h)):t,u=r.map(h=>n?h.map(p=>e.processArabic(String(p))):h);PT(e,{head:[n?c.slice().reverse():c],body:n?u.map(h=>h.slice().reverse()):u,theme:"grid",startY:40,margin:{left:15,right:15},headStyles:{fillColor:[255,193,7],textColor:[33,33,33],fontSize:10,halign:n?"right":"left",font:s?i:"helvetica",fontStyle:"normal",cellPadding:4,minCellHeight:8},bodyStyles:{fontSize:9,halign:n?"right":"left",font:s?i:"helvetica",fontStyle:"normal",cellPadding:4,textColor:[33,33,33],lineColor:[200,200,200],fillColor:[255,255,255],minCellHeight:6},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:30,fontStyle:"bold"},1:{cellWidth:20,fontStyle:"bold"},2:{cellWidth:30,fontStyle:"bold"},3:{cellWidth:"auto",fontStyle:"bold"},4:{cellWidth:20,fontStyle:"bold",halign:n?"left":"right"},5:{cellWidth:16,fontStyle:"bold"},6:{cellWidth:42,fontStyle:"bold"}},styles:{overflow:"linebreak",cellWidth:"wrap",font:s?i:"helvetica",halign:n?"right":"left",valign:"middle",fontStyle:"normal"},didParseCell:h=>{h.cell.styles.halign=n?"left":"right",h.column.index===(n?t.length-5:4)&&((!h.cell.text[0]||h.cell.text[0].includes("NaN"))&&(h.cell.text[0]=Pb(0,n)),h.cell.styles.fontStyle="bold"),n&&(h.cell.text=h.cell.text.map(p=>e.processArabic(p)))},didDrawPage:()=>{e.setFont(s?i:"helvetica","normal")}})},Yye=async(e,t,r,n,s,i="",a="")=>{try{const o=new Zt({orientation:"landscape",format:"a4"}),l="Amiri",c=await Wye(o),u=e.filter(v=>(!i||v.status===i)&&(!a||v.branchName===a)),h=u.length,p=u.reduce((v,S)=>v+n(S),0),m=u.reduce((v,S)=>{const _=r(S),R=qye(_).replace(/[^0-9.]/g,"");return v+(R&&!isNaN(parseFloat(R))?parseFloat(R):0)},0);Gye(o,t,t?" ":"Orders Report",i,a,h,p,m,l,c);const x=[t?" ":"Order Number",t?"":"Branch",t?"":"Status",t?"":"Products",t?" ":"Total Amount",t?" ":"Total Quantity",t?"":"Date"],y=u.map(v=>{const S={pending:t?" ":"Pending",approved:t?" ":"Approved",in_production:t?" ":"In Production",completed:t?"":"Completed",in_transit:t?" ":"In Transit",delivered:t?" ":"Delivered",cancelled:t?"":"Cancelled"},_=r(v);let T;return _.includes("NaN")?T=Pb(0,t):T=_,[v.orderNumber,v.branchName,S[v.status]||v.status,Hye(v.items,t,s),T,t?`${Im(n(v))} ${s("unit",t)}`:`${n(v)} ${s("unit",t)}`,v.date]});Kye(o,x,y,t,c,l,r,n,s);const b=Vye(i,a,t);o.save(b),ke.success(t?"   PDF ":"PDF exported successfully",{position:t?"top-left":"top-right",autoClose:3e3})}catch(o){console.error("Error exporting PDF:",o),ke.error(t?"    PDF":"Failed to export PDF",{position:t?"top-left":"top-right",autoClose:3e3})}},Xye=Hr.createContext({}),VU=!0;function Qye({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:s,circle:i,direction:a,duration:o,enableAnimation:l=VU,customHighlightBackground:c}){const u={};return a==="rtl"&&(u["--animation-direction"]="reverse"),typeof o=="number"&&(u["--animation-duration"]=`${o}s`),l||(u["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(u.width=r),(typeof n=="string"||typeof n=="number")&&(u.height=n),(typeof s=="string"||typeof s=="number")&&(u.borderRadius=s),i&&(u.borderRadius="50%"),typeof e<"u"&&(u["--base-color"]=e),typeof t<"u"&&(u["--highlight-color"]=t),typeof c=="string"&&(u["--custom-highlight-background"]=c),u}function Ir({count:e=1,wrapper:t,className:r,containerClassName:n,containerTestId:s,circle:i=!1,style:a,...o}){var l,c,u;const h=Hr.useContext(Xye),p={...o};for(const[_,T]of Object.entries(o))typeof T>"u"&&delete p[_];const m={...h,...p,circle:i},x={...a,...Qye(m)};let y="react-loading-skeleton";r&&(y+=` ${r}`);const b=(l=m.inline)!==null&&l!==void 0?l:!1,v=[],S=Math.ceil(e);for(let _=0;_<S;_++){let T=x;if(S>e&&_===S-1){const B=(c=T.width)!==null&&c!==void 0?c:"100%",j=e%1,P=typeof B=="number"?B*j:`calc(${B} * ${j})`;T={...T,width:P}}const R=Hr.createElement("span",{className:y,style:T,key:_},"");b?v.push(R):v.push(Hr.createElement(Hr.Fragment,{key:_},R,Hr.createElement("br",null)))}return Hr.createElement("span",{className:n,"data-testid":s,"aria-live":"polite","aria-busy":(u=m.enableAnimation)!==null&&u!==void 0?u:VU},t?v.map((_,T)=>Hr.createElement(t,{key:T},_)):v)}const U8=({isRtl:e})=>d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"overflow-x-auto rounded-md shadow-md border border-gray-100 bg-white",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{className:e?"flex-row-reverse":"",children:[d.jsx("th",{className:"px-2 py-1.5 min-w-[40px]",children:d.jsx(Ir,{width:60,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})}),Array(8).fill(0).map((t,r)=>d.jsx("th",{className:"px-2 py-1.5 min-w-[80px]",children:d.jsx(Ir,{width:80,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})},r))]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:Array(10).fill(0).map((t,r)=>d.jsxs("tr",{className:`hover:bg-gray-50 transition-colors duration-200 ${e?"flex-row-reverse":""}`,children:[d.jsx("td",{className:"px-2 py-1.5",children:d.jsx(Ir,{width:40,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})}),Array(8).fill(0).map((n,s)=>d.jsx("td",{className:"px-2 py-1.5",children:d.jsx(Ir,{width:90,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})},s))]},r))})]})}),Zye=({isRtl:e})=>d.jsx(tr,{className:"p-3 mb-4 bg-white shadow-md rounded-lg border border-gray-200 hover:shadow-lg transition-shadow duration-300",children:d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:`flex items-center ${e?"justify-between flex-row":"justify-between"}`,children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ir,{width:140,height:16,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"}),d.jsx(Ir,{width:50,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})]}),d.jsx(Ir,{width:80,height:14,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})]}),d.jsx(Ir,{width:"100%",height:6,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"}),d.jsx(Ir,{width:"50%",height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Array(4).fill(0).map((t,r)=>d.jsxs("div",{children:[d.jsx(Ir,{width:60,height:10,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"}),d.jsx(Ir,{width:80,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})]},r))}),d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[d.jsx(Ir,{width:100,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"}),d.jsx(Ir,{width:20,height:12,baseColor:"#f3f4f6",highlightColor:"#e5e7eb"})]}),d.jsx("div",{className:`flex gap-1.5 ${e?"justify-end":"justify-start"}`,children:Array(3).fill(0).map((t,r)=>d.jsx(Ir,{width:60,height:24,baseColor:"#f3f4f6",highlightColor:"#e5e7eb",className:"rounded-full"},r))})]})}),Jye=({currentPage:e,totalPages:t,isRtl:r,handlePageChange:n})=>{const s=L.useCallback(()=>{e>1&&n(e-1)},[e,n]),i=L.useCallback(()=>{e<t&&n(e+1)},[e,t,n]),a=L.useMemo(()=>({previous:r?"":"Previous",next:r?"":"Next",page:r?` ${e}  ${t}`:`Page ${e} of ${t}`,navigation:r?" ":"Page navigation"}),[r,e,t]);return t<=1?null:d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`flex justify-center items-center gap-3 mt-6 ${r?"flex-row":""}`,role:"navigation","aria-label":a.navigation,children:[d.jsx(dt,{variant:"secondary",size:"sm",onClick:s,disabled:e===1,className:"disabled:opacity-50 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg px-4 py-2 text-sm shadow-sm","aria-label":a.previous,children:a.previous}),d.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:a.page}),d.jsx(dt,{variant:"secondary",size:"sm",onClick:i,disabled:e===t,className:"disabled:opacity-50 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg px-4 py-2 text-sm shadow-sm","aria-label":a.next,children:a.next})]})},exe=L.lazy(()=>fl(()=>import("./OrderCard-By8QxfJb.js"),[])),txe=L.lazy(()=>fl(()=>import("./OrderTable-BjO-VQIu.js"),[])),rxe=L.lazy(()=>fl(()=>import("./AssignChefsModal-Do-v26O1.js"),[])),nxe={orders:[],selectedOrder:null,chefs:[],branches:[],isAssignModalOpen:!1,assignFormData:{items:[]},filterStatus:"",filterBranch:"",searchQuery:"",sortBy:"date",sortOrder:"desc",currentPage:1,loading:!0,error:"",submitting:null,socketConnected:!1,socketError:null,viewMode:"card"},sxe=(e,t)=>{var r;switch(t.type){case"SET_ORDERS":return{...e,orders:t.payload,error:"",currentPage:1};case"ADD_ORDER":return{...e,orders:[t.payload,...e.orders.filter(n=>n.id!==t.payload.id)]};case"SET_SELECTED_ORDER":return{...e,selectedOrder:t.payload};case"SET_CHEFS":return{...e,chefs:t.payload};case"SET_BRANCHES":return{...e,branches:t.payload};case"SET_MODAL":return{...e,isAssignModalOpen:t.isOpen??!1};case"SET_ASSIGN_FORM":return{...e,assignFormData:t.payload};case"SET_FILTER_STATUS":return{...e,filterStatus:t.payload,currentPage:1};case"SET_FILTER_BRANCH":return{...e,filterBranch:t.payload,currentPage:1};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload,currentPage:1};case"SET_SORT":return{...e,sortBy:t.by??"date",sortOrder:t.order??"desc",currentPage:1};case"SET_PAGE":return{...e,currentPage:t.payload};case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_SUBMITTING":return{...e,submitting:t.payload};case"SET_SOCKET_CONNECTED":return{...e,socketConnected:t.payload};case"SET_SOCKET_ERROR":return{...e,socketError:t.payload};case"UPDATE_ORDER_STATUS":return{...e,orders:e.orders.map(n=>n.id===t.orderId?{...n,status:t.status}:n),selectedOrder:e.selectedOrder&&e.selectedOrder.id===t.orderId?{...e.selectedOrder,status:t.status}:e.selectedOrder};case"UPDATE_ITEM_STATUS":return{...e,orders:e.orders.map(n=>n.id===t.orderId?{...n,items:n.items.map(s=>s._id===t.payload.itemId?{...s,status:t.payload.status}:s),status:n.items.every(s=>s.status==="completed")&&n.status!=="completed"?"completed":n.status}:n),selectedOrder:e.selectedOrder&&e.selectedOrder.id===t.orderId?{...e.selectedOrder,items:e.selectedOrder.items.map(n=>n._id===t.payload.itemId?{...n,status:t.payload.status}:n),status:e.selectedOrder.items.every(n=>n.status==="completed")&&e.selectedOrder.status!=="completed"?"completed":e.selectedOrder.status}:e.selectedOrder};case"TASK_ASSIGNED":return{...e,orders:e.orders.map(n=>n.id===t.orderId?{...n,items:n.items.map(s=>{var a;const i=(a=t.items)==null?void 0:a.find(o=>o._id===s._id);return i?{...s,assignedTo:i.assignedTo?{_id:i.assignedTo._id,name:i.assignedTo.name||i.assignedTo.username||(e.language==="ar"?" ":"Unknown"),department:i.assignedTo.department}:void 0,status:i.status||s.status}:s}),status:n.items.every(s=>s.status==="assigned")?"in_production":n.status}:n),selectedOrder:e.selectedOrder&&e.selectedOrder.id===t.orderId?{...e.selectedOrder,items:e.selectedOrder.items.map(n=>{var i;const s=(i=t.items)==null?void 0:i.find(a=>a._id===n._id);return s?{...n,assignedTo:s.assignedTo?{_id:s.assignedTo._id,name:s.assignedTo.name||s.assignedTo.username||(e.language==="ar"?" ":"Unknown"),department:s.assignedTo.department}:void 0,status:s.status||n.status}:n}),status:e.selectedOrder.items.every(n=>n.status==="assigned")?"in_production":e.selectedOrder.status}:e.selectedOrder};case"RETURN_STATUS_UPDATED":return{...e,orders:e.orders.map(n=>{var s;return n.id===t.orderId?{...n,returns:n.returns.map(i=>i.returnId===t.returnId?{...i,status:t.status}:i),adjustedTotal:t.status==="approved"?n.adjustedTotal-(((s=n.returns.find(i=>i.returnId===t.returnId))==null?void 0:s.items.reduce((i,a)=>{const o=n.items.find(l=>l.productId===a.productId);return i+(o?o.price*a.quantity:0)},0))||0):n.adjustedTotal}:n}),selectedOrder:e.selectedOrder&&e.selectedOrder.id===t.orderId?{...e.selectedOrder,returns:e.selectedOrder.returns.map(n=>n.returnId===t.returnId?{...n,status:t.status}:n),adjustedTotal:t.status==="approved"?e.selectedOrder.adjustedTotal-(((r=e.selectedOrder.returns.find(n=>n.returnId===t.returnId))==null?void 0:r.items.reduce((n,s)=>{const i=e.selectedOrder.items.find(a=>a.productId===s.productId);return n+(i?i.price*s.quantity:0)},0))||0):e.selectedOrder.adjustedTotal}:e.selectedOrder};case"SET_VIEW_MODE":return{...e,viewMode:t.payload,currentPage:1};default:return e}},Bp={card:12,table:50},ixe={pending:["approved","cancelled"],approved:["in_production","cancelled"],in_production:["completed","cancelled"],completed:["in_transit"],in_transit:["delivered"],delivered:[],cancelled:[]},axe=[{value:"",label:"all_statuses"},{value:"pending",label:"pending"},{value:"approved",label:"approved"},{value:"in_production",label:"in_production"},{value:"completed",label:"completed"},{value:"in_transit",label:"in_transit"},{value:"delivered",label:"delivered"},{value:"cancelled",label:"cancelled"}],oxe=[{value:"date",label:"sort_date"},{value:"totalAmount",label:"sort_total_amount"},{value:"priority",label:"sort_priority"}],T2=(e,t)=>{const r={:{ar:"",en:"kg"},:{ar:"",en:"piece"},:{ar:"",en:"pack"},:{ar:"",en:"tray"},kg:{ar:"",en:"kg"},piece:{ar:"",en:"piece"},pack:{ar:"",en:"pack"},tray:{ar:"",en:"tray"}};return r[e]?t?r[e].ar:r[e].en:t?"":"unit"},lxe=(e,t,r,n,s)=>{const i=[t?" ":"Order Number",t?"":"Branch",t?"":"Status",t?"":"Products",t?" ":"Total Amount",t?" ":"Total Quantity",t?"":"Date"],a=e.map(u=>{const h=u.items.map(y=>`${y.productName} (${y.quantity} ${s(y.unit,t)})`).join(", "),p=r(u),m=`${n(u)} ${t?"":"units"}`,x=t?{pending:" ",approved:" ",in_production:" ",completed:"",in_transit:" ",delivered:" ",cancelled:""}[u.status]:u.status;return{[i[0]]:u.orderNumber,[i[1]]:u.branchName,[i[2]]:x,[i[3]]:h,[i[4]]:t?p+" .":p,[i[5]]:m,[i[6]]:u.date}}),o=sc.json_to_sheet(t?a.map(u=>Object.fromEntries(Object.entries(u).reverse())):a,{header:i});t&&(o["!views"]=[{RTL:!0}]),o["!cols"]=[{wch:15},{wch:20},{wch:15},{wch:50},{wch:20},{wch:15},{wch:20}];const l=sc.decode_range(o["!ref"]);for(let u=l.s.c;u<=l.e.c;++u)for(let h=l.s.r;h<=l.e.r;++h){const p=o[sc.encode_cell({r:h,c:u})];p&&(p.s={alignment:{horizontal:"center",vertical:"center"}})}const c=sc.book_new();sc.book_append_sheet(c,o,t?"":"Orders"),gT(c,"Orders.xlsx"),ke.success(t?"   ":"Export successful",{position:t?"top-left":"top-right",autoClose:3e3})},$8=()=>{const{t:e,language:t}=Yn(),r=t==="ar",{user:n}=ps(),{socket:s,isConnected:i,emit:a}=vd(),[o,l]=L.useReducer(sxe,nxe),c=L.useRef(o),u=L.useRef(null),h=xT(l,c,n),p=yc();L.useEffect(()=>{c.current=o},[o]);const m=L.useCallback(N=>N.items.reduce((k,C)=>k+(Number(C.quantity)||0),0),[]),x=L.useCallback(N=>{const k=N.returns.filter(z=>z.status==="approved").reduce((z,K)=>{const Y=K.items.reduce((W,Z)=>{const ne=N.items.find(ee=>ee.productId===Z.productId);return W+(ne?ne.price*Z.quantity:0)},0);return z+Y},0),H=((N.adjustedTotal||N.totalAmount||0)-k).toLocaleString(r?"ar-SA":"en-US",{style:"currency",currency:"SAR",minimumFractionDigits:2,maximumFractionDigits:2});return r?H.replace(/\d/g,z=>String.fromCharCode(1632+parseInt(z))):H},[r]),y=L.useCallback(N=>{p(`/orders/${N}`),window.scrollTo(0,0)},[p]);L.useEffect(()=>{if(!n||!["admin","production"].includes(n.role)){l({type:"SET_ERROR",payload:r?"  ":"Unauthorized access"}),l({type:"SET_LOADING",payload:!1});return}if(s)return s.on("connect",()=>{l({type:"SET_SOCKET_CONNECTED",payload:!0}),l({type:"SET_SOCKET_ERROR",payload:null})}),s.on("connect_error",N=>{console.error("Socket connect error:",N.message),l({type:"SET_SOCKET_ERROR",payload:r?"  ":"Connection error"}),l({type:"SET_SOCKET_CONNECTED",payload:!1})}),s.on("reconnect",N=>{console.log(`[${new Date().toISOString()}] Socket reconnected after ${N} attempts`),l({type:"SET_SOCKET_CONNECTED",payload:!0})}),s.on("disconnect",N=>{console.log(`[${new Date().toISOString()}] Socket disconnected: ${N}`),l({type:"SET_SOCKET_CONNECTED",payload:!1})}),s.on("newOrder",N=>{var C,H,z;if(!N||!N._id||!N.orderNumber){console.warn("Invalid new order data:",N);return}const k={id:N._id,orderNumber:N.orderNumber,branchId:((C=N.branch)==null?void 0:C._id)||"unknown",branchName:((H=N.branch)==null?void 0:H.name)||(r?" ":"Unknown"),items:Array.isArray(N.items)?N.items.map(K=>{var Y,W,Z,ne;return{_id:K._id||`temp-${Math.random().toString(36).substring(2)}`,productId:((Y=K.product)==null?void 0:Y._id)||"unknown",productName:((W=K.product)==null?void 0:W.name)||(r?" ":"Unknown"),quantity:Number(K.quantity)||1,price:Number(K.price)||0,unit:((Z=K.product)==null?void 0:Z.unit)||"unit",department:(ne=K.product)!=null&&ne.department?{_id:K.product.department._id,name:K.product.department.name||(r?" ":"Unknown")}:{_id:"unknown",name:r?" ":"Unknown"},assignedTo:K.assignedTo?{_id:K.assignedTo._id,name:K.assignedTo.name||K.assignedTo.username||(r?" ":"Unknown"),department:K.assignedTo.department}:void 0,status:K.status||"pending",returnedQuantity:Number(K.returnedQuantity)||0,returnReason:K.returnReason||"",startedAt:K.startedAt?new Date(K.startedAt):void 0,completedAt:K.completedAt?new Date(K.completedAt):void 0}}):[],returns:Array.isArray(N.returns)?N.returns.map(K=>{var Y;return{returnId:K._id||`temp-${Math.random().toString(36).substring(2)}`,returnNumber:K.returnNumber||(r?" ":"Unknown"),items:Array.isArray(K.items)?K.items.map(W=>{var Z,ne,ee;return{productId:((Z=W.product)==null?void 0:Z._id)||"unknown",productName:((ne=W.product)==null?void 0:ne.name)||(r?" ":"Unknown"),quantity:Number(W.quantity)||0,reason:W.reason||(r?" ":"Unspecified"),unit:((ee=W.product)==null?void 0:ee.unit)||"unit"}}):[],status:K.status||"pending",reviewNotes:K.notes||"",createdAt:dr(K.createdAt?new Date(K.createdAt):new Date,t),createdBy:((Y=K.createdBy)==null?void 0:Y.name)||(r?" ":"Unknown")}}):[],status:N.status||"pending",totalAmount:Number(N.totalAmount)||0,adjustedTotal:Number(N.adjustedTotal)||0,date:dr(N.createdAt?new Date(N.createdAt):new Date,t),requestedDeliveryDate:N.requestedDeliveryDate?new Date(N.requestedDeliveryDate):void 0,notes:N.notes||"",priority:N.priority||"medium",createdBy:((z=N.createdBy)==null?void 0:z.name)||(r?" ":"Unknown"),approvedBy:N.approvedBy?{_id:N.approvedBy._id,name:N.approvedBy.name||(r?" ":"Unknown")}:void 0,approvedAt:N.approvedAt?new Date(N.approvedAt):void 0,deliveredAt:N.deliveredAt?new Date(N.deliveredAt):void 0,transitStartedAt:N.transitStartedAt?new Date(N.transitStartedAt):void 0,statusHistory:Array.isArray(N.statusHistory)?N.statusHistory.map(K=>{var Y;return{status:K.status||"pending",changedBy:((Y=K.changedBy)==null?void 0:Y.name)||"unknown",changedAt:dr(K.changedAt?new Date(K.changedAt):new Date,t),notes:K.notes||""}}):[]};l({type:"ADD_ORDER",payload:k}),h("/sounds/new-order.mp3",[200,100,200])}),s.on("orderStatusUpdated",({orderId:N,status:k})=>{if(!N||!k){console.warn("Invalid order status update data:",{orderId:N,status:k});return}l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k})}),s.on("itemStatusUpdated",({orderId:N,itemId:k,status:C})=>{if(!N||!k||!C){console.warn("Invalid item status update data:",{orderId:N,itemId:k,status:C});return}l({type:"UPDATE_ITEM_STATUS",orderId:N,payload:{itemId:k,status:C}})}),s.on("returnStatusUpdated",({orderId:N,returnId:k,status:C})=>{if(!N||!k||!C){console.warn("Invalid return status update data:",{orderId:N,returnId:k,status:C});return}l({type:"RETURN_STATUS_UPDATED",orderId:N,returnId:k,status:C}),ke.info(r?`    : ${r?{pending:" ",approved:" ",rejected:"",processed:""}[C]:C}`:`Return status updated to: ${C}`,{position:r?"top-left":"top-right",autoClose:3e3})}),s.on("taskAssigned",({orderId:N,items:k})=>{if(!N||!k){console.warn("Invalid task assigned data:",{orderId:N,items:k});return}l({type:"TASK_ASSIGNED",orderId:N,items:k}),ke.info(r?"  ":"Chefs assigned",{position:r?"top-left":"top-right",autoClose:3e3})}),()=>{s.off("connect"),s.off("connect_error"),s.off("newOrder"),s.off("orderStatusUpdated"),s.off("itemStatusUpdated"),s.off("returnStatusUpdated"),s.off("taskAssigned")}},[n,s,r,t,h]);const b=L.useCallback(async(N=0)=>{var k;if(!n||!["admin","production"].includes(n.role)){l({type:"SET_ERROR",payload:r?"  ":"Unauthorized access"}),l({type:"SET_LOADING",payload:!1});return}l({type:"SET_LOADING",payload:!0});try{const C={sortBy:o.sortBy,sortOrder:o.sortOrder};n.role==="production"&&n.department&&(C.department=n.department._id);const[H,z,K]=await Promise.all([Ws.getAll(C),rc.getAll(),Ri.getAll()]),Y=H.filter(W=>W&&W._id&&W.orderNumber).map(W=>{var Z,ne,ee;return{id:W._id,orderNumber:W.orderNumber,branchId:((Z=W.branch)==null?void 0:Z._id)||"unknown",branchName:((ne=W.branch)==null?void 0:ne.name)||(r?" ":"Unknown"),items:Array.isArray(W.items)?W.items.map(X=>{var I,U,G,V;return{_id:X._id||`temp-${Math.random().toString(36).substring(2)}`,productId:((I=X.product)==null?void 0:I._id)||"unknown",productName:((U=X.product)==null?void 0:U.name)||(r?" ":"Unknown"),quantity:Number(X.quantity)||1,price:Number(X.price)||0,unit:((G=X.product)==null?void 0:G.unit)||"unit",department:(V=X.product)!=null&&V.department?{_id:X.product.department._id,name:X.product.department.name||(r?" ":"Unknown")}:{_id:"unknown",name:r?" ":"Unknown"},assignedTo:X.assignedTo?{_id:X.assignedTo._id,name:X.assignedTo.name||X.assignedTo.username||(r?" ":"Unknown"),department:X.assignedTo.department}:void 0,status:X.status||"pending",returnedQuantity:Number(X.returnedQuantity)||0,returnReason:X.returnReason||"",startedAt:X.startedAt?new Date(X.startedAt):void 0,completedAt:X.completedAt?new Date(X.completedAt):void 0}}):[],returns:Array.isArray(W.returns)?W.returns.map(X=>{var I;return{returnId:X._id||`temp-${Math.random().toString(36).substring(2)}`,returnNumber:X.returnNumber||(r?" ":"Unknown"),items:Array.isArray(X.items)?X.items.map(U=>{var G,V,Q;return{productId:((G=U.product)==null?void 0:G._id)||"unknown",productName:((V=U.product)==null?void 0:V.name)||(r?" ":"Unknown"),quantity:Number(U.quantity)||0,reason:U.reason||(r?" ":"Unspecified"),unit:((Q=U.product)==null?void 0:Q.unit)||"unit"}}):[],status:X.status||"pending",reviewNotes:X.notes||"",createdAt:dr(X.createdAt?new Date(X.createdAt):new Date,t),createdBy:((I=X.createdBy)==null?void 0:I.name)||(r?" ":"Unknown")}}):[],status:W.status||"pending",totalAmount:Number(W.totalAmount)||0,adjustedTotal:Number(W.adjustedTotal)||0,date:dr(W.createdAt?new Date(W.createdAt):new Date,t),requestedDeliveryDate:W.requestedDeliveryDate?new Date(W.requestedDeliveryDate):void 0,notes:W.notes||"",priority:W.priority||"medium",createdBy:((ee=W.createdBy)==null?void 0:ee.name)||(r?" ":"Unknown"),approvedBy:W.approvedBy?{_id:W.approvedBy._id,name:W.approvedBy.name||(r?" ":"Unknown")}:void 0,approvedAt:W.approvedAt?new Date(W.approvedAt):void 0,deliveredAt:W.deliveredAt?new Date(W.deliveredAt):void 0,transitStartedAt:W.transitStartedAt?new Date(W.transitStartedAt):void 0,statusHistory:Array.isArray(W.statusHistory)?W.statusHistory.map(X=>{var I;return{status:X.status||"pending",changedBy:((I=X.changedBy)==null?void 0:I.name)||"unknown",changedAt:dr(X.changedAt?new Date(X.changedAt):new Date,t),notes:X.notes||""}}):[]}});l({type:"SET_ORDERS",payload:Y}),l({type:"SET_CHEFS",payload:z.filter(W=>{var Z;return W&&((Z=W.user)==null?void 0:Z._id)}).map(W=>{var Z;return{_id:W._id,userId:W.user._id,name:((Z=W.user)==null?void 0:Z.name)||W.name||(r?" ":"Unknown"),department:W.department?{_id:W.department._id,name:W.department.name||(r?" ":"Unknown")}:null,status:W.status||"active"}})}),l({type:"SET_BRANCHES",payload:K.filter(W=>W&&W._id).map(W=>({_id:W._id,name:W.name||(r?" ":"Unknown")})).sort((W,Z)=>W.name.localeCompare(Z.name,t))}),l({type:"SET_ERROR",payload:""})}catch(C){if(console.error("Fetch data error:",C.message),N<2){setTimeout(()=>b(N+1),1e3);return}const H=((k=C.response)==null?void 0:k.status)===404?r?"    ":"No orders found":r?`   : ${C.message}`:`Error fetching orders: ${C.message}`;l({type:"SET_ERROR",payload:H}),ke.error(H,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_LOADING",payload:!1})}},[n,o.sortBy,o.sortOrder,r,t]),v=L.useMemo(()=>hc.debounce(N=>{l({type:"SET_SEARCH_QUERY",payload:N})},300),[]),S=L.useMemo(()=>o.orders.filter(N=>N.orderNumber.toLowerCase().includes(o.searchQuery.toLowerCase())||N.branchName.toLowerCase().includes(o.searchQuery.toLowerCase())||(N.notes||"").toLowerCase().includes(o.searchQuery.toLowerCase())||N.createdBy.toLowerCase().includes(o.searchQuery.toLowerCase())||N.items.some(k=>k.productName.toLowerCase().includes(o.searchQuery.toLowerCase()))).filter(N=>(!o.filterStatus||N.status===o.filterStatus)&&(!o.filterBranch||N.branchId===o.filterBranch)&&((n==null?void 0:n.role)==="production"&&(n!=null&&n.department)?N.items.some(k=>k.department._id===n.department._id):!0)),[o.orders,o.searchQuery,o.filterStatus,o.filterBranch,n]),_=L.useMemo(()=>{const N={urgent:4,high:3,medium:2,low:1};return[...S].sort((k,C)=>o.sortBy==="date"?o.sortOrder==="asc"?new Date(k.date).getTime()-new Date(C.date).getTime():new Date(C.date).getTime()-new Date(k.date).getTime():o.sortBy==="totalAmount"?o.sortOrder==="asc"?k.adjustedTotal-C.adjustedTotal:C.adjustedTotal-k.adjustedTotal:o.sortOrder==="asc"?N[k.priority]-N[C.priority]:N[C.priority]-N[k.priority])},[S,o.sortBy,o.sortOrder]),T=L.useMemo(()=>_.slice((o.currentPage-1)*Bp[o.viewMode],o.currentPage*Bp[o.viewMode]),[_,o.currentPage,o.viewMode]),R=L.useMemo(()=>Math.ceil(_.length/Bp[o.viewMode]),[_,o.viewMode]),B=L.useCallback(async(N,k)=>{const C=o.orders.find(H=>H.id===N);if(!C||!ixe[C.status].includes(k)){ke.error(r?"  ":"Invalid transition",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:N});try{await Ws.updateStatus(N,{status:k}),l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k}),s&&i&&a("orderStatusUpdated",{orderId:N,status:k}),ke.success(r?`    ${k}`:`Order status updated to: ${k}`,{position:r?"top-left":"top-right",autoClose:3e3})}catch(H){console.error("Update order status error:",H.message),ke.error(r?`   : ${H.message}`:`Failed to update status: ${H.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[o.orders,r,s,i,a]);L.useCallback(async(N,k,C)=>{if(!(n!=null&&n.id)){ke.error(r?"   ":"No user associated",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:N});try{await Ws.updateItemStatus(N,k,{status:C}),l({type:"UPDATE_ITEM_STATUS",orderId:N,payload:{itemId:k,status:C}}),s&&i&&a("itemStatusUpdated",{orderId:N,itemId:k,status:C}),ke.success(r?`    : ${C}`:`Item status updated to: ${C}`,{position:r?"top-left":"top-right",autoClose:3e3})}catch(H){console.error("Update item status error:",H.message),ke.error(r?`    : ${H.message}`:`Failed to update item status: ${H.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[r,n,s,i,a]);const j=L.useCallback(async N=>{if(!(n!=null&&n.id)||o.assignFormData.items.some(k=>!k.assignedTo)){ke.error(r?"     ":"Please assign at least one chef",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:N});try{await Ws.assignChef(N,{items:o.assignFormData.items});const k=o.assignFormData.items.map(C=>({_id:C.itemId,assignedTo:o.chefs.find(H=>H.userId===C.assignedTo)||{_id:C.assignedTo,name:r?" ":"Unknown",department:{_id:"unknown",name:r?" ":"Unknown"}},status:"assigned"}));l({type:"TASK_ASSIGNED",orderId:N,items:k}),l({type:"SET_MODAL",modal:"assign",isOpen:!1}),l({type:"SET_ASSIGN_FORM",payload:{items:[]}}),s&&i&&a("taskAssigned",{orderId:N,items:k}),ke.success(r?"   ":"Chefs assigned successfully",{position:r?"top-left":"top-right",autoClose:3e3})}catch(k){console.error("Assign chefs error:",k.message),ke.error(r?`   : ${k.message}`:`Failed to assign chefs: ${k.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[n,o.assignFormData,o.chefs,s,i,a,r]),P=L.useCallback(N=>{if(N.status!=="approved"){ke.error(r?"    ":"Order not approved",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SELECTED_ORDER",payload:N}),l({type:"SET_ASSIGN_FORM",payload:{items:N.items.filter(k=>!k.assignedTo).map(k=>({itemId:k._id,assignedTo:"",product:k.productName,quantity:k.quantity,unit:k.unit||"unit"}))}}),l({type:"SET_MODAL",modal:"assign",isOpen:!0})},[r]),F=L.useCallback(N=>{l({type:"SET_PAGE",payload:N}),u.current&&u.current.scrollIntoView({behavior:"smooth",block:"start"})},[]);return L.useEffect(()=>{b()},[b]),d.jsx("div",{className:"px-2 py-4",children:d.jsx(L.Suspense,{fallback:d.jsx(U8,{isRtl:r}),children:d.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"mb-6",children:[d.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${r?"flex-row-reverse":""}`,children:[d.jsxs("div",{className:"w-full sm:w-auto text-center sm:text-start",children:[d.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center justify-center sm:justify-start gap-2",children:[d.jsx(Qf,{className:"w-5 h-5 text-amber-700"}),r?"":"Orders"]}),d.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r?"  ":"Manage production orders"})]}),d.jsxs("div",{className:"flex gap-2 flex-wrap justify-center sm:justify-end w-full sm:w-auto",children:[d.jsxs(dt,{variant:o.orders.length>0?"primary":"secondary",onClick:o.orders.length>0?()=>lxe(S,r,x,m,T2):void 0,className:`flex items-center gap-1 ${o.orders.length>0?"bg-amber-600 hover:bg-amber-700 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"} rounded-full px-3 py-1.5 text-xs shadow transition-all duration-300`,disabled:o.orders.length===0,"aria-label":r?"  Excel":"Export to Excel",children:[d.jsx(eg,{className:"w-4 h-4"}),r?"  Excel":"Export to Excel"]}),d.jsxs(dt,{variant:o.orders.length>0?"primary":"secondary",onClick:o.orders.length>0?()=>{var k;const N=((k=o.branches.find(C=>C._id===o.filterBranch))==null?void 0:k.name)||"";Yye(S,r,x,m,T2,o.filterStatus,N)}:void 0,className:`flex items-center gap-1 ${o.orders.length>0?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"} rounded-full px-3 py-1.5 text-xs shadow transition-all duration-300`,disabled:o.orders.length===0,"aria-label":r?"  PDF":"Export to PDF",children:[d.jsx(eg,{className:"w-4 h-4"}),r?"  PDF":"Export to PDF"]})]})]}),d.jsxs(tr,{className:"p-3 mt-6 bg-white shadow-md  border border-gray-200",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:r?"":"Search"}),d.jsxs("div",{className:"relative ",children:[d.jsx(vl,{className:`w-4 h-4 text-gray-500 absolute top-2 ${r?"left-2":"right-2"}`}),d.jsx(Mt,{value:o.searchQuery,onChange:N=>{var k;return v(((k=N==null?void 0:N.target)==null?void 0:k.value)||"")},placeholder:r?"     ...":"Search by order number or product...",className:`w-full ${r?"pl-8 ":"pr-8"} rounded-full border-gray-200 focus:ring-amber-500 text-xs shadow-sm transition-all duration-200`})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:r?"  ":"Filter by Status"}),d.jsx(es,{options:axe.map(N=>({value:N.value,label:r?{"":" ",pending:" ",approved:" ",in_production:" ",completed:"",in_transit:" ",delivered:" ",cancelled:""}[N.value]:{"":"All Statuses",pending:"Pending",approved:"Approved",in_production:"In Production",completed:"Completed",in_transit:"In Transit",delivered:"Delivered",cancelled:"Cancelled"}[N.value]})),value:o.filterStatus,onChange:N=>l({type:"SET_FILTER_STATUS",payload:N}),className:"w-full rounded-full border-gray-200 focus:ring-amber-500 text-xs shadow-sm transition-all duration-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:r?"  ":"Filter by Branch"}),d.jsx(es,{options:[{value:"",label:r?" ":"All Branches"},...o.branches.map(N=>({value:N._id,label:N.name}))],value:o.filterBranch,onChange:N=>l({type:"SET_FILTER_BRANCH",payload:N}),className:"w-full rounded-full border-gray-200 focus:ring-amber-500 text-xs shadow-sm transition-all duration-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:r?" ":"Sort By"}),d.jsx(es,{options:oxe.map(N=>({value:N.value,label:r?{date:"",totalAmount:" ",priority:""}[N.value]:{date:"Date",totalAmount:"Total Amount",priority:"Priority"}[N.value]})),value:o.sortBy,onChange:N=>l({type:"SET_SORT",by:N,order:o.sortOrder}),className:"w-full rounded-full border-gray-200 focus:ring-amber-500 text-xs shadow-sm transition-all duration-200"})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-center gap-3 mt-4 ${r?"flex-row-reverse":""}`,children:[d.jsx("div",{className:"text-xs text-center text-gray-600",children:r?` : ${S.length}`:`Orders count: ${S.length}`}),d.jsxs(dt,{variant:"secondary",onClick:()=>l({type:"SET_VIEW_MODE",payload:o.viewMode==="card"?"table":"card"}),className:"flex items-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1.5 text-xs shadow transition-all duration-300","aria-label":o.viewMode==="card"?r?" ":"View as Table":r?" ":"View as Cards",children:[o.viewMode==="card"?d.jsx(gN,{className:"w-4 h-4"}):d.jsx(mN,{className:"w-4 h-4"}),o.viewMode==="card"?r?" ":"View as Table":r?" ":"View as Cards"]})]})]}),d.jsx("div",{ref:u,className:"mt-6 min-h-[300px]",children:o.loading?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-1",children:o.viewMode==="card"?d.jsx("div",{className:"grid grid-cols-1  gap-1",children:Array.from({length:Bp.card},(N,k)=>d.jsx(Zye,{isRtl:r},k))}):d.jsx(U8,{isRtl:r,rows:Bp.table})}):o.error?d.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"mt-6",children:d.jsxs(tr,{className:"p-5 max-w-md mx-auto text-center bg-red-50 shadow-md rounded-xl border border-red-100",children:[d.jsxs("div",{className:`flex items-center justify-center gap-2 ${r?"flex-row-reverse":""}`,children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("p",{className:"text-xs font-medium text-red-600",children:o.error})]}),d.jsx(dt,{variant:"primary",onClick:()=>b(),className:"mt-3 bg-amber-600 hover:bg-amber-700 text-white rounded-full px-3 py-1.5 text-xs shadow transition-all duration-300","aria-label":r?" ":"Retry",children:r?" ":"Retry"})]})}):d.jsxs(Bn,{mode:"wait",children:[T.length===0?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"mt-6",children:d.jsxs(tr,{className:"p-6 text-center bg-white shadow-md rounded-xl border border-gray-100",children:[d.jsx(Qf,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-base font-medium text-gray-800 mb-1",children:r?"  ":"No Orders"}),d.jsx("p",{className:"text-xs text-gray-500",children:o.filterStatus||o.filterBranch||o.searchQuery?r?"   ":"No matching orders":r?"   ":"No orders yet"})]})},"no-orders"):d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"space-y-3",children:[o.viewMode==="table"?d.jsx(txe,{orders:T.filter(N=>N&&N.id&&N.branchId&&N.orderNumber),isRtl:r,t:e,calculateAdjustedTotal:x,calculateTotalQuantity:m,translateUnit:T2,updateOrderStatus:B,openAssignModal:P,startIndex:(o.currentPage-1)*Bp[o.viewMode]+1,user:n,submitting:o.submitting,onNavigateToDetails:y}):d.jsx("div",{className:"grid grid-cols-1 gap-1",children:T.filter(N=>N&&N.id&&N.branchId&&N.orderNumber).map(N=>d.jsx(exe,{order:N,isRtl:r,calculateAdjustedTotal:x,calculateTotalQuantity:m,translateUnit:T2,updateOrderStatus:B,openAssignModal:P,submitting:o.submitting,onNavigateToDetails:y},N.id))}),R>1&&d.jsx(Jye,{currentPage:o.currentPage,totalPages:R,isRtl:r,handlePageChange:F})]},"orders-view"),d.jsx(rxe,{isOpen:o.isAssignModalOpen,onClose:()=>{l({type:"SET_MODAL",modal:"assign",isOpen:!1}),l({type:"SET_ASSIGN_FORM",payload:{items:[]}}),l({type:"SET_SELECTED_ORDER",payload:null})},selectedOrder:o.selectedOrder,chefs:o.chefs,assignFormData:o.assignFormData,setAssignForm:N=>l({type:"SET_ASSIGN_FORM",payload:N}),assignChefs:j,error:o.error,submitting:o.submitting,isRtl:r})]})})]})})})},cxe=()=>{var K;const{t:e,language:t}=Yn(),r=t==="ar",{id:n}=Kj(),{user:s}=ps(),{socket:i}=vd(),a=yc(),[o,l]=L.useState(null),[c,u]=L.useState([]),[h,p]=L.useState(!0),[m,x]=L.useState(""),[y,b]=L.useState(null),[v,S]=L.useState(!1),[_,T]=L.useState({items:[]}),[R,B]=L.useState({}),j={pending:d.jsx(cc,{className:"w-5 h-5"}),approved:d.jsx(k0,{className:"w-5 h-5"}),in_production:d.jsx(jo,{className:"w-5 h-5"}),in_transit:d.jsx(yre,{className:"w-5 h-5"}),delivered:d.jsx(k0,{className:"w-5 h-5"}),completed:d.jsx(k0,{className:"w-5 h-5"}),cancelled:d.jsx(Ar,{className:"w-5 h-5"})},P=L.useCallback(Y=>{const W=new Date(Y);return r?new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(W).replace("AM","").replace("PM",""):W.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},[r]),F=L.useCallback(async()=>{var Y,W,Z,ne;if(!n||!s){x(e("errors.invalid_input")),p(!1);return}p(!0);try{const[ee,X]=await Promise.all([Ws.getById(n),rc.getAll()]);l({...ee,branchName:((Y=ee.branch)==null?void 0:Y.name)||e("branches.unknown"),branchId:((W=ee.branch)==null?void 0:W._id)||"unknown",date:P(ee.createdAt,t),statusHistory:((Z=ee.statusHistory)==null?void 0:Z.map(I=>({...I,changedAt:P(I.changedAt,t)})))||[],returns:((ne=ee.returns)==null?void 0:ne.map(I=>({...I,createdAt:P(I.createdAt,t),reviewedAt:I.reviewedAt?P(I.reviewedAt,t):null})))||[]}),u(X.map(I=>{var U,G,V;return{_id:I._id,userId:((U=I.user)==null?void 0:U._id)||I._id,username:((G=I.user)==null?void 0:G.username)||I.username||"Unknown",name:((V=I.user)==null?void 0:V.name)||I.name||I.username||e("orders.unknown_chef"),department:I.department||null}})),x("")}catch(ee){x(e("errors.fetch_orders")+": "+(ee.message||e("errors.unknown"))),ke.error(e("errors.fetch_orders"),{position:r?"top-left":"top-right"})}finally{p(!1)}},[n,s,e,t,r]);L.useEffect(()=>{F()},[F]);const N=L.useCallback(()=>{new Audio("/sounds/notification.mp3").play().catch(W=>{console.error(`[${new Date().toISOString()}]   :`,W)})},[]);L.useEffect(()=>{const Y=()=>{const W=new Audio("/sounds/notification.mp3");W.play().then(()=>{W.pause(),W.currentTime=0,console.log(`[${new Date().toISOString()}]    `)}).catch(Z=>console.error(`[${new Date().toISOString()}]    :`,Z)),document.removeEventListener("click",Y)};return document.addEventListener("click",Y,{once:!0}),()=>document.removeEventListener("click",Y)},[]),L.useEffect(()=>{if(!i||!o)return;const Y={taskAssigned:({orderId:W,items:Z})=>{W===o.id&&(l(ne=>({...ne,items:ne.items.map(ee=>{const X=Z.find(I=>I._id===ee._id);return X?{...ee,assignedTo:{_id:X.assignedTo._id,name:X.assignedTo.name||e("orders.unknown_chef")},status:"assigned"}:ee}),status:ne.items.every(ee=>ee.status==="assigned")?"in_production":ne.status})),ke.info(e("socket.task_assigned",{orderId:W}),{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N())},itemStatusUpdated:({orderId:W,itemId:Z,status:ne,productName:ee})=>{W===o.id&&(l(X=>({...X,items:X.items.map(I=>I._id===Z?{...I,status:ne}:I),status:X.items.every(I=>I.status==="completed")?"completed":X.status})),ke.info(e("socket.item_status_updated",{productName:ee,status:e(`orders.${ne}`)}),{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N())},orderStatusUpdated:({orderId:W,status:Z})=>{W===o.id&&(l(ne=>({...ne,status:Z})),ke.info(e("socket.order_status_updated",{status:e(`orders.${Z}`)}),{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N())},returnStatusUpdated:({returnId:W,orderId:Z,status:ne,adjustedTotal:ee,reviewNotes:X})=>{Z===o.id&&(l(I=>({...I,adjustedTotal:ee,returns:I.returns.map(U=>U.returnId===W?{...U,status:ne,reviewNotes:X||U.reviewNotes,reviewedAt:P(new Date,t)}:U)})),ke.info(e("socket.return_status_updated",{status:e(`returns.${ne}`)}),{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N())},newNotification:({type:W,message:Z,data:ne})=>{(ne.orderId===o.id||ne.returnId)&&(ke.info(Z,{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N())}};return Object.keys(Y).forEach(W=>i.on(W,Y[W])),()=>{Object.keys(Y).forEach(W=>i.off(W,Y[W]))}},[i,o,e,r,t,N]);const k=L.useCallback(async(Y,W)=>{b(`order-${Y}`);try{await Ws.updateStatus(Y,{status:W}),l(Z=>({...Z,status:W})),i==null||i.emit("orderStatusUpdated",{orderId:Y,status:W,timestamp:new Date().toISOString()}),ke.success(e("orders.status_updated",{status:e(`orders.${W}`)}),{position:r?"top-left":"top-right"})}catch(Z){x(e("errors.update_order_status")+": "+(Z.message||e("errors.unknown"))),ke.error(e("errors.update_order_status"),{position:r?"top-left":"top-right"})}finally{b(null)}},[e,r,i]),C=L.useCallback(async(Y,W)=>{const Z=R[Y]||e(W==="approved"?"returns.approved_by_admin":"returns.rejected_by_admin");b(`return-${Y}`);try{const ne=await Ws.updateReturnStatus(Y,{status:W,reviewNotes:Z});l(ee=>({...ee,adjustedTotal:ne.adjustedTotal,returns:ee.returns.map(X=>X.returnId===Y?{...X,status:W,reviewNotes:Z,reviewedAt:P(new Date,t)}:X)})),i==null||i.emit("returnStatusUpdated",{returnId:Y,orderId:o.id,status:W,adjustedTotal:ne.adjustedTotal,reviewNotes:Z,timestamp:new Date().toISOString()}),ke.success(e("returns.status_updated",{status:e(`returns.${W}`)}),{position:r?"top-left":"top-right"}),B(ee=>({...ee,[Y]:""}))}catch(ne){x(e("errors.update_return_status")+": "+(ne.message||e("errors.unknown"))),ke.error(e("errors.update_return_status"),{position:r?"top-left":"top-right"})}finally{b(null)}},[e,r,i,o,R,t]),H=L.useCallback(Y=>{if(Y.status!=="approved"){ke.error(e("errors.order_not_approved"),{position:r?"top-left":"top-right"});return}T({items:Y.items.filter(W=>!W.assignedTo).map(W=>({itemId:W._id,assignedTo:"",product:W.product._id,quantity:W.quantity}))}),S(!0)},[e,r]),z=L.useCallback(async Y=>{b(`order-${Y}`);try{const W=_.items.filter(Z=>Z.assignedTo);if(W.length===0){ke.warn(e("orders.no_chefs_selected"),{position:r?"top-left":"top-right"});return}await Ws.assignChef(Y,{items:W}),l(Z=>({...Z,items:Z.items.map(ne=>{const ee=W.find(X=>X.itemId===ne._id);return ee?{...ne,assignedTo:c.find(X=>X.userId===ee.assignedTo),status:"assigned"}:ne}),status:Z.items.every(ne=>ne.status==="assigned")?"in_production":Z.status})),i==null||i.emit("taskAssigned",{orderId:Y,items:W.map(Z=>({_id:Z.itemId,assignedTo:c.find(ne=>ne.userId===Z.assignedTo),status:"assigned",timestamp:new Date().toISOString()}))}),S(!1),T({items:[]}),ke.success(e("orders.chefs_assigned"),{position:r?"top-left":"top-right"}),navigator.vibrate&&navigator.vibrate([200,100,200]),N()}catch(W){x(e("errors.assign_chef")+": "+(W.message||e("errors.unknown"))),ke.error(e("errors.assign_chef"),{position:r?"top-left":"top-right"})}finally{b(null)}},[e,r,i,c,_,N]);return h?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-600"})}):m||!o?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md text-center",children:[d.jsx(Ar,{className:"w-8 h-8 text-red-600 mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-medium text-red-600",children:m||e("errors.order_not_found")}),d.jsx(dt,{onClick:F,className:"mt-4 bg-blue-600 text-white hover:bg-blue-700",children:e("common.retry")}),d.jsx(dt,{onClick:()=>a("/orders"),className:"mt-2 bg-gray-200 text-gray-900 hover:bg-gray-300",children:e("common.back")})]})}):d.jsx("div",{className:"min-h-screen ",children:d.jsxs("div",{className:" mx-auto ",children:[d.jsx(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:d.jsx("div",{className:"flex items-center ",children:d.jsx("h1",{className:"text-2xl  font-bold text-gray-800",children:e("orders.order_details",{orderNumber:o.orderNumber})})})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsx(uxe,{order:o,updateOrderStatus:k,updateReturnStatus:C,openAssignModal:H,submitting:y,isRtl:r,t:e,user:s,returnNotes:R,setReturnNotes:B})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("orders.status_history")}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute h-full w-1 bg-gray-200 left-4 top-0"}),(K=o.statusHistory)==null?void 0:K.map((Y,W)=>d.jsx(wt.div,{initial:{opacity:0,x:r?20:-20},animate:{opacity:1,x:0},transition:{delay:W*.1},className:"mb-6 relative",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white z-10",children:j[Y.status]||d.jsx(cc,{className:"w-5 h-5"})}),d.jsxs("div",{className:`ml-4 ${r?"mr-4 ml-0":""}`,children:[d.jsx("p",{className:"font-medium",children:e(`orders.${Y.status}`)}),d.jsx("p",{className:"text-sm text-gray-600",children:Y.changedAt}),d.jsx("p",{className:"text-sm text-gray-500",children:Y.changedBy||e("orders.unknown")}),Y.notes&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Y.notes})]})]})},W))]})]})})]}),d.jsx(dxe,{isOpen:v,onClose:()=>S(!1),order:o,assignFormData:_,setAssignFormData:T,chefs:c,assignChefs:z,submitting:y,isRtl:r,t:e})]})})},uxe=({order:e,updateOrderStatus:t,updateReturnStatus:r,openAssignModal:n,submitting:s,isRtl:i,t:a,user:o,returnNotes:l,setReturnNotes:c})=>{const u=L.useCallback(h=>{const p=(h.returns||[]).filter(m=>m.status==="approved").reduce((m,x)=>{const y=x.items.reduce((b,v)=>{const S=h.items.find(_=>_._id===v.itemId);return b+(S?S.price*v.quantity:0)},0);return m+y},0);return h.totalAmount-p},[]);return d.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-semibold",children:[a("orders.order_number"),": ",e.orderNumber]}),d.jsxs("p",{className:"text-gray-600",children:[a("orders.branch"),": ",e.branchName]}),d.jsxs("p",{className:"text-gray-600",children:[a("orders.date"),": ",e.date]}),d.jsxs("p",{className:"text-gray-600",children:[a("orders.priority"),": ",a(`orders.${e.priority}`)]})]}),d.jsxs("div",{className:`text-right ${i?"text-left":"text-right"}`,children:[d.jsxs("p",{className:"text-gray-600",children:[a("orders.total_amount"),": ",e.totalAmount.toLocaleString("ar-SA",{style:"currency",currency:"SAR"})]}),d.jsxs("p",{className:"text-gray-600",children:[a("orders.adjusted_total"),": ",(e.adjustedTotal??u(e)).toLocaleString("ar-SA",{style:"currency",currency:"SAR"})]}),d.jsxs("p",{className:`text-lg font-semibold ${e.status==="cancelled"?"text-red-600":"text-green-600"}`,children:[a("orders.status"),": ",a(`orders.${e.status}`)]})]})]}),d.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("orders.items")}),d.jsx("div",{className:"space-y-4",children:e.items.map(h=>{var m,x,y,b;const p=(e.returns||[]).filter(v=>v.items.some(S=>S.itemId===h._id));return d.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border-b pb-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:((m=h.product)==null?void 0:m.name)||a("product.unknown")}),d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.quantity"),": ",h.quantity]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.department"),": ",((y=(x=h.product)==null?void 0:x.department)==null?void 0:y.name)||a("departments.unknown")]}),h.assignedTo&&d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.assigned_to"),": ",((b=h.assignedTo)==null?void 0:b.name)||a("orders.unknown_chef")]}),d.jsx("p",{className:`text-sm font-medium ${h.status==="completed"?"text-green-600":"text-blue-600"}`,children:a(`orders.${h.status}`)})]}),p.length>0&&d.jsxs("div",{className:"mt-4 sm:mt-0",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:a("orders.returns")}),p.map(v=>d.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.return_status"),": ",a(`returns.${v.status}`)]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.created_at"),": ",v.createdAt]}),v.reviewedAt&&d.jsxs("p",{className:"text-sm text-gray-600",children:[a("returns.reviewed_at"),": ",v.reviewedAt]}),v.reviewNotes&&d.jsxs("p",{className:"text-sm text-gray-600",children:[a("orders.review_notes"),": ",v.reviewNotes]}),d.jsx("div",{className:"mt-2",children:v.items.filter(S=>S.itemId===h._id).map((S,_)=>{var T;return d.jsxs("p",{className:"text-sm text-gray-600",children:[S.quantity," x ",((T=h.product)==null?void 0:T.name)||a("product.unknown")," - ",a("orders.reason"),": ",a(`returns.${S.reason}`)||a("returns.no_reason")]},_)})}),v.status==="pending_approval"&&(o.role==="admin"||o.role==="production")&&d.jsx("div",{className:"mt-4 space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a("returns.review_notes")}),d.jsx(Mt,{value:l[v.returnId]||"",onChange:S=>c(_=>({..._,[v.returnId]:S.target.value})),placeholder:a("returns.review_notes_placeholder"),className:"w-full mt-1 p-2 border rounded-lg","aria-label":a("returns.review_notes")})]})})]},v.returnId))]})]})},h._id)})}),e.notes&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold",children:a("orders.notes")}),d.jsx("p",{className:"text-gray-600",children:e.notes})]})]})},dxe=({isOpen:e,onClose:t,order:r,assignFormData:n,setAssignFormData:s,chefs:i,assignChefs:a,submitting:o,isRtl:l,t:c})=>{const u=L.useCallback((h,p)=>{s(m=>({items:m.items.map(x=>x.itemId===h?{...x,assignedTo:p}:x)}))},[]);return d.jsx(Bn,{children:e&&r&&d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"assign-chefs-modal-title",children:d.jsxs(wt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-lg",children:[d.jsx("h2",{id:"assign-chefs-modal-title",className:"text-xl font-semibold mb-4",children:c("orders.assign_chefs")}),n.items.map(h=>{var x,y,b,v,S;const p=(b=(y=(x=r.items.find(_=>_._id===h.itemId))==null?void 0:x.product)==null?void 0:y.department)==null?void 0:b._id,m=i.filter(_=>{var T;return((T=_.department)==null?void 0:T._id)===p});return d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"font-medium",children:((S=(v=r.items.find(_=>_._id===h.itemId))==null?void 0:v.product)==null?void 0:S.name)||c("product.unknown")}),d.jsxs("p",{className:"text-sm text-gray-600",children:[c("orders.quantity"),": ",h.quantity]}),d.jsxs(es,{value:h.assignedTo,onChange:_=>u(h.itemId,_.target.value),className:"w-full mt-2 p-2 border rounded-lg","aria-label":c("orders.select_chef"),children:[d.jsx("option",{value:"",children:c("orders.select_chef")}),m.map(_=>d.jsx("option",{value:_.userId,children:_.name||c("orders.unknown_chef")},_._id))]})]},h.itemId)}),d.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[d.jsx(dt,{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-900 hover:bg-gray-300","aria-label":c("common.cancel"),children:c("common.cancel")}),d.jsx(dt,{onClick:()=>a(r.id),disabled:o===`order-${r.id}`,className:`px-4 py-2 rounded-full text-white ${o===`order-${r.id}`?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,"aria-label":c("orders.assign"),children:c("orders.assign")})]})]})})})};function fxe(){var Ce;const{user:e}=ps(),{t,language:r}=Yn(),n=r==="ar",s=yc(),i=L.useRef(null),[a,o]=L.useState([]),[l,c]=L.useState([]),[u,h]=L.useState([]),[p,m]=L.useState([]),[x,y]=L.useState(((Ce=e==null?void 0:e.branchId)==null?void 0:Ce.toString())||""),[b,v]=L.useState(""),[S,_]=L.useState("medium"),[T,R]=L.useState({products:!1,branches:!1,departments:!1}),[B,j]=L.useState(!1),[P,F]=L.useState(""),[N,k]=L.useState(null),[C,H]=L.useState(""),[z,K]=L.useState(""),[Y,W]=L.useState(!1),[Z,ne]=L.useState(1),[ee,X]=L.useState(1),I=L.useMemo(()=>[{value:"low",label:n?"":"Low"},{value:"medium",label:n?"":"Medium"},{value:"high",label:n?"":"High"},{value:"urgent",label:n?"":"Urgent"}],[n]),U=L.useMemo(()=>T0("https://eljoodia-server-production.up.railway.app"),[]),G=L.useCallback(hc.debounce(se=>{H(se),ne(1)},300),[]);L.useEffect(()=>{if(!e||!["admin","branch"].includes(e.role)){F(n?" ":"Unauthorized"),s("/branch-orders");return}(async()=>{var yt,Ke;try{R(it=>({...it,products:!0,branches:!0,departments:!0}));const[Ne,Ge,pt]=await Promise.all([P1.getAll({limit:12,page:Z,department:z,search:C}).finally(()=>R(it=>({...it,products:!1}))),Ri.getAll().finally(()=>R(it=>({...it,branches:!1}))),Nf.getAll({limit:100}).finally(()=>R(it=>({...it,departments:!1})))]);o(Ne.data),X(Ne.totalPages),c(Array.isArray(Ge)?Ge:[]),h(Array.isArray(pt.data)?pt.data:[]),(e==null?void 0:e.role)==="branch"&&(e!=null&&e.branchId)&&y(e.branchId.toString()),F("")}catch(Ne){F(((Ke=(yt=Ne.response)==null?void 0:yt.data)==null?void 0:Ke.message)||(n?"   ":"Error fetching data"))}})()},[n,e,s,z,C,Z]),L.useEffect(()=>(U.on("connect",()=>{console.log("Connected to Socket.IO server")}),U.on("orderCreated",()=>{k({message:n?"   ":"Order created successfully",type:"success"})}),()=>{U.disconnect()}),[n,U]),L.useEffect(()=>{N&&(ke[N.type](N.message,{autoClose:3e3}),setTimeout(()=>k(null),3e3))},[N]);const V=L.useMemo(()=>a.filter(se=>((r==="ar"?se.name:se.nameEn||se.name).toLowerCase().includes(C.toLowerCase())||se.code.toLowerCase().includes(C.toLowerCase()))&&(z===""||se.department._id===z)),[a,C,z,r]),Q=L.useCallback(se=>{m(yt=>yt.find(Ne=>Ne.productId===se._id)?yt.map(Ne=>Ne.productId===se._id?{...Ne,quantity:Ne.quantity+1}:Ne):[...yt,{productId:se._id,product:se,quantity:1,price:se.price}])},[]),ge=L.useCallback((se,yt)=>{if(yt<=0){Se(se);return}m(Ke=>Ke.map(Ne=>Ne.productId===se?{...Ne,quantity:yt}:Ne))},[]),Se=L.useCallback(se=>{m(yt=>yt.filter(Ke=>Ke.productId!==se))},[]),pe=L.useCallback(()=>{m([]),v(""),_("medium"),(e==null?void 0:e.role)==="admin"&&y(""),k({message:n?"  ":"Order cleared",type:"success"})},[n,e]),oe=L.useMemo(()=>p.reduce((se,yt)=>se+yt.price*yt.quantity,0).toFixed(2),[p]),De=L.useCallback(async se=>{if(se.preventDefault(),p.length===0){F(n?" ":"Cart is empty");return}if(!x&&(e==null?void 0:e.role)==="admin"){F(n?" ":"Branch is required");return}W(!0)},[p,x,e,n]),$e=async()=>{var se,yt,Ke,Ne,Ge;j(!0),W(!1);try{const pt={orderNumber:`ORD-${Date.now()}`,branchId:(e==null?void 0:e.role)==="branch"?(se=e==null?void 0:e.branchId)==null?void 0:se.toString():x,items:p.map(jt=>({productId:jt.productId,quantity:jt.quantity,price:jt.price})),status:"pending",notes:b.trim()||void 0,priority:S,requestedDeliveryDate:new Date().toISOString()},it=await Ws.create(pt);U.emit("newOrderFromBranch",it),k({message:n?"   ":"Order created successfully",type:"success"}),setTimeout(()=>s("/orders"),1e3)}catch(pt){F(((Ke=(yt=pt.response)==null?void 0:yt.data)==null?void 0:Ke.message)||(n?"   ":"Error creating order")),k({message:((Ge=(Ne=pt.response)==null?void 0:Ne.data)==null?void 0:Ge.message)||(n?"   ":"Error creating order"),type:"error"})}finally{j(!1)}},Ze=()=>{var se;(se=i.current)==null||se.scrollIntoView({behavior:"smooth"})};return T.products||T.branches||T.departments?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-600"})}):d.jsxs("div",{className:"mx-auto px-4 py-8 min-h-screen h-screen overflow-auto",dir:n?"rtl":"ltr",children:[N&&d.jsx("div",{className:`fixed top-4 ${n?"right-4":"left-4"} z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${N.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,role:"alert",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",children:N.message}),d.jsx("button",{onClick:()=>k(null),"aria-label":n?"":"Close",className:"hover:opacity-80",children:d.jsx(v_,{className:"w-4 h-4"})})]})}),Y&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n?" ":"Confirm Order"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n?"     ":"Are you sure you want to submit the order?"}),d.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3",children:[d.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:n?" ":"Order Summary"}),d.jsx("ul",{className:"space-y-2",children:p.map(se=>d.jsxs("li",{className:"flex justify-between text-sm text-gray-700",children:[d.jsxs("span",{children:[r==="ar"?se.product.name:se.product.nameEn||se.product.name," (x",se.quantity,")"]}),d.jsxs("span",{children:[(se.price*se.quantity).toFixed(2)," ",n?"":"SAR"]})]},se.productId))}),d.jsxs("div",{className:"mt-4 font-semibold text-gray-800 text-sm",children:[d.jsxs("span",{children:[n?" ":"Final Total",": "]}),d.jsxs("span",{className:"text-teal-600",children:[oe," ",n?"":"SAR"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full transition-colors text-sm","aria-label":n?"":"Cancel",children:n?"":"Cancel"}),d.jsx("button",{onClick:$e,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-full transition-colors text-sm",disabled:B,"aria-label":B?n?" ...":"Submitting...":n?"":"Confirm",children:B?n?" ...":"Submitting...":n?"":"Confirm"})]})]})}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[d.jsx(Qf,{className:"w-8 h-8 text-amber-600"}),n?"  ":"Create New Order"]}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:n?"     ":"Add products and confirm to submit your order"})]}),P&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 animate-pulse",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 text-sm",children:P})]}),p.length>0&&d.jsx("div",{className:`lg:hidden fixed bottom-6 ${n?"left-6":"right-6"} z-50`,children:d.jsx("button",{onClick:Ze,className:"p-3 bg-amber-600 hover:bg-amber-700 text-white rounded-full shadow-lg transition-transform transform hover:scale-105","aria-label":n?" ":"Scroll to Summary",children:d.jsx(xte,{className:"w-6 h-6"})})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[d.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:n?"  ...":"Search products...",onChange:se=>G(se.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors text-sm","aria-label":n?"  ":"Search products"})]}),d.jsxs("select",{value:z,onChange:se=>K(se.target.value),className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors text-sm","aria-label":n?"  ":"Filter by department",children:[d.jsx("option",{value:"",children:n?" ":"All Departments"}),u.map(se=>d.jsx("option",{value:se._id,children:r==="ar"?se.name:se.nameEn||se.name},se._id))]})]})}),T.products?d.jsx("div",{className:"p-6 text-center bg-white rounded-2xl shadow-md",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-600 mx-auto"})}):V.length===0?d.jsxs("div",{className:"p-8 text-center bg-white rounded-2xl shadow-md",children:[d.jsx(jo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-sm",children:n?"   ":"No products available"})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(se=>{const yt=p.find(Ke=>Ke.productId===se._id);return d.jsx("div",{className:"p-5 bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-200",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-base truncate",children:r==="ar"?se.name:se.nameEn||se.name}),d.jsx("p",{className:"text-xs text-gray-500",children:se.code})]}),d.jsx("p",{className:"text-sm text-amber-600",children:r==="ar"?se.department.name:se.department.nameEn||se.department.name}),d.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:[se.price," ",n?"":"SAR"," / ",r==="ar"?se.unit:se.unitEn||se.unit]}),se.description&&d.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:se.description}),d.jsx("div",{className:"flex justify-end gap-2",children:yt?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>ge(se._id,yt.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors flex items-center justify-center","aria-label":n?" ":"Decrease quantity",children:d.jsx(iI,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-8 h-8 text-center font-medium text-md",children:yt.quantity}),d.jsx("button",{onClick:()=>ge(se._id,yt.quantity+1),className:"w-8 h-8 bg-amber-600 rounded-full hover:bg-amber-700 transition-colors flex items-center justify-center","aria-label":n?" ":"Increase quantity",children:d.jsx(ml,{className:"w-4 h-4 text-white"})})]}):d.jsx("button",{onClick:()=>Q(se),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-full text-sm transition-colors","aria-label":n?"  ":"Add to Cart",children:n?"  ":"Add to Cart"})})]})},se._id)})}),ee>1&&d.jsxs("div",{className:"flex justify-center mt-6",children:[d.jsx("button",{onClick:()=>ne(se=>Math.max(se-1,1)),disabled:Z===1,className:"mx-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full transition-colors text-sm","aria-label":n?"":"Previous",children:n?"":"Previous"}),d.jsx("span",{className:"mx-4 self-center text-sm",children:n?` ${Z}  ${ee}`:`Page ${Z} of ${ee}`}),d.jsx("button",{onClick:()=>ne(se=>Math.min(se+1,ee)),disabled:Z===ee,className:"mx-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full transition-colors text-sm","aria-label":n?"":"Next",children:n?"":"Next"})]})]}),d.jsxs("div",{className:"lg:sticky lg:top-8 space-y-4 max-h-[calc(100vh-2rem)] overflow-y-auto",ref:i,children:[d.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n?" ":"Order Summary"}),p.length===0?d.jsx("p",{className:"text-gray-600 text-center py-4 text-sm",children:n?" ":"Cart is empty"}):d.jsxs("div",{className:"space-y-3",children:[p.map(se=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-gray-900 text-sm",children:r==="ar"?se.product.name:se.product.nameEn||se.product.name}),d.jsxs("p",{className:"text-xs text-gray-600",children:[se.price," ",n?"":"SAR"," / ",r==="ar"?se.product.unit:se.product.unitEn||se.product.unit]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>ge(se.productId,se.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors flex items-center justify-center","aria-label":n?" ":"Decrease quantity",children:d.jsx(iI,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-8 text-center font-medium text-sm",children:se.quantity}),d.jsx("button",{onClick:()=>ge(se.productId,se.quantity+1),className:"w-8 h-8 bg-amber-600 rounded-full hover:bg-amber-700 transition-colors flex items-center justify-center","aria-label":n?" ":"Increase quantity",children:d.jsx(ml,{className:"w-4 h-4 text-white"})}),d.jsx("button",{onClick:()=>Se(se.productId),className:"w-8 h-8 bg-red-500 rounded-full hover:bg-red-600 transition-colors flex items-center justify-center","aria-label":n?" ":"Remove item",children:d.jsx(ch,{className:"w-4 h-4 text-white"})})]})]},se.productId)),d.jsx("div",{className:"border-t pt-3",children:d.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 text-sm",children:[d.jsxs("span",{children:[n?" ":"Final Total",":"]}),d.jsxs("span",{className:"text-teal-600",children:[oe," ",n?"":"SAR"]})]})})]})]}),d.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:d.jsxs("form",{onSubmit:De,className:"space-y-4",children:[(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-1",children:n?"":"Branch"}),d.jsxs("select",{id:"branch",value:x,onChange:se=>y(se.target.value),className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors text-sm","aria-label":n?"":"Branch",disabled:T.branches,children:[d.jsx("option",{value:"",children:n?" ":"Select Branch"}),l.map(se=>d.jsx("option",{value:se._id,children:r==="ar"?se.name:se.nameEn||se.name},se._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:n?"":"Priority"}),d.jsx("select",{id:"priority",value:S,onChange:se=>_(se.target.value),className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors text-sm","aria-label":n?"":"Priority",children:I.map(se=>d.jsx("option",{value:se.value,children:se.label},se.value))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:n?"":"Notes"}),d.jsx("textarea",{id:"notes",value:b,onChange:se=>v(se.target.value),placeholder:n?"  ...":"Enter order notes...",className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-y text-sm",rows:4,"aria-label":n?"":"Notes"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:pe,className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full transition-colors text-sm",disabled:B||p.length===0,"aria-label":n?" ":"Clear Order",children:n?" ":"Clear Order"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-full transition-colors text-sm",disabled:p.length===0||B,"aria-label":B?n?" ...":"Submitting...":n?" ":"Submit Order",children:B?n?" ...":"Submitting...":n?" ":"Submit Order"})]})]})})]})]})]})}const hxe={tasks:[],chefId:null,loading:!0,error:"",submitting:null,socketConnected:!1,filter:{status:"all",search:""},page:1,totalPages:1},pxe=5*60*1e3,g3=new Map,mxe=(e,t)=>{switch(t.type){case"SET_TASKS":return{...e,tasks:t.payload.tasks,totalPages:t.payload.totalPages,loading:!1};case"SET_CHEF_ID":return{...e,chefId:t.payload};case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload,loading:!1};case"SET_SUBMITTING":return{...e,submitting:t.payload};case"SET_SOCKET_CONNECTED":return{...e,socketConnected:t.payload};case"SET_FILTER":return{...e,filter:t.payload,page:1};case"SET_PAGE":return{...e,page:t.payload};case"TASK_ASSIGNED":{const r=Array.isArray(t.payload.items)?t.payload.items:[];if(!r.length||!t.payload.orderId||!t.payload.orderNumber||!t.payload.branchName)return console.warn(`[${new Date().toISOString()}] Invalid task assigned data:`,t.payload),e;const n=r.filter(i=>{var a;return((a=i.assignedTo)==null?void 0:a._id)===e.chefId}).map(i=>({itemId:i.itemId||"unknown",orderId:t.payload.orderId||"unknown",orderNumber:t.payload.orderNumber||"N/A",productId:i.productId||"unknown",productName:i.productName||"Unknown Product",quantity:Number(i.quantity)||1,status:i.status||"pending",createdAt:i.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString(),progress:Ob(i.status||"pending").progress,branchName:t.payload.branchName||"Unknown Branch",branchId:i.branchId||"unknown",priority:i.priority||"medium",department:i.department||{_id:"unknown",name:"Unknown Department"},assignedTo:i.assignedTo||{_id:"unknown",username:"Unknown Chef"}})),s=[...e.tasks.filter(i=>!n.some(a=>a.itemId===i.itemId)),...n];return{...e,tasks:s,totalPages:Math.ceil(s.length/10)||1}}case"UPDATE_ITEM_STATUS":return{...e,tasks:e.tasks.map(r=>r.itemId===t.payload.itemId&&r.orderId===t.payload.orderId?{...r,status:t.payload.status,updatedAt:t.payload.updatedAt,progress:Ob(t.payload.status).progress}:r)};case"UPDATE_ORDER_STATUS":return{...e,tasks:t.status==="completed"||t.status==="cancelled"?e.tasks.filter(r=>r.orderId!==t.orderId):e.tasks};default:return e}},Ob=e=>({pending:{label:"item_pending",color:"bg-amber-100 text-amber-800",icon:cc,progress:0},in_progress:{label:"item_in_progress",color:"bg-blue-100 text-blue-800",icon:jo,progress:50},completed:{label:"item_completed",color:"bg-green-100 text-green-800",icon:k0,progress:100}})[e]||{label:e,color:"bg-gray-100 text-gray-700",icon:cc,progress:0},z8=e=>({pending:"in_progress",in_progress:"completed",completed:"completed"})[e]||e;function gxe(){const{t:e,language:t}=Yn(),r=t==="ar",{user:n}=ps(),{socket:s,isConnected:i}=vd(),a=yc(),[o,l]=L.useReducer(mxe,{...hxe,socketConnected:i}),c=L.useRef(o);c.current=o;const u=10;xT(l,c,n);const h=L.useMemo(()=>`${o.chefId}-${o.page}-${o.filter.status}-${o.filter.search}`,[o.chefId,o.page,o.filter]),p=L.useCallback(async()=>{const _=(n==null?void 0:n.id)||(n==null?void 0:n._id);if(!_||!/^[0-9a-fA-F]{24}$/.test(_)){l({type:"SET_ERROR",payload:e("errors.unauthorized")}),ke.error(e("errors.unauthorized"),{toastId:`error-noUserId-${Date.now()}`,position:r?"top-left":"top-right"}),a("/login"),l({type:"SET_LOADING",payload:!1});return}if((n==null?void 0:n.role)!=="chef"){l({type:"SET_ERROR",payload:e("errors.unauthorized")}),ke.error(e("errors.unauthorized"),{toastId:`error-notChef-${Date.now()}`,position:r?"top-left":"top-right"}),a("/"),l({type:"SET_LOADING",payload:!1});return}try{const T=await rc.getByUserId(_);if(!T||!T._id||!/^[0-9a-fA-F]{24}$/.test(T._id)){l({type:"SET_ERROR",payload:e("errors.invalid_chef_data")}),ke.error(e("errors.invalid_chef_data"),{toastId:`error-noChefProfile-${Date.now()}`,position:r?"top-left":"top-right"}),l({type:"SET_LOADING",payload:!1});return}l({type:"SET_CHEF_ID",payload:T._id})}catch(T){const R=T.message||e("errors.chef_fetch_failed");l({type:"SET_ERROR",payload:R}),ke.error(R,{toastId:`error-chefProfile-${Date.now()}`,position:r?"top-left":"top-right"}),l({type:"SET_LOADING",payload:!1})}},[n,e,r,a]),m=L.useCallback(hc.debounce(async(_=!1)=>{if(!o.chefId||!/^[0-9a-fA-F]{24}$/.test(o.chefId)){l({type:"SET_ERROR",payload:e("errors.no_chef_id")}),ke.error(e("errors.no_chef_id"),{toastId:`error-noChefId-${Date.now()}`,position:r?"top-left":"top-right"});return}const T=g3.get(h);if(!_&&T&&Date.now()-T.timestamp<pxe){l({type:"SET_TASKS",payload:{tasks:T.data,totalPages:Math.ceil(T.data.length/u)||1}});return}l({type:"SET_LOADING",payload:!0});try{const R={page:o.page,limit:u};o.filter.status&&o.filter.status!=="all"&&(R.status=o.filter.status),o.filter.search&&(R.search=o.filter.search);const B=await Qu.getChefTasks(o.chefId,R);if(!Array.isArray(B))throw new Error(e("errors.invalid_response"));const j=B.filter(P=>{var F,N,k;return!P._id||!((F=P.order)!=null&&F._id)||!((N=P.product)!=null&&N._id)||!((k=P.chef)!=null&&k._id)||!/^[0-9a-fA-F]{24}$/.test(P._id)?(console.warn(`[${new Date().toISOString()}] Invalid task data:`,P),ke.warn(e("errors.invalid_task_data"),{toastId:`error-task-${(P==null?void 0:P._id)||"unknown"}-${Date.now()}`,position:r?"top-left":"top-right"}),!1):!P.quantity||P.quantity<=0?(console.warn(`[${new Date().toISOString()}] Invalid quantity for task ${P._id}:`,P.quantity),ke.warn(e("errors.invalid_task_quantity"),{toastId:`error-task-quantity-${(P==null?void 0:P._id)||"unknown"}-${Date.now()}`,position:r?"top-left":"top-right"}),!1):!0}).map(P=>{var F,N,k,C,H,z;return{itemId:P._id,orderId:P.order._id||"unknown",orderNumber:P.order.orderNumber||e("orders.unknown"),productId:P.product._id||"unknown",productName:P.product.name||e("orders.unknown_product"),quantity:Number(P.quantity)||1,status:P.status||"pending",createdAt:P.createdAt||new Date().toISOString(),updatedAt:P.updatedAt||new Date().toISOString(),progress:Ob(P.status||"pending").progress,branchName:((N=(F=P.order)==null?void 0:F.branch)==null?void 0:N.name)||e("orders.unknown_branch"),branchId:((C=(k=P.order)==null?void 0:k.branch)==null?void 0:C._id)||"unknown",priority:((H=P.order)==null?void 0:H.priority)||"medium",department:((z=P.product)==null?void 0:z.department)||{_id:"unknown",name:e("orders.unknown_department")},assignedTo:P.chef?{_id:P.chef._id,username:P.chef.username||e("orders.unknown_chef")}:void 0}});g3.set(h,{data:j,timestamp:Date.now()}),l({type:"SET_TASKS",payload:{tasks:j,totalPages:Math.ceil(B.length/u)||1}}),j.length===0&&B.length>0?(l({type:"SET_ERROR",payload:e("errors.all_tasks_filtered")}),ke.warn(e("errors.all_tasks_filtered"),{toastId:`error-invalidTasks-${Date.now()}`,position:r?"top-left":"top-right"})):l({type:"SET_ERROR",payload:""})}catch(R){const B=R.message||e("errors.task_fetch_failed");l({type:"SET_ERROR",payload:B}),ke.error(B,{toastId:`error-fetchTasks-${Date.now()}`,position:r?"top-left":"top-right"})}finally{l({type:"SET_LOADING",payload:!1})}},300),[o.chefId,o.page,o.filter,h,e,r]),x=L.useCallback(hc.debounce(async(_,T,R)=>{if(o.submitting!==_){if(!o.chefId||!/^[0-9a-fA-F]{24}$/.test(o.chefId)){l({type:"SET_ERROR",payload:e("errors.no_chef_id")}),ke.error(e("errors.no_chef_id"),{toastId:`error-noChefId-${Date.now()}`,position:r?"top-left":"top-right"});return}if(!(n!=null&&n.id)&&!(n!=null&&n._id)){l({type:"SET_ERROR",payload:e("errors.unauthorized")}),ke.error(e("errors.unauthorized"),{toastId:`error-noUserId-${Date.now()}`,position:r?"top-left":"top-right"});return}if(!/^[0-9a-fA-F]{24}$/.test(T)||!/^[0-9a-fA-F]{24}$/.test(_)){l({type:"SET_ERROR",payload:e("errors.invalid_task_data")}),ke.error(e("errors.invalid_task_data"),{toastId:`error-invalidTaskIds-${Date.now()}`,position:r?"top-left":"top-right"});return}l({type:"SET_SUBMITTING",payload:_});try{const B=await Qu.updateTaskStatus(T,_,{status:R});l({type:"UPDATE_ITEM_STATUS",payload:{orderId:T,itemId:_,status:B.task.status,updatedAt:new Date().toISOString()}});const j=o.tasks.find(P=>P.itemId===_);j&&o.socketConnected&&s.emit("itemStatusUpdated",{orderId:T,itemId:_,status:R,chefId:o.chefId,productName:j.productName,orderNumber:j.orderNumber,branchName:j.branchName,quantity:j.quantity,unit:j.unit||"unit",eventId:crypto.randomUUID()}),ke.success(e("orders.task_updated",{status:e(`orders.item_${R}`)}),{toastId:`success-taskStatus-${_}-${Date.now()}`,position:r?"top-left":"top-right"})}catch(B){const j=B.message||e("errors.task_update_failed");l({type:"SET_ERROR",payload:j}),ke.error(j,{toastId:`error-taskUpdate-${_}-${Date.now()}`,position:r?"top-left":"top-right"})}finally{l({type:"SET_SUBMITTING",payload:null})}}},500),[e,o.tasks,o.chefId,n,s,o.socketConnected,r]);L.useEffect(()=>{p()},[p]),L.useEffect(()=>{o.chefId&&m()},[o.chefId,m]),L.useEffect(()=>{l({type:"SET_SOCKET_CONNECTED",payload:i})},[i]);const y=L.useMemo(()=>o.tasks.filter(_=>o.filter.status==="all"||_.status===o.filter.status).filter(_=>{var T;return _.orderNumber.toLowerCase().includes(o.filter.search.toLowerCase())||_.productName.toLowerCase().includes(o.filter.search.toLowerCase())||((T=_.branchName)==null?void 0:T.toLowerCase().includes(o.filter.search.toLowerCase()))}),[o.tasks,o.filter]),b=L.useMemo(()=>{const _=(o.page-1)*u;return y.slice(_,_+u)},[y,o.page]),v=[{value:"all",label:e("orders.all_statuses")},{value:"pending",label:e("orders.item_pending")},{value:"in_progress",label:e("orders.item_in_progress")},{value:"completed",label:e("orders.item_completed")}],S=()=>d.jsx(tr,{className:"p-6 bg-white shadow-lg rounded-xl border border-gray-100 animate-pulse",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[...Array(6)].map((_,T)=>d.jsx("div",{className:"h-4 bg-gray-200 rounded"},T))}),d.jsx("div",{className:"mt-4 h-3 bg-gray-200 rounded w-full"})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("div",{className:"h-10 bg-gray-200 rounded w-28"})})]})});return d.jsx("div",{className:`mx-auto px-4 sm:px-6 lg:px-8 py-6 min-h-screen ${r?"font-arabic":""}`,dir:r?"rtl":"ltr",children:o.loading?d.jsx("div",{className:"flex flex-col gap-4",children:[...Array(3)].map((_,T)=>d.jsx(S,{},T))}):o.error?d.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"max-w-md mx-auto",children:d.jsxs(tr,{className:"p-6 text-center bg-red-50 shadow-lg rounded-xl border border-red-200",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(Ar,{className:"w-6 h-6 text-red-600"}),d.jsx("p",{className:"text-base font-medium text-red-600",children:o.error})]}),d.jsx(dt,{variant:"primary",onClick:()=>{g3.delete(h),p(),o.chefId&&m(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-6 py-2.5 text-sm shadow-md transition-all","aria-label":e("orders.retry"),children:e("orders.retry")})]})}):d.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsx("div",{className:"flex items-center justify-between mb-8",children:d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[d.jsx(jo,{className:"w-6 h-6 text-blue-600"}),e("orders.chef_tasks")]})}),d.jsx(tr,{className:"p-6 mb-8 bg-white shadow-lg rounded-xl border border-gray-100",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:e("orders.search")}),d.jsxs("div",{className:"flex items-center rounded-lg border border-gray-300 bg-white shadow-sm focus-within:ring-2 focus-within:ring-blue-500 transition-all",children:[d.jsx(vl,{className:`w-5 h-5 text-gray-500 absolute ${r?"right-3":"left-3"}`}),d.jsx(Mt,{type:"text",value:o.filter.search,onChange:_=>l({type:"SET_FILTER",payload:{...o.filter,search:_.target.value}}),placeholder:e("orders.search_placeholder"),className:`w-full ${r?"pr-10 pl-4":"pl-10 pr-4"} py-2.5 rounded-lg bg-transparent text-sm text-gray-900 border-0 focus:outline-none`,"aria-label":e("orders.search")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:e("orders.filter_by_status")}),d.jsx(es,{options:v,value:o.filter.status,onChange:_=>l({type:"SET_FILTER",payload:{...o.filter,status:_}}),className:"w-full rounded-lg border-gray-300 focus:ring-blue-500 text-sm shadow-sm transition-all bg-white","aria-label":e("orders.filter_by_status")})]})]})}),!o.socketConnected&&d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg shadow-sm flex items-center gap-2",children:[d.jsx(Ar,{className:"w-5 h-5 text-yellow-600"}),d.jsx("p",{className:"text-sm text-yellow-700",children:e("errors.socket_disconnected")})]}),d.jsx(Bn,{children:b.length===0?d.jsx(tr,{className:"p-8 text-center bg-white shadow-lg rounded-xl border border-gray-100",children:d.jsx("p",{className:"text-base text-gray-600",children:e("orders.no_tasks")})}):d.jsx("div",{className:"space-y-4",children:b.map(_=>{const{label:T,color:R,icon:B,progress:j}=Ob(_.status);return d.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:d.jsx(tr,{className:"p-6 bg-white shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-all hover:-translate-y-1",children:d.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",children:_.productName}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R} flex items-center gap-1`,children:[d.jsx(B,{className:"w-5 h-5"}),e(`orders.${T}`)]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600",children:[d.jsxs("p",{children:[d.jsxs("span",{className:"font-semibold",children:[e("orders.order_number"),":"]})," ",_.orderNumber]}),d.jsxs("p",{children:[d.jsxs("span",{className:"font-semibold",children:[e("orders.quantity"),":"]})," ",_.quantity]}),d.jsxs("p",{children:[d.jsxs("span",{className:"font-semibold",children:[e("orders.created_at"),":"]})," ",dr(_.createdAt,t)]}),d.jsxs("p",{children:[d.jsxs("span",{className:"font-semibold",children:[e("orders.updated_at"),":"]})," ",dr(_.updatedAt,t)]})]}),d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${j}%`}})})})]}),d.jsx("div",{className:`flex items-center gap-3 ${r?"flex-row-reverse":""}`,children:_.status!=="completed"&&d.jsx(dt,{variant:"primary",size:"sm",onClick:()=>x(_.itemId,_.orderId,z8(_.status)),disabled:o.submitting===_.itemId||!o.socketConnected,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-5 py-2.5 text-sm shadow-md transition-all disabled:opacity-50","aria-label":e("orders.update_status"),children:o.submitting===_.itemId?d.jsx(wl,{className:"w-5 h-5"}):d.jsxs(d.Fragment,{children:[d.jsx(k0,{className:`w-5 h-5 ${r?"ml-2":"mr-2"}`}),e(`orders.item_${z8(_.status)}`)]})})})]})})},_.itemId)})})}),o.totalPages>1&&d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex justify-center items-center gap-4 mt-8",children:[d.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>l({type:"SET_PAGE",payload:o.page-1}),disabled:o.page===1,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg px-5 py-2.5 text-sm shadow-sm transition-all disabled:opacity-50","aria-label":e("orders.previous"),children:e("orders.previous")}),d.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:e("orders.page",{current:o.page,total:o.totalPages})}),d.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>l({type:"SET_PAGE",payload:o.page+1}),disabled:o.page===o.totalPages,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg px-5 py-2.5 text-sm shadow-sm transition-all disabled:opacity-50","aria-label":e("orders.next"),children:e("orders.next")})]})]})})}const yxe=({state:e,dispatch:t,isRtl:r,branches:n,onSearchChange:s})=>{const i=L.useCallback(c=>{t({type:"SET_FILTER_STATUS",payload:c.target.value})},[t]),a=L.useCallback(c=>{t({type:"SET_FILTER_BRANCH",payload:c.target.value})},[t]),o=L.useCallback(c=>{const[u,h]=c.target.value.split(":");t({type:"SET_SORT",by:u,order:h})},[t]),l=L.useCallback(()=>{t({type:"SET_FILTER_STATUS",payload:""}),t({type:"SET_FILTER_BRANCH",payload:""}),t({type:"SET_SEARCH_QUERY",payload:""}),t({type:"SET_SORT",by:"date",order:"desc"})},[t]);return d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${r?"text-right":"text-left"}`,children:r?"":"Search"}),d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:`absolute top-3 ${r?"right-3":"left-3"} h-4 w-4 text-gray-400`}),d.jsx("input",{type:"text",value:e.searchQuery,onChange:s,placeholder:r?"    ":"Search by return or order number",className:`block w-full rounded-lg border-gray-200 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm py-2.5 ${r?"pr-10 pl-4 text-right":"pl-10 pr-4 text-left"} transition-all duration-200 ease-in-out`})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${r?"text-right":"text-left"}`,children:r?"":"Status"}),d.jsxs("select",{value:e.filterStatus,onChange:i,className:`block w-full rounded-lg border-gray-200 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm py-2.5 ${r?"text-right":"text-left"} transition-all duration-200 ease-in-out`,children:[d.jsx("option",{value:"",children:r?" ":"All Statuses"}),d.jsx("option",{value:"pending_approval",children:r?"  ":"Pending Approval"}),d.jsx("option",{value:"approved",children:r?" ":"Approved"}),d.jsx("option",{value:"rejected",children:r?"":"Rejected"}),d.jsx("option",{value:"processed",children:r?" ":"Processed"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${r?"text-right":"text-left"}`,children:r?"":"Branch"}),d.jsxs("select",{value:e.filterBranch,onChange:a,className:`block w-full rounded-lg border-gray-200 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm py-2.5 ${r?"text-right":"text-left"} transition-all duration-200 ease-in-out`,children:[d.jsx("option",{value:"",children:r?" ":"All Branches"}),n.length>0?n.map(c=>d.jsx("option",{value:c._id,children:c.name},c._id)):d.jsx("option",{disabled:!0,children:r?"  ":"No branches available"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${r?"text-right":"text-left"}`,children:r?"":"Sort"}),d.jsxs("select",{value:`${e.sortBy}:${e.sortOrder}`,onChange:o,className:`block w-full rounded-lg border-gray-200 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm py-2.5 ${r?"text-right":"text-left"} transition-all duration-200 ease-in-out`,children:[d.jsx("option",{value:"date:desc",children:r?" ()":"Date (Descending)"}),d.jsx("option",{value:"date:asc",children:r?" ()":"Date (Ascending)"}),d.jsx("option",{value:"totalAmount:desc",children:r?" ()":"Total Amount (Descending)"}),d.jsx("option",{value:"totalAmount:asc",children:r?" ()":"Total Amount (Ascending)"}),d.jsx("option",{value:"returnNumber:desc",children:r?"  ()":"Return Number (Descending)"}),d.jsx("option",{value:"returnNumber:asc",children:r?"  ()":"Return Number (Ascending)"})]})]})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsxs("button",{onClick:l,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors ${r?"flex-row-reverse":""}`,children:[d.jsx(v_,{className:"w-4 h-4"}),r?" ":"Reset Filters"]})})]})};var Wn=(e=>(e.PendingApproval="pending",e.Approved="approved",e.Rejected="rejected",e.Processed="processed",e))(Wn||{});const xxe=L.memo(({ret:e,isRtl:t,getStatusInfo:r,viewReturn:n,openActionModal:s,submitting:i,user:a})=>{var c;const o=r(e.status),l=o.icon;return L.useEffect(()=>{console.log(`ReturnCard - ID: ${e.id}, Status: ${e.status}, User Role: ${(a==null?void 0:a.role)||"none"}`)},[e.id,e.status,a==null?void 0:a.role]),d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-4",children:d.jsx(tr,{className:"p-6 bg-white shadow-lg rounded-xl border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 ${t?"flex-row-reverse":""}`,children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t?" ":"Return Number",": ",e.returnNumber]}),d.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${o.color}`,children:[d.jsx(l,{className:"w-5 h-5"}),o.label]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?" ":"Order Number"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:e.order.orderNumber})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?" ":"Items Count"}),d.jsxs("p",{className:"text-base font-medium text-gray-900",children:[e.items.length," ",t?"":"items"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?"":"Date"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:dr(e.createdAt,t?"ar-SA":"en-US")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?"":"Branch"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:e.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?"":"Total Amount"}),d.jsxs("p",{className:"text-base font-medium text-teal-600",children:[e.order.totalAmount.toFixed(2)," ",t?"":"SAR"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:t?"  ":"Created By"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:((c=e.createdBy)==null?void 0:c.username)||e.branch.name})]})]}),d.jsx("div",{className:"flex flex-col gap-3",children:e.items.length>0?e.items.map((u,h)=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100 hover:bg-gray-100 transition-colors",children:[d.jsx("p",{className:"text-base font-medium text-gray-900",children:u.productName}),d.jsx("p",{className:"text-sm text-gray-600",children:t?`: ${u.quantity}`:`Quantity: ${u.quantity}`}),d.jsx("p",{className:"text-sm text-gray-600",children:t?`: ${u.reason||" "}`:`Reason: ${u.reason||"Not specified"}`}),u.price&&d.jsx("p",{className:"text-sm text-gray-600",children:t?`: ${u.price.toFixed(2)} `:`Price: ${u.price.toFixed(2)} SAR`}),u.status&&d.jsx("p",{className:`text-sm ${u.status===Wn.Approved?"text-green-600":u.status===Wn.Rejected?"text-red-600":"text-gray-600"}`,children:t?` : ${u.status===Wn.Approved?" ":u.status===Wn.Rejected?"":u.status===Wn.Processed?" ":"  "}`:`Item Status: ${u.status}`}),u.reviewNotes&&d.jsx("p",{className:"text-sm text-gray-600",children:t?` : ${u.reviewNotes}`:`Review Notes: ${u.reviewNotes}`})]},h)):d.jsx("p",{className:"text-sm text-gray-500",children:t?"  ":"No items"})}),e.notes&&d.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-100",children:d.jsxs("p",{className:"text-sm text-amber-800",children:[d.jsx("strong",{children:t?":":"Notes:"})," ",e.notes]})}),e.reviewNotes&&d.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:t?" :":"Review Notes:"})," ",e.reviewNotes]})}),e.statusHistory&&e.statusHistory.length>0&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t?" ":"Status History"}),e.statusHistory.map((u,h)=>d.jsx("p",{className:"text-sm text-gray-600",children:t?`    ${u.status}  ${u.changedBy}  ${dr(u.changedAt,"ar-SA")} ${u.notes?`: ${u.notes}`:"  "}`:`Status changed to ${u.status} by ${u.changedBy} on ${dr(u.changedAt,"en-US")} ${u.notes?`Notes: ${u.notes}`:"No notes"}`},h))]}),d.jsxs("div",{className:`flex flex-col sm:flex-row gap-3 ${t?"justify-end flex-row-reverse":"justify-end"}`,children:[d.jsx(dt,{variant:"primary",size:"md",icon:Po,onClick:()=>n(e),className:"bg-teal-600 hover:bg-teal-700 text-white rounded-full px-4 py-2 transition-colors","aria-label":t?`  ${e.returnNumber}`:`View Return ${e.returnNumber}`,children:t?"":"View"}),e.status===Wn.PendingApproval&&["production","admin"].includes((a==null?void 0:a.role)||"")?d.jsxs(d.Fragment,{children:[d.jsx(dt,{variant:"success",size:"md",icon:eb,onClick:()=>s(e,"approve"),className:"bg-green-600 hover:bg-green-700 text-white rounded-full px-4 py-2 transition-colors",disabled:i===e.id,"aria-label":t?`   ${e.returnNumber}`:`Approve Return ${e.returnNumber}`,children:i===e.id?t?" ":"Loading":t?"":"Approve"}),d.jsx(dt,{variant:"danger",size:"md",icon:Ar,onClick:()=>s(e,"reject"),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-4 py-2 transition-colors",disabled:i===e.id,"aria-label":t?`  ${e.returnNumber}`:`Reject Return ${e.returnNumber}`,children:i===e.id?t?" ":"Loading":t?"":"Reject"})]}):d.jsx("p",{className:"text-sm text-gray-500",children:e.status!==Wn.PendingApproval?t?`    ${e.status===Wn.Approved?" ":e.status===Wn.Rejected?"":" "}`:`Actions unavailable for status ${e.status}`:t?"   ":"Actions unauthorized"})]})]})})})}),vxe=({returns:e,isRtl:t,getStatusInfo:r,viewReturn:n,openActionModal:s,submitting:i,user:a})=>d.jsx("div",{className:"overflow-x-auto rounded-xl shadow-lg border border-gray-100",children:d.jsxs("table",{className:"min-w-full bg-white",children:[d.jsx("thead",{className:"bg-teal-50 sticky top-0 z-10",children:d.jsxs("tr",{className:t?"text-right":"text-left",children:[d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?" ":"Return Number"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?" ":"Order Number"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Status"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Date"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Products"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Quantities"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?" ":"Total Quantity"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Branch"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Total"}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t?"":"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(o=>{const l=o.items.reduce((c,u)=>c+u.quantity,0);return d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:o.returnNumber}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:o.order.orderNumber}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${r(o.status).color}`,children:r(o.status).label})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:dr(o.createdAt,t?"ar-SA":"en-US")}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o.items.length>0?o.items.map(c=>c.productName).join(", "):t?"  ":"No products"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o.items.length>0?o.items.map(c=>c.quantity).join(", "):"-"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:l}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:o.branch.name}),d.jsxs("td",{className:"px-4 py-3 text-sm text-teal-600 whitespace-nowrap",children:[o.order.totalAmount.toFixed(2)," ",t?"":"SAR"]}),d.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:d.jsxs("div",{className:`flex gap-2 ${t?"flex-row-reverse":""}`,children:[d.jsx("button",{onClick:()=>n(o),className:"text-teal-600 hover:text-teal-800 font-medium transition-colors",disabled:i===o.id,"aria-label":t?`  ${o.returnNumber}`:`View Return ${o.returnNumber}`,children:t?"":"View"}),(a==null?void 0:a.role)==="admin"&&o.status===Wn.PendingApproval&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>s(o,"approve"),className:"text-green-600 hover:text-green-800 font-medium transition-colors",disabled:i===o.id,"aria-label":t?`   ${o.returnNumber}`:`Approve Return ${o.returnNumber}`,children:t?"":"Approve"}),d.jsx("button",{onClick:()=>s(o,"reject"),className:"text-red-600 hover:text-red-800 font-medium transition-colors",disabled:i===o.id,"aria-label":t?`  ${o.returnNumber}`:`Reject Return ${o.returnNumber}`,children:t?"":"Reject"})]})]})})]},o.id)})})]})}),wxe=()=>d.jsx(tr,{className:"p-6 mb-4 bg-white shadow-lg rounded-xl border border-gray-100",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Ir,{width:180,height:20}),d.jsx(Ir,{width:80,height:20})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array(6).fill(0).map((e,t)=>d.jsxs("div",{children:[d.jsx(Ir,{width:70,height:14}),d.jsx(Ir,{width:100,height:18})]},t))}),d.jsx("div",{className:"space-y-3",children:Array(2).fill(0).map((e,t)=>d.jsx(Ir,{width:"100%",height:40},t))}),d.jsx("div",{className:"flex gap-2 justify-end",children:Array(3).fill(0).map((e,t)=>d.jsx(Ir,{width:80,height:32},t))})]})}),bxe=({isRtl:e})=>d.jsx("div",{className:"overflow-x-auto rounded-xl shadow-lg border border-gray-100",children:d.jsxs("table",{className:"min-w-full bg-white",children:[d.jsx("thead",{className:"bg-teal-50 sticky top-0 z-10",children:d.jsxs("tr",{className:e?"text-right":"text-left",children:[d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:14})}),d.jsx("th",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:14})})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:Array(5).fill(0).map((t,r)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:120,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:150,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:100,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:60,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(Ir,{width:80,height:16})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:`flex gap-2 ${e?"flex-row-reverse":""}`,children:[d.jsx(Ir,{width:60,height:16}),d.jsx(Ir,{width:60,height:16}),d.jsx(Ir,{width:60,height:16})]})})]},r))})]})}),_xe=({handlePageChange:e,currentPage:t,totalPages:r,isRtl:n})=>d.jsxs("div",{className:`flex items-center justify-center gap-3 mt-6 ${n?"flex-row":""}`,children:[d.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>e(t-1),disabled:t===1,className:"disabled:opacity-50 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1.5 transition-colors","aria-label":n?" ":"Previous Page",children:n?"":"Previous"}),d.jsx("span",{className:"text-sm text-gray-700 font-medium",children:n?` ${t}  ${r}`:`Page ${t} of ${r}`}),d.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>e(t+1),disabled:t===r,className:"disabled:opacity-50 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1.5 transition-colors","aria-label":n?" ":"Next Page",children:n?"":"Next"})]}),Sxe=({isOpen:e,onClose:t,selectedReturn:r,isRtl:n,getStatusInfo:s})=>{var i;return d.jsx(Fs,{isOpen:e,onClose:t,title:n?`  ${(r==null?void 0:r.returnNumber)||""}`:`View Return ${(r==null?void 0:r.returnNumber)||""}`,size:"lg",className:"bg-white rounded-xl shadow-lg",children:r&&d.jsxs("div",{className:"space-y-6 p-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?" ":"Order Number"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:r.order.orderNumber})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?"":"Date"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:dr(r.createdAt,n?"ar-SA":"en-US")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?"":"Branch"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:r.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?"":"Total Amount"}),d.jsxs("p",{className:"text-base font-medium text-teal-600",children:[r.order.totalAmount.toFixed(2)," ",n?"":"SAR"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?"":"Status"}),d.jsx("p",{className:`text-base font-medium ${s(r.status).color}`,children:s(r.status).label})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:n?"  ":"Created By"}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:((i=r.createdBy)==null?void 0:i.username)||r.branch.name})]})]}),d.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:n?"":"Products"}),d.jsx("div",{className:"mt-2 space-y-3",children:r.items.length>0?r.items.map((a,o)=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100 hover:bg-gray-100 transition-colors",children:[d.jsx("p",{className:"text-base font-medium text-gray-900",children:a.productName}),d.jsx("p",{className:"text-sm text-gray-600",children:n?`: ${a.quantity}`:`Quantity: ${a.quantity}`}),d.jsx("p",{className:"text-sm text-gray-600",children:n?`: ${a.reason||" "}`:`Reason: ${a.reason||"Not specified"}`}),a.price&&d.jsx("p",{className:"text-sm text-gray-600",children:n?`: ${a.price.toFixed(2)} `:`Price: ${a.price.toFixed(2)} SAR`}),a.status&&d.jsx("p",{className:`text-sm ${a.status===Wn.Approved?"text-green-600":a.status===Wn.Rejected?"text-red-600":"text-gray-600"}`,children:n?` : ${a.status===Wn.Approved?" ":a.status===Wn.Rejected?"":a.status===Wn.Processed?" ":"  "}`:`Item Status: ${a.status}`}),a.reviewNotes&&d.jsx("p",{className:"text-sm text-gray-600",children:n?` : ${a.reviewNotes}`:`Review Notes: ${a.reviewNotes}`})]},o)):d.jsx("p",{className:"text-sm text-gray-500",children:n?"  ":"No items"})})]}),r.notes&&d.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-100",children:d.jsxs("p",{className:"text-sm text-amber-800",children:[d.jsx("strong",{children:n?":":"Notes:"})," ",r.notes]})}),r.reviewNotes&&d.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:n?" :":"Review Notes:"})," ",r.reviewNotes]})}),r.statusHistory&&r.statusHistory.length>0&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:n?" ":"Status History"}),r.statusHistory.map((a,o)=>d.jsx("p",{className:"text-sm text-gray-600",children:n?`    ${a.status}  ${a.changedBy}  ${dr(a.changedAt,"ar-SA")} ${a.notes?`: ${a.notes}`:"  "}`:`Status changed to ${a.status} by ${a.changedBy} on ${dr(a.changedAt,"en-US")} ${a.notes?`Notes: ${a.notes}`:"No notes"}`},o))]})]})})},Axe=({isOpen:e,onClose:t,selectedReturn:r,actionType:n,actionNotes:s,submitting:i,isRtl:a,handleActionSubmit:o,setActionNotes:l})=>d.jsx(Fs,{isOpen:e,onClose:t,title:a?`${n==="approve"?"":""}  ${(r==null?void 0:r.returnNumber)||""}`:`${n==="approve"?"Approve":"Reject"} Return ${(r==null?void 0:r.returnNumber)||""}`,size:"md",className:"bg-white rounded-xl shadow-lg",children:d.jsxs("div",{className:"space-y-6 p-4",children:[d.jsx("p",{className:"text-sm text-gray-600",children:a?`    ${n==="approve"?"":""}  `:`Are you sure you want to ${n==="approve"?"approve":"reject"} this return?`}),d.jsx(Mt,{label:a?" ":"Review Notes",value:s,onChange:c=>l(c.target.value),placeholder:a?"   ()":"Enter review notes (optional)",className:`w-full rounded-lg border-gray-200 focus:ring-teal-500 focus:border-teal-500 py-2.5 ${a?"text-right":"text-left"} transition-all duration-200`,"aria-label":a?" ":"Review Notes"}),d.jsxs("div",{className:`flex gap-3 ${a?"justify-end flex-row":"justify-end"}`,children:[d.jsx(dt,{variant:"secondary",size:"sm",onClick:t,className:"bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-4 py-2 transition-colors","aria-label":a?"":"Cancel",children:a?"":"Cancel"}),d.jsx(dt,{variant:n==="approve"?"success":"danger",size:"sm",onClick:o,disabled:i===(r==null?void 0:r.id),className:`${n==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white rounded-full px-4 py-2 transition-colors`,"aria-label":a?n==="approve"?" ":" ":n==="approve"?"Confirm Approval":"Confirm Rejection",children:i===(r==null?void 0:r.id)?a?" ":"Loading":a?n==="approve"?" ":" ":n==="approve"?"Confirm Approval":"Confirm Rejection"})]})]})}),Exe=(e,t)=>{var r;switch(t.type){case"SET_RETURNS":return{...e,returns:t.payload.returns,totalCount:t.payload.totalCount};case"ADD_RETURN":return{...e,returns:[t.payload,...e.returns],totalCount:e.totalCount+1};case"SET_BRANCHES":return{...e,branches:t.payload};case"SET_SELECTED_RETURN":return{...e,selectedReturn:t.payload};case"SET_VIEW_MODAL":return{...e,isViewModalOpen:t.isOpen??!1};case"SET_ACTION_MODAL":return{...e,isActionModalOpen:t.isOpen??!1};case"SET_ACTION_TYPE":return{...e,actionType:t.payload};case"SET_ACTION_NOTES":return{...e,actionNotes:t.payload};case"SET_FILTER_STATUS":return{...e,filterStatus:t.payload,currentPage:1};case"SET_FILTER_BRANCH":return{...e,filterBranch:t.payload,currentPage:1};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload,currentPage:1};case"SET_SORT":return{...e,sortBy:t.by??"date",sortOrder:t.order??"desc",currentPage:1};case"SET_PAGE":return{...e,currentPage:t.payload};case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_SUBMITTING":return{...e,submitting:t.payload};case"SET_SOCKET_CONNECTED":return{...e,socketConnected:t.payload};case"SET_SOCKET_ERROR":return{...e,socketError:t.payload};case"UPDATE_RETURN_STATUS":return{...e,returns:e.returns.map(n=>n.id===t.returnId?{...n,status:t.status??n.status,reviewNotes:t.reviewNotes??n.reviewNotes??"",order:{...n.order,totalAmount:t.adjustedTotal??n.order.totalAmount}}:n),selectedReturn:((r=e.selectedReturn)==null?void 0:r.id)===t.returnId?{...e.selectedReturn,status:t.status??e.selectedReturn.status,reviewNotes:t.reviewNotes??e.selectedReturn.reviewNotes??"",order:{...e.selectedReturn.order,totalAmount:t.adjustedTotal??e.selectedReturn.order.totalAmount}}:e.selectedReturn};case"SET_VIEW_MODE":return{...e,viewMode:t.payload,currentPage:1};default:return e}},Nxe={orders:[],selectedOrder:null,chefs:[],branches:[],returns:[],selectedReturn:null,isAssignModalOpen:!1,isViewModalOpen:!1,isConfirmDeliveryModalOpen:!1,isReturnModalOpen:!1,isActionModalOpen:!1,actionType:null,actionNotes:"",filterStatus:"",filterBranch:"",searchQuery:"",sortBy:"date",sortOrder:"desc",currentPage:1,totalCount:0,loading:!0,error:"",submitting:null,toasts:[],socketConnected:!1,socketError:null,viewMode:"card"},q8=10,H8=50,y3=()=>{const{language:e}=Yn(),t=e==="ar",{user:r}=ps(),{socket:n}=vd(),{addNotification:s}=Dx(),[i,a]=L.useReducer(Exe,Nxe),o=L.useRef(i),[l,c]=L.useState(!1),[u,h]=L.useState(!0);L.useEffect(()=>{o.current=i},[i]);const p=L.useCallback(()=>{l&&new Audio("/sounds/notification.mp3").play().catch(H=>console.error("Audio play failed:",H))},[l]);L.useEffect(()=>{const C=()=>{c(!0);const H=new Audio("/sounds/notification.mp3");H.play().then(()=>{H.pause(),H.currentTime=0}).catch(z=>console.error("Audio context initialization failed:",z)),document.removeEventListener("click",C)};return document.addEventListener("click",C,{once:!0}),()=>document.removeEventListener("click",C)},[]);const m=L.useMemo(()=>({pending_approval:{color:"bg-amber-100 text-amber-800",icon:Ar,label:t?"  ":"Pending Approval"},approved:{color:"bg-green-100 text-green-800",icon:Ar,label:t?" ":"Approved"},rejected:{color:"bg-red-100 text-red-800",icon:Ar,label:t?"":"Rejected"},processed:{color:"bg-blue-100 text-blue-800",icon:Ar,label:t?" ":"Processed"}}),[t]),x=L.useCallback(C=>m[C]||{color:"bg-gray-100 text-gray-800",icon:Ar,label:t?" ":"Unknown"},[m,t]),y=C=>{let H="";const z=new Uint8Array(C),K=z.byteLength;for(let Y=0;Y<K;Y++)H+=String.fromCharCode(z[Y]);return window.btoa(H)},b=L.useCallback(()=>{const C=i.returns.map(K=>({[t?" ":"Return Number"]:K.returnNumber,[t?" ":"Order Number"]:K.order.orderNumber,[t?"":"Status"]:x(K.status).label,[t?"":"Date"]:dr(K.createdAt,e),[t?" ":"Items Count"]:K.items.length,[t?"":"Products"]:K.items.map(Y=>`${Y.productName} (${Y.quantity})`).join(", "),[t?" ":"Total Quantity"]:K.items.reduce((Y,W)=>Y+W.quantity,0),[t?"":"Branch"]:K.branch.name,[t?"":"Total Amount"]:`${K.order.totalAmount.toFixed(2)} ${t?"":"SAR"}`,[t?"":"Notes"]:K.notes||(t?"  ":"No notes"),[t?" ":"Review Notes"]:K.reviewNotes||(t?"  ":"No notes")})),H=sc.json_to_sheet(t?C.map(K=>Object.fromEntries(Object.entries(K).reverse())):C);H["!cols"]=Object.keys(C[0]||{}).map(()=>({wpx:120}));const z=sc.book_new();sc.book_append_sheet(z,H,"Returns"),gT(z,`Returns_${new Date().toISOString().split("T")[0]}.xlsx`),ke.success(t?"   ":"Data exported successfully",{position:t?"top-left":"top-right",autoClose:3e3})},[i.returns,t,x,e]),v=L.useCallback(async()=>{try{const C=new Zt({orientation:"landscape"});C.setLanguage(t?"ar":"en");const H="/fonts/Amiri-Regular.ttf",z="Amiri",K=await fetch(H).then(X=>{if(!X.ok)throw new Error("Failed to fetch font");return X.arrayBuffer()}),Y=y(K);C.addFileToVFS(`${z}-Regular.ttf`,Y),C.addFont(`${z}-Regular.ttf`,z,"normal"),C.setFont(z);const W=[t?" ":"Return Number",t?" ":"Order Number",t?"":"Status",t?"":"Date",t?" ":"Items Count",t?"":"Products",t?" ":"Total Quantity",t?"":"Branch",t?"":"Total Amount",t?"":"Notes",t?" ":"Review Notes"],Z=i.returns.map(X=>[X.returnNumber,X.order.orderNumber,x(X.status).label,dr(X.createdAt,e),X.items.length.toString(),X.items.map(I=>`${I.productName} (${I.quantity})`).join(", "),X.items.reduce((I,U)=>I+U.quantity,0).toString(),X.branch.name,`${X.order.totalAmount.toFixed(2)} ${t?"":"SAR"}`,X.notes||(t?"  ":"No notes"),X.reviewNotes||(t?"  ":"No notes")]),ne=t?W.reverse():W,ee=t?Z.map(X=>X.reverse()):Z;PT(C,{head:[ne],body:ee,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontSize:10,halign:t?"right":"left",font:z},bodyStyles:{fontSize:9,halign:t?"right":"left",font:z,cellPadding:4},columnStyles:{0:{cellWidth:30},1:{cellWidth:30},5:{cellWidth:50}},margin:{top:20},didDrawPage:X=>{C.setFont(z),C.text(t?" ":"Returns Management",t?C.internal.pageSize.width-X.settings.margin.right:X.settings.margin.left,10,{align:t?"right":"left"})}}),C.save(`Returns_${new Date().toISOString().split("T")[0]}.pdf`),ke.success(t?"  PDF ":"PDF exported successfully",{position:t?"top-left":"top-right",autoClose:3e3})}catch(C){console.error("PDF export error:",C),ke.error(t?"   PDF":"PDF export error",{position:t?"top-left":"top-right",autoClose:3e3})}},[i.returns,t,x,e]),S=L.useCallback(async()=>{h(!0);try{const C=await Ri.getAll(),H=Array.isArray(C)?C.map(z=>({_id:z._id||"unknown",name:z.name||(t?"  ":"Unknown branch")})):[];a({type:"SET_BRANCHES",payload:H}),H.length===0&&ke.warn(t?"   ":"No branches available",{position:t?"top-left":"top-right",autoClose:3e3})}catch(C){console.error("Error fetching branches:",C),ke.error(t?"   ":"Error fetching branches",{position:t?"top-left":"top-right",autoClose:3e3})}finally{h(!1)}},[t]),_=L.useCallback(async()=>{if(!r){a({type:"SET_ERROR",payload:t?"   ":"Unauthorized access"}),a({type:"SET_LOADING",payload:!1});return}a({type:"SET_LOADING",payload:!0});try{const C={status:i.filterStatus,branch:i.filterBranch,search:i.searchQuery,sortBy:i.sortBy,sortOrder:i.sortOrder,page:i.currentPage,limit:i.viewMode==="table"?H8:q8},{returns:H,total:z}=await Uy.getAll(C);if(!Array.isArray(H))throw new Error("Invalid returns data format");const K=H.map(Y=>{var W,Z,ne,ee,X,I,U,G,V,Q,ge,Se;return{id:Y._id||"unknown",returnNumber:Y.returnNumber||(t?"  ":"Unknown number"),order:{id:((W=Y.order)==null?void 0:W._id)||"unknown",orderNumber:((Z=Y.order)==null?void 0:Z.orderNumber)||(t?"  ":"Unknown order"),totalAmount:Number((ne=Y.order)==null?void 0:ne.totalAmount)||0,createdAt:((ee=Y.order)==null?void 0:ee.createdAt)||new Date().toISOString(),branch:((I=(X=Y.order)==null?void 0:X.branch)==null?void 0:I._id)||"unknown",branchName:((G=(U=Y.order)==null?void 0:U.branch)==null?void 0:G.name)||(t?"  ":"Unknown branch")},items:Array.isArray(Y.items)?Y.items.map(pe=>{var oe,De,$e;return{itemId:pe.itemId||pe._id||"unknown",productId:((oe=pe.product)==null?void 0:oe._id)||"unknown",productName:((De=pe.product)==null?void 0:De.name)||(t?"  ":"Unknown product"),quantity:Number(pe.quantity)||0,price:Number(($e=pe.product)==null?void 0:$e.price)||0,reason:pe.reason||(t?"  ":"Unknown reason"),status:pe.status||Wn.PendingApproval,reviewNotes:pe.reviewNotes||""}}):[],status:Y.status==="pending"?Wn.PendingApproval:Y.status||Wn.PendingApproval,date:dr(Y.createdAt,e),createdAt:Y.createdAt||new Date().toISOString(),notes:Y.notes||"",reviewNotes:Y.reviewNotes||"",branch:{_id:((V=Y.branch)==null?void 0:V._id)||"unknown",name:((Q=Y.branch)==null?void 0:Q.name)||(t?"  ":"Unknown branch")},createdBy:{_id:((ge=Y.createdBy)==null?void 0:ge._id)||"unknown",username:((Se=Y.createdBy)==null?void 0:Se.username)||(t?"  ":"Unknown user")},reviewedBy:Y.reviewedBy?{_id:Y.reviewedBy._id,username:Y.reviewedBy.username||(t?"  ":"Unknown user")}:void 0,statusHistory:Array.isArray(Y.statusHistory)?Y.statusHistory:[]}});a({type:"SET_RETURNS",payload:{returns:K,totalCount:z}}),a({type:"SET_ERROR",payload:""})}catch(C){const H=C.status===403?t?"   ":"Unauthorized access":C.status===404?t?"    ":"Return not found":C.message||(t?"   ":"Error fetching returns");a({type:"SET_ERROR",payload:H}),ke.error(H,{position:t?"top-left":"top-right",autoClose:3e3})}finally{a({type:"SET_LOADING",payload:!1})}},[i.filterStatus,i.filterBranch,i.searchQuery,i.sortBy,i.sortOrder,i.currentPage,i.viewMode,r,t,e]),T=L.useCallback(hc.debounce(_,300),[_]),R=L.useCallback(C=>{const H=C.target.value||"";a({type:"SET_SEARCH_QUERY",payload:H})},[]);L.useEffect(()=>{S()},[S]),L.useEffect(()=>(T(),()=>T.cancel()),[i.filterStatus,i.filterBranch,i.searchQuery,i.sortBy,i.sortOrder,i.currentPage,i.viewMode,T]),L.useEffect(()=>{if(!n||!r)return;const C=()=>{n.emit("joinRoom",{role:r.role,branchId:r.branchId,userId:r._id}),a({type:"SET_SOCKET_CONNECTED",payload:!0}),a({type:"SET_SOCKET_ERROR",payload:null})},H=()=>{a({type:"SET_SOCKET_CONNECTED",payload:!1}),a({type:"SET_SOCKET_ERROR",payload:t?"  ":"Disconnected"})},z=W=>{a({type:"SET_SOCKET_ERROR",payload:t?`  : ${W.message}`:`Connection error: ${W.message}`}),ke.error(t?`  : ${W.message}`:`Connection error: ${W.message}`,{position:t?"top-left":"top-right",autoClose:3e3})},K=W=>{var ee,X,I,U,G,V,Q,ge,Se,pe,oe,De,$e,Ze,Ce;const Z=o.current;if(Z.filterStatus&&W.status!==Z.filterStatus||Z.filterBranch&&((ee=W.branch)==null?void 0:ee._id)!==Z.filterBranch||Z.searchQuery&&!W.returnNumber.toLowerCase().includes(Z.searchQuery.toLowerCase())&&!((X=W.order)!=null&&X.orderNumber.toLowerCase().includes(Z.searchQuery.toLowerCase())))return;const ne={id:W._id||"unknown",returnNumber:W.returnNumber||(t?"  ":"Unknown number"),order:{id:((I=W.order)==null?void 0:I._id)||"unknown",orderNumber:((U=W.order)==null?void 0:U.orderNumber)||(t?"  ":"Unknown order"),totalAmount:Number((G=W.order)==null?void 0:G.totalAmount)||0,createdAt:((V=W.order)==null?void 0:V.createdAt)||new Date().toISOString(),branch:((ge=(Q=W.order)==null?void 0:Q.branch)==null?void 0:ge._id)||"unknown",branchName:((pe=(Se=W.order)==null?void 0:Se.branch)==null?void 0:pe.name)||(t?"  ":"Unknown branch")},items:Array.isArray(W.items)?W.items.map(se=>{var yt,Ke,Ne;return{itemId:se.itemId||se._id||"unknown",productId:((yt=se.product)==null?void 0:yt._id)||"unknown",productName:((Ke=se.product)==null?void 0:Ke.name)||(t?"  ":"Unknown product"),quantity:Number(se.quantity)||0,price:Number((Ne=se.product)==null?void 0:Ne.price)||0,reason:se.reason||(t?"  ":"Unknown reason"),status:se.status||Wn.PendingApproval,reviewNotes:se.reviewNotes||""}}):[],status:W.status==="pending"?Wn.PendingApproval:W.status||Wn.PendingApproval,date:dr(W.createdAt,e),createdAt:W.createdAt||new Date().toISOString(),notes:W.notes||"",reviewNotes:W.reviewNotes||"",branch:{_id:((oe=W.branch)==null?void 0:oe._id)||"unknown",name:((De=W.branch)==null?void 0:De.name)||(t?"  ":"Unknown branch")},createdBy:{_id:(($e=W.createdBy)==null?void 0:$e._id)||"unknown",username:((Ze=W.createdBy)==null?void 0:Ze.username)||(t?"  ":"Unknown user")},reviewedBy:W.reviewedBy?{_id:W.reviewedBy._id,username:W.reviewedBy.username||(t?"  ":"Unknown user")}:void 0,statusHistory:Array.isArray(W.statusHistory)?W.statusHistory:[]};a({type:"ADD_RETURN",payload:ne}),document.hasFocus()&&(s({_id:`return-${W._id}-${Date.now()}`,type:"success",message:t?`   : ${W.returnNumber}`:`New return created: ${W.returnNumber}`,data:{returnId:W._id,orderId:(Ce=W.order)==null?void 0:Ce._id},read:!1,createdAt:W.createdAt}),p())},Y=({returnId:W,status:Z,reviewNotes:ne,branchId:ee,adjustedTotal:X})=>{var I,U;a({type:"UPDATE_RETURN_STATUS",returnId:W,status:Z==="pending"?Wn.PendingApproval:Z,reviewNotes:ne,adjustedTotal:X}),document.hasFocus()&&(s({_id:`return-status-${W}-${Date.now()}`,type:"info",message:t?`     ${x(Z).label}: ${((I=i.returns.find(G=>G.id===W))==null?void 0:I.returnNumber)||W}`:`Return status updated to ${x(Z).label}: ${((U=i.returns.find(G=>G.id===W))==null?void 0:U.returnNumber)||W}`,data:{returnId:W},read:!1,createdAt:new Date().toISOString()}),p()),Z==="rejected"&&n.emit("inventoryUpdated",{branchId:ee})};return n.on("connect",C),n.on("disconnect",H),n.on("connect_error",z),n.on("returnCreated",K),n.on("returnStatusUpdated",Y),n.on("reconnect_attempt",()=>{a({type:"SET_SOCKET_ERROR",payload:t?"  ":"Reconnecting"})}),()=>{n.off("connect",C),n.off("disconnect",H),n.off("connect_error",z),n.off("returnCreated",K),n.off("returnStatusUpdated",Y),n.off("reconnect_attempt")}},[n,r,t,s,p,i.returns,x,e]);const B=L.useCallback(C=>{a({type:"SET_PAGE",payload:C})},[]),j=L.useCallback(C=>{a({type:"SET_SELECTED_RETURN",payload:C}),a({type:"SET_VIEW_MODAL",isOpen:!0})},[]),P=L.useCallback((C,H)=>{a({type:"SET_SELECTED_RETURN",payload:C}),a({type:"SET_ACTION_TYPE",payload:H}),a({type:"SET_ACTION_MODAL",isOpen:!0})},[]),F=L.useCallback(hc.debounce(async()=>{if(!(!i.selectedReturn||!i.actionType||!(r!=null&&r._id))){a({type:"SET_SUBMITTING",payload:i.selectedReturn.id});try{const C={items:i.selectedReturn.items.map(z=>({itemId:z.itemId,productId:z.productId,status:i.actionType,reviewNotes:i.actionNotes||void 0})),reviewNotes:i.actionNotes||void 0},H=await Uy.updateReturnStatus(i.selectedReturn.id,C);a({type:"UPDATE_RETURN_STATUS",returnId:i.selectedReturn.id,status:i.actionType==="approve"?Wn.Approved:Wn.Rejected,reviewNotes:i.actionNotes,adjustedTotal:H.adjustedTotal}),n.emit("returnStatusUpdated",{returnId:i.selectedReturn.id,status:i.actionType,reviewNotes:i.actionNotes,branchId:i.selectedReturn.branch._id,adjustedTotal:H.adjustedTotal}),await zp.create({user:r._id,type:"return_status_updated",message:t?`     ${i.actionType==="approve"?" ":""}: ${i.selectedReturn.returnNumber}`:`Return status updated to ${i.actionType==="approve"?"approved":"rejected"}: ${i.selectedReturn.returnNumber}`,data:{returnId:i.selectedReturn.id,orderId:i.selectedReturn.order.id}}),ke.success(t?` ${i.actionType==="approve"?"":""} `:`${i.actionType==="approve"?"Approval":"Rejection"} successful`,{position:t?"top-left":"top-right",autoClose:3e3}),a({type:"SET_ACTION_MODAL",isOpen:!1}),a({type:"SET_ACTION_TYPE",payload:null}),a({type:"SET_ACTION_NOTES",payload:""}),a({type:"SET_SELECTED_RETURN",payload:null})}catch(C){const H=C.message||(t?` ${i.actionType==="approve"?"":""}  `:`Failed to ${i.actionType==="approve"?"approve":"reject"} return`);a({type:"SET_ERROR",payload:H}),ke.error(H,{position:t?"top-left":"top-right",autoClose:3e3})}finally{a({type:"SET_SUBMITTING",payload:null})}}},500),[i.selectedReturn,i.actionType,i.actionNotes,r,t,n]),N=L.useMemo(()=>Math.ceil(i.totalCount/(i.viewMode==="table"?H8:q8)),[i.totalCount,i.viewMode]),k=L.useCallback(()=>{a({type:"SET_VIEW_MODE",payload:i.viewMode==="card"?"table":"card"})},[i.viewMode]);return d.jsxs("div",{className:" mx-auto px-4 py-8 min-h-screen ",dir:t?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(jo,{className:"w-8 h-8 text-teal-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?" ":"Returns Management"}),d.jsx("p",{className:"text-sm text-gray-600",children:t?"    ":"Manage and review return requests efficiently"})]})]}),d.jsxs("div",{className:`flex ${t?"flex-row-reverse":"flex-row"} gap-2 flex-wrap`,children:[d.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-1.5 bg-teal-600 text-white rounded-full text-sm hover:bg-teal-700 transition-colors","aria-label":t?i.viewMode==="card"?" ":" ":i.viewMode==="card"?"Table View":"Card View",children:[i.viewMode==="card"?d.jsx(gN,{className:"w-4 h-4"}):d.jsx(mN,{className:"w-4 h-4"}),t?i.viewMode==="card"?"":"":i.viewMode==="card"?"Table":"Cards"]}),d.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white rounded-full text-sm hover:bg-green-700 transition-colors","aria-label":t?"  Excel":"Export to Excel",children:[d.jsx(eg,{className:"w-4 h-4"}),"Excel"]}),d.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700 transition-colors","aria-label":t?"  PDF":"Export to PDF",children:[d.jsx(eg,{className:"w-4 h-4"}),"PDF"]})]})]}),i.error&&d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:`mb-6 p-4 bg-red-100 border border-red-200 rounded-lg flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-sm text-red-600",children:i.error})]}),!i.socketConnected&&d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:`mb-6 p-4 bg-yellow-100 border border-yellow-200 rounded-lg flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[d.jsx(Ar,{className:"w-5 h-5 text-yellow-600"}),d.jsx("span",{className:"text-sm text-yellow-600",children:i.socketError||(t?"  ":"Disconnected")})]}),u?d.jsx("div",{className:"mb-6 p-4 bg-gray-100 rounded-lg text-center text-sm text-gray-600"}):d.jsx("div",{className:"mb-6",children:d.jsx(yxe,{state:i,dispatch:a,isRtl:t,branches:i.branches,onSearchChange:R})}),i.loading?d.jsx("div",{className:"space-y-4",children:i.viewMode==="table"?d.jsx(bxe,{isRtl:t}):Array(5).fill(0).map((C,H)=>d.jsx(wxe,{},H))}):i.returns.length===0?d.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:d.jsxs("div",{className:"p-8 text-center bg-white rounded-xl shadow-md",children:[d.jsx(jo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-sm text-gray-600",children:t?"  ":"No returns available"})]})}):d.jsxs(d.Fragment,{children:[i.viewMode==="card"?d.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.returns.map(C=>d.jsx(xxe,{ret:C,isRtl:t,getStatusInfo:x,viewReturn:j,openActionModal:P,submitting:i.submitting,user:r},C.id))}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx(vxe,{returns:i.returns,isRtl:t,getStatusInfo:x,viewReturn:j,openActionModal:P,submitting:i.submitting,user:r})}),N>1&&d.jsx(_xe,{handlePageChange:B,currentPage:i.currentPage,totalPages:N,isRtl:t})]}),d.jsx(Sxe,{isOpen:i.isViewModalOpen,onClose:()=>{a({type:"SET_VIEW_MODAL",isOpen:!1}),a({type:"SET_SELECTED_RETURN",payload:null})},selectedReturn:i.selectedReturn,isRtl:t,getStatusInfo:x}),d.jsx(Axe,{isOpen:i.isActionModalOpen,onClose:()=>{a({type:"SET_ACTION_MODAL",isOpen:!1}),a({type:"SET_ACTION_TYPE",payload:null}),a({type:"SET_ACTION_NOTES",payload:""})},selectedReturn:i.selectedReturn,actionType:i.actionType,actionNotes:i.actionNotes,submitting:i.submitting,isRtl:t,handleActionSubmit:F,setActionNotes:C=>a({type:"SET_ACTION_NOTES",payload:C})})]})},Txe={ar:{manage:" ",add:" ",addFirst:"  ",noChefs:"  ",noMatch:"   ",empty:"   ",searchPlaceholder:"  ...",previous:"",next:"",page:"",of:"",username:" ",email:"",phone:"",department:"",createdAt:" ",updatedAt:" ",edit:"",resetPassword:"  ",delete:"",name:"  ()",nameEn:"  ()",nameRequired:"  ",nameEnRequired:"   ",usernameRequired:"  ",passwordRequired:"  ",departmentRequired:" ",namePlaceholder:"  ",nameEnPlaceholder:"   ",usernamePlaceholder:"  ",emailPlaceholder:" ",phonePlaceholder:"  ",departmentPlaceholder:" ",passwordPlaceholder:"  ",update:" ",requiredFields:"    ",usernameExists:"   ",emailExists:"  ",unauthorized:"  ",fetchError:"   ",updateError:"   ",createError:"   ",added:"   ",updated:"   ",newPassword:"  ",confirmPassword:"  ",newPasswordPlaceholder:"   ",confirmPasswordPlaceholder:"   ",passwordMismatch:"   ",passwordTooShort:"    (6   )",passwordResetSuccess:"    ",passwordResetError:"    ",reset:" ",cancel:"",confirmDelete:" ",deleteWarning:"      ",deleteError:"  ",deleted:"  ",profile:" ",currentPassword:"  ",noDepartments:"   ",invalidUser:"  ",status:"",active:"",inactive:" "},en:{manage:"Manage Chefs",add:"Add Chef",addFirst:"Add First Chef",noChefs:"No Chefs Found",noMatch:"No Matching Chefs",empty:"No Chefs Available",searchPlaceholder:"Search chefs...",previous:"Previous",next:"Next",page:"Page",of:"of",username:"Username",email:"Email",phone:"Phone",department:"Department",createdAt:"Created At",updatedAt:"Updated At",edit:"Edit",resetPassword:"Change Password",delete:"Delete",name:"Chef Name (Arabic)",nameEn:"Chef Name (English)",nameRequired:"Chef name is required",nameEnRequired:"Chef name in English is required",usernameRequired:"Username is required",passwordRequired:"Password is required",departmentRequired:"Department is required",namePlaceholder:"Enter chef name",nameEnPlaceholder:"Enter chef name in English",usernamePlaceholder:"Enter username",emailPlaceholder:"Enter email",phonePlaceholder:"Enter phone number",departmentPlaceholder:"Select department",passwordPlaceholder:"Enter password",update:"Update Chef",requiredFields:"Please fill all required fields",usernameExists:"Username already in use",emailExists:"Email already in use",unauthorized:"Unauthorized access",fetchError:"Error fetching data",updateError:"Error updating chef",createError:"Error creating chef",added:"Chef added successfully",updated:"Chef updated successfully",newPassword:"New Password",confirmPassword:"Confirm Password",newPasswordPlaceholder:"Enter new password",confirmPasswordPlaceholder:"Enter confirm password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password too short (at least 6 characters)",passwordResetSuccess:"Password changed successfully",passwordResetError:"Error changing password",reset:"Reset",cancel:"Cancel",confirmDelete:"Confirm Deletion",deleteWarning:"Are you sure you want to delete this chef?",deleteError:"Error deleting",deleted:"Deleted successfully",profile:"View Details",currentPassword:"Current Password",noDepartments:"No departments available",invalidUser:"Invalid user",status:"Status",active:"Active",inactive:"Inactive"}};function kxe(){var se,yt,Ke,Ne,Ge,pt,it,jt,Dt,gr,qt;const{language:e}=Yn(),{user:t}=ps(),r=e==="ar",n=Txe[r?"ar":"en"],[s,i]=L.useState([]),[a,o]=L.useState([]),[l,c]=L.useState(""),[u,h]=L.useState(1),[p,m]=L.useState(1),[x,y]=L.useState(""),[b,v]=L.useState(!0),[S,_]=L.useState(!1),[T,R]=L.useState(!1),[B,j]=L.useState(!1),[P,F]=L.useState(null),[N,k]=L.useState(!1),[C,H]=L.useState(!1),[z,K]=L.useState({password:"",confirmPassword:""}),[Y,W]=L.useState({name:"",nameEn:"",username:"",email:"",phone:"",department:"",password:"",isActive:!0}),[Z,ne]=L.useState({}),[ee,X]=L.useState({}),I=L.useCallback(async()=>{if(!t||t.role!=="admin"){y(n.unauthorized),v(!1),ke.error(n.unauthorized,{position:r?"top-right":"top-left"});return}v(!0);try{const[Ee,at]=await Promise.all([rc.getAll({page:u,limit:10,isRtl:r}),Nf.getAll({isRtl:r})]),rt=Array.isArray(Ee.data)?Ee.data:Ee;i(rt.map(lt=>({id:lt._id,user:{id:lt.user._id,name:lt.user.name,nameEn:lt.user.nameEn,username:lt.user.username,email:lt.user.email,phone:lt.user.phone,isActive:lt.user.isActive,createdAt:lt.user.createdAt,updatedAt:lt.user.updatedAt},department:lt.department?{id:lt.department._id,name:lt.department.name,nameEn:lt.department.nameEn,code:lt.department.code,description:lt.department.description}:null,createdAt:lt.createdAt,updatedAt:lt.updatedAt,password:"********"}))),o(Array.isArray(at.data)?at.data.map(lt=>({id:lt._id,name:lt.name,nameEn:lt.nameEn,code:lt.code,description:lt.description})):at),m(Ee.totalPages||Math.ceil(rt.length/10)),y("")}catch(Ee){console.error(`[${new Date().toISOString()}] Fetch error:`,Ee),y(Ee.message||n.fetchError),ke.error(Ee.message||n.fetchError,{position:r?"top-right":"top-left"})}finally{v(!1)}},[t,u,n,r]),U=L.useCallback(async Ee=>{if(!t||t.role!=="admin")return y(n.unauthorized),ke.error(n.unauthorized,{position:r?"top-right":"top-left"}),null;try{const at=await rc.getByUserId(Ee,{isRtl:r});return{id:at._id,user:{id:at.user._id,name:at.user.name,nameEn:at.user.nameEn,username:at.user.username,email:at.user.email,phone:at.user.phone,isActive:at.user.isActive,createdAt:at.user.createdAt,updatedAt:at.user.updatedAt},department:at.department?{id:at.department._id,name:at.department.name,nameEn:at.department.nameEn,code:at.department.code,description:at.department.description}:null,createdAt:at.createdAt,updatedAt:at.updatedAt,password:"********"}}catch(at){return console.error(`[${new Date().toISOString()}] Fetch chef by userId error:`,at),y(at.message||n.fetchError),ke.error(at.message||n.fetchError,{position:r?"top-right":"top-left"}),null}},[t,n,r]);L.useEffect(()=>{I(),(t==null?void 0:t.role)==="chef"&&t.id&&U(t.id).then(Ee=>{Ee&&(F(Ee),j(!0))})},[I,U,t]);const G=s.filter(Ee=>{var at,rt,lt;return Ee.user&&(((at=r?Ee.user.name:Ee.user.nameEn||Ee.user.name)==null?void 0:at.toLowerCase().includes(l.toLowerCase()))||((rt=Ee.user.username)==null?void 0:rt.toLowerCase().includes(l.toLowerCase()))||((lt=Ee.user.email)==null?void 0:lt.toLowerCase().includes(l.toLowerCase())))}),V=()=>{const Ee={};return Y.name||(Ee.name=n.nameRequired),Y.nameEn||(Ee.nameEn=n.nameEnRequired),Y.username||(Ee.username=n.usernameRequired),!T&&!Y.password&&(Ee.password=n.passwordRequired),Y.department||(Ee.department=n.departmentRequired),ne(Ee),Object.keys(Ee).length===0},Q=()=>{if(a.length===0){y(n.noDepartments),ke.error(n.noDepartments,{position:r?"top-right":"top-left"});return}W({name:"",nameEn:"",username:"",email:"",phone:"",department:a[0].id,password:"",isActive:!0}),R(!1),F(null),_(!0),ne({}),y("")},ge=Ee=>{var at,rt,lt,Et,St,or,cr;W({name:((at=Ee.user)==null?void 0:at.name)||"",nameEn:((rt=Ee.user)==null?void 0:rt.nameEn)||"",username:((lt=Ee.user)==null?void 0:lt.username)||"",email:((Et=Ee.user)==null?void 0:Et.email)||"",phone:((St=Ee.user)==null?void 0:St.phone)||"",department:((or=Ee.department)==null?void 0:or.id)||"",password:"",isActive:((cr=Ee.user)==null?void 0:cr.isActive)??!0}),R(!0),F(Ee),_(!0),ne({}),y("")},Se=Ee=>{F(Ee),j(!0)},pe=Ee=>{F(Ee),K({password:"",confirmPassword:""}),k(!0),y("")},oe=Ee=>{F(Ee),H(!0),y("")},De=async Ee=>{if(Ee.preventDefault(),!V()){ke.error(n.requiredFields,{position:r?"top-right":"top-left"});return}try{const at={user:{name:Y.name.trim(),nameEn:Y.nameEn.trim(),username:Y.username.trim(),email:Y.email.trim()||void 0,phone:Y.phone.trim()||void 0,role:"chef",isActive:Y.isActive,...T?{}:{password:Y.password.trim()}},department:Y.department};if(T&&P){const rt=await rc.update(P.id,at);i(s.map(lt=>lt.id===P.id?{...lt,user:{...lt.user,...rt.user,id:rt.user._id,createdAt:rt.user.createdAt,updatedAt:rt.user.updatedAt},department:rt.department?{id:rt.department._id,name:rt.department.name,nameEn:rt.department.nameEn,code:rt.department.code,description:rt.department.description}:null,createdAt:rt.createdAt,updatedAt:rt.updatedAt}:lt)),ke.success(n.updated,{position:r?"top-right":"top-left"})}else{const rt=await rc.create(at);i([...s,{id:rt._id,user:{id:rt.user._id,name:rt.user.name,nameEn:rt.user.nameEn,username:rt.user.username,email:rt.user.email,phone:rt.user.phone,isActive:rt.user.isActive,createdAt:rt.user.createdAt,updatedAt:rt.user.updatedAt},department:rt.department?{id:rt.department._id,name:rt.department.name,nameEn:rt.department.nameEn,code:rt.department.code,description:rt.department.description}:null,createdAt:rt.createdAt,updatedAt:rt.updatedAt,password:"********"}]),ke.success(n.added,{position:r?"top-right":"top-left"})}_(!1),y("")}catch(at){let rt=T?n.updateError:n.createError;at.message&&(rt=at.message.includes("Username")?n.usernameExists:at.message.includes("email")?n.emailExists:at.message),y(rt),ke.error(rt,{position:r?"top-right":"top-left"})}},$e=async Ee=>{if(Ee.preventDefault(),!z.password||!z.confirmPassword){y(n.passwordRequired),ke.error(n.passwordRequired,{position:r?"top-right":"top-left"});return}if(z.password!==z.confirmPassword){y(n.passwordMismatch),ke.error(n.passwordMismatch,{position:r?"top-right":"top-left"});return}if(z.password.length<6){y(n.passwordTooShort),ke.error(n.passwordTooShort,{position:r?"top-right":"top-left"});return}try{await authAPI.updateProfile({password:z.password},P.user.id),i(s.map(at=>at.id===P.id?{...at,password:"********"}:at)),k(!1),K({password:"",confirmPassword:""}),ke.success(n.passwordResetSuccess,{position:r?"top-right":"top-left"})}catch(at){const rt=at.message||n.passwordResetError;y(rt),ke.error(rt,{position:r?"top-right":"top-left"})}},Ze=async()=>{if(P)try{await rc.delete(P.id),i(s.filter(Ee=>Ee.id!==P.id)),ke.success(n.deleted,{position:r?"top-right":"top-left"}),H(!1),y("")}catch(Ee){const at=Ee.message||n.deleteError;y(at),ke.error(at,{position:r?"top-right":"top-left"})}},Ce=Ee=>{X(at=>({...at,[Ee]:!at[Ee]}))};return b?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:d.jsx(wl,{size:"lg"})}):d.jsxs("div",{className:`mx-auto max-w-6xl p-4 sm:p-6 min-h-screen bg-gray-100 font-sans ${r?"rtl font-arabic":"ltr"}`,children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[d.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(sm,{className:"w-5 h-5 text-blue-500"}),n.manage]}),(t==null?void 0:t.role)==="admin"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:Q,className:"bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-full px-4 py-2 shadow-md transition-all duration-300 hover:shadow-lg",children:n.add})]}),d.jsx(Bn,{children:x&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 shadow-sm",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm font-medium",children:x})]})}),d.jsx(tr,{className:"p-4 sm:p-6 mb-6 bg-white rounded-2xl shadow-sm",children:d.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[d.jsx(vl,{className:`absolute ${r?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4`}),d.jsx(Mt,{value:l,onChange:Ee=>c(Ee),placeholder:n.searchPlaceholder,className:`pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white text-sm ${r?"text-right":"text-left"}`,"aria-label":n.searchPlaceholder})]})}),d.jsx(wt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:G.length===0?d.jsxs(tr,{className:"p-6 text-center bg-white rounded-2xl shadow-sm col-span-full",children:[d.jsx(sm,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:n.noChefs}),d.jsx("p",{className:"text-gray-500 text-xs mt-2",children:l?n.noMatch:n.empty}),(t==null?void 0:t.role)==="admin"&&!l&&d.jsx(dt,{variant:"primary",icon:ml,onClick:Q,className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.addFirst})]}):G.map(Ee=>{var at,rt,lt,Et,St,or,cr,Bt,sr,Gr,Xt;return d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsx(tr,{className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 cursor-pointer",onClick:()=>Se(Ee),children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"font-semibold text-sm text-gray-800 truncate",children:r?(at=Ee.user)==null?void 0:at.name:((rt=Ee.user)==null?void 0:rt.nameEn)||((lt=Ee.user)==null?void 0:lt.name)}),d.jsx(sm,{className:"w-4 h-4 text-blue-500"})]}),d.jsxs("div",{className:"space-y-1 text-xs",children:[d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.username,":"]})," ",d.jsx("span",{className:"truncate",children:((Et=Ee.user)==null?void 0:Et.username)||"-"})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.email,":"]})," ",d.jsx("span",{className:"truncate",children:((St=Ee.user)==null?void 0:St.email)||"-"})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.phone,":"]})," ",d.jsx("span",{children:((or=Ee.user)==null?void 0:or.phone)||"-"})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.department,":"]})," ",d.jsx("span",{children:r?(cr=Ee.department)==null?void 0:cr.name:((Bt=Ee.department)==null?void 0:Bt.nameEn)||((sr=Ee.department)==null?void 0:sr.name)||"-"})]}),d.jsxs("p",{className:`flex ${(Gr=Ee.user)!=null&&Gr.isActive?"text-green-600":"text-red-600"}`,children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.status,":"]})," ",d.jsx("span",{children:(Xt=Ee.user)!=null&&Xt.isActive?n.active:n.inactive})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.createdAt,":"]})," ",d.jsx("span",{children:new Date(Ee.createdAt).toLocaleString()})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-16 font-medium",children:[n.updatedAt,":"]})," ",d.jsx("span",{children:new Date(Ee.updatedAt).toLocaleString()})]})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsx(dt,{variant:"outline",icon:rp,onClick:Er=>{Er.stopPropagation(),ge(Ee)},className:"text-blue-500 hover:text-blue-600 border-blue-500 rounded-full text-xs px-3 py-1",children:n.edit}),d.jsx(dt,{variant:"outline",icon:q0,onClick:Er=>{Er.stopPropagation(),pe(Ee)},className:"text-blue-500 hover:text-blue-600 border-blue-500 rounded-full text-xs px-3 py-1",children:n.resetPassword}),d.jsx(dt,{variant:"outline",icon:ch,onClick:Er=>{Er.stopPropagation(),oe(Ee)},className:"text-red-500 hover:text-red-600 border-red-500 rounded-full text-xs px-3 py-1",children:n.delete})]})]})})},Ee.id)})}),p>1&&d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center items-center mt-6 gap-2",children:[d.jsx(dt,{variant:"outline",onClick:()=>h(Ee=>Math.max(Ee-1,1)),disabled:u===1,className:"px-3 py-1 bg-white text-gray-600 disabled:opacity-50 rounded-full text-xs",children:n.previous}),d.jsxs("span",{className:"px-3 py-1 text-gray-700 text-xs",children:[n.page," ",u," ",n.of," ",p]}),d.jsx(dt,{variant:"outline",onClick:()=>h(Ee=>Math.min(Ee+1,p)),disabled:u===p,className:"px-3 py-1 bg-white text-gray-600 disabled:opacity-50 rounded-full text-xs",children:n.next})]}),d.jsx(Fs,{isOpen:S,onClose:()=>_(!1),title:T?n.edit:n.add,size:"lg",children:d.jsxs("form",{onSubmit:De,className:"space-y-4",dir:r?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Mt,{label:n.name,value:Y.name,onChange:Ee=>W({...Y,name:Ee}),placeholder:n.namePlaceholder,required:!0,error:Z.name,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),d.jsx(Mt,{label:n.nameEn,value:Y.nameEn,onChange:Ee=>W({...Y,nameEn:Ee}),placeholder:n.nameEnPlaceholder,required:!0,error:Z.nameEn,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),d.jsx(Mt,{label:n.username,value:Y.username,onChange:Ee=>W({...Y,username:Ee}),placeholder:n.usernamePlaceholder,required:!0,error:Z.username,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),d.jsx(Mt,{label:n.email,value:Y.email,onChange:Ee=>W({...Y,email:Ee}),placeholder:n.emailPlaceholder,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),d.jsx(Mt,{label:n.phone,value:Y.phone,onChange:Ee=>W({...Y,phone:Ee}),placeholder:n.phonePlaceholder,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(es,{label:n.department,options:a.map(Ee=>({value:Ee.id,label:r?Ee.name:Ee.nameEn||Ee.name})),value:Y.department,onChange:Ee=>W({...Y,department:Ee}),placeholder:n.departmentPlaceholder,required:!0,error:Z.department,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),d.jsx(es,{label:n.status,options:[{value:!0,label:n.active},{value:!1,label:n.inactive}],value:Y.isActive,onChange:Ee=>W({...Y,isActive:Ee==="true"}),className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200"}),!T&&d.jsx(Mt,{label:n.password,value:Y.password,onChange:Ee=>W({...Y,password:Ee}),placeholder:n.passwordPlaceholder,type:ee.new?"text":"password",required:!0,error:Z.password,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200",icon:ee.new?ic:Po,onIconClick:()=>X(Ee=>({...Ee,new:!Ee.new}))})]})]}),d.jsx(Bn,{children:x&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 shadow-sm",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm font-medium",children:x})]})}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:T?n.update:n.add}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>_(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.cancel})]})]})}),d.jsx(Fs,{isOpen:B,onClose:()=>j(!1),title:n.profile,size:"md",children:P&&d.jsxs("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sm,{className:"w-5 h-5 text-blue-500"}),d.jsx("h3",{className:"text-base font-semibold text-gray-800",children:r?(se=P.user)==null?void 0:se.name:((yt=P.user)==null?void 0:yt.nameEn)||((Ke=P.user)==null?void 0:Ke.name)})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs",children:[d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.username,":"]}),d.jsx("span",{className:"text-gray-800 truncate",children:((Ne=P.user)==null?void 0:Ne.username)||"-"})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.email,":"]}),d.jsx("span",{className:"text-gray-800 truncate",children:((Ge=P.user)==null?void 0:Ge.email)||"-"})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.phone,":"]}),d.jsx("span",{className:"text-gray-800",children:((pt=P.user)==null?void 0:pt.phone)||"-"})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.department,":"]}),d.jsx("span",{className:"text-gray-800",children:r?(it=P.department)==null?void 0:it.name:((jt=P.department)==null?void 0:jt.nameEn)||((Dt=P.department)==null?void 0:Dt.name)||"-"})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.status,":"]}),d.jsx("span",{className:`font-medium ${(gr=P.user)!=null&&gr.isActive?"text-green-600":"text-red-600"}`,children:(qt=P.user)!=null&&qt.isActive?n.active:n.inactive})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.createdAt,":"]}),d.jsx("span",{className:"text-gray-800",children:new Date(P.createdAt).toLocaleString()})]}),d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.updatedAt,":"]}),d.jsx("span",{className:"text-gray-800",children:new Date(P.updatedAt).toLocaleString()})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d.jsxs("span",{className:"w-20 font-medium text-gray-600",children:[n.currentPassword,":"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-800",children:ee[P.id]?P.password:"********"}),d.jsx("button",{type:"button",onClick:()=>Ce(P.id),className:"text-gray-500 hover:text-gray-700",children:ee[P.id]?d.jsx(ic,{className:"w-4 h-4"}):d.jsx(Po,{className:"w-4 h-4"})})]})]})]}),d.jsx(dt,{variant:"secondary",onClick:()=>j(!1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.cancel})]})}),d.jsx(Fs,{isOpen:N,onClose:()=>k(!1),title:n.resetPassword,size:"sm",children:d.jsxs("form",{onSubmit:$e,className:"space-y-4",dir:r?"rtl":"ltr",children:[d.jsx(Mt,{label:n.newPassword,value:z.password,onChange:Ee=>K({...z,password:Ee}),placeholder:n.newPasswordPlaceholder,type:ee.newPassword?"text":"password",required:!0,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200",icon:ee.newPassword?ic:Po,onIconClick:()=>X(Ee=>({...Ee,newPassword:!Ee.newPassword}))}),d.jsx(Mt,{label:n.confirmPassword,value:z.confirmPassword,onChange:Ee=>K({...z,confirmPassword:Ee}),placeholder:n.confirmPasswordPlaceholder,type:ee.confirmPassword?"text":"password",required:!0,className:"border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white text-sm transition-all duration-200",icon:ee.confirmPassword?ic:Po,onIconClick:()=>X(Ee=>({...Ee,confirmPassword:!Ee.confirmPassword}))}),x&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 shadow-sm",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm font-medium",children:x})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.reset}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>k(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.cancel})]})]})}),d.jsx(Fs,{isOpen:C,onClose:()=>H(!1),title:n.confirmDelete,size:"sm",children:d.jsxs("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:[d.jsx("p",{className:"text-gray-600 text-sm",children:n.deleteWarning}),x&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 shadow-sm",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-red-500 text-sm font-medium",children:x})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{type:"button",variant:"danger",onClick:Ze,className:"flex-1 bg-red-500 hover:bg-red-600 text-white rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.delete}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>H(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 text-sm shadow-md transition-all duration-300 hover:shadow-lg",children:n.cancel})]})]})})]})}function Cxe(){const{t:e,language:t}=Yn(),{user:r}=ps(),[n,s]=L.useState([]),[i,a]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState(""),[h,p]=L.useState(""),[m,x]=L.useState(!0),[y,b]=L.useState(1),[v,S]=L.useState(1),[_,T]=L.useState({name:"",nameEn:"",code:"",description:""});L.useEffect(()=>{(async()=>{var k;if(!r||!["admin"].includes(r.role)){p(e("departments.unauthorized")),x(!1);return}x(!0);try{console.log("Fetching departments with params:",{page:y,limit:12,search:c}),console.log("API URL:","https://eljoodia-server-production.up.railway.app/api");const C=await Nf.getAll({page:y,limit:12,search:c});console.log("Departments response:",C);const H=C.data.map(z=>({...z,displayName:t==="ar"?z.name:z.nameEn||z.name}));s(H),S(C.totalPages),p("")}catch(C){console.error("Fetch error:",C),console.error("Error details:",{status:C.status,message:C.message,url:(k=C.config)==null?void 0:k.url}),p(C.message||e("departments.fetchError"))}finally{x(!1)}})()},[e,r,c,y]);const R=n.filter(N=>N.displayName.toLowerCase().includes(c.toLowerCase())||N.code.toLowerCase().includes(c.toLowerCase())),B=N=>{if(!r||!["admin"].includes(r.role)){p(e("departments.unauthorized"));return}N?(l(N),T({name:N.name,nameEn:N.nameEn||"",code:N.code,description:N.description||""})):(l(null),T({name:"",nameEn:"",code:"",description:""})),a(!0)},j=()=>{a(!1),l(null),p("")},P=async N=>{N.preventDefault();try{const k={name:_.name,nameEn:_.nameEn||void 0,code:_.code,description:_.description||void 0};if(console.log("Submitting department:",k),o){const C=await Nf.update(o._id,k);s(n.map(H=>H._id===o._id?{...C,displayName:t==="ar"?C.name:C.nameEn||C.name}:H))}else{const C=await Nf.create(k);s([...n,{...C,displayName:t==="ar"?C.name:C.nameEn||C.name}])}j()}catch(k){console.error("Submit error:",k),p(k.message||e("departments.saveError"))}},F=async N=>{if(!r||!["admin"].includes(r.role)){p(e("departments.unauthorized"));return}if(confirm(e("departments.deleteConfirm")))try{await Nf.delete(N),s(n.filter(k=>k._id!==N))}catch(k){console.error("Delete error:",k),p(k.message||e("departments.deleteError"))}};return m?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsx(wl,{size:"lg"})}):d.jsxs("div",{className:"container mx-auto px-4 py-6 min-h-screen bg-gray-50",dir:t==="ar"?"rtl":"ltr",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h1",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(sI,{className:"w-6 h-6 text-blue-500"}),e("departments.manage")]}),(r==null?void 0:r.role)==="admin"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:()=>B(),className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2",children:e("departments.add")})]}),h&&d.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-md flex items-center gap-2",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:h})]}),d.jsx(tr,{className:"p-4 mb-6 bg-white rounded-md shadow-sm",children:d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx(Mt,{value:c,onChange:u,placeholder:e("departments.searchPlaceholder"),className:"pl-10 border-gray-300 rounded-md focus:ring-blue-500","aria-label":e("departments.searchPlaceholder")})]})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:R.length===0?d.jsxs(tr,{className:"p-6 text-center bg-white rounded-md shadow-sm",children:[d.jsx(sI,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:e("departments.noDepartments")}),d.jsx("p",{className:"text-gray-500",children:e(c?"departments.noMatch":"departments.empty")}),(r==null?void 0:r.role)==="admin"&&!c&&d.jsx(dt,{variant:"primary",icon:ml,onClick:()=>B(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2",children:e("departments.addFirst")})]}):R.map(N=>d.jsx(tr,{className:"bg-white rounded-md shadow-sm hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-medium text-gray-800",children:N.displayName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e("departments.code"),": ",N.code]}),N.description&&d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:N.description}),d.jsxs("p",{className:"text-sm text-blue-500",children:[e("departments.status"),": ",N.isActive?e("departments.active"):e("departments.inactive")]}),(r==null?void 0:r.role)==="admin"&&d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsx("button",{onClick:()=>B(N),className:"text-blue-500 hover:text-blue-700",title:e("departments.edit"),children:d.jsx(rp,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>F(N._id),className:"text-red-500 hover:text-red-700",title:e("departments.delete"),children:d.jsx(ch,{className:"w-4 h-4"})})]})]})},N._id))}),d.jsxs("div",{className:"flex justify-center mt-6",children:[d.jsx(dt,{variant:"secondary",onClick:()=>b(N=>Math.max(N-1,1)),disabled:y===1,className:"mx-2",children:e("previous")}),d.jsxs("span",{className:"mx-4 self-center",children:[e("page")," ",y," / ",v]}),d.jsx(dt,{variant:"secondary",onClick:()=>b(N=>Math.min(N+1,v)),disabled:y===v,className:"mx-2",children:e("next")})]}),d.jsx(Fs,{isOpen:i,onClose:j,title:e(o?"departments.edit":"departments.add"),size:"md",children:d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsx(Mt,{label:e("departments.name"),value:_.name,onChange:N=>T({..._,name:N}),placeholder:e("departments.namePlaceholder"),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(Mt,{label:e("departments.nameEn"),value:_.nameEn,onChange:N=>T({..._,nameEn:N}),placeholder:e("departments.nameEnPlaceholder"),className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsx(Mt,{label:e("departments.code"),value:_.code,onChange:N=>T({..._,code:N}),placeholder:e("departments.codePlaceholder"),required:!0,className:"border-gray-300 rounded-md focus:ring-blue-500"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("departments.description")}),d.jsx("textarea",{value:_.description,onChange:N=>T({..._,description:N.target.value}),placeholder:e("departments.descriptionPlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:3})]})]}),h&&d.jsxs("div",{className:"p-2 bg-red-100 border border-red-300 rounded-md flex items-center gap-2",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:h})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2",children:e(o?"departments.update":"departments.add")}),d.jsx(dt,{type:"button",variant:"secondary",onClick:j,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md px-4 py-2",children:e("cancel")})]})]})})]})}const Ixe=(e,t)=>{switch(t.type){case"UPDATE_FIELD":return{...e,[t.field]:t.value};case"UPDATE_USER_FIELD":return{...e,user:{...e.user,[t.field]:t.value}};case"RESET":return{name:"",nameEn:"",code:"",address:"",addressEn:"",city:"",cityEn:"",phone:"",isActive:!0,user:{name:"",nameEn:"",username:"",email:"",phone:"",password:"",isActive:!0}};default:return e}},Pxe={ar:{manage:" ",add:" ",addFirst:"  ",noBranches:"  ",noMatch:"   ",empty:"   ",searchPlaceholder:"     ...",code:"",address:"",addressEn:" ()",city:"",cityEn:" ()",phone:"",status:"",active:"",inactive:" ",edit:"",resetPassword:"   ",delete:"",name:"  ()",nameEn:"  ()",nameRequired:"  ",nameEnRequired:"   ",codeRequired:"  ",addressRequired:" ",addressEnRequired:"  ",cityRequired:" ",cityEnRequired:"  ",userName:"  ()",userNameEn:"  ()",userNameRequired:"  ",userNameEnRequired:"   ",username:" ",usernameRequired:"   ",passwordRequired:"  ",namePlaceholder:"  ",nameEnPlaceholder:"   ",codePlaceholder:"  ",addressPlaceholder:" ",addressEnPlaceholder:"  ",cityPlaceholder:" ",cityEnPlaceholder:"  ",phonePlaceholder:"  ",userNamePlaceholder:"  ",userNameEnPlaceholder:"   ",usernamePlaceholder:"   ",emailPlaceholder:" ",userPhonePlaceholder:"   ",passwordPlaceholder:"  ",update:" ",requiredFields:"    ",emailExists:"  ",codeExists:"  ",usernameExists:"   ",unauthorized:"   ",fetchError:"   ",updateError:"   ",createError:"   ",added:"   ",updated:"   ",newPassword:"  ",confirmPassword:"  ",newPasswordPlaceholder:"   ",confirmPasswordPlaceholder:"  ",passwordMismatch:"    ",passwordTooShort:"     6   ",passwordResetSuccess:"     ",passwordResetError:"     ",reset:" ",cancel:"",confirmDelete:" ",deleteWarning:"      ",deleteRestricted:"        ",deleteError:"   ",deleted:"   "},en:{manage:"Manage Branches",add:"Add Branch",addFirst:"Add First Branch",noBranches:"No Branches Found",noMatch:"No Matching Branches",empty:"No Branches Available",searchPlaceholder:"Search by branch name or code...",code:"Code",address:"Address",addressEn:"Address (English)",city:"City",cityEn:"City (English)",phone:"Phone",status:"Status",active:"Active",inactive:"Inactive",edit:"Edit",resetPassword:"Reset Password",delete:"Delete",name:"Branch Name (Arabic)",nameEn:"Branch Name (English)",nameRequired:"Branch name is required",nameEnRequired:"Branch name in English is required",codeRequired:"Branch code is required",addressRequired:"Address is required",addressEnRequired:"Address in English is required",cityRequired:"City is required",cityEnRequired:"City in English is required",userName:"User Name (Arabic)",userNameEn:"User Name (English)",userNameRequired:"User name is required",userNameEnRequired:"User name in English is required",username:"Username",usernameRequired:"Branch username is required",passwordRequired:"Password is required",namePlaceholder:"Enter branch name",nameEnPlaceholder:"Enter branch name in English",codePlaceholder:"Enter branch code",addressPlaceholder:"Enter address",addressEnPlaceholder:"Enter address in English",cityPlaceholder:"Enter city",cityEnPlaceholder:"Enter city in English",phonePlaceholder:"Enter phone number",userNamePlaceholder:"Enter user name",userNameEnPlaceholder:"Enter user name in English",usernamePlaceholder:"Enter branch username",emailPlaceholder:"Enter email",userPhonePlaceholder:"Enter user phone number",passwordPlaceholder:"Enter password",update:"Update Branch",requiredFields:"Please fill all required fields",emailExists:"Email is already in use",codeExists:"Code is already in use",usernameExists:"Username is already in use",unauthorized:"You are not authorized to access",fetchError:"Error fetching data",updateError:"Error updating branch",createError:"Error creating branch",added:"Branch added successfully",updated:"Branch updated successfully",newPassword:"New Password",confirmPassword:"Confirm Password",newPasswordPlaceholder:"Enter new password",confirmPasswordPlaceholder:"Confirm password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",passwordResetSuccess:"Password reset successfully",passwordResetError:"Error resetting password",reset:"Reset",cancel:"Cancel",confirmDelete:"Confirm Deletion",deleteWarning:"Are you sure you want to delete this branch?",deleteRestricted:"Cannot delete branch with associated orders or inventory",deleteError:"Error deleting branch",deleted:"Branch deleted successfully"}},Oxe=()=>{const{language:e}=Yn(),{user:t}=ps(),r=yc(),n=e==="ar",s=Pxe[n?"ar":"en"],[i,a]=L.useState([]),[o,l]=L.useState(""),[c,u]=L.useState(1),[h,p]=L.useState(1),[m,x]=L.useState(""),[y,b]=L.useState(!0),[v,S]=L.useState(!1),[_,T]=L.useState(!1),[R,B]=L.useState(null),[j,P]=L.useState(!1),[F,N]=L.useState(!1),[k,C]=L.useState({password:"",confirmPassword:""}),[H,z]=L.useState({}),[K,Y]=L.useReducer(Ixe,{name:"",nameEn:"",code:"",address:"",addressEn:"",city:"",cityEn:"",phone:"",isActive:!0,user:{name:"",nameEn:"",username:"",email:"",phone:"",password:"",isActive:!0}}),W=L.useCallback(async()=>{if(!t||t.role!=="admin"){x(s.unauthorized),b(!1),ke.error(s.unauthorized,{position:n?"top-right":"top-left"});return}b(!0);try{const oe=await Ri.getAll({page:c,limit:12}),De=Array.isArray(oe.data)?oe.data:oe;a(De),p(oe.totalPages||Math.ceil(De.length/12)),x("")}catch(oe){console.error(`[${new Date().toISOString()}] Fetch error:`,oe),x(oe.message||s.fetchError),ke.error(s.fetchError,{position:n?"top-right":"top-left"})}finally{b(!1)}},[t,c,s,n]);L.useEffect(()=>{W()},[W]);const Z=L.useMemo(()=>i.filter(oe=>{var De,$e;return oe&&(((De=n?oe.name:oe.nameEn||oe.name)==null?void 0:De.toLowerCase().includes(o.toLowerCase()))||(($e=oe.code)==null?void 0:$e.toLowerCase().includes(o.toLowerCase())))}),[i,o,n]),ne=L.useCallback(async oe=>{try{return(await Ri.checkEmail(oe)).available}catch{return!1}},[]),ee=L.useCallback(async()=>{var De;const oe={};return K.name.trim()||(oe.name=s.nameRequired),K.nameEn.trim()||(oe.nameEn=s.nameEnRequired),K.code.trim()||(oe.code=s.codeRequired),K.address.trim()||(oe.address=s.addressRequired),K.addressEn.trim()||(oe.addressEn=s.addressEnRequired),K.city.trim()||(oe.city=s.cityRequired),K.cityEn.trim()||(oe.cityEn=s.cityEnRequired),_||(K.user.name.trim()||(oe.userName=s.userNameRequired),K.user.nameEn.trim()||(oe.userNameEn=s.userNameEnRequired),K.user.username.trim()||(oe.username=s.usernameRequired),K.user.password.trim()||(oe.password=s.passwordRequired),K.user.email.trim()&&!await ne(K.user.email)&&(!R||K.user.email!==((De=R.user)==null?void 0:De.email))&&(oe.email=s.emailExists)),z(oe),Object.keys(oe).length===0},[K,_,s,ne,R]),X=L.useCallback(()=>{Y({type:"RESET"}),T(!1),B(null),S(!0),z({}),x("")},[]),I=L.useCallback((oe,De)=>{var $e,Ze,Ce,se,yt,Ke;De.stopPropagation(),Y({type:"RESET"}),Y({type:"UPDATE_FIELD",field:"name",value:oe.name}),Y({type:"UPDATE_FIELD",field:"nameEn",value:oe.nameEn||""}),Y({type:"UPDATE_FIELD",field:"code",value:oe.code}),Y({type:"UPDATE_FIELD",field:"address",value:oe.address}),Y({type:"UPDATE_FIELD",field:"addressEn",value:oe.addressEn||""}),Y({type:"UPDATE_FIELD",field:"city",value:oe.city}),Y({type:"UPDATE_FIELD",field:"cityEn",value:oe.cityEn||""}),Y({type:"UPDATE_FIELD",field:"phone",value:oe.phone||""}),Y({type:"UPDATE_FIELD",field:"isActive",value:oe.isActive}),Y({type:"UPDATE_USER_FIELD",field:"name",value:(($e=oe.user)==null?void 0:$e.name)||""}),Y({type:"UPDATE_USER_FIELD",field:"nameEn",value:((Ze=oe.user)==null?void 0:Ze.nameEn)||""}),Y({type:"UPDATE_USER_FIELD",field:"username",value:((Ce=oe.user)==null?void 0:Ce.username)||""}),Y({type:"UPDATE_USER_FIELD",field:"email",value:((se=oe.user)==null?void 0:se.email)||""}),Y({type:"UPDATE_USER_FIELD",field:"phone",value:((yt=oe.user)==null?void 0:yt.phone)||""}),Y({type:"UPDATE_USER_FIELD",field:"isActive",value:((Ke=oe.user)==null?void 0:Ke.isActive)??!0}),T(!0),B(oe),S(!0),z({}),x("")},[]),U=L.useCallback((oe,De)=>{De.stopPropagation(),B(oe),C({password:"",confirmPassword:""}),P(!0),x("")},[]),G=L.useCallback((oe,De)=>{De.stopPropagation(),B(oe),N(!0),x("")},[]),V=L.useCallback(async oe=>{var De,$e;if(oe.preventDefault(),!await ee()){ke.error(s.requiredFields,{position:n?"top-right":"top-left"});return}try{const Ze={name:K.name.trim(),nameEn:K.nameEn.trim()||void 0,code:K.code.trim(),address:K.address.trim(),addressEn:K.addressEn.trim()||void 0,city:K.city.trim(),cityEn:K.cityEn.trim()||void 0,phone:K.phone.trim()||void 0,isActive:K.isActive,user:_?{name:K.user.name.trim(),nameEn:K.user.nameEn.trim()||void 0,username:K.user.username.trim(),email:K.user.email.trim()||void 0,phone:K.user.phone.trim()||void 0,isActive:K.user.isActive}:{name:K.user.name.trim(),nameEn:K.user.nameEn.trim()||void 0,username:K.user.username.trim(),email:K.user.email.trim()||void 0,phone:K.user.phone.trim()||void 0,password:K.user.password.trim(),isActive:K.user.isActive}};if(_&&R)await Ri.update(R._id,Ze),a(i.map(Ce=>Ce._id===R._id?{...Ce,...Ze}:Ce)),ke.success(s.updated,{position:n?"top-right":"top-left"});else{const Ce=await Ri.create(Ze);a([...i,Ce]),ke.success(s.added,{position:n?"top-right":"top-left"})}S(!1),x("")}catch(Ze){console.error(`[${new Date().toISOString()}] Submit error:`,Ze);let Ce=_?s.updateError:s.createError;if(($e=(De=Ze.response)==null?void 0:De.data)!=null&&$e.message){const se=Ze.response.data.message;Ce=se==="Branch code already exists"?s.codeExists:se==="Username already exists"?s.usernameExists:se.includes("")||se.includes("email")?s.emailExists:se}x(Ce),ke.error(Ce,{position:n?"top-right":"top-left"})}},[K,_,R,i,s,n]),Q=L.useCallback(async oe=>{if(oe.preventDefault(),!k.password||!k.confirmPassword){x(s.passwordRequired),ke.error(s.passwordRequired,{position:n?"top-right":"top-left"});return}if(k.password!==k.confirmPassword){x(s.passwordMismatch),ke.error(s.passwordMismatch,{position:n?"top-right":"top-left"});return}if(k.password.length<6){x(s.passwordTooShort),ke.error(s.passwordTooShort,{position:n?"top-right":"top-left"});return}try{await Ri.resetPassword(R._id,k.password),P(!1),C({password:"",confirmPassword:""}),ke.success(s.passwordResetSuccess,{position:n?"top-right":"top-left"})}catch(De){console.error(`[${new Date().toISOString()}] Reset password error:`,De);const $e=De.message||s.passwordResetError;x($e),ke.error($e,{position:n?"top-right":"top-left"})}},[k,R,s,n]),ge=L.useCallback(async()=>{var oe,De;if(R)try{await Ri.delete(R._id),a(i.filter($e=>$e._id!==R._id)),ke.success(s.deleted,{position:n?"top-right":"top-left"}),N(!1),x("")}catch($e){console.error(`[${new Date().toISOString()}] Delete error:`,$e);let Ze=s.deleteError;(De=(oe=$e.response)==null?void 0:oe.data)!=null&&De.message&&(Ze=$e.response.data.message==="Cannot delete branch with associated orders or inventory"?s.deleteRestricted:$e.response.data.message),x(Ze),ke.error(Ze,{position:n?"top-right":"top-left"})}},[R,i,s,n]),Se=L.useCallback(oe=>{r(`/branches/${oe}`)},[r]),pe=L.useMemo(()=>{const oe=[],$e=Math.max(1,c-Math.floor(2.5)),Ze=Math.min(h,$e+5-1);for(let Ce=$e;Ce<=Ze;Ce++)oe.push(d.jsx(dt,{variant:c===Ce?"primary":"outline",onClick:()=>u(Ce),className:`w-10 h-10 text-sm font-medium rounded-full ${c===Ce?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"} transition-colors`,children:Ce},Ce));return d.jsxs("div",{className:"flex justify-center items-center mt-6 gap-2",children:[d.jsx(dt,{variant:"outline",onClick:()=>u(Ce=>Math.max(Ce-1,1)),disabled:c===1,className:"w-10 h-10 rounded-full bg-amber-100 text-amber-800 disabled:opacity-50 transition-colors",children:""}),oe,d.jsx(dt,{variant:"outline",onClick:()=>u(Ce=>Math.min(Ce+1,h)),disabled:c===h,className:"w-10 h-10 rounded-full bg-amber-100 text-amber-800 disabled:opacity-50 transition-colors",children:""})]})},[c,h]);return y?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(wl,{size:"lg"})}):d.jsxs("div",{className:`mx-auto max-w-7xl p-4 sm:p-6 min-h-screen bg-gray-100 ${n?"rtl font-arabic":"ltr font-sans"}`,children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-amber-900 flex items-center justify-center sm:justify-start gap-2",children:[d.jsx(C0,{className:"w-6 h-6 text-amber-600"}),s.manage]}),(t==null?void 0:t.role)==="admin"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:X,className:"text-sm px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-full shadow-md transition-transform transform hover:scale-105",children:s.add})]}),d.jsx(Bn,{children:m&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2 shadow-sm",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-red-600 text-sm font-medium",children:m})]})}),d.jsx(tr,{className:"p-4 mb-6 bg-white rounded-lg shadow-md",children:d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-amber-500 w-5 h-5`}),d.jsx(Mt,{value:o,onChange:oe=>l(oe),placeholder:s.searchPlaceholder,className:`w-full pl-10 pr-4 py-2 text-sm border border-amber-300 rounded-full focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-colors bg-amber-50 ${n?"text-right":"text-left"}`,"aria-label":s.searchPlaceholder})]})}),d.jsx(wt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:Z.length===0?d.jsxs(tr,{className:"p-6 text-center bg-white rounded-lg shadow-md col-span-full",children:[d.jsx(C0,{className:"w-10 h-10 text-amber-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:s.noBranches}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o?s.noMatch:s.empty}),(t==null?void 0:t.role)==="admin"&&!o&&d.jsx(dt,{variant:"primary",icon:ml,onClick:X,className:"mt-4 text-sm px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-full shadow-md transition-transform transform hover:scale-105",children:s.addFirst})]}):Z.map(oe=>d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsx(tr,{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer overflow-hidden",onClick:()=>Se(oe._id),children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-base font-semibold text-amber-900 truncate max-w-[80%]",children:n?oe.name:oe.nameEn||oe.name}),d.jsx(C0,{className:"w-5 h-5 text-amber-600"})]}),d.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.code,": ",oe.code]}),d.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.address,": ",n?oe.address:oe.addressEn||oe.address]}),d.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.city,": ",n?oe.city:oe.cityEn||oe.city]}),d.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.phone,": ",oe.phone||"-"]}),d.jsxs("p",{className:`text-xs font-medium ${oe.isActive?"text-green-600":"text-red-600"}`,children:[s.status,": ",oe.isActive?s.active:s.inactive]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[d.jsx(dt,{variant:"outline",icon:rp,onClick:De=>I(oe,De),className:"text-xs p-1.5 w-8 h-8 rounded-full text-amber-600 hover:text-amber-800 border-amber-600 hover:bg-amber-50","aria-label":s.edit}),d.jsx(dt,{variant:"outline",icon:q0,onClick:De=>U(oe,De),className:"text-xs p-1.5 w-8 h-8 rounded-full text-blue-500 hover:text-blue-700 border-blue-500 hover:bg-blue-50","aria-label":s.resetPassword}),d.jsx(dt,{variant:"outline",icon:ch,onClick:De=>G(oe,De),className:"text-xs p-1.5 w-8 h-8 rounded-full text-red-500 hover:text-red-700 border-red-500 hover:bg-red-50","aria-label":s.delete})]})]})})},oe._id))}),Z.length>0&&pe,d.jsx(Fs,{isOpen:v,onClose:()=>S(!1),title:_?s.edit:s.add,size:"lg",children:d.jsxs("form",{onSubmit:V,className:"space-y-6",dir:n?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-base font-semibold text-amber-900",children:s.name}),d.jsx(Mt,{label:s.name,value:K.name,onChange:oe=>Y({type:"UPDATE_FIELD",field:"name",value:oe}),placeholder:s.namePlaceholder,required:!0,error:H.name,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.nameEn,value:K.nameEn,onChange:oe=>Y({type:"UPDATE_FIELD",field:"nameEn",value:oe}),placeholder:s.nameEnPlaceholder,required:!0,error:H.nameEn,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.code,value:K.code,onChange:oe=>Y({type:"UPDATE_FIELD",field:"code",value:oe}),placeholder:s.codePlaceholder,required:!0,error:H.code,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.address,value:K.address,onChange:oe=>Y({type:"UPDATE_FIELD",field:"address",value:oe}),placeholder:s.addressPlaceholder,required:!0,error:H.address,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.addressEn,value:K.addressEn,onChange:oe=>Y({type:"UPDATE_FIELD",field:"addressEn",value:oe}),placeholder:s.addressEnPlaceholder,required:!0,error:H.addressEn,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.city,value:K.city,onChange:oe=>Y({type:"UPDATE_FIELD",field:"city",value:oe}),placeholder:s.cityPlaceholder,required:!0,error:H.city,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.cityEn,value:K.cityEn,onChange:oe=>Y({type:"UPDATE_FIELD",field:"cityEn",value:oe}),placeholder:s.cityEnPlaceholder,required:!0,error:H.cityEn,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.phone,value:K.phone,onChange:oe=>Y({type:"UPDATE_FIELD",field:"phone",value:oe}),placeholder:s.phonePlaceholder,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(es,{label:s.status,options:[{value:!0,label:s.active},{value:!1,label:s.inactive}],value:K.isActive,onChange:oe=>Y({type:"UPDATE_FIELD",field:"isActive",value:oe==="true"}),className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-base font-semibold text-amber-900",children:s.user}),d.jsx(Mt,{label:s.userName,value:K.user.name,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"name",value:oe}),placeholder:s.userNamePlaceholder,required:!_,error:H.userName,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.userNameEn,value:K.user.nameEn,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"nameEn",value:oe}),placeholder:s.userNameEnPlaceholder,required:!_,error:H.userNameEn,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.username,value:K.user.username,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"username",value:oe}),placeholder:s.usernamePlaceholder,required:!_,error:H.username,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.email,value:K.user.email,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"email",value:oe}),placeholder:s.emailPlaceholder,error:H.email,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.userPhone,value:K.user.phone,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"phone",value:oe}),placeholder:s.userPhonePlaceholder,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(es,{label:s.status,options:[{value:!0,label:s.active},{value:!1,label:s.inactive}],value:K.user.isActive,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"isActive",value:oe==="true"}),className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),!_&&d.jsx(Mt,{label:s.password,value:K.user.password,onChange:oe=>Y({type:"UPDATE_USER_FIELD",field:"password",value:oe}),placeholder:s.passwordPlaceholder,type:"password",required:!0,error:H.password,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]})]}),d.jsx(Bn,{children:m&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-red-600 text-sm font-medium",children:m})]})}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 text-sm px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg shadow-md transition-transform transform hover:scale-105",children:_?s.update:s.add}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>S(!1),className:"flex-1 text-sm px-4 py-2 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg shadow-md transition-transform transform hover:scale-105",children:s.cancel})]})]})}),d.jsx(Fs,{isOpen:j,onClose:()=>P(!1),title:s.resetPassword,size:"sm",children:d.jsxs("form",{onSubmit:Q,className:"space-y-4",dir:n?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-4",children:[d.jsx(Mt,{label:s.newPassword,value:k.password,onChange:oe=>C({...k,password:oe}),placeholder:s.newPasswordPlaceholder,type:"password",required:!0,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:s.confirmPassword,value:k.confirmPassword,onChange:oe=>C({...k,confirmPassword:oe}),placeholder:s.confirmPasswordPlaceholder,type:"password",required:!0,className:"text-sm border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]}),d.jsx(Bn,{children:m&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-red-600 text-sm font-medium",children:m})]})}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 text-sm px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg shadow-md transition-transform transform hover:scale-105",children:s.reset}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>P(!1),className:"flex-1 text-sm px-4 py-2 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg shadow-md transition-transform transform hover:scale-105",children:s.cancel})]})]})}),d.jsx(Fs,{isOpen:F,onClose:()=>N(!1),title:s.confirmDelete,size:"sm",children:d.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[d.jsx("p",{className:"text-sm text-gray-600",children:s.deleteWarning}),d.jsx(Bn,{children:m&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2",children:[d.jsx(Ar,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-red-600 text-sm font-medium",children:m})]})}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{type:"button",variant:"danger",onClick:ge,className:"flex-1 text-sm px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-md transition-transform transform hover:scale-105",children:s.delete}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>N(!1),className:"flex-1 text-sm px-4 py-2 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg shadow-md transition-transform transform hover:scale-105",children:s.cancel})]})]})})]})},Rxe=({value:e,onChange:t,placeholder:r,isRtl:n,className:s})=>{const[i,a]=L.useState(!1),o=L.useRef(null),l=L.useCallback(()=>{var c;t(""),(c=o.current)==null||c.focus()},[t]);return d.jsxs("div",{className:`relative flex items-center w-full rounded-lg border transition-all duration-300 ease-in-out
        ${i?"border-amber-500 ring-2 ring-amber-500/20":"border-gray-200"}
        bg-white shadow-sm hover:shadow-md ${s}`,children:[d.jsx(vl,{className:`w-5 h-5 absolute top-1/2 transform -translate-y-1/2 text-gray-400
          ${n?"right-3":"left-3"}`}),d.jsx("input",{ref:o,type:"text",value:e,onChange:c=>t(c.target.value),onFocus:()=>a(!0),onBlur:()=>a(!1),placeholder:r,className:`w-full bg-transparent text-gray-900 text-sm py-2.5
          ${n?"pr-10 pl-4":"pl-10 pr-4"}
          rounded-lg focus:outline-none placeholder-gray-400 transition-colors duration-200`,"aria-label":n?" ":"Search orders"}),d.jsx(Bn,{children:e&&d.jsx(wt.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},onClick:l,className:`absolute top-1/2 transform -translate-y-1/2
              ${n?"left-3":"right-3"}
              text-gray-400 hover:text-gray-600 focus:outline-none`,"aria-label":n?" ":"Clear search",children:d.jsx(v_,{className:"w-4 h-4"})})})]})};var Pf=(e=>(e.Pending="pending",e.Assigned="assigned",e.InProgress="in_progress",e.Completed="completed",e.Cancelled="cancelled",e))(Pf||{}),si=(e=>(e.Pending="pending",e.Approved="approved",e.InProduction="in_production",e.Completed="completed",e.InTransit="in_transit",e.Delivered="delivered",e.Cancelled="cancelled",e))(si||{});const Dxe=L.memo(({isRtl:e})=>d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-4 sm:p-5 mb-4 bg-white shadow-md rounded-lg border border-gray-200 animate-pulse",dir:e?"rtl":"ltr",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),d.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),d.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),d.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),d.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})]})]}),d.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded-md",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),d.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"})]}),d.jsxs("div",{className:"flex gap-2 justify-start",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-16"}),d.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-24"})]})]})})),Lxe=L.memo(({isRtl:e})=>d.jsx("div",{className:"overflow-x-auto rounded-lg shadow-md border border-gray-200 animate-pulse",dir:e?"rtl":"ltr",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-auto bg-white",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[5%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-8"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[30%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[10%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),d.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-600 uppercase tracking-wider text-right w-[15%]",children:d.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:Array(5).fill(null).map((t,r)=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-8"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-20"})}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600 text-right",children:d.jsx("div",{className:"h-5 bg-gray-200 rounded w-24"})}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-right",children:d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-16"}),d.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-24"})]})})]},r))})]})})),jxe=L.lazy(()=>fl(()=>import("./OrderTable-Ct5KQ_-z.js"),[])),Fxe=L.lazy(()=>fl(()=>import("./OrderCard-CdXHz3-2.js"),[])),Mxe=L.lazy(()=>fl(()=>import("./Pagination-CBpC2nMk.js"),[])),Bxe=L.lazy(()=>fl(()=>import("./ViewModal-DCRnq1wb.js"),[])),Uxe=L.lazy(()=>fl(()=>import("./ConfirmDeliveryModal-DeV6258H.js"),[])),$xe=L.lazy(()=>fl(()=>import("./ReturnModal-CCJnzjQQ.js"),[])),zxe={orders:[],selectedOrder:null,isViewModalOpen:!1,isConfirmDeliveryModalOpen:!1,isReturnModalOpen:!1,returnFormData:{itemId:"",quantity:0,reason:"",notes:""},searchQuery:"",filterStatus:"",sortBy:"date",sortOrder:"desc",currentPage:1,loading:!0,error:"",submitting:null,socketConnected:!1,socketError:null,viewMode:"card",inventory:[]},qxe=(e,t)=>{var r,n,s,i,a,o,l;switch(t.type){case"SET_ORDERS":return{...e,orders:t.payload,error:""};case"SET_SELECTED_ORDER":return{...e,selectedOrder:t.payload};case"SET_MODAL":return{...e,[`is${t.modal.charAt(0).toUpperCase()+t.modal.slice(1)}ModalOpen`]:t.isOpen};case"SET_RETURN_FORM":return{...e,returnFormData:t.payload};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload,currentPage:1};case"SET_FILTER_STATUS":return{...e,filterStatus:t.payload,currentPage:1};case"SET_SORT":return{...e,sortBy:t.by,sortOrder:t.order,currentPage:1};case"SET_PAGE":return{...e,currentPage:t.payload};case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_SUBMITTING":return{...e,submitting:t.payload};case"SET_SOCKET_CONNECTED":return{...e,socketConnected:t.payload};case"SET_SOCKET_ERROR":return{...e,socketError:t.payload};case"ADD_ORDER":return{...e,orders:[t.payload,...e.orders.filter(c=>c.id!==t.payload.id)]};case"UPDATE_ORDER_STATUS":return{...e,orders:e.orders.map(c=>c.id===t.orderId?{...c,...t.payload,status:t.status}:c),selectedOrder:((r=e.selectedOrder)==null?void 0:r.id)===t.orderId?{...e.selectedOrder,...t.payload,status:t.status}:e.selectedOrder};case"UPDATE_ITEM_STATUS":return{...e,orders:e.orders.map(c=>c.id===t.orderId?{...c,items:c.items.map(u=>u.itemId===t.itemId?{...u,status:t.status}:u),status:c.items.every(u=>u.status===Pf.Completed)&&c.status!==si.Completed?si.Completed:c.status}:c),selectedOrder:((n=e.selectedOrder)==null?void 0:n.id)===t.orderId?{...e.selectedOrder,items:e.selectedOrder.items.map(c=>c.itemId===t.itemId?{...c,status:t.status}:c),status:e.selectedOrder.items.every(c=>c.status===Pf.Completed)&&e.selectedOrder.status!==si.Completed?si.Completed:e.selectedOrder.status}:e.selectedOrder};case"TASK_ASSIGNED":return{...e,orders:e.orders.map(c=>c.id===t.orderId?{...c,items:c.items.map(u=>{var h;return t.items.some(p=>p._id===u.itemId)?{...u,assignedTo:(h=t.items.find(p=>p._id===u.itemId))==null?void 0:h.assignedTo,status:Pf.Assigned}:u})}:c)};case"ADD_RETURN":return{...e,orders:e.orders.map(c=>c.id===t.orderId?{...c,returns:[...c.returns||[],t.returnData]}:c),selectedOrder:((s=e.selectedOrder)==null?void 0:s.id)===t.orderId?{...e.selectedOrder,returns:[...e.selectedOrder.returns||[],t.returnData]}:e.selectedOrder};case"UPDATE_RETURN_STATUS":return{...e,orders:e.orders.map(c=>{var u,h,p;return c.id===t.orderId?{...c,returns:((u=c.returns)==null?void 0:u.map(m=>m.returnId===t.returnId?{...m,status:t.status}:m))||[],totalAmount:t.status==="approved"?c.totalAmount-(((p=(h=c.returns)==null?void 0:h.find(m=>m.returnId===t.returnId))==null?void 0:p.items.reduce((m,x)=>{const y=c.items.find(b=>b.productId===x.productId);return m+(y?y.price*x.quantity:0)},0))||0):c.totalAmount}:c}),selectedOrder:((i=e.selectedOrder)==null?void 0:i.id)===t.orderId?{...e.selectedOrder,returns:((a=e.selectedOrder.returns)==null?void 0:a.map(c=>c.returnId===t.returnId?{...c,status:t.status}:c))||[],totalAmount:t.status==="approved"?e.selectedOrder.totalAmount-(((l=(o=e.selectedOrder.returns)==null?void 0:o.find(c=>c.returnId===t.returnId))==null?void 0:l.items.reduce((c,u)=>{const h=e.selectedOrder.items.find(p=>p.productId===u.productId);return c+(h?h.price*u.quantity:0)},0))||0):e.selectedOrder.totalAmount}:e.selectedOrder};case"MISSING_ASSIGNMENTS":return{...e,orders:e.orders.map(c=>c.id===t.orderId?{...c,items:c.items.map(u=>u.itemId===t.itemId?{...u,status:Pf.Pending,assignedTo:void 0}:u)}:c)};case"SET_VIEW_MODE":return{...e,viewMode:t.payload,currentPage:1};case"SET_INVENTORY":return{...e,inventory:t.payload};case"UPDATE_INVENTORY":return{...e,inventory:e.inventory.map(c=>c.productId===t.payload.productId?{...c,currentStock:t.payload.quantity}:c)};default:return e}},w1={card:12,table:50},Hxe=[{value:"",label:"all_statuses"},{value:si.Pending,label:"pending"},{value:si.Approved,label:"approved"},{value:si.InProduction,label:"in_production"},{value:si.Completed,label:"completed"},{value:si.InTransit,label:"in_transit"},{value:si.Delivered,label:"delivered"},{value:si.Cancelled,label:"cancelled"}],Wxe=[{value:"date",label:"sort_date"},{value:"totalAmount",label:"sort_total_amount"}],W8=e=>e?e.trim().split(" ").slice(0,2).join(" "):" ",Vxe=e=>{let t="";const r=new Uint8Array(e);for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return window.btoa(t)},Gxe=()=>{const{t:e,language:t}=Yn(),r=t==="ar",{user:n}=ps(),{socket:s,isConnected:i,emit:a}=vd(),[o,l]=L.useReducer(qxe,zxe),c=L.useRef(o),u=L.useRef(new Map),h=xT(l,c,n);L.useEffect(()=>{c.current=o},[o]),L.useEffect(()=>{if(!(n!=null&&n.branchId)||n.role!=="branch"){l({type:"SET_ERROR",payload:r?"   ":"No branch associated"}),l({type:"SET_LOADING",payload:!1});return}if(s)return s.on("connect",()=>{l({type:"SET_SOCKET_CONNECTED",payload:!0}),l({type:"SET_SOCKET_ERROR",payload:null})}),s.on("connect_error",N=>{console.error("Socket connect error:",N.message),l({type:"SET_SOCKET_ERROR",payload:e("socket.connection_error")||(r?"  ":"Connection error")}),l({type:"SET_SOCKET_CONNECTED",payload:!1})}),s.on("newOrder",N=>{var C,H,z;if(!N||!N._id||!N.branch||!N.branch._id){console.warn("Invalid new order data:",N);return}const k={id:N._id,orderNumber:N.orderNumber||"N/A",branchId:((C=N.branch)==null?void 0:C._id)||"unknown",branchName:((H=N.branch)==null?void 0:H.name)||(r?" ":"Unknown"),branch:N.branch||{_id:"unknown",name:r?" ":"Unknown"},items:Array.isArray(N.items)?N.items.filter(K=>K&&K.product&&K.product._id).map(K=>{var Y,W,Z;return{itemId:K._id||`temp-${Math.random().toString(36).substring(2)}`,productId:K.product._id,productName:((Y=K.product)==null?void 0:Y.name)||(r?" ":"Unknown"),quantity:Number(K.quantity)||0,price:Number(K.price)||0,department:((W=K.product)==null?void 0:W.department)||{_id:"unknown",name:r?" ":"Unknown"},status:K.status||Pf.Pending,unit:((Z=K.product)==null?void 0:Z.unit)||"unit",returnedQuantity:Number(K.returnedQuantity)||0,returnReason:K.returnReason||"",assignedTo:K.assignedTo?{_id:K.assignedTo._id,username:K.assignedTo.username}:void 0}}):[],returns:Array.isArray(N.returns)?N.returns.map(K=>({returnId:K._id||`temp-${Math.random().toString(36).substring(2)}`,items:Array.isArray(K.items)?K.items.filter(Y=>Y&&Y.product&&Y.product._id).map(Y=>({productId:Y.product._id,quantity:Number(Y.quantity)||0,reason:Y.reason||"unknown",status:Y.status||"pending_approval"})):[],status:K.status||"pending_approval",reviewNotes:K.reviewNotes||"",createdAt:dr(K.createdAt?new Date(K.createdAt):new Date,t)})):[],status:N.status||si.Pending,totalAmount:Number(N.totalAmount)||0,date:dr(N.createdAt?new Date(N.createdAt):new Date,t),notes:N.notes||"",priority:N.priority||"medium",createdBy:((z=N.createdBy)==null?void 0:z.username)||(r?" ":"Unknown"),statusHistory:Array.isArray(N.statusHistory)?N.statusHistory.map(K=>({status:K.status||si.Pending,changedBy:K.changedBy||"unknown",changedAt:dr(K.changedAt?new Date(K.changedAt):new Date,t),notes:K.notes||""})):[]};l({type:"ADD_ORDER",payload:k}),h("/sounds/new-order.mp3",[200,100,200]),ke.success(r?`   : ${N.orderNumber}`:`New order received: ${N.orderNumber}`,{position:r?"top-left":"top-right",autoClose:3e3})}),s.on("orderStatusUpdated",async({orderId:N,status:k})=>{var C,H,z;if(!N||!k){console.warn("Invalid order status update data:",{orderId:N,status:k});return}try{const K=await Ws.getById(N);if(K&&K._id&&K.branch&&K.branch._id){const Y={id:K._id,orderNumber:K.orderNumber||"N/A",branchId:((C=K.branch)==null?void 0:C._id)||"unknown",branchName:((H=K.branch)==null?void 0:H.name)||(r?" ":"Unknown"),branch:K.branch||{_id:"unknown",name:r?" ":"Unknown"},items:Array.isArray(K.items)?K.items.filter(W=>W&&W.product&&W.product._id).map(W=>{var Z,ne,ee;return{itemId:W._id||`temp-${Math.random().toString(36).substring(2)}`,productId:W.product._id,productName:((Z=W.product)==null?void 0:Z.name)||(r?" ":"Unknown"),quantity:Number(W.quantity)||0,price:Number(W.price)||0,department:((ne=W.product)==null?void 0:ne.department)||{_id:"unknown",name:r?" ":"Unknown"},status:W.status||Pf.Pending,unit:((ee=W.product)==null?void 0:ee.unit)||"unit",returnedQuantity:Number(W.returnedQuantity)||0,returnReason:W.returnReason||"",assignedTo:W.assignedTo?{_id:W.assignedTo._id,username:W.assignedTo.username}:void 0}}):[],returns:Array.isArray(K.returns)?K.returns.map(W=>({returnId:W._id||`temp-${Math.random().toString(36).substring(2)}`,items:Array.isArray(W.items)?W.items.filter(Z=>Z&&Z.product&&Z.product._id).map(Z=>({productId:Z.product._id,quantity:Number(Z.quantity)||0,reason:Z.reason||"unknown",status:Z.status||"pending_approval"})):[],status:W.status||"pending_approval",reviewNotes:W.reviewNotes||"",createdAt:dr(W.createdAt?new Date(W.createdAt):new Date,t)})):[],status:K.status||k,totalAmount:Number(K.totalAmount)||0,date:dr(K.createdAt?new Date(K.createdAt):new Date,t),notes:K.notes||"",priority:K.priority||"medium",createdBy:((z=K.createdBy)==null?void 0:z.username)||(r?" ":"Unknown"),statusHistory:Array.isArray(K.statusHistory)?K.statusHistory.map(W=>({status:W.status||si.Pending,changedBy:W.changedBy||"unknown",changedAt:dr(W.changedAt?new Date(W.changedAt):new Date,t),notes:W.notes||""})):[]};l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k,payload:Y})}else console.warn("Invalid updated order data:",K),l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k});ke.info(r?`    : ${e(`orders.status_${k}`)}`:`Order status updated to: ${e(`orders.status_${k}`)}`,{position:r?"top-left":"top-right",autoClose:3e3})}catch(K){console.error("Failed to fetch updated order:",K),l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k})}}),s.on("returnStatusUpdated",async({returnId:N,orderId:k,status:C})=>{if(!N||!k||!C){console.warn("Invalid return status update data:",{returnId:N,orderId:k,status:C});return}try{const H=o.orders.find(z=>z.id===k);if(C==="approved"&&(H!=null&&H.returns)&&(n!=null&&n.branchId)){const z=H.returns.find(K=>K.returnId===N);z&&z.items&&(await uf.processReturnItems(N,{branchId:n.branchId,items:z.items.map(K=>({productId:K.productId,quantity:K.quantity,status:"approved",reviewNotes:K.reviewNotes||""}))}),ke.success(r?"    ":"Return processed and inventory updated",{position:r?"top-left":"top-right",autoClose:3e3}))}l({type:"UPDATE_RETURN_STATUS",orderId:k,returnId:N,status:C}),ke.info(r?`    : ${e(`orders.return_status_${C}`)}`:`Return status updated to: ${e(`orders.return_status_${C}`)}`,{position:r?"top-left":"top-right",autoClose:3e3})}catch(H){console.error("Failed to process return:",H),ke.error(r?"   ":"Failed to process return",{position:r?"top-left":"top-right",autoClose:3e3})}}),s.on("taskAssigned",({orderId:N,items:k})=>{l({type:"TASK_ASSIGNED",orderId:N,items:k}),ke.info(r?"  ":"Tasks assigned",{position:r?"top-left":"top-right",autoClose:3e3})}),s.on("missingAssignments",({orderId:N,itemId:k,productName:C})=>{l({type:"MISSING_ASSIGNMENTS",orderId:N,itemId:k}),ke.warn(r?` ${C}   `:`Product ${C} needs assignment`,{position:r?"top-left":"top-right",autoClose:3e3})}),s.on("inventoryUpdated",({branchId:N,productId:k,quantity:C,type:H})=>{N===(n==null?void 0:n.branchId)&&(l({type:"UPDATE_INVENTORY",payload:{productId:k,quantity:C,type:H}}),ke.info(r?`    ${k}  ${C}`:`Inventory updated for product ${k} with quantity ${C}`,{position:r?"top-left":"top-right",autoClose:3e3}))}),s.on("restockApproved",({requestId:N,branchId:k,productId:C,quantity:H})=>{k===(n==null?void 0:n.branchId)&&(l({type:"UPDATE_INVENTORY",payload:{productId:C,quantity:H,type:"restock"}}),ke.success(r?`      ${N}`:`Restock request ${N} approved`,{position:r?"top-left":"top-right",autoClose:3e3}))}),()=>{s.off("connect"),s.off("connect_error"),s.off("newOrder"),s.off("orderStatusUpdated"),s.off("returnStatusUpdated"),s.off("taskAssigned"),s.off("missingAssignments"),s.off("inventoryUpdated"),s.off("restockApproved")}},[n,e,r,t,s,a,h]);const p=L.useCallback(async(N=0)=>{var C,H;if(!(n!=null&&n.branchId)||n.role!=="branch"){const z=r?"   ":"No branch associated";l({type:"SET_ERROR",payload:z}),ke.error(z,{position:r?"top-left":"top-right",autoClose:3e3}),l({type:"SET_LOADING",payload:!1});return}l({type:"SET_LOADING",payload:!0});const k=`${n.branchId}-${o.filterStatus}-${o.currentPage}-${o.viewMode}`;if(u.current.has(k)){l({type:"SET_ORDERS",payload:u.current.get(k)}),l({type:"SET_LOADING",payload:!1});return}try{const z=await Ws.getAll({branch:n.branchId,status:o.filterStatus||void 0,page:o.currentPage,limit:w1[o.viewMode],search:o.searchQuery||void 0,sortBy:o.sortBy,sortOrder:o.sortOrder});if(console.log("Orders API response:",z),!Array.isArray(z))throw new Error("Invalid response format");const K=z.filter(Y=>Y&&Y._id&&Y.branch&&Y.branch._id).map(Y=>{var W,Z,ne;return{id:Y._id,orderNumber:Y.orderNumber||"N/A",branchId:((W=Y.branch)==null?void 0:W._id)||"unknown",branchName:((Z=Y.branch)==null?void 0:Z.name)||(r?" ":"Unknown"),branch:Y.branch||{_id:"unknown",name:r?" ":"Unknown"},items:Array.isArray(Y.items)?Y.items.filter(ee=>ee&&ee.product&&ee.product._id).map(ee=>{var X,I,U;return{itemId:ee._id||`temp-${Math.random().toString(36).substring(2)}`,productId:ee.product._id,productName:((X=ee.product)==null?void 0:X.name)||(r?" ":"Unknown"),quantity:Number(ee.quantity)||0,price:Number(ee.price)||0,department:((I=ee.product)==null?void 0:I.department)||{_id:"unknown",name:r?" ":"Unknown"},status:ee.status||Pf.Pending,unit:((U=ee.product)==null?void 0:U.unit)||"unit",returnedQuantity:Number(ee.returnedQuantity)||0,returnReason:ee.returnReason||"",assignedTo:ee.assignedTo?{_id:ee.assignedTo._id,username:ee.assignedTo.username}:void 0}}):[],returns:Array.isArray(Y.returns)?Y.returns.map(ee=>({returnId:ee._id||`temp-${Math.random().toString(36).substring(2)}`,items:Array.isArray(ee.items)?ee.items.filter(X=>X&&X.product&&X.product._id).map(X=>({productId:X.product._id,quantity:Number(X.quantity)||0,reason:X.reason||"unknown",status:X.status||"pending_approval"})):[],status:ee.status||"pending_approval",reviewNotes:ee.reviewNotes||"",createdAt:dr(ee.createdAt?new Date(ee.createdAt):new Date,t)})):[],status:Y.status||si.Pending,totalAmount:Number(Y.totalAmount)||0,date:dr(Y.createdAt?new Date(Y.createdAt):new Date,t),notes:Y.notes||"",priority:Y.priority||"medium",createdBy:((ne=Y.createdBy)==null?void 0:ne.username)||(r?" ":"Unknown"),statusHistory:Array.isArray(Y.statusHistory)?Y.statusHistory.map(ee=>({status:ee.status||si.Pending,changedBy:ee.changedBy||"unknown",changedAt:dr(ee.changedAt?new Date(ee.changedAt):new Date,t),notes:ee.notes||""})):[]}});u.current.set(k,K),l({type:"SET_ORDERS",payload:K}),l({type:"SET_ERROR",payload:""})}catch(z){if(console.error("Fetch orders error:",z.message,(C=z.response)==null?void 0:C.data),N<2){console.log(`Retrying fetchData (attempt ${N+1})`),setTimeout(()=>p(N+1),1e3);return}const K=((H=z.response)==null?void 0:H.status)===404?r?"    ":"No orders found":r?`   : ${z.message}`:`Error fetching orders: ${z.message}`;l({type:"SET_ERROR",payload:K}),ke.error(K,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_LOADING",payload:!1})}},[n,o.filterStatus,o.currentPage,o.viewMode,o.searchQuery,o.sortBy,o.sortOrder,r,e,t]),m=L.useCallback(N=>{const k=(N.returns||[]).filter(C=>C.status==="approved").reduce((C,H)=>{const z=H.items.reduce((K,Y)=>{const W=N.items.find(Z=>Z.productId===Y.productId);return K+(W?W.price*Y.quantity:0)},0);return C+z},0);return(N.totalAmount-k).toLocaleString(r?"ar-SA":"en-US",{style:"currency",currency:"SAR",minimumFractionDigits:2,maximumFractionDigits:2})},[r]),x=L.useCallback(N=>N.items.reduce((k,C)=>k+C.quantity,0),[]),y=L.useCallback(()=>{const N=[r?" ":"Order Number",r?"":"Status",r?"":"Products",r?" ":"Total Amount",r?" ":"Total Quantity",r?"":"Date",r?"":"Priority"],k=o.orders.map(z=>({[N[0]]:z.orderNumber,[N[1]]:e(`orders.status_${z.status}`)||z.status,[N[2]]:z.items.map(K=>`(${K.quantity} ${e(`units.${K.unit||"unit"}`)||K.unit}  ${W8(K.productName)})`).join(" + "),[N[3]]:m(z),[N[4]]:x(z),[N[5]]:z.date,[N[6]]:e(`orders.priority_${z.priority}`)||z.priority})),C=sc.json_to_sheet(r?k.map(z=>Object.fromEntries(Object.entries(z).reverse())):k,{header:N});r&&(C["!views"]=[{RTL:!0}]),C["!cols"]=[{wch:15},{wch:15},{wch:40},{wch:20},{wch:15},{wch:20},{wch:15}];const H=sc.book_new();sc.book_append_sheet(H,C,r?"":"Orders"),gT(H,"BranchOrders.xlsx"),ke.success(r?"   ":"Export successful",{position:r?"top-left":"top-right",autoClose:3e3})},[o.orders,e,r,m,x]),b=L.useCallback(async()=>{try{const N=new Zt({orientation:"landscape",format:"a4"});N.setLanguage(r?"ar":"en");const k="/fonts/Amiri-Regular.ttf",C="Amiri",H=await fetch(k).then(W=>{if(!W.ok)throw new Error("Failed to fetch font");return W.arrayBuffer()}),z=Vxe(H);N.addFileToVFS(`${C}-Regular.ttf`,z),N.addFont(`${C}-Regular.ttf`,C,"normal"),N.setFont(C),N.setFontSize(16),N.text(r?"":"Orders",r?N.internal.pageSize.width-20:20,15,{align:r?"right":"left"});const K=[r?" ":"Order Number",r?"":"Status",r?"":"Products",r?" ":"Total Amount",r?" ":"Total Quantity",r?"":"Date",r?"":"Priority"],Y=o.orders.map(W=>[W.orderNumber,e(`orders.status_${W.status}`)||W.status,W.items.map(Z=>`(${Z.quantity} ${e(`${Z.unit||"unit"}`)||Z.unit}  ${W8(Z.productName)})`).join(" + "),m(W),x(W).toString(),W.date,e(`orders.priority_${W.priority}`)||W.priority]);PT(N,{head:[r?K.reverse():K],body:r?Y.map(W=>W.reverse()):Y,theme:"grid",headStyles:{fillColor:[255,193,7],textColor:255,fontSize:10,halign:r?"right":"left",font:C,cellPadding:3},bodyStyles:{fontSize:8,halign:r?"right":"left",font:C,cellPadding:3,textColor:[33,33,33]},margin:{top:25,left:10,right:10},columnStyles:{0:{cellWidth:25},1:{cellWidth:20},2:{cellWidth:100},3:{cellWidth:25},4:{cellWidth:20},5:{cellWidth:30},6:{cellWidth:20}},didParseCell:W=>{W.section==="body"&&W.column.index===3&&r&&(W.cell.text=[W.cell.raw.toString().replace(/(\d+\.\d{2})/," $1 .")])},didDrawPage:W=>{N.setFont(C),N.setFontSize(8),N.text(r?`  : ${dr(new Date,t)}`:`Generated on: ${dr(new Date,t)}`,r?N.internal.pageSize.width-10:10,N.internal.pageSize.height-10,{align:r?"right":"left"}),N.text(r?` ${W.pageNumber}`:`Page ${W.pageNumber}`,r?10:N.internal.pageSize.width-30,N.internal.pageSize.height-10,{align:r?"left":"right"})},styles:{overflow:"linebreak",font:C,fontSize:8,cellPadding:3,halign:r?"right":"left"}}),N.save("BranchOrders.pdf"),ke.success(r?"  PDF ":"PDF export successful",{position:r?"top-left":"top-right",autoClose:3e3})}catch(N){console.error("PDF export error:",N),ke.error(r?"   PDF":"PDF export error",{position:r?"top-left":"top-right",autoClose:3e3})}},[o.orders,e,r,t,m,x]),v=L.useCallback(hc.debounce(N=>{l({type:"SET_SEARCH_QUERY",payload:N})},300),[]),S=L.useMemo(()=>o.orders.filter(N=>N.branch&&N.branch._id&&(N.orderNumber.toLowerCase().includes(o.searchQuery.toLowerCase())||N.branchName.toLowerCase().includes(o.searchQuery.toLowerCase())||(N.notes||"").toLowerCase().includes(o.searchQuery.toLowerCase())||N.items.some(k=>k.productName.toLowerCase().includes(o.searchQuery.toLowerCase())))&&(!o.filterStatus||N.status===o.filterStatus)),[o.orders,o.searchQuery,o.filterStatus]),_=L.useMemo(()=>[...S].sort((N,k)=>o.sortBy==="date"?o.sortOrder==="asc"?new Date(N.date).getTime()-new Date(k.date).getTime():new Date(k.date).getTime()-new Date(N.date).getTime():o.sortOrder==="asc"?N.totalAmount-k.totalAmount:k.totalAmount-N.totalAmount),[S,o.sortBy,o.sortOrder]),T=L.useMemo(()=>_.slice((o.currentPage-1)*w1[o.viewMode],o.currentPage*w1[o.viewMode]),[_,o.currentPage,o.viewMode]),R=L.useCallback(N=>{l({type:"SET_SELECTED_ORDER",payload:N}),l({type:"SET_MODAL",modal:"view",isOpen:!0})},[]),B=L.useCallback(N=>{l({type:"SET_SELECTED_ORDER",payload:N}),l({type:"SET_MODAL",modal:"confirmDelivery",isOpen:!0})},[]),j=L.useCallback((N,k)=>{const C=N.items.find(H=>H.itemId===k);l({type:"SET_SELECTED_ORDER",payload:N}),l({type:"SET_RETURN_FORM",payload:{itemId:k,quantity:(C==null?void 0:C.quantity)||1,reason:"",notes:""}}),l({type:"SET_MODAL",modal:"return",isOpen:!0})},[]),P=L.useCallback(async(N,k,C)=>{var H;if(N.preventDefault(),!k||!(n!=null&&n.branchId)||!C.itemId||C.quantity<1||!C.reason||o.submitting){ke.error(r?"   ":"Please fill all fields",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:k.id});try{const z=k.items.find(W=>W.itemId===C.itemId);if(!z||!z.productId)throw new Error(r?"   ":"Invalid product ID");const Y={returnId:(await Uy.createReturn({orderId:k.id,branchId:n.branchId,reason:C.reason,items:[{product:z.productId,quantity:C.quantity,reason:C.reason}],notes:C.notes}))._id,items:[{productId:z.productId,quantity:C.quantity,reason:C.reason,status:"pending_approval"}],status:"pending_approval",reviewNotes:C.notes,createdAt:dr(new Date,t)};l({type:"ADD_RETURN",orderId:k.id,returnData:Y}),l({type:"SET_MODAL",modal:"return",isOpen:!1}),l({type:"SET_RETURN_FORM",payload:{itemId:"",quantity:0,reason:"",notes:""}}),h("/sounds/return-created.mp3",[200,100,200]),ke.success(r?"   ":"Return submitted successfully",{position:r?"top-left":"top-right",autoClose:3e3})}catch(z){console.error("Return item error:",z.message,(H=z.response)==null?void 0:H.data),ke.error(r?`    : ${z.message}`:`Failed to submit return: ${z.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[n,e,r,t,h,o.submitting]),F=L.useCallback(async N=>{var k;if(!(n!=null&&n.branchId)||!(n!=null&&n.id)){console.log("Confirm delivery - Missing user or branch:",{user:n}),ke.error(r?"     ":"No branch or user associated",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:N});try{const C=await Ws.getById(N);if(!C||!Array.isArray(C.items))throw new Error(r?"   ":"Invalid order data");if(C.items.filter(K=>{var Y;return!((Y=K.product)!=null&&Y._id)}).length>0)throw new Error(r?"       ":"Some items have invalid product IDs");console.log("Calling ordersAPI.confirmDelivery:",{orderId:N,userId:n.id}),await Ws.confirmDelivery(N,n.id);const z=C.items.map(K=>({productId:K.product._id,currentStock:K.quantity,minStockLevel:0,maxStockLevel:1e3}));try{await uf.bulkCreate({branchId:n.branchId,userId:n.id,orderId:N,items:z})}catch(K){console.warn(`Bulk create failed: ${K.message}. Falling back to individual updates.`);for(const Y of C.items)try{let W;try{W=(await uf.getByBranch(n.branchId)).find(ne=>ne.productId===Y.product._id)}catch(Z){if(Z.status===403)console.warn(`Permission denied for getting inventory for branch ${n.branchId}. Proceeding to create new inventory entry.`),W=null;else throw Z}if(W)try{await uf.updateStock(W._id,{currentStock:(W.currentStock||0)+Y.quantity})}catch(Z){if(Z.status===403)console.warn(`Permission denied for updating inventory item ${W._id}. Creating new inventory entry.`),await uf.create({branchId:n.branchId,productId:Y.product._id,currentStock:Y.quantity,minStockLevel:0,maxStockLevel:1e3,userId:n.id,orderId:N});else throw Z}else await uf.create({branchId:n.branchId,productId:Y.product._id,currentStock:Y.quantity,minStockLevel:0,maxStockLevel:1e3,userId:n.id,orderId:N})}catch(W){console.warn(`Failed to update inventory for product ${Y.product._id}:`,W.message),ke.warn(r?`    ${Y.productName||" "}: ${W.message}`:`Failed to update inventory for product ${Y.productName||"Unknown"}: ${W.message}`,{position:r?"top-left":"top-right",autoClose:3e3});continue}}l({type:"UPDATE_ORDER_STATUS",orderId:N,status:si.Delivered}),s&&i&&a("orderStatusUpdated",{orderId:N,status:si.Delivered}),l({type:"SET_MODAL",modal:"confirmDelivery",isOpen:!1}),h("/sounds/order-delivered.mp3",[400,100,400]),ke.success(r?"  ":"Delivery confirmed successfully",{position:r?"top-left":"top-right",autoClose:3e3})}catch(C){console.error("Confirm delivery error:",C.message,(k=C.response)==null?void 0:k.data),ke.error(r?`   : ${C.message}`:`Failed to confirm delivery: ${C.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[e,r,h,n,s,i,a]);return L.useCallback(async(N,k)=>{var C;if(!(n!=null&&n.branchId)){ke.error(r?"   ":"No branch associated",{position:r?"top-left":"top-right",autoClose:3e3});return}l({type:"SET_SUBMITTING",payload:N});try{await Ws.updateStatus(N,{status:k}),l({type:"UPDATE_ORDER_STATUS",orderId:N,status:k}),s&&i&&a("orderStatusUpdated",{orderId:N,status:k}),ke.success(r?`    : ${e(`orders.status_${k}`)}`:`Order status updated to: ${e(`orders.status_${k}`)}`,{position:r?"top-left":"top-right",autoClose:3e3})}catch(H){console.error("Update order status error:",H.message,(C=H.response)==null?void 0:C.data),ke.error(r?`   : ${H.message}`:`Failed to update status: ${H.message}`,{position:r?"top-left":"top-right",autoClose:3e3})}finally{l({type:"SET_SUBMITTING",payload:null})}},[e,r,n,s,i,a]),L.useEffect(()=>{u.current.clear(),p()},[n==null?void 0:n.branchId,p]),d.jsx("div",{className:"px-4 py-6 min-h-screen ",dir:r?"rtl":"ltr",children:d.jsx(L.Suspense,{fallback:d.jsx(wl,{size:"lg"}),children:d.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[d.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${r?"flex-row-reverse":""}`,children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-xl sm:text-xl font-bold text-gray-800 flex items-center gap-3",children:[d.jsx(Qf,{className:"w-8 h-8 text-amber-600"}),r?"":"Orders"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r?"  ":"Manage branch orders"})]}),d.jsxs("div",{className:"flex gap-3 flex-wrap",children:[d.jsxs(dt,{variant:o.orders.length>0?"primary":"secondary",onClick:o.orders.length>0?y:void 0,className:`flex items-center gap-2 ${o.orders.length>0?"bg-amber-500 hover:bg-amber-600 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"} rounded-lg px-4 py-2 text-sm shadow-sm`,disabled:o.orders.length===0,children:[d.jsx(eg,{className:"w-5 h-5"}),r?"  Excel":"Export to Excel"]}),d.jsxs(dt,{variant:o.orders.length>0?"primary":"secondary",onClick:o.orders.length>0?b:void 0,className:`flex items-center gap-2 ${o.orders.length>0?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"} rounded-lg px-4 py-2 text-sm shadow-sm`,disabled:o.orders.length===0,children:[d.jsx(vre,{className:"w-5 h-5"}),r?"  PDF":"Export to PDF"]}),d.jsxs(dt,{variant:"secondary",onClick:()=>l({type:"SET_VIEW_MODE",payload:o.viewMode==="card"?"table":"card"}),className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg px-4 py-2 text-sm shadow-sm",children:[o.viewMode==="card"?d.jsx(gN,{className:"w-5 h-5"}):d.jsx(mN,{className:"w-5 h-5"}),r?o.viewMode==="card"?" ":" ":o.viewMode==="card"?"View as Table":"View as Cards"]})]})]}),d.jsxs(tr,{className:"p-4 sm:p-6 mt-6 bg-white shadow-lg rounded-lg border border-gray-100",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r?"":"Search"}),d.jsx(Rxe,{value:o.searchQuery,onChange:v,placeholder:r?"     ...":"Search by order number or product...",className:"w-full rounded-lg border-gray-200 focus:ring-amber-500 text-sm shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r?"  ":"Filter by Status"}),d.jsx(es,{options:Hxe.map(N=>({value:N.value,label:e(`orders.status_${N.value}`)||(r?" ":"All Statuses")})),value:o.filterStatus||"",onChange:N=>l({type:"SET_FILTER_STATUS",payload:N}),className:"w-full rounded-lg border-gray-200 focus:ring-amber-500 text-sm shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r?" ":"Sort By"}),d.jsx(es,{options:Wxe.map(N=>({value:N.value,label:e(`orders.${N.label}`)||N.label})),value:o.sortBy,onChange:N=>l({type:"SET_SORT",by:N,order:o.sortOrder}),className:"w-full rounded-lg border-gray-200 focus:ring-amber-500 text-sm shadow-sm"})]})]}),d.jsx("div",{className:"text-sm text-center text-gray-500 mt-4",children:r?` : ${S.length}`:`Orders count: ${S.length}`})]}),o.loading?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-4 mt-6",children:o.viewMode==="card"?Array(6).fill(null).map((N,k)=>d.jsx(Dxe,{isRtl:r},k)):d.jsx(Lxe,{isRtl:r})}):o.error&&o.orders.length===0?d.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"mt-6",children:d.jsxs(tr,{className:"p-6 max-w-md mx-auto text-center bg-red-50 shadow-lg rounded-lg border border-red-100",children:[d.jsxs("div",{className:`flex items-center justify-center gap-2 ${r?"flex-row-reverse":""}`,children:[d.jsx(Ar,{className:"w-6 h-6 text-red-600"}),d.jsx("p",{className:"text-lg font-medium text-red-600",children:o.error})]}),d.jsx(dt,{variant:"primary",onClick:()=>p(),className:"mt-4 bg-amber-500 hover:bg-amber-600 text-white rounded-lg px-6 py-2 text-sm shadow-sm",children:r?" ":"Retry"})]})}):d.jsx(Bn,{children:T.length===0?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"mt-6",children:d.jsxs(tr,{className:"p-8 sm:p-12 text-center bg-white shadow-lg rounded-lg border border-gray-100",children:[d.jsx(Qf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:r?"  ":"No Orders"}),d.jsx("p",{className:"text-sm text-gray-500",children:o.filterStatus||o.searchQuery?r?"   ":"No matching orders":r?"   ":"No orders yet"})]})},"no-orders"):o.viewMode==="table"?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"mt-6",children:d.jsx(jxe,{orders:T.filter(N=>N&&N.id&&N.branch&&N.branch._id),t:e,isRtl:r,calculateAdjustedTotal:m,calculateTotalQuantity:x,startIndex:(o.currentPage-1)*w1[o.viewMode]+1,viewOrder:R,openConfirmDeliveryModal:B,openReturnModal:j,user:n,submitting:o.submitting})},"table-view"):d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"space-y-4 mt-6",children:T.filter(N=>N&&N.id&&N.branch&&N.branch._id).map(N=>d.jsx(Fxe,{order:N,t:e,isRtl:r,calculateAdjustedTotal:m,calculateTotalQuantity:x,viewOrder:R,openConfirmDeliveryModal:B,openReturnModal:j,user:n,submitting:o.submitting},N.id))},"card-view")}),T.length>0&&d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mt-6",children:d.jsx(Mxe,{currentPage:o.currentPage,totalPages:Math.ceil(_.length/w1[o.viewMode]),t:e,isRtl:r,handlePageChange:N=>l({type:"SET_PAGE",payload:N})})}),d.jsx(Bxe,{isOpen:o.isViewModalOpen,onClose:()=>{l({type:"SET_MODAL",modal:"view",isOpen:!1}),l({type:"SET_SELECTED_ORDER",payload:null})},order:o.selectedOrder,t:e,isRtl:r,calculateAdjustedTotal:m}),d.jsx(Uxe,{isOpen:o.isConfirmDeliveryModalOpen,onClose:()=>{l({type:"SET_MODAL",modal:"confirmDelivery",isOpen:!1}),l({type:"SET_SELECTED_ORDER",payload:null})},order:o.selectedOrder,t:e,isRtl:r,confirmDelivery:F,submitting:o.submitting}),d.jsx($xe,{isOpen:o.isReturnModalOpen,onClose:()=>{l({type:"SET_MODAL",modal:"return",isOpen:!1}),l({type:"SET_SELECTED_ORDER",payload:null}),l({type:"SET_RETURN_FORM",payload:{itemId:"",quantity:0,reason:"",notes:""}})},order:o.selectedOrder,returnFormData:o.returnFormData,setReturnFormData:N=>l({type:"SET_RETURN_FORM",payload:N}),handleReturnItem:P,t:e,isRtl:r,submitting:o.submitting})]})})})},b1=10,Kxe=()=>{var G;const{t:e,language:t}=Yn(),r=t==="ar",{user:n}=ps(),[s,i]=L.useState([]),[a,o]=L.useState(null),[l,c]=L.useState(!1),[u,h]=L.useState(""),[p,m]=L.useState(""),[x,y]=L.useState(1),[b,v]=L.useState(!0),[S,_]=L.useState(""),[T,R]=L.useState(!1),B=L.useMemo(()=>({position:r?"top-left":"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,className:"bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 p-3",progressClassName:"bg-amber-500"}),[r]),j=L.useMemo(()=>{const V="https://eljoodia-server-production.up.railway.app/api";try{return T0(V,{auth:{token:localStorage.getItem("token")},transports:["websocket"],autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3})}catch(Q){return console.error(`[${new Date().toISOString()}] Socket initialization error:`,Q),ke.error(e("errors.socket_init"),B),null}},[e,B]),P=L.useMemo(()=>[{value:"",label:e("returns.status.all")},{value:"pending",label:e("returns.status.pending")},{value:"approved",label:e("returns.status.approved")},{value:"rejected",label:e("returns.status.rejected")},{value:"processed",label:e("returns.status.processed")}],[e]),F=L.useMemo(()=>({pending:{color:"bg-amber-100 text-amber-800",icon:cc,label:e("returns.status.pending")},approved:{color:"bg-green-100 text-green-800",icon:eb,label:e("returns.status.approved")},rejected:{color:"bg-red-100 text-red-800",icon:Ar,label:e("returns.status.rejected")},processed:{color:"bg-blue-100 text-blue-800",icon:eb,label:e("returns.status.processed")}}),[e]),N=L.useCallback(V=>F[V]||{color:"bg-gray-100 text-gray-800",icon:cc,label:e(`returns.status.${V}`)},[F,e]),k=L.useCallback(V=>{const Q=new Date(V);return isNaN(Q.getTime())?e("errors.invalid_date"):Q.toLocaleDateString(r?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})},[r,e]),C=L.useCallback(async()=>{if(!(n!=null&&n.branchId)){const V=e("errors.no_branch_associated");_(V),ke.error(V,B),v(!1);return}v(!0);try{const V={status:p,branch:n.branchId,page:x,limit:b1},{returns:Q,total:ge}=await Uy.getAll(V);if(!Array.isArray(Q))throw new Error("Invalid returns data format");const Se=Q.filter(pe=>pe.order&&typeof pe.order=="object");Se.length<Q.length&&ke.warn(e("errors.some_returns_invalid"),B),i(Se.map(pe=>{var oe,De,$e;return{id:pe._id,returnNumber:pe.returnNumber,order:{id:pe.order._id||"unknown",orderNumber:pe.order.orderNumber||e("orders.unknown"),totalAmount:pe.order.totalAmount||0,createdAt:pe.order.createdAt||new Date().toISOString()},items:Array.isArray(pe.items)?pe.items.map(Ze=>{var Ce,se,yt;return{itemId:Ze.itemId||Ze._id||"unknown",productId:((Ce=Ze.product)==null?void 0:Ce._id)||"unknown",productName:((se=Ze.product)==null?void 0:se.name)||e("products.unknown"),quantity:Ze.quantity||0,price:((yt=Ze.product)==null?void 0:yt.price)||0,reason:Ze.reason||"unknown"}}):[],status:pe.status||"pending",date:k(pe.createdAt||new Date().toISOString()),createdAt:pe.createdAt||new Date().toISOString(),notes:pe.notes,reviewNotes:pe.reviewNotes,branch:{_id:((oe=pe.branch)==null?void 0:oe._id)||"unknown",name:((De=pe.branch)==null?void 0:De.name)||e("branches.unknown")},department:(($e=pe.order)==null?void 0:$e.department)||{_id:"unknown",name:e("departments.unknown")}}})),_("")}catch(V){const Q=V.status===403?e("errors.unauthorized_access"):V.status===404?e("errors.return_not_found"):V.message||e("errors.fetch_returns");console.error(`[${new Date().toISOString()}] Fetch returns error:`,V),_(Q),ke.error(Q,B)}finally{v(!1)}},[p,x,n,e,k,B]);L.useEffect(()=>{C()},[C]),L.useEffect(()=>{if(!j)return;const V=()=>{R(!0),j.emit("joinRoom",{role:n==null?void 0:n.role,branchId:n==null?void 0:n.branchId,userId:n==null?void 0:n._id}),ke.info(e("socket.connected"),B)},Q=pe=>{R(!1),ke.warn(e("socket.disconnected"),B)},ge=pe=>{pe.branchId===(n==null?void 0:n.branchId)&&(ke.success(e("returns.new_return_notification",{returnNumber:pe.returnNumber}),B),C())},Se=pe=>{pe.branchId===(n==null?void 0:n.branchId)&&(i(oe=>oe.map(De=>De.id===pe.returnId?{...De,status:pe.status,reviewNotes:pe.returnNote||De.reviewNotes,items:pe.items?pe.items.map($e=>{var Ze,Ce,se;return{itemId:$e.itemId||$e._id||"unknown",productId:((Ze=$e.product)==null?void 0:Ze._id)||"unknown",productName:((Ce=$e.product)==null?void 0:Ce.name)||e("products.unknown"),quantity:$e.quantity||0,price:((se=$e.product)==null?void 0:se.price)||0,reason:$e.reason||"unknown"}}):De.items}:De)),(a==null?void 0:a.id)===pe.returnId&&o(oe=>oe&&{...oe,status:pe.status,reviewNotes:pe.returnNote||oe.reviewNotes,items:pe.items?pe.items.map(De=>{var $e,Ze,Ce;return{itemId:De.itemId||De._id||"unknown",productId:(($e=De.product)==null?void 0:$e._id)||"unknown",productName:((Ze=De.product)==null?void 0:Ze.name)||e("products.unknown"),quantity:De.quantity||0,price:((Ce=De.product)==null?void 0:Ce.price)||0,reason:De.reason||"unknown"}}):oe.items}),ke.info(e("socket.return_status_updated",{status:e(`returns.status.${pe.status}`)}),B))};return j.on("connect",V),j.on("connect_error",Q),j.on("returnCreated",ge),j.on("returnStatusUpdated",Se),()=>{j.off("connect",V),j.off("connect_error",Q),j.off("returnCreated",ge),j.off("returnStatusUpdated",Se)}},[j,n,C,a,e,B]);const H=L.useMemo(()=>hc.debounce(V=>h(V),300),[]),z=L.useMemo(()=>s.filter(V=>V.returnNumber.toLowerCase().includes(u.toLowerCase())||V.order.orderNumber.toLowerCase().includes(u.toLowerCase())||(V.notes||"").toLowerCase().includes(u.toLowerCase())||V.branch.name.toLowerCase().includes(u.toLowerCase())),[s,u]),K=L.useMemo(()=>[...z].sort((V,Q)=>new Date(Q.createdAt).getTime()-new Date(V.createdAt).getTime()),[z]),Y=Math.ceil(K.length/b1),W=L.useMemo(()=>K.slice((x-1)*b1,x*b1),[K,x]),Z=L.useCallback(V=>{o(V),c(!0)},[]),ne=L.useCallback(V=>{V>=1&&V<=Y&&(y(V),window.scrollTo({top:0,behavior:"smooth"}))},[Y]),ee=L.useCallback(()=>{const V=s.map(pe=>{var oe;return{[e("returns.return_number")]:pe.returnNumber,[e("returns.order_number")]:pe.order.orderNumber,[e("returns.status_label")]:N(pe.status).label,[e("returns.date")]:pe.date,[e("returns.items_count")]:pe.items.length,[e("returns.branch")]:pe.branch.name,[e("returns.department")]:((oe=pe.department)==null?void 0:oe.name)||e("departments.unknown"),[e("returns.notes_label")]:pe.notes||e("returns.no_notes"),[e("returns.review_notes")]:pe.reviewNotes||e("returns.no_notes")}}),Q=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),ge=URL.createObjectURL(Q),Se=document.createElement("a");Se.href=ge,Se.download=`returns-${new Date().toISOString().split("T")[0]}.json`,Se.click(),URL.revokeObjectURL(ge)},[s,N,e]),X=({ret:V})=>{var Se;const Q=N(V.status),ge=Q.icon;return d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col",children:d.jsx(tr,{className:"flex flex-col p-4 sm:p-5 bg-white shadow-md hover:shadow-xl transition-shadow duration-300 rounded-lg border border-gray-200",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 ${r?"sm:flex-row":""}`,children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?` #${V.returnNumber}`:`Return #${V.returnNumber}`}),d.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${Q.color} ${r?"flex-row":""}`,children:[d.jsx(ge,{className:"w-5 h-5"}),d.jsx("span",{children:Q.label})]})]}),d.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.order_number")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:V.order.orderNumber})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.items_count")}),d.jsxs("p",{className:"text-base font-medium text-gray-900",children:[V.items.length," ",r?"":"item"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.date")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:V.date})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.branch")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:V.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.department")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:((Se=V.department)==null?void 0:Se.name)||e("departments.unknown")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.total_amount")}),d.jsxs("p",{className:"text-base font-medium text-teal-600",children:[V.items.reduce((pe,oe)=>pe+(oe.price||0)*oe.quantity,0)," ",r?"":"SAR"]})]})]}),d.jsx("div",{className:"flex flex-col gap-2",children:V.items.map((pe,oe)=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-100",children:[d.jsx("p",{className:"text-base font-medium text-gray-900",children:pe.productName}),d.jsx("p",{className:"text-sm text-gray-600",children:e("returns.quantity",{quantity:pe.quantity})}),d.jsx("p",{className:"text-sm text-gray-600",children:e("returns.reason",{reason:e(`orders.return_reasons.${pe.reason}`)||pe.reason})}),pe.price&&d.jsxs("p",{className:"text-sm text-gray-600",children:[e("returns.price",{price:pe.price})," ",r?"":"SAR"]})]},oe))}),V.notes&&d.jsx("div",{className:"p-3 bg-amber-50 rounded-md border border-amber-100",children:d.jsxs("p",{className:"text-sm text-amber-800",children:[d.jsxs("strong",{children:[e("returns.notes_label"),":"]})," ",V.notes]})}),V.reviewNotes&&d.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-100",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsxs("strong",{children:[e("returns.review_notes"),":"]})," ",V.reviewNotes]})}),d.jsx("div",{className:"flex justify-end",children:d.jsx(dt,{variant:"primary",size:"md",icon:Po,onClick:()=>Z(V),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-4 py-2 transition-colors duration-200","aria-label":e("returns.view_return",{returnNumber:V.returnNumber}),children:e("returns.view")})})]})})})},I=()=>K.length>b1&&d.jsxs("div",{className:`flex items-center justify-center gap-3 mt-6 ${r?"flex-row":""}`,children:[d.jsx(dt,{variant:"secondary",size:"md",onClick:()=>ne(x-1),disabled:x===1,className:"disabled:opacity-50 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-4 py-2 transition-colors duration-200","aria-label":e("pagination.previous"),children:e("pagination.previous")}),d.jsx("span",{className:"text-gray-700 font-medium",children:e("pagination.page",{current:x,total:Y})}),d.jsx(dt,{variant:"secondary",size:"md",onClick:()=>ne(x+1),disabled:x===Y,className:"disabled:opacity-50 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-4 py-2 transition-colors duration-200","aria-label":e("pagination.next"),children:e("pagination.next")})]}),U=()=>d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-amber-600"})});return d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen bg-gray-50",dir:r?"rtl":"ltr",children:d.jsx(Bn,{children:b?d.jsx(U,{}):S?d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex justify-center",children:d.jsxs(tr,{className:"p-6 max-w-md text-center bg-red-50 shadow-lg rounded-lg border border-red-200",children:[d.jsxs("div",{className:`flex items-center justify-center gap-3 mb-4 ${r?"flex-row":""}`,children:[d.jsx(Ar,{className:"w-8 h-8 text-red-600"}),d.jsx("p",{className:"text-lg font-semibold text-red-600",children:S})]}),d.jsx(dt,{variant:"primary",onClick:()=>C(),className:"bg-amber-600 hover:bg-amber-700 text-white rounded-full px-6 py-2 transition-colors duration-200","aria-label":e("common.retry"),children:e("common.retry")})]})}):d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsx(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"sticky top-0 z-10 bg-gray-50 py-4 border-b border-gray-100",children:d.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 ${r?"sm:flex-row":""}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("returns.title")}),d.jsx("p",{className:"text-base text-gray-600 mt-1",children:e("returns.subtitle")})]}),d.jsxs(dt,{variant:s.length>0?"primary":"secondary",onClick:s.length>0?ee:void 0,className:`flex items-center gap-2 ${s.length>0?"bg-amber-600 hover:bg-amber-700 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"} rounded-full px-4 py-2 transition-colors duration-200`,disabled:s.length===0,"aria-label":e("returns.download_json"),children:[d.jsx(eg,{className:"w-5 h-5"}),d.jsx("span",{children:e("returns.download_json")})]})]})}),d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:d.jsxs(tr,{className:"p-4 sm:p-5 bg-white shadow-lg rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("common.search")}),d.jsxs("div",{className:"flex items-center rounded-md border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow duration-200",children:[d.jsx(vl,{className:`w-5 h-5 text-gray-400 absolute ${r?"right-3":"left-3"} top-1/2 transform -translate-y-1/2`}),d.jsx(Mt,{type:"text",value:u,onChange:V=>H(V.target.value),placeholder:e("returns.search_placeholder"),className:`w-full ${r?"pr-10 pl-3":"pl-10 pr-3"} py-2 rounded-md bg-transparent text-base text-gray-900 border-0 focus:ring-2 focus:ring-amber-500 transition-colors duration-200`,"aria-label":e("common.search")})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(es,{label:e("returns.filter_by_status"),options:P,value:p,onChange:m,className:"w-full rounded-md border-gray-200 text-base focus:ring-amber-500 transition-colors duration-200","aria-label":e("returns.filter_by_status")})})]}),d.jsx("div",{className:"text-sm text-center text-gray-600 mt-3",children:e("returns.returns_count",{count:z.length})})]})}),d.jsx("div",{className:"flex flex-col gap-4",children:W.length===0?d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs(tr,{className:"p-6 text-center bg-white shadow-lg rounded-lg border border-gray-200",children:[d.jsx(jo,{className:"w-16 h-16 text-gray-400 mx-auto mb-3"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e("returns.no_returns")}),d.jsx("p",{className:"text-base text-gray-600",children:e(p||u?"returns.no_matching_returns":"returns.no_returns_yet")})]})}):W.map(V=>d.jsx(X,{ret:V},V.id))}),d.jsx(I,{}),d.jsx(Bn,{children:l&&a&&d.jsx(Fs,{isOpen:l,onClose:()=>c(!1),title:e("returns.view_return_title",{returnNumber:a.returnNumber}),size:"lg",className:"bg-white rounded-lg shadow-xl",children:d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.return_number")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:a.returnNumber})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.status_label")}),d.jsx("p",{className:`text-base font-medium ${N(a.status).color}`,children:N(a.status).label})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.date")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:a.date})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.order_number")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:a.order.orderNumber})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.branch")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:a.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.department")}),d.jsx("p",{className:"text-base font-medium text-gray-900",children:((G=a.department)==null?void 0:G.name)||e("departments.unknown")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:e("returns.total_amount")}),d.jsxs("p",{className:"text-base font-medium text-teal-600",children:[a.items.reduce((V,Q)=>V+(Q.price||0)*Q.quantity,0)," ",r?"":"SAR"]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:e("returns.items")}),d.jsx("div",{className:"flex flex-col gap-2",children:a.items.map((V,Q)=>d.jsxs("div",{className:`p-3 bg-gray-50 rounded-md border border-gray-100 ${r?"text-right":"text-left"}`,children:[d.jsx("p",{className:"text-base font-medium text-gray-900",children:V.productName}),d.jsx("p",{className:"text-sm text-gray-600",children:e("returns.quantity",{quantity:V.quantity})}),d.jsx("p",{className:"text-sm text-gray-600",children:e("returns.reason",{reason:e(`orders.return_reasons.${V.reason}`)||V.reason})}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("returns.item_total",{total:V.price?V.quantity*V.price:0})," ",r?"":"SAR"]})]},Q))})]}),a.notes&&d.jsx("div",{className:"p-3 bg-amber-50 rounded-md border border-amber-100",children:d.jsxs("p",{className:"text-sm text-amber-800",children:[d.jsxs("strong",{children:[e("returns.notes_label"),":"]})," ",a.notes]})}),a.reviewNotes&&d.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-100",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsxs("strong",{children:[e("returns.review_notes"),":"]})," ",a.reviewNotes]})}),d.jsx("div",{className:"border-t pt-3 border-gray-200",children:d.jsxs("div",{className:`flex items-center justify-between text-base font-semibold text-gray-900 ${r?"flex-row":""}`,children:[d.jsx("span",{children:e("returns.final_total")}),d.jsxs("span",{className:"text-teal-600",children:[a.items.reduce((V,Q)=>V+(Q.price||0)*Q.quantity,0)," ",r?"":"SAR"]})]})}),d.jsx("div",{className:`flex justify-end gap-3 ${r?"flex-row":""}`,children:d.jsx(dt,{variant:"secondary",onClick:()=>c(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full px-4 py-2 transition-colors duration-200","aria-label":e("common.close"),children:e("common.close")})})]})})})]})})})},Yxe={ar:{manage:" ",add:" ",addFirst:"  ",noUsers:"  ",noMatch:"   ",empty:"   ",searchPlaceholder:"  ...",role:"",allRoles:" ",admin:"",branch:"",chef:"",production:"",previous:"",next:"",page:"",of:"",username:" ",email:"",phone:"",department:"",createdAt:" ",updatedAt:" ",edit:"",resetPassword:"  ",delete:"",name:"  ()",nameEn:"  ()",nameRequired:"  ",nameEnRequired:"   ",usernameRequired:"   ",passwordRequired:"  ",branchRequired:" ",departmentRequired:" ",namePlaceholder:"  ",nameEnPlaceholder:"   ",usernamePlaceholder:"   ",emailPlaceholder:" ",phonePlaceholder:"  ",branchPlaceholder:" ",departmentPlaceholder:" ",passwordPlaceholder:"  ",update:" ",requiredFields:"    ",usernameExists:"      ",emailExists:"     ",unauthorized:"   ",fetchError:"    ",updateError:"    ",createError:"    ",added:"   ",updated:"   ",newPassword:"  ",confirmPassword:"  ",newPasswordPlaceholder:"   ",confirmPasswordPlaceholder:"   ",passwordMismatch:"    ",passwordTooShort:"     6   ",passwordResetSuccess:"     ",passwordResetError:"      ",reset:" ",cancel:"",confirmDelete:"  ",deleteWarning:"            .",deleteError:"    ",deleted:"   ",profile:" ",viewCurrentPassword:"   ",currentPassword:"  ",status:"",active:"",inactive:" ",address:"",city:"",branchDetails:" "},en:{manage:"Manage Users",add:"Add User",addFirst:"Add First User",noUsers:"No Users Found",noMatch:"No Matching Users",empty:"No Users Available",searchPlaceholder:"Search users...",role:"Role",allRoles:"All Roles",admin:"Admin",branch:"Branch",chef:"Chef",production:"Production",previous:"Previous",next:"Next",page:"Page",of:"of",username:"Username",email:"Email",phone:"Phone",department:"Department",createdAt:"Created At",updatedAt:"Updated At",edit:"Edit",resetPassword:"Change Password",delete:"Delete",name:"User Name (Arabic)",nameEn:"User Name (English)",nameRequired:"User name is required",nameEnRequired:"User name in English is required",usernameRequired:"Username is required",passwordRequired:"Password is required",branchRequired:"Branch is required",departmentRequired:"Department is required",namePlaceholder:"Enter user name",nameEnPlaceholder:"Enter user name in English",usernamePlaceholder:"Enter username",emailPlaceholder:"Enter email",phonePlaceholder:"Enter phone number",branchPlaceholder:"Select branch",departmentPlaceholder:"Select department",passwordPlaceholder:"Enter password",update:"Update User",requiredFields:"Please fill all required fields",usernameExists:"Username is already in use, choose another",emailExists:"Email is already in use, choose another",unauthorized:"You are not authorized to access",fetchError:"An error occurred while fetching data",updateError:"An error occurred while updating the user",createError:"An error occurred while creating the user",added:"User added successfully",updated:"User updated successfully",newPassword:"New Password",confirmPassword:"Confirm Password",newPasswordPlaceholder:"Enter new password",confirmPasswordPlaceholder:"Enter confirm password",passwordMismatch:"Password and confirmation do not match",passwordTooShort:"Password must be at least 6 characters",passwordResetSuccess:"Password reset successfully",passwordResetError:"An error occurred while resetting the password",reset:"Reset",cancel:"Cancel",confirmDelete:"Confirm User Deletion",deleteWarning:"Are you sure you want to delete this user? This action cannot be undone.",deleteError:"An error occurred while deleting the user",deleted:"User deleted successfully",profile:"View Details",viewCurrentPassword:"View Current Password",currentPassword:"Current Password",status:"Status",active:"Active",inactive:"Inactive",address:"Address",city:"City",branchDetails:"Branch Details"}},Xxe=()=>{const{language:e}=Yn(),{user:t}=ps(),r=e==="ar",n=Yxe[r?"ar":"en"],[s,i]=L.useState([]),[a,o]=L.useState([]),[l,c]=L.useState([]),[u,h]=L.useState(""),[p,m]=L.useState("all"),[x,y]=L.useState(1),[b,v]=L.useState(1),[S,_]=L.useState(""),[T,R]=L.useState(!0),[B,j]=L.useState(!1),[P,F]=L.useState(!1),[N,k]=L.useState(!1),[C,H]=L.useState(null),[z,K]=L.useState(!1),[Y,W]=L.useState(!1),[Z,ne]=L.useState({password:"",confirmPassword:""}),[ee,X]=L.useState({name:"",nameEn:"",username:"",email:"",phone:"",role:"admin",branch:"",department:"",password:"",isActive:!0}),[I,U]=L.useState({}),[G,V]=L.useState({}),Q=L.useCallback(async()=>{if(!t||t.role!=="admin"){_(n.unauthorized),R(!1),ke.error(n.unauthorized,{position:r?"top-right":"top-left"});return}R(!0);try{const[Ne,Ge,pt]=await Promise.all([f1.getAll({role:p==="all"?void 0:p,page:x,limit:10}),Ri.getAll(),Nf.getAll()]),it=Array.isArray(Ne.data)?Ne.data:Ne;i(it.map(jt=>({...jt,password:"********"}))),o(Array.isArray(Ge.data)?Ge.data:Ge),c(Array.isArray(pt.data)?pt.data:pt),v(Ne.totalPages||Math.ceil(it.length/10)),_("")}catch(Ne){_(Ne.message||n.fetchError),ke.error(n.fetchError,{position:r?"top-right":"top-left"})}finally{R(!1)}},[t,p,x,n,r]);L.useEffect(()=>{Q()},[Q]);const ge=s.filter(Ne=>{var Ge,pt,it;return Ne&&(((Ge=r?Ne.name:Ne.nameEn||Ne.name)==null?void 0:Ge.toLowerCase().includes(u.toLowerCase()))||((pt=Ne.username)==null?void 0:pt.toLowerCase().includes(u.toLowerCase()))||((it=Ne.email)==null?void 0:it.toLowerCase().includes(u.toLowerCase())))}),Se=()=>{const Ne={};return ee.name||(Ne.name=n.nameRequired),ee.nameEn||(Ne.nameEn=n.nameEnRequired),ee.username||(Ne.username=n.usernameRequired),!P&&!ee.password&&(Ne.password=n.passwordRequired),ee.role==="branch"&&!ee.branch&&(Ne.branch=n.branchRequired),ee.role==="chef"&&!ee.department&&(Ne.department=n.departmentRequired),U(Ne),Object.keys(Ne).length===0},pe=()=>{X({name:"",nameEn:"",username:"",email:"",phone:"",role:"admin",branch:"",department:"",password:"",isActive:!0}),F(!1),H(null),j(!0),U({}),_("")},oe=Ne=>{var Ge,pt;X({name:Ne.name,nameEn:Ne.nameEn||"",username:Ne.username,email:Ne.email||"",phone:Ne.phone||"",role:Ne.role,branch:((Ge=Ne.branch)==null?void 0:Ge._id)||"",department:((pt=Ne.department)==null?void 0:pt._id)||"",password:"",isActive:Ne.isActive}),F(!0),H(Ne),j(!0),U({}),_("")},De=Ne=>{H(Ne),k(!0)},$e=Ne=>{H(Ne),ne({password:"",confirmPassword:""}),K(!0),_("")},Ze=Ne=>{H(Ne),W(!0),_("")},Ce=async Ne=>{var Ge,pt;if(Ne.preventDefault(),!Se()){ke.error(n.requiredFields,{position:r?"top-right":"top-left"});return}try{const it={name:ee.name.trim(),nameEn:ee.nameEn.trim(),username:ee.username.trim(),email:ee.email.trim()||void 0,phone:ee.phone.trim()||void 0,role:ee.role,branch:ee.role==="branch"?ee.branch:void 0,department:ee.role==="chef"?ee.department:void 0,isActive:ee.isActive,...P?{}:{password:ee.password.trim()}};if(P&&C)await f1.update(C._id,it),i(s.map(jt=>jt._id===C._id?{...jt,...it}:jt)),ke.success(n.updated,{position:r?"top-right":"top-left"});else{const jt=await f1.create(it);i([...s,{...jt,password:"********"}]),ke.success(n.added,{position:r?"top-right":"top-left"})}j(!1),_(""),Q()}catch(it){let jt=P?n.updateError:n.createError;if((pt=(Ge=it.response)==null?void 0:Ge.data)!=null&&pt.message){const Dt=it.response.data.message;jt=Dt==="Username already exists"?n.usernameExists:Dt.includes("")||Dt.includes("email")?n.emailExists:Dt}_(jt),ke.error(jt,{position:r?"top-right":"top-left"})}},se=async Ne=>{if(Ne.preventDefault(),!Z.password||!Z.confirmPassword){_(n.passwordRequired),ke.error(n.passwordRequired,{position:r?"top-right":"top-left"});return}if(Z.password!==Z.confirmPassword){_(n.passwordMismatch),ke.error(n.passwordMismatch,{position:r?"top-right":"top-left"});return}if(Z.password.length<6){_(n.passwordTooShort),ke.error(n.passwordTooShort,{position:r?"top-right":"top-left"});return}try{await f1.resetPassword(C._id,Z.password),i(s.map(Ge=>Ge._id===C._id?{...Ge,password:"********"}:Ge)),K(!1),ne({password:"",confirmPassword:""}),ke.success(n.passwordResetSuccess,{position:r?"top-right":"top-left"})}catch(Ge){const pt=Ge.message||n.passwordResetError;_(pt),ke.error(pt,{position:r?"top-right":"top-left"})}},yt=async()=>{if(C)try{await f1.delete(C._id),i(s.filter(Ne=>Ne._id!==C._id)),ke.success(n.deleted,{position:r?"top-right":"top-left"}),W(!1),_("")}catch(Ne){const Ge=Ne.message||n.deleteError;_(Ge),ke.error(Ge,{position:r?"top-right":"top-left"})}},Ke=Ne=>{V(Ge=>({...Ge,[Ne]:!Ge[Ne]}))};return T?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:d.jsx(wl,{size:"lg"})}):d.jsxs("div",{className:`mx-auto p-4 sm:p-6 min-h-screen bg-gray-100 ${r?"rtl font-arabic":"ltr font-sans"}`,children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-amber-900 flex items-center justify-center sm:justify-start gap-3",children:[d.jsx(im,{className:"w-8 h-8 text-amber-600"}),n.manage]}),(t==null?void 0:t.role)==="admin"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:pe,className:"bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.add})]}),d.jsx(Bn,{children:S&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-8 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 shadow-sm",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:S})]})}),d.jsxs(tr,{className:"p-6 mb-8 bg-white rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(vl,{className:`absolute ${r?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-amber-500 w-5 h-5`}),d.jsx(Mt,{value:u,onChange:Ne=>h(Ne),placeholder:n.searchPlaceholder,className:`pl-10 pr-4 py-2 border border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition-colors bg-amber-50 ${r?"text-right":"text-left"}`,"aria-label":n.searchPlaceholder})]}),d.jsx("div",{className:"relative flex-1",children:d.jsx(es,{label:n.role,options:[{value:"all",label:n.allRoles},{value:"admin",label:n.admin},{value:"branch",label:n.branch},{value:"chef",label:n.chef},{value:"production",label:n.production}],value:p,onChange:Ne=>m(Ne),className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition-colors bg-amber-50","aria-label":n.role})})]}),b>1&&d.jsxs("div",{className:"flex justify-center mt-6",children:[d.jsx(dt,{variant:"outline",onClick:()=>y(Ne=>Math.max(Ne-1,1)),disabled:x===1,className:"mx-2 px-4 py-2 bg-amber-100 text-amber-800 disabled:opacity-50",children:n.previous}),d.jsxs("span",{className:"px-4 py-2 text-amber-900",children:[n.page," ",x," ",n.of," ",b]}),d.jsx(dt,{variant:"outline",onClick:()=>y(Ne=>Math.min(Ne+1,b)),disabled:x===b,className:"mx-2 px-4 py-2 bg-amber-100 text-amber-800 disabled:opacity-50",children:n.next})]})]}),d.jsx(wt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:ge.length===0?d.jsxs(tr,{className:"p-8 text-center bg-white rounded-lg shadow-md col-span-full",children:[d.jsx(im,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-amber-900",children:n.noUsers}),d.jsx("p",{className:"text-gray-600 mt-2",children:u||p!=="all"?n.noMatch:n.empty}),(t==null?void 0:t.role)==="admin"&&!u&&p==="all"&&d.jsx(dt,{variant:"primary",icon:ml,onClick:pe,className:"mt-6 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.addFirst})]}):ge.map(Ne=>{var Ge;return d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsx(tr,{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer",onClick:()=>De(Ne),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"font-semibold text-lg text-amber-900 truncate",children:r?Ne.name:Ne.nameEn||Ne.name}),d.jsx(im,{className:"w-6 h-6 text-amber-600"})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.username,":"]})," ",d.jsx("span",{className:"truncate",children:Ne.username})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.email,":"]})," ",d.jsx("span",{className:"truncate",children:Ne.email||"-"})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.phone,":"]})," ",d.jsx("span",{children:Ne.phone||"-"})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.role,":"]})," ",d.jsx("span",{children:n[Ne.role]})]}),Ne.role==="branch"&&Ne.branch&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.branch,":"]})," ",d.jsx("span",{children:r?Ne.branch.name:Ne.branch.nameEn||Ne.branch.name})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.address,":"]})," ",d.jsx("span",{children:Ne.branch.address})]}),d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.city,":"]})," ",d.jsx("span",{children:r?Ne.branch.city:Ne.branch.cityEn||Ne.branch.city})]})]}),Ne.role==="chef"&&d.jsxs("p",{className:"text-gray-600 flex",children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.department,":"]})," ",d.jsx("span",{children:((Ge=Ne.department)==null?void 0:Ge.name)||"-"})]}),d.jsxs("p",{className:`flex ${Ne.isActive?"text-green-600":"text-red-600"}`,children:[d.jsxs("span",{className:"w-24 font-medium",children:[n.status,":"]})," ",d.jsx("span",{children:Ne.isActive?n.active:n.inactive})]})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(dt,{variant:"outline",icon:rp,onClick:pt=>{pt.stopPropagation(),oe(Ne)},className:"text-amber-600 hover:text-amber-800 border-amber-600",children:n.edit}),d.jsx(dt,{variant:"outline",icon:q0,onClick:pt=>{pt.stopPropagation(),$e(Ne)},className:"text-blue-500 hover:text-blue-700 border-blue-500",children:n.resetPassword}),d.jsx(dt,{variant:"outline",icon:ch,onClick:pt=>{pt.stopPropagation(),Ze(Ne)},className:"text-red-500 hover:text-red-700 border-red-500",children:n.delete})]})]})})},Ne._id)})}),d.jsx(Fs,{isOpen:B,onClose:()=>j(!1),title:P?n.edit:n.add,size:"lg",children:d.jsxs("form",{onSubmit:Ce,className:"space-y-6",dir:r?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx(Mt,{label:n.name,value:ee.name,onChange:Ne=>X({...ee,name:Ne}),placeholder:n.namePlaceholder,required:!0,error:I.name,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:n.nameEn,value:ee.nameEn,onChange:Ne=>X({...ee,nameEn:Ne}),placeholder:n.nameEnPlaceholder,required:!0,error:I.nameEn,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:n.username,value:ee.username,onChange:Ne=>X({...ee,username:Ne}),placeholder:n.usernamePlaceholder,required:!0,error:I.username,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:n.email,value:ee.email,onChange:Ne=>X({...ee,email:Ne}),placeholder:n.emailPlaceholder,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:n.phone,value:ee.phone,onChange:Ne=>X({...ee,phone:Ne}),placeholder:n.phonePlaceholder,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(es,{label:n.role,options:[{value:"admin",label:n.admin},{value:"branch",label:n.branch},{value:"chef",label:n.chef},{value:"production",label:n.production}],value:ee.role,onChange:Ne=>X({...ee,role:Ne,branch:Ne==="branch"?ee.branch:"",department:Ne==="chef"?ee.department:""}),className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),ee.role==="branch"&&d.jsx(es,{label:n.branch,options:a.map(Ne=>({value:Ne._id,label:r?Ne.name:Ne.nameEn||Ne.name})),value:ee.branch,onChange:Ne=>X({...ee,branch:Ne}),placeholder:n.branchPlaceholder,required:!0,error:I.branch,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),ee.role==="chef"&&d.jsx(es,{label:n.department,options:l.map(Ne=>({value:Ne._id,label:Ne.name})),value:ee.department,onChange:Ne=>X({...ee,department:Ne}),placeholder:n.departmentPlaceholder,required:!0,error:I.department,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(es,{label:n.status,options:[{value:!0,label:n.active},{value:!1,label:n.inactive}],value:ee.isActive,onChange:Ne=>X({...ee,isActive:Ne==="true"}),className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),!P&&d.jsx(Mt,{label:n.password,value:ee.password,onChange:Ne=>X({...ee,password:Ne}),placeholder:n.passwordPlaceholder,type:G.new?"text":"password",required:!0,error:I.password,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors",icon:G.new?ic:Po,onIconClick:()=>V(Ne=>({...Ne,new:!Ne.new}))})]})]}),d.jsx(Bn,{children:S&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:S})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:P?n.update:n.add}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>j(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.cancel})]})]})}),d.jsx(Fs,{isOpen:N,onClose:()=>k(!1),title:n.profile,size:"lg",children:C&&d.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(im,{className:"w-8 h-8 text-amber-600"}),d.jsx("h3",{className:"text-xl font-semibold text-amber-900",children:r?C.name:C.nameEn||C.name})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.username}),d.jsx("p",{className:"text-gray-800",children:C.username})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.email}),d.jsx("p",{className:"text-gray-800",children:C.email||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.phone}),d.jsx("p",{className:"text-gray-800",children:C.phone||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.role}),d.jsx("p",{className:"text-gray-800",children:n[C.role]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.status}),d.jsx("p",{className:`font-medium ${C.isActive?"text-green-600":"text-red-600"}`,children:C.isActive?n.active:n.inactive})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.createdAt}),d.jsx("p",{className:"text-gray-800",children:new Date(C.createdAt).toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.updatedAt}),d.jsx("p",{className:"text-gray-800",children:new Date(C.updatedAt).toLocaleString()})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.currentPassword}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-gray-800",children:G[C._id]?C.password:"********"}),d.jsx("button",{type:"button",onClick:()=>Ke(C._id),className:"text-gray-500 hover:text-gray-700",children:G[C._id]?d.jsx(ic,{className:"w-5 h-5"}):d.jsx(Po,{className:"w-5 h-5"})})]})]})]}),C.role==="branch"&&C.branch&&d.jsxs("div",{className:"border-t border-amber-100 pt-4",children:[d.jsxs("h4",{className:"text-lg font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[d.jsx(C0,{className:"w-6 h-6 text-amber-600"}),n.branchDetails]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.branch}),d.jsx("p",{className:"text-gray-800",children:r?C.branch.name:C.branch.nameEn||C.branch.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.address}),d.jsx("p",{className:"text-gray-800",children:C.branch.address})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.city}),d.jsx("p",{className:"text-gray-800",children:r?C.branch.city:C.branch.cityEn||C.branch.city})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.phone}),d.jsx("p",{className:"text-gray-800",children:C.branch.phone||"-"})]})]})]}),C.role==="chef"&&C.department&&d.jsxs("div",{className:"border-t border-amber-100 pt-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-amber-900 mb-3",children:n.department}),d.jsx("p",{className:"text-gray-800",children:C.department.name})]}),d.jsx(dt,{variant:"secondary",onClick:()=>k(!1),className:"mt-6 w-full bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.cancel})]})}),d.jsx(Fs,{isOpen:z,onClose:()=>K(!1),title:n.resetPassword,size:"sm",children:d.jsxs("form",{onSubmit:se,className:"space-y-6",dir:r?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-6",children:[d.jsx(Mt,{label:n.newPassword,value:Z.password,onChange:Ne=>ne({...Z,password:Ne}),placeholder:n.newPasswordPlaceholder,type:G.newPassword?"text":"password",required:!0,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors",icon:G.newPassword?ic:Po,onIconClick:()=>V(Ne=>({...Ne,newPassword:!Ne.newPassword}))}),d.jsx(Mt,{label:n.confirmPassword,value:Z.confirmPassword,onChange:Ne=>ne({...Z,confirmPassword:Ne}),placeholder:n.confirmPasswordPlaceholder,type:G.confirmPassword?"text":"password",required:!0,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors",icon:G.confirmPassword?ic:Po,onIconClick:()=>V(Ne=>({...Ne,confirmPassword:!Ne.confirmPassword}))})]}),d.jsx(Bn,{children:S&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:S})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"submit",variant:"primary",className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.reset}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>K(!1),className:"flex-1 bg-gray-200 hover:bg-amber-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.cancel})]})]})}),d.jsx(Fs,{isOpen:Y,onClose:()=>W(!1),title:n.confirmDelete,size:"sm",children:d.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[d.jsx("p",{className:"text-gray-600",children:n.deleteWarning}),d.jsx(Bn,{children:S&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:S})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"button",variant:"danger",onClick:yt,className:"flex-1 bg-red-600 hover:bg-red-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.delete}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>W(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:n.cancel})]})]})})]})};var Qxe={};const Zxe=({isRtl:e})=>d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-4 mb-4 bg-white shadow-md rounded-lg border border-gray-200",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:`flex items-center ${e?"justify-between flex-row-reverse":"justify-between"}`,children:[d.jsx("div",{className:"h-6 w-1/2 bg-gray-200 rounded animate-pulse"}),d.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded-full animate-pulse"})]}),d.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded animate-pulse"}),d.jsx("div",{className:"h-4 w-1/4 bg-gray-200 rounded animate-pulse"}),d.jsx("div",{className:"h-4 w-1/4 bg-gray-200 rounded animate-pulse"})]})}),Jxe=()=>{const{language:e}=Yn(),t=e==="ar",{user:r}=ps(),[n,s]=L.useState([]),[i,a]=L.useState(""),[o,l]=L.useState(""),[c,u]=L.useState(!0),[h,p]=L.useState(""),m=L.useMemo(()=>{const _=Qxe.REACT_APP_API_URL||"https://eljoodia-server-production.up.railway.app";try{return T0(_,{auth:{token:localStorage.getItem("token")},transports:["websocket"],path:"/socket.io",autoConnect:!0})}catch(T){return console.error("Socket initialization error:",T),null}},[]),x=L.useCallback(async()=>{if(!(r!=null&&r.branchId)){p(t?"   ":"No branch associated"),u(!1);return}u(!0);try{const _=await uf.getByBranch(r.branchId),R=(Array.isArray(_)?_:_.data||[]).map(B=>({...B,status:B.currentStock<=B.minStockLevel?"low":B.currentStock>=B.maxStockLevel?"full":"normal"}));s(R),p("")}catch(_){p(_.message||(t?"   ":"Error fetching inventory"))}finally{u(!1)}},[r,t]);L.useEffect(()=>{x()},[x]),L.useEffect(()=>{if(m)return m.on("connect",()=>console.log("Socket connected:",m.id)),m.on("connect_error",_=>console.error("Socket connect error:",_.message)),m.on("inventoryUpdated",({branchId:_})=>{_===(r==null?void 0:r.branchId)&&x()}),()=>{m.off("connect"),m.off("connect_error"),m.off("inventoryUpdated")}},[m,r,x]);const y=L.useCallback(hc.debounce(_=>{a(_.trim())},300),[]),b=L.useCallback(_=>{y(_.target.value)},[y]),v=L.useMemo(()=>[{value:"",label:t?" ":"All Statuses"},{value:"low",label:t?"":"Low Stock"},{value:"normal",label:t?"":"Normal"},{value:"full",label:t?"":"Full"}],[t]),S=L.useMemo(()=>n.filter(_=>(!o||_.status===o)&&(_.product.name.toLowerCase().includes(i.toLowerCase())||_.product.code.toLowerCase().includes(i.toLowerCase())||_.product.name.includes(i)||_.product.code.includes(i))),[n,i,o]);return d.jsxs("div",{className:"container mx-auto px-4 py-6 min-h-screen bg-gradient-to-br from-amber-50 to-teal-50",dir:t?"rtl":"ltr",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[d.jsx(jo,{className:"w-8 h-8 text-amber-600"}),t?"":"Inventory"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:t?"  ":"Manage branch inventory"})]}),h&&d.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 animate-fade-in",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:h})]}),d.jsx(tr,{className:"p-6 mb-6 bg-white rounded-xl shadow-md",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(vl,{className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 ${t?"right-3":"left-3"}`}),d.jsx(Mt,{placeholder:t?"     ...":"Search by product name or code...",onChange:b,className:`pl-10 pr-4 py-2 border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 ${t?"pr-10 pl-4":""}`,"aria-label":t?"     ":"Search by product name or code"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t?"  ":"Filter by Status"}),d.jsx("select",{value:o,onChange:_=>l(_.target.value),className:"w-full rounded-lg border-gray-200 focus:ring-amber-500 focus:border-amber-500 text-sm shadow-sm py-2 px-3",children:v.map(_=>d.jsx("option",{value:_.value,children:_.label},_.value))})]})]})}),c?d.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-4",children:Array(6).fill(null).map((_,T)=>d.jsx(Zxe,{isRtl:t},T))}):S.length===0?d.jsxs(tr,{className:"p-8 text-center bg-white rounded-xl shadow-md",children:[d.jsx(jo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:t?"    ":"No items in inventory"})]}):d.jsx("div",{className:"space-y-4",children:d.jsx(Bn,{children:S.map(_=>d.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d.jsx(tr,{className:"p-5 bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow duration-200",children:d.jsx("div",{className:"flex items-center justify-between gap-4",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:_.product.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[t?"":"Code",": ",_.product.code]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[t?" ":"Current Stock",": ",_.currentStock]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[t?"  ":"Min Stock Level",": ",_.minStockLevel]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[t?"  ":"Max Stock Level",": ",_.maxStockLevel]}),d.jsx("p",{className:`text-sm font-medium ${_.status==="low"?"text-red-600":_.status==="full"?"text-yellow-600":"text-green-600"}`,children:t?_.status==="low"?"":_.status==="full"?"":"":_.status==="low"?"Low Stock":_.status==="full"?"Full":"Normal"})]})})})},_._id))})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yx(e){return e+.5|0}const Of=(e,t,r)=>Math.max(Math.min(e,r),t);function F1(e){return Of(Yx(e*2.55),0,255)}function Gf(e){return Of(Yx(e*255),0,255)}function Hu(e){return Of(Yx(e/2.55)/100,0,1)}function V8(e){return Of(Yx(e*100),0,100)}const Qo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},OA=[..."0123456789ABCDEF"],eve=e=>OA[e&15],tve=e=>OA[(e&240)>>4]+OA[e&15],k2=e=>(e&240)>>4===(e&15),rve=e=>k2(e.r)&&k2(e.g)&&k2(e.b)&&k2(e.a);function nve(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Qo[e[1]]*17,g:255&Qo[e[2]]*17,b:255&Qo[e[3]]*17,a:t===5?Qo[e[4]]*17:255}:(t===7||t===9)&&(r={r:Qo[e[1]]<<4|Qo[e[2]],g:Qo[e[3]]<<4|Qo[e[4]],b:Qo[e[5]]<<4|Qo[e[6]],a:t===9?Qo[e[7]]<<4|Qo[e[8]]:255})),r}const sve=(e,t)=>e<255?t(e):"";function ive(e){var t=rve(e)?eve:tve;return e?"#"+t(e.r)+t(e.g)+t(e.b)+sve(e.a,t):void 0}const ave=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GU(e,t,r){const n=t*Math.min(r,1-r),s=(i,a=(i+e/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function ove(e,t,r){const n=(s,i=(s+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function lve(e,t,r){const n=GU(e,1,.5);let s;for(t+r>1&&(s=1/(t+r),t*=s,r*=s),s=0;s<3;s++)n[s]*=1-t-r,n[s]+=t;return n}function cve(e,t,r,n,s){return e===s?(t-r)/n+(t<r?6:0):t===s?(r-e)/n+2:(e-t)/n+4}function OT(e){const r=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),o=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=o>.5?u/(2-i-a):u/(i+a),l=cve(r,n,s,u,i),l=l*60+.5),[l|0,c||0,o]}function RT(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Gf)}function DT(e,t,r){return RT(GU,e,t,r)}function uve(e,t,r){return RT(lve,e,t,r)}function dve(e,t,r){return RT(ove,e,t,r)}function KU(e){return(e%360+360)%360}function fve(e){const t=ave.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?F1(+t[5]):Gf(+t[5]));const s=KU(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=uve(s,i,a):t[1]==="hsv"?n=dve(s,i,a):n=DT(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function hve(e,t){var r=OT(e);r[0]=KU(r[0]+t),r=DT(r),e.r=r[0],e.g=r[1],e.b=r[2]}function pve(e){if(!e)return;const t=OT(e),r=t[0],n=V8(t[1]),s=V8(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${s}%, ${Hu(e.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const G8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},K8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mve(){const e={},t=Object.keys(K8),r=Object.keys(G8);let n,s,i,a,o;for(n=0;n<t.length;n++){for(a=o=t[n],s=0;s<r.length;s++)i=r[s],o=o.replace(i,G8[i]);i=parseInt(K8[a],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let C2;function gve(e){C2||(C2=mve(),C2.transparent=[0,0,0,0]);const t=C2[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const yve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xve(e){const t=yve.exec(e);let r=255,n,s,i;if(t){if(t[7]!==n){const a=+t[7];r=t[8]?F1(a):Of(a*255,0,255)}return n=+t[1],s=+t[3],i=+t[5],n=255&(t[2]?F1(n):Of(n,0,255)),s=255&(t[4]?F1(s):Of(s,0,255)),i=255&(t[6]?F1(i):Of(i,0,255)),{r:n,g:s,b:i,a:r}}}function vve(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Hu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const x3=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Up=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function wve(e,t,r){const n=Up(Hu(e.r)),s=Up(Hu(e.g)),i=Up(Hu(e.b));return{r:Gf(x3(n+r*(Up(Hu(t.r))-n))),g:Gf(x3(s+r*(Up(Hu(t.g))-s))),b:Gf(x3(i+r*(Up(Hu(t.b))-i))),a:e.a+r*(t.a-e.a)}}function I2(e,t,r){if(e){let n=OT(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=DT(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function YU(e,t){return e&&Object.assign(t||{},e)}function Y8(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Gf(e[3]))):(t=YU(e,{r:0,g:0,b:0,a:1}),t.a=Gf(t.a)),t}function bve(e){return e.charAt(0)==="r"?xve(e):fve(e)}class lx{constructor(t){if(t instanceof lx)return t;const r=typeof t;let n;r==="object"?n=Y8(t):r==="string"&&(n=nve(t)||gve(t)||bve(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=YU(this._rgb);return t&&(t.a=Hu(t.a)),t}set rgb(t){this._rgb=Y8(t)}rgbString(){return this._valid?vve(this._rgb):void 0}hexString(){return this._valid?ive(this._rgb):void 0}hslString(){return this._valid?pve(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,s=t.rgb;let i;const a=r===i?.5:r,o=2*a-1,l=n.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=wve(this._rgb,t._rgb,r)),this}clone(){return new lx(this.rgb)}alpha(t){return this._rgb.a=Gf(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=Yx(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return I2(this._rgb,2,t),this}darken(t){return I2(this._rgb,2,-t),this}saturate(t){return I2(this._rgb,1,t),this}desaturate(t){return I2(this._rgb,1,-t),this}rotate(t){return hve(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ju(){}const _ve=(()=>{let e=0;return()=>e++})();function vn(e){return e==null}function ai(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ln(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function yl(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Wc(e,t){return yl(e)?e:t}function Ur(e,t){return typeof e>"u"?t:e}const Sve=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,XU=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Hn(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function En(e,t,r,n){let s,i,a;if(ai(e))for(i=e.length,s=0;s<i;s++)t.call(r,e[s],s);else if(ln(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(r,e[a[s]],a[s])}function Rb(e,t){let r,n,s,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(s=e[r],i=t[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Db(e){if(ai(e))return e.map(Db);if(ln(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let s=0;for(;s<n;++s)t[r[s]]=Db(e[r[s]]);return t}return e}function QU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Ave(e,t,r,n){if(!QU(e))return;const s=t[e],i=r[e];ln(s)&&ln(i)?cx(s,i,n):t[e]=Db(i)}function cx(e,t,r){const n=ai(t)?t:[t],s=n.length;if(!ln(e))return e;r=r||{};const i=r.merger||Ave;let a;for(let o=0;o<s;++o){if(a=n[o],!ln(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],e,a,r)}return e}function gy(e,t){return cx(e,t,{merger:Eve})}function Eve(e,t,r){if(!QU(e))return;const n=t[e],s=r[e];ln(n)&&ln(s)?gy(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Db(s))}const X8={"":e=>e,x:e=>e.x,y:e=>e.y};function Nve(e){const t=e.split("."),r=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Tve(e){const t=Nve(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function X0(e,t){return(X8[t]||(X8[t]=Tve(t)))(e)}function LT(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ux=e=>typeof e<"u",sh=e=>typeof e=="function",Q8=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function kve(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Tn=Math.PI,Ns=2*Tn,Cve=Ns+Tn,Lb=Number.POSITIVE_INFINITY,Ive=Tn/180,li=Tn/2,Gh=Tn/4,Z8=Tn*2/3,RA=Math.log10,pu=Math.sign;function yy(e,t,r){return Math.abs(e-t)<r}function J8(e){const t=Math.round(e);e=yy(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(RA(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Pve(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((s,i)=>s-i).pop(),t}function Ove(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function dx(e){return!Ove(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Rve(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function Dve(e,t,r){let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Ju(e){return e*(Tn/180)}function Lve(e){return e*(180/Tn)}function eR(e){if(!yl(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function ZU(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Tn&&(i+=Ns),{angle:i,distance:s}}function DA(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jve(e,t){return(e-t+Cve)%Ns-Tn}function ec(e){return(e%Ns+Ns)%Ns}function fx(e,t,r,n){const s=ec(e),i=ec(t),a=ec(r),o=ec(i-s),l=ec(a-s),c=ec(s-i),u=ec(s-a);return s===i||s===a||n&&i===a||o>l&&c<u}function ra(e,t,r){return Math.max(t,Math.min(r,e))}function Fve(e){return ra(e,-32768,32767)}function Rf(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function jT(e,t,r){r=r||(a=>e[a]<t);let n=e.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const p0=(e,t,r,n)=>jT(e,r,n?s=>{const i=e[s][t];return i<r||i===r&&e[s+1][t]===r}:s=>e[s][t]<r),Mve=(e,t,r)=>jT(e,r,n=>e[n][t]>=r);function Bve(e,t,r){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>r;)s--;return n>0||s<e.length?e.slice(n,s):e}const JU=["push","pop","shift","splice","unshift"];function Uve(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JU.forEach(r=>{const n="_onData"+LT(r),s=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),a}})})}function tR(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(JU.forEach(i=>{delete e[i]}),delete e._chartjs)}function e$(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const t$=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function r$(e,t){let r=[],n=!1;return function(...s){r=s,n||(n=!0,t$.call(window,()=>{n=!1,e.apply(t,r)}))}}function $ve(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const FT=e=>e==="start"?"left":e==="end"?"right":"center",Zi=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,zve=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function qve(e,t,r){const n=t.length;let s=0,i=n;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:h,max:p,minDefined:m,maxDefined:x}=a.getUserBounds();if(m){if(s=Math.min(p0(l,u,h).lo,r?n:p0(t,u,a.getPixelForValue(h)).lo),c){const y=l.slice(0,s+1).reverse().findIndex(b=>!vn(b[o.axis]));s-=Math.max(0,y)}s=ra(s,0,n-1)}if(x){let y=Math.max(p0(l,a.axis,p,!0).hi+1,r?0:p0(t,u,a.getPixelForValue(p),!0).hi+1);if(c){const b=l.slice(y-1).findIndex(v=>!vn(v[o.axis]));y+=Math.max(0,b)}i=ra(y,s,n)-s}else i=n-s}return{start:s,count:i}}function Hve(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=s,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const P2=e=>e===0||e===1,rR=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ns/r)),nR=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ns/r)+1,xy={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*li)+1,easeOutSine:e=>Math.sin(e*li),easeInOutSine:e=>-.5*(Math.cos(Tn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>P2(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>P2(e)?e:rR(e,.075,.3),easeOutElastic:e=>P2(e)?e:nR(e,.075,.3),easeInOutElastic(e){return P2(e)?e:e<.5?.5*rR(e*2,.1125,.45):.5+.5*nR(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-xy.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?xy.easeInBounce(e*2)*.5:xy.easeOutBounce(e*2-1)*.5+.5};function MT(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function sR(e){return MT(e)?e:new lx(e)}function v3(e){return MT(e)?e:new lx(e).saturate(.5).darken(.1).hexString()}const Wve=["x","y","borderWidth","radius","tension"],Vve=["color","borderColor","backgroundColor"];function Gve(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Vve},numbers:{type:"number",properties:Wve}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Kve(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iR=new Map;function Yve(e,t){t=t||{};const r=e+JSON.stringify(t);let n=iR.get(r);return n||(n=new Intl.NumberFormat(e,t),iR.set(r,n)),n}function BT(e,t,r){return Yve(t,r).format(e)}const n$={values(e){return ai(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let s,i=e;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=Xve(e,r)}const a=RA(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),BT(e,n,l)},logarithmic(e,t,r){if(e===0)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(RA(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?n$.numeric.call(this,e,t,r):""}};function Xve(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var s$={formatters:n$};function Qve(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:s$.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Q0=Object.create(null),LA=Object.create(null);function vy(e,t){if(!t)return e;const r=t.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function w3(e,t,r){return typeof t=="string"?cx(vy(e,t),r):cx(vy(e,""),t)}class Zve{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>v3(s.backgroundColor),this.hoverBorderColor=(n,s)=>v3(s.borderColor),this.hoverColor=(n,s)=>v3(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return w3(this,t,r)}get(t){return vy(this,t)}describe(t,r){return w3(LA,t,r)}override(t,r){return w3(Q0,t,r)}route(t,r,n,s){const i=vy(this,t),a=vy(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[s];return ln(l)?Object.assign({},c,l):Ur(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(r=>r(this))}}var Ms=new Zve({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gve,Kve,Qve]);function Jve(e){return!e||vn(e.size)||vn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function aR(e,t,r,n,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Kh(e,t,r){const n=e.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((t-s)*n)/n+s}function oR(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function jA(e,t,r,n){i$(e,t,r,n,null)}function i$(e,t,r,n,s){let i,a,o,l,c,u,h,p;const m=t.pointStyle,x=t.rotation,y=t.radius;let b=(x||0)*Ive;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(b),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),m){default:s?e.ellipse(r,n,s/2,y,0,0,Ns):e.arc(r,n,y,0,Ns),e.closePath();break;case"triangle":u=s?s/2:y,e.moveTo(r+Math.sin(b)*u,n-Math.cos(b)*y),b+=Z8,e.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*y),b+=Z8,e.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*y),e.closePath();break;case"rectRounded":c=y*.516,l=y-c,a=Math.cos(b+Gh)*l,h=Math.cos(b+Gh)*(s?s/2-c:l),o=Math.sin(b+Gh)*l,p=Math.sin(b+Gh)*(s?s/2-c:l),e.arc(r-h,n-o,c,b-Tn,b-li),e.arc(r+p,n-a,c,b-li,b),e.arc(r+h,n+o,c,b,b+li),e.arc(r-p,n+a,c,b+li,b+Tn),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*y,u=s?s/2:l,e.rect(r-u,n-l,2*u,2*l);break}b+=Gh;case"rectRot":h=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,p=Math.sin(b)*(s?s/2:y),e.moveTo(r-h,n-o),e.lineTo(r+p,n-a),e.lineTo(r+h,n+o),e.lineTo(r-p,n+a),e.closePath();break;case"crossRot":b+=Gh;case"cross":h=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,p=Math.sin(b)*(s?s/2:y),e.moveTo(r-h,n-o),e.lineTo(r+h,n+o),e.moveTo(r+p,n-a),e.lineTo(r-p,n+a);break;case"star":h=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,p=Math.sin(b)*(s?s/2:y),e.moveTo(r-h,n-o),e.lineTo(r+h,n+o),e.moveTo(r+p,n-a),e.lineTo(r-p,n+a),b+=Gh,h=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,p=Math.sin(b)*(s?s/2:y),e.moveTo(r-h,n-o),e.lineTo(r+h,n+o),e.moveTo(r+p,n-a),e.lineTo(r-p,n+a);break;case"line":a=s?s/2:Math.cos(b)*y,o=Math.sin(b)*y,e.moveTo(r-a,n-o),e.lineTo(r+a,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(b)*(s?s/2:y),n+Math.sin(b)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function hx(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function UT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $T(e){e.restore()}function e2e(e,t,r,n,s){if(!t)return e.lineTo(r.x,r.y);if(s==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else s==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function t2e(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function r2e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function n2e(e,t,r,n,s){if(s.strikethrough||s.underline){const i=e.measureText(n),a=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function s2e(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function px(e,t,r,n,s,i={}){const a=ai(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,r2e(e,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&s2e(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),vn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,r,n,i.maxWidth)),e.fillText(c,r,n,i.maxWidth),n2e(e,r,n,c,i),n+=Number(s.lineHeight);e.restore()}function jb(e,t){const{x:r,y:n,w:s,h:i,radius:a}=t;e.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Tn,Tn,!0),e.lineTo(r,n+i-a.bottomLeft),e.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,Tn,li,!0),e.lineTo(r+s-a.bottomRight,n+i),e.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,li,0,!0),e.lineTo(r+s,n+a.topRight),e.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-li,!0),e.lineTo(r+a.topLeft,n)}const i2e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o2e(e,t){const r=(""+e).match(i2e);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const l2e=e=>+e||0;function zT(e,t){const r={},n=ln(t),s=n?Object.keys(t):t,i=ln(e)?n?a=>Ur(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)r[a]=l2e(i(a));return r}function a$(e){return zT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pm(e){return zT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xl(e){const t=a$(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function na(e,t){e=e||{},t=t||Ms.font;let r=Ur(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=Ur(e.style,t.style);n&&!(""+n).match(a2e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Ur(e.family,t.family),lineHeight:o2e(Ur(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:Ur(e.weight,t.weight),string:""};return s.string=Jve(s),s}function O2(e,t,r,n){let s,i,a;for(s=0,i=e.length;s<i;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function c2e(e,t,r){const{min:n,max:s}=e,i=XU(t,(s-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function up(e,t){return Object.assign(Object.create(e),t)}function qT(e,t=[""],r,n,s=()=>e[0]){const i=r||e;typeof n>"u"&&(n=u$("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:s,override:o=>qT([o,...e],t,i,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return l$(o,l,()=>y2e(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return cR(o).includes(l)},ownKeys(o){return cR(o)},set(o,l,c){const u=o._storage||(o._storage=s());return o[l]=u[l]=c,delete o._keys,!0}})}function og(e,t,r,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:o$(e,n),setContext:i=>og(e,i,r,n),override:i=>og(e.override(i),t,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,o){return l$(i,a,()=>d2e(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,o){return e[a]=o,delete i[a],!0}})}function o$(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:n,isScriptable:sh(r)?r:()=>r,isIndexable:sh(n)?n:()=>n}}const u2e=(e,t)=>e?e+LT(t):t,HT=(e,t)=>ln(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function l$(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function d2e(e,t,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=e;let o=n[t];return sh(o)&&a.isScriptable(t)&&(o=f2e(t,o,e,r)),ai(o)&&o.length&&(o=h2e(t,o,e,a.isIndexable)),HT(t,o)&&(o=og(o,s,i&&i[t],a)),o}function f2e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,a||n);return o.delete(e),HT(e,l)&&(l=WT(s._scopes,s,e,l)),l}function h2e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(ln(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=WT(c,s,e,u);t.push(og(h,i,a&&a[e],o))}}return t}function c$(e,t,r){return sh(e)?e(t,r):e}const p2e=(e,t)=>e===!0?t:typeof e=="string"?X0(t,e):void 0;function m2e(e,t,r,n,s){for(const i of t){const a=p2e(r,i);if(a){e.add(a);const o=c$(a._fallback,r,s);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function WT(e,t,r,n){const s=t._rootScopes,i=c$(t._fallback,r,n),a=[...e,...s],o=new Set;o.add(n);let l=lR(o,a,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=lR(o,a,i,l,n),l===null)?!1:qT(Array.from(o),[""],s,i,()=>g2e(t,r,n))}function lR(e,t,r,n,s){for(;r;)r=m2e(e,t,r,n,s);return r}function g2e(e,t,r){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return ai(s)&&ln(r)?r:s||{}}function y2e(e,t,r,n){let s;for(const i of t)if(s=u$(u2e(i,e),r),typeof s<"u")return HT(e,s)?WT(r,n,e,s):s}function u$(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function cR(e){let t=e._keys;return t||(t=e._keys=x2e(e._scopes)),t}function x2e(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}const v2e=Number.EPSILON||1e-14,lg=(e,t)=>t<e.length&&!e[t].skip&&e[t],d$=e=>e==="x"?"y":"x";function w2e(e,t,r,n){const s=e.skip?t:e,i=t,a=r.skip?t:r,o=DA(i,s),l=DA(a,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,p=n*u;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function b2e(e,t,r){const n=e.length;let s,i,a,o,l,c=lg(e,0);for(let u=0;u<n-1;++u)if(l=c,c=lg(e,u+1),!(!l||!c)){if(yy(t[u],0,v2e)){r[u]=r[u+1]=0;continue}s=r[u]/t[u],i=r[u+1]/t[u],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=s*a*t[u],r[u+1]=i*a*t[u])}}function _2e(e,t,r="x"){const n=d$(r),s=e.length;let i,a,o,l=lg(e,0);for(let c=0;c<s;++c){if(a=o,o=l,l=lg(e,c+1),!o)continue;const u=o[r],h=o[n];a&&(i=(u-a[r])/3,o[`cp1${r}`]=u-i,o[`cp1${n}`]=h-i*t[c]),l&&(i=(l[r]-u)/3,o[`cp2${r}`]=u+i,o[`cp2${n}`]=h+i*t[c])}}function S2e(e,t="x"){const r=d$(t),n=e.length,s=Array(n).fill(0),i=Array(n);let a,o,l,c=lg(e,0);for(a=0;a<n;++a)if(o=l,l=c,c=lg(e,a+1),!!l){if(c){const u=c[t]-l[t];s[a]=u!==0?(c[r]-l[r])/u:0}i[a]=o?c?pu(s[a-1])!==pu(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}b2e(e,s,i),_2e(e,i,t)}function R2(e,t,r){return Math.max(Math.min(e,r),t)}function A2e(e,t){let r,n,s,i,a,o=hx(e[0],t);for(r=0,n=e.length;r<n;++r)a=i,i=o,o=r<n-1&&hx(e[r+1],t),i&&(s=e[r],a&&(s.cp1x=R2(s.cp1x,t.left,t.right),s.cp1y=R2(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=R2(s.cp2x,t.left,t.right),s.cp2y=R2(s.cp2y,t.top,t.bottom)))}function E2e(e,t,r,n,s){let i,a,o,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")S2e(e,s);else{let c=n?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)o=e[i],l=w2e(c,o,e[Math.min(i+1,a-(n?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}t.capBezierPoints&&A2e(e,r)}function VT(){return typeof window<"u"&&typeof document<"u"}function GT(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Fb(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const F_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function N2e(e,t){return F_(e).getPropertyValue(t)}const T2e=["top","right","bottom","left"];function D0(e,t,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=T2e[s];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const k2e=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function C2e(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:s,offsetY:i}=n;let a=!1,o,l;if(k2e(s,i,e.target))o=s,l=i;else{const c=t.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function e0(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,s=F_(r),i=s.boxSizing==="border-box",a=D0(s,"padding"),o=D0(s,"border","width"),{x:l,y:c,box:u}=C2e(e,r),h=a.left+(u&&o.left),p=a.top+(u&&o.top);let{width:m,height:x}=t;return i&&(m-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-h)/m*r.width/n),y:Math.round((c-p)/x*r.height/n)}}function I2e(e,t,r){let n,s;if(t===void 0||r===void 0){const i=e&&GT(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const a=i.getBoundingClientRect(),o=F_(i),l=D0(o,"border","width"),c=D0(o,"padding");t=a.width-c.width-l.width,r=a.height-c.height-l.height,n=Fb(o.maxWidth,i,"clientWidth"),s=Fb(o.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||Lb,maxHeight:s||Lb}}const D2=e=>Math.round(e*10)/10;function P2e(e,t,r,n){const s=F_(e),i=D0(s,"margin"),a=Fb(s.maxWidth,e,"clientWidth")||Lb,o=Fb(s.maxHeight,e,"clientHeight")||Lb,l=I2e(e,t,r);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const p=D0(s,"border","width"),m=D0(s,"padding");c-=m.width+p.width,u-=m.height+p.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=D2(Math.min(c,a,l.maxWidth)),u=D2(Math.min(u,o,l.maxHeight)),c&&!u&&(u=D2(c/2)),(t!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=D2(Math.floor(u*n))),{width:c,height:u}}function uR(e,t,r){const n=t||1,s=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(e.currentDevicePixelRatio=n,a.height=s,a.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const O2e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};VT()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function dR(e,t){const r=N2e(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function t0(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function R2e(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function D2e(e,t,r,n){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=t0(e,s,r),o=t0(s,i,r),l=t0(i,t,r),c=t0(a,o,r),u=t0(o,l,r);return t0(c,u,r)}const L2e=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},j2e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Om(e,t,r){return e?L2e(t,r):j2e()}function f$(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function h$(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function p$(e){return e==="angle"?{between:fx,compare:jve,normalize:ec}:{between:Rf,compare:(t,r)=>t-r,normalize:t=>t}}function fR({start:e,end:t,count:r,loop:n,style:s}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:s}}function F2e(e,t,r){const{property:n,start:s,end:i}=r,{between:a,normalize:o}=p$(n),l=t.length;let{start:c,end:u,loop:h}=e,p,m;if(h){for(c+=l,u+=l,p=0,m=l;p<m&&a(o(t[c%l][n]),s,i);++p)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function M2e(e,t,r){if(!r)return[e];const{property:n,start:s,end:i}=r,a=t.length,{compare:o,between:l,normalize:c}=p$(n),{start:u,end:h,loop:p,style:m}=F2e(e,t,r),x=[];let y=!1,b=null,v,S,_;const T=()=>l(s,_,v)&&o(s,_)!==0,R=()=>o(i,v)===0||l(i,_,v),B=()=>y||T(),j=()=>!y||R();for(let P=u,F=u;P<=h;++P)S=t[P%a],!S.skip&&(v=c(S[n]),v!==_&&(y=l(v,s,i),b===null&&B()&&(b=o(v,s)===0?P:F),b!==null&&j()&&(x.push(fR({start:b,end:P,loop:p,count:a,style:m})),b=null),F=P,_=v));return b!==null&&x.push(fR({start:b,end:h,loop:p,count:a,style:m})),x}function B2e(e,t){const r=[],n=e.segments;for(let s=0;s<n.length;s++){const i=M2e(n[s],e.points,t);i.length&&r.push(...i)}return r}function U2e(e,t,r,n){let s=0,i=t-1;if(r&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function $2e(e,t,r,n){const s=e.length,i=[];let a=t,o=e[t],l;for(l=t+1;l<=r;++l){const c=e[l%s];c.skip||c.stop?o.skip||(n=!1,i.push({start:t%s,end:(l-1)%s,loop:n}),t=a=c.stop?l:null):(a=l,o.skip&&(t=l)),o=c}return a!==null&&i.push({start:t%s,end:a%s,loop:n}),i}function z2e(e,t){const r=e.points,n=e.options.spanGaps,s=r.length;if(!s)return[];const i=!!e._loop,{start:a,end:o}=U2e(r,s,i,n);if(n===!0)return hR(e,[{start:a,end:o,loop:i}],r,t);const l=o<a?o+s:o,c=!!e._fullLoop&&a===0&&o===s-1;return hR(e,$2e(r,a,l,c),r,t)}function hR(e,t,r,n){return!n||!n.setContext||!r?t:q2e(e,t,r,n)}function q2e(e,t,r,n){const s=e._chart.getContext(),i=pR(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=r.length,c=[];let u=i,h=t[0].start,p=h;function m(x,y,b,v){const S=o?-1:1;if(x!==y){for(x+=l;r[x%l].skip;)x-=S;for(;r[y%l].skip;)y+=S;x%l!==y%l&&(c.push({start:x%l,end:y%l,loop:b,style:v}),u=v,h=y%l)}}for(const x of t){h=o?h:x.start;let y=r[h%l],b;for(p=h+1;p<=x.end;p++){const v=r[p%l];b=pR(n.setContext(up(s,{type:"segment",p0:y,p1:v,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),H2e(b,u)&&m(h,p-1,x.loop,u),y=v,u=b}h<p-1&&m(h,p-1,x.loop,u)}return c}function pR(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function H2e(e,t){if(!t)return!1;const r=[],n=function(s,i){return MT(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function L2(e,t,r){return e.options.clip?e[r]:t[r]}function W2e(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:L2(r,t,"left"),right:L2(r,t,"right"),top:L2(n,t,"top"),bottom:L2(n,t,"bottom")}:t}function V2e(e,t){const r=t._clip;if(r.disabled)return!1;const n=W2e(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class G2e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(o=>o({chart:t,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=t$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,t,"progress")),i.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fu=new G2e;const mR="transparent",K2e={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=sR(e||mR),s=n.valid&&sR(t||mR);return s&&s.valid?s.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class Y2e{constructor(t,r,n,s){const i=r[n];s=O2([t.to,s,i,t.from]);const a=O2([t.from,i,s]);this._active=!0,this._fn=t.fn||K2e[t.type||typeof a],this._easing=xy[t.easing]||xy.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=O2([t.to,r,s,t.from]),this._from=O2([t.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||r<n),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=i;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class m${constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!ln(t))return;const r=Object.keys(Ms.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!ln(i))return;const a={};for(const o of r)a[o]=i[o];(ai(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,a)})})}_animateOptions(t,r){const n=r.options,s=Q2e(t,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&X2e(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,s=[],i=t.$animations||(t.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,r));continue}const u=r[c];let h=i[c];const p=n.get(c);if(h)if(p&&h.active()){h.update(p,u,o);continue}else h.cancel();if(!p||!p.duration){t[c]=u;continue}i[c]=h=new Y2e(p,t,c,u),s.push(h)}return s}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return Fu.add(this._chart,n),!0}}function X2e(e,t){const r=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const i=e[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Q2e(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function gR(e,t){const r=e&&e.options||{},n=r.reverse,s=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:s,end:n?s:i}}function Z2e(e,t,r){if(r===!1)return!1;const n=gR(e,r),s=gR(t,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function J2e(e){let t,r,n,s;return ln(e)?(t=e.top,r=e.right,n=e.bottom,s=e.left):t=r=n=s=e,{top:t,right:r,bottom:n,left:s,disabled:e===!1}}function g$(e,t){const r=[],n=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function yR(e,t,r,n={}){const s=e.keys,i=n.mode==="single";let a,o,l,c;if(t===null)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===r){if(u=!0,n.all)continue;break}c=e.values[l],yl(c)&&(i||t===0||pu(t)===pu(c))&&(t+=c)}return!u&&!n.all?0:t}function ewe(e,t){const{iScale:r,vScale:n}=t,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[s]:u,[i]:e[u]};return o}function b3(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function twe(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function rwe(e){const{min:t,max:r,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function nwe(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function xR(e,t,r,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const i=e[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function vR(e,t){const{chart:r,_cachedMeta:n}=e,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:o}=n,l=i.axis,c=a.axis,u=twe(i,a,n),h=t.length;let p;for(let m=0;m<h;++m){const x=t[m],{[l]:y,[c]:b}=x,v=x._stacks||(x._stacks={});p=v[c]=nwe(s,u,y),p[o]=b,p._top=xR(p,a,!0,n.type),p._bottom=xR(p,a,!1,n.type);const S=p._visualValues||(p._visualValues={});S[o]=b}}function _3(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function swe(e,t){return up(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iwe(e,t,r){return up(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function _1(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const S3=e=>e==="reset"||e==="none",wR=(e,t)=>t?e:Object.assign({},e),awe=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:g$(r,!0),values:null};class L0{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=b3(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_1(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(h,p,m,x)=>h==="x"?p:h==="r"?x:m,i=r.xAxisID=Ur(n.xAxisID,_3(t,"x")),a=r.yAxisID=Ur(n.yAxisID,_3(t,"y")),o=r.rAxisID=Ur(n.rAxisID,_3(t,"r")),l=r.indexAxis,c=r.iAxisID=s(l,i,a,o),u=r.vAxisID=s(l,a,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&tR(this._data,this),t._stacked&&_1(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(ln(r)){const s=this._cachedMeta;this._data=ewe(r,s)}else if(n!==r){if(n){tR(n,this);const s=this._cachedMeta;_1(s),s._parsed=[]}r&&Object.isExtensible(r)&&Uve(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=b3(r.vScale,r),r.stack!==n.stack&&(s=!0,_1(r),r.stack=n.stack),this._resyncElements(t),(s||i!==r._stacked)&&(vR(this,r._parsed),r._stacked=b3(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,o=i.axis;let l=t===0&&r===s.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,h,p;if(this._parsing===!1)n._parsed=s,n._sorted=!0,p=s;else{ai(s[t])?p=this.parseArrayData(n,s,t,r):ln(s[t])?p=this.parseObjectData(n,s,t,r):p=this.parsePrimitiveData(n,s,t,r);const m=()=>h[o]===null||c&&h[o]<c[o];for(u=0;u<r;++u)n._parsed[u+t]=h=p[u],l&&(m()&&(l=!1),c=h);n._sorted=l}a&&vR(this,p)}parsePrimitiveData(t,r,n,s){const{iScale:i,vScale:a}=t,o=i.axis,l=a.axis,c=i.getLabels(),u=i===a,h=new Array(s);let p,m,x;for(p=0,m=s;p<m;++p)x=p+n,h[p]={[o]:u||i.parse(c[x],x),[l]:a.parse(r[x],x)};return h}parseArrayData(t,r,n,s){const{xScale:i,yScale:a}=t,o=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+n,h=r[u],o[l]={x:i.parse(h[0],u),y:a.parse(h[1],u)};return o}parseObjectData(t,r,n,s){const{xScale:i,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,p,m;for(u=0,h=s;u<h;++u)p=u+n,m=r[p],c[u]={x:i.parse(X0(m,o),p),y:a.parse(X0(m,l),p)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const s=this.chart,i=this._cachedMeta,a=r[t.axis],o={keys:g$(s,!0),values:r._stacks[t.axis]._visualValues};return yR(o,a,i.index,{mode:n})}updateRangeFromParsed(t,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const o=s&&n._stacks[r.axis];s&&o&&(s.values=o,a=yR(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&t===n.iScale,a=s.length,o=this._getOtherScale(t),l=awe(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=rwe(o);let p,m;function x(){m=s[p];const y=m[o.axis];return!yl(m[t.axis])||u>y||h<y}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(c,t,m,l),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(c,t,m,l);break}}return c}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][t.axis],yl(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=J2e(Ur(this.options.clip,Z2e(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,i,o,l),u=o;u<o+l;++u){const h=s[u];h.hidden||(h.active&&c?a.push(h):h.draw(t,i))}for(u=0;u<a.length;++u)a[u].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=iwe(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=swe(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=t+"-"+r,o=i[a],l=this.enableOptionSharing&&ux(n);if(o)return wR(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],p=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ms.elements[t]),x=()=>this.getContext(n,s,r),y=c.resolveNamedOptions(p,m,x,h);return y.$shared&&(y.$shared=l,i[a]=Object.freeze(wR(y,l))),y}_resolveAnimations(t,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),p=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(p,this.getContext(t,n,r))}const c=new m$(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||S3(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(t,r,n,s){S3(s)?Object.assign(t,n):this._resolveAnimations(r,s).update(t,n)}updateSharedOptions(t,r,n){t&&!S3(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,s){t.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,r,n=!0){const s=this._cachedMeta,i=s.data,a=t+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(i),o=t;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,s){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,r);n._stacked&&_1(n,s)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,s]=t;this[r](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_t(L0,"defaults",{}),_t(L0,"datasetElementType",null),_t(L0,"dataElementType",null);function owe(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(e));e._cache.$bar=e$(n.sort((s,i)=>s-i))}return e._cache.$bar}function lwe(e){const t=e.iScale,r=owe(t,e.type);let n=t._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(ux(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(s=0,i=r.length;s<i;++s)a=t.getPixelForValue(r[s]),l();for(o=void 0,s=0,i=t.ticks.length;s<i;++s)a=t.getPixelForTick(s),l();return n}function cwe(e,t,r,n){const s=r.barThickness;let i,a;return vn(s)?(i=t.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:t.pixels[e]-i/2}}function uwe(e,t,r,n){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=r.categoryPercentage;a===null&&(a=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:c}}function dwe(e,t,r,n){const s=r.parse(e[0],n),i=r.parse(e[1],n),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}function y$(e,t,r,n){return ai(e)?dwe(e,t,r,n):t[r.axis]=r.parse(e,n),t}function bR(e,t,r,n){const s=e.iScale,i=e.vScale,a=s.getLabels(),o=s===i,l=[];let c,u,h,p;for(c=r,u=r+n;c<u;++c)p=t[c],h={},h[s.axis]=o||s.parse(a[c],c),l.push(y$(p,h,i,c));return l}function A3(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function fwe(e,t,r){return e!==0?pu(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function hwe(e){let t,r,n,s,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:t,top:s,bottom:i}}function pwe(e,t,r,n){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=hwe(e);s==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[_R(u,a,o,l)]=!0,s=c)),i[_R(s,a,o,l)]=!0,e.borderSkipped=i}function _R(e,t,r,n){return n?(e=mwe(e,t,r),e=SR(e,r,t)):e=SR(e,t,r),e}function mwe(e,t,r){return e===t?r:e===r?t:e}function SR(e,t,r){return e==="start"?t:e==="end"?r:e}function gwe(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class bw extends L0{parsePrimitiveData(t,r,n,s){return bR(t,r,n,s)}parseArrayData(t,r,n,s){return bR(t,r,n,s)}parseObjectData(t,r,n,s){const{iScale:i,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,u=a.axis==="x"?o:l,h=[];let p,m,x,y;for(p=n,m=n+s;p<m;++p)y=r[p],x={},x[i.axis]=i.parse(X0(y,c),p),h.push(y$(X0(y,u),x,a,p));return h}updateRangeFromParsed(t,r,n,s){super.updateRangeFromParsed(t,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(t),a=i._custom,o=A3(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(r,s);for(let m=r;m<r+n;m++){const x=this.getParsed(m),y=i||vn(x[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),v=(x._stacks||{})[o.axis],S={horizontal:c,base:y.base,enableBorderRadius:!v||A3(x._custom)||a===v._top||a===v._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};p&&(S.options=h||this.resolveDataElementOptions(m,t[m].active?"active":s));const _=S.options||t[m].options;pwe(S,_,v,a),gwe(S,_,u.ratio),this.updateElement(t[m],m,S,s)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],c=u=>{const h=u._parsed.find(m=>m[n.axis]===l),p=h&&h[u.vScale.axis];if(vn(p)||isNaN(p))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[Ur(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const s=this._getStacks(t,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||lwe(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(t),c=l._custom,u=A3(c);let h=l[r.axis],p=0,m=n?this.applyStack(r,l,n):h,x,y;m!==h&&(p=m-h,m=h),u&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&pu(h)!==pu(c.barEnd)&&(p=0),p+=h);const b=!vn(i)&&!u?i:p;let v=r.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=r.getPixelForValue(p+m):x=v,y=x-v,Math.abs(y)<a){y=fwe(y,r,o)*a,h===o&&(v-=y/2);const S=r.getPixelForDecimal(0),_=r.getPixelForDecimal(1),T=Math.min(S,_),R=Math.max(S,_);v=Math.max(Math.min(v,R),T),x=v+y,n&&!u&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(x)-r.getValueForPixel(v))}if(v===r.getPixelForValue(o)){const S=pu(y)*r.getLineWidthForValue(o)/2;v+=S,y-=S}return{size:y,base:v,head:x,center:x+y/2}}_calculateBarIndexPixels(t,r){const n=r.scale,s=this.options,i=s.skipNull,a=Ur(s.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(t):r.stackCount,h=s.barThickness==="flex"?uwe(t,r,s,u*c):cwe(t,r,s,u*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ur(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;o=h.start+h.chunk*x+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}_t(bw,"id","bar"),_t(bw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_t(bw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ywe(e,t,r){let n=1,s=1,i=0,a=0;if(t<Ns){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),p=Math.sin(l),m=(_,T,R)=>fx(_,o,l,!0)?1:Math.max(T,T*r,R,R*r),x=(_,T,R)=>fx(_,o,l,!0)?-1:Math.min(T,T*r,R,R*r),y=m(0,c,h),b=m(li,u,p),v=x(Tn,c,h),S=x(Tn+li,u,p);n=(y-v)/2,s=(b-S)/2,i=-(y+v)/2,a=-(b+S)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class M1 extends L0{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=l=>+n[l];if(ln(n[t])){const{key:l="value"}=this._parsing;i=c=>+X0(n[c],l)}let a,o;for(a=t,o=t+r;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Ju(this.options.rotation-90)}_getCircumference(){return Ju(this.options.circumference)}_getRotationExtents(){let t=Ns,r=-Ns;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();t=Math.min(t,i),r=Math.max(r,i+a)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(Sve(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:x,offsetY:y}=ywe(h,u,l),b=(n.width-a)/p,v=(n.height-a)/m,S=Math.max(Math.min(b,v)/2,0),_=XU(this.options.radius,S),T=Math.max(_*l,0),R=(_-T)/this._getVisibleDatasetWeightTotal();this.offsetX=x*_,this.offsetY=y*_,s.total=this.calculateTotal(),this.outerRadius=_-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/Ns)}updateElements(t,r,n,s){const i=s==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,p=i&&c.animateScale,m=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(r,s);let v=this._getRotation(),S;for(S=0;S<r;++S)v+=this._circumference(S,i);for(S=r;S<r+n;++S){const _=this._circumference(S,i),T=t[S],R={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+_,circumference:_,outerRadius:x,innerRadius:m};b&&(R.options=y||this.resolveDataElementOptions(S,T.active?"active":s)),v+=_,this.updateElement(T,S,R,s)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,s;for(s=0;s<r.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?Ns*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=BT(r._parsed[t],n.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const n=this.chart;let s,i,a,o,l;if(!t){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),t=a.data,o=a.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,s=t.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(Ur(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_t(M1,"id","doughnut"),_t(M1,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_t(M1,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),_t(M1,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return r.labels.map((i,a)=>{const l=t.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class _w extends L0{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=qve(r,s,a);this._drawStart=o,this._drawCount=l,Hve(r)&&(o=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},t),this.updateElements(s,o,l,t)}updateElements(t,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,s),p=a.axis,m=o.axis,{spanGaps:x,segment:y}=this.options,b=dx(x)?x:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",S=r+n,_=t.length;let T=r>0&&this.getParsed(r-1);for(let R=0;R<_;++R){const B=t[R],j=v?B:{};if(R<r||R>=S){j.skip=!0;continue}const P=this.getParsed(R),F=vn(P[m]),N=j[p]=a.getPixelForValue(P[p],R),k=j[m]=i||F?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[m],R);j.skip=isNaN(N)||isNaN(k)||F,j.stop=R>0&&Math.abs(P[p]-T[p])>b,y&&(j.parsed=P,j.raw=c.data[R]),h&&(j.options=u||this.resolveDataElementOptions(R,B.active?"active":s)),v||this.updateElement(B,R,j,s),T=P}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}_t(_w,"id","line"),_t(_w,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_t(_w,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Yh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class KT{constructor(t){_t(this,"options");this.options=t||{}}static override(t){Object.assign(KT.prototype,t)}init(){}formats(){return Yh()}parse(){return Yh()}format(){return Yh()}add(){return Yh()}diff(){return Yh()}startOf(){return Yh()}endOf(){return Yh()}}var xwe={_date:KT};function vwe(e,t,r,n){const{controller:s,data:i,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&i.length){const c=o._reversePixels?Mve:p0;if(n){if(s._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const p=c(i,t,r-h),m=c(i,t,r+h);return{lo:p.lo,hi:m.hi}}}}else{const u=c(i,t,r);if(l){const{vScale:h}=s._cachedMeta,{_parsed:p}=e,m=p.slice(0,u.lo+1).reverse().findIndex(y=>!vn(y[h.axis]));u.lo-=Math.max(0,m);const x=p.slice(u.hi).findIndex(y=>!vn(y[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function Xx(e,t,r,n,s){const i=e.getSortedVisibleDatasetMetas(),a=r[t];for(let o=0,l=i.length;o<l;++o){const{index:c,data:u}=i[o],{lo:h,hi:p}=vwe(i[o],t,a,s);for(let m=h;m<=p;++m){const x=u[m];x.skip||n(x,c,m)}}}function wwe(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,s){const i=t?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function E3(e,t,r,n,s){const i=[];return!s&&!e.isPointInArea(t)||Xx(e,r,t,function(o,l,c){!s&&!hx(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function bwe(e,t,r,n){let s=[];function i(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=ZU(a,{x:t.x,y:t.y});fx(h,c,u)&&s.push({element:a,datasetIndex:o,index:l})}return Xx(e,r,t,i),s}function _we(e,t,r,n,s,i){let a=[];const o=wwe(r);let l=Number.POSITIVE_INFINITY;function c(u,h,p){const m=u.inRange(t.x,t.y,s);if(n&&!m)return;const x=u.getCenterPoint(s);if(!(!!i||e.isPointInArea(x))&&!m)return;const b=o(t,x);b<l?(a=[{element:u,datasetIndex:h,index:p}],l=b):b===l&&a.push({element:u,datasetIndex:h,index:p})}return Xx(e,r,t,c),a}function N3(e,t,r,n,s,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?bwe(e,t,r,s):_we(e,t,r,n,s,i)}function AR(e,t,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return Xx(e,r,t,(l,c,u)=>{l[a]&&l[a](t[r],s)&&(i.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(t.x,t.y,s))}),n&&!o?[]:i}var Swe={evaluateInteractionItems:Xx,modes:{index(e,t,r,n){const s=e0(t,e),i=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?E3(e,s,i,n,a):N3(e,s,i,!1,n,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,r,n){const s=e0(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?E3(e,s,i,n,a):N3(e,s,i,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=e.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(e,t,r,n){const s=e0(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;return E3(e,s,i,n,a)},nearest(e,t,r,n){const s=e0(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;return N3(e,s,i,r.intersect,n,a)},x(e,t,r,n){const s=e0(t,e);return AR(e,s,"x",r.intersect,n)},y(e,t,r,n){const s=e0(t,e);return AR(e,s,"y",r.intersect,n)}}};const x$=["left","top","right","bottom"];function S1(e,t){return e.filter(r=>r.pos===t)}function ER(e,t){return e.filter(r=>x$.indexOf(r.pos)===-1&&r.box.axis===t)}function A1(e,t){return e.sort((r,n)=>{const s=t?n:r,i=t?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Awe(e){const t=[];let r,n,s,i,a,o;for(r=0,n=(e||[]).length;r<n;++r)s=e[r],{position:i,options:{stack:a,stackWeight:o=1}}=s,t.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return t}function Ewe(e){const t={};for(const r of e){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!x$.includes(s))continue;const a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function Nwe(e,t){const r=Ewe(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let i,a,o;for(i=0,a=e.length;i<a;++i){o=e[i];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&t.availableWidth,o.height=s):(o.width=n,o.height=u?u*s:l&&t.availableHeight)}return r}function Twe(e){const t=Awe(e),r=A1(t.filter(c=>c.box.fullSize),!0),n=A1(S1(t,"left"),!0),s=A1(S1(t,"right")),i=A1(S1(t,"top"),!0),a=A1(S1(t,"bottom")),o=ER(t,"x"),l=ER(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:S1(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function NR(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function v$(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function kwe(e,t,r,n){const{pos:s,box:i}=r,a=e.maxPadding;if(!ln(s)){r.size&&(e[s]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,e[s]+=r.size}i.getPadding&&v$(a,i.getPadding());const o=Math.max(0,t.outerWidth-NR(a,e,"left","right")),l=Math.max(0,t.outerHeight-NR(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function Cwe(e){const t=e.maxPadding;function r(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function Iwe(e,t){const r=t.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(t[a],r[a])}),i}return n(e?["left","right"]:["top","bottom"])}function B1(e,t,r,n){const s=[];let i,a,o,l,c,u;for(i=0,a=e.length,c=0;i<a;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,Iwe(o.horizontal,t));const{same:h,other:p}=kwe(t,r,o,n);c|=h&&s.length,u=u||p,l.fullSize||s.push(o)}return c&&B1(s,t,r,n)||u}function j2(e,t,r,n,s){e.top=r,e.left=t,e.right=t+n,e.bottom=r+s,e.width=n,e.height=s}function TR(e,t,r,n){const s=r.padding;let{x:i,y:a}=t;for(const o of e){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const h=t.w*u,p=c.size||l.height;ux(c.start)&&(a=c.start),l.fullSize?j2(l,s.left,a,r.outerWidth-s.right-s.left,p):j2(l,t.left+c.placed,a,h,p),c.start=a,c.placed+=h,a=l.bottom}else{const h=t.h*u,p=c.size||l.width;ux(c.start)&&(i=c.start),l.fullSize?j2(l,i,s.top,p,r.outerHeight-s.bottom-s.top):j2(l,i,t.top+c.placed,p,h),c.start=i,c.placed+=h,i=l.right}}t.x=i,t.y=a}var cl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const s=xl(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(r-s.height,0),o=Twe(e.boxes),l=o.vertical,c=o.horizontal;En(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),p=Object.assign({},s);v$(p,xl(n));const m=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=Nwe(l.concat(c),h);B1(o.fullSize,m,h,x),B1(l,m,h,x),B1(c,m,h,x)&&B1(l,m,h,x),Cwe(m),TR(o.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,TR(o.rightAndBottom,m,h,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},En(o.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class w${acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,s){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(t){return!0}updateConfig(t){}}class Pwe extends w${acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sw="$chartjs",Owe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kR=e=>e===null||e==="";function Rwe(e,t){const r=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[Sw]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",kR(s)){const i=dR(e,"width");i!==void 0&&(e.width=i)}if(kR(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=dR(e,"height");i!==void 0&&(e.height=i)}return e}const b$=O2e?{passive:!0}:!1;function Dwe(e,t,r){e&&e.addEventListener(t,r,b$)}function Lwe(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,b$)}function jwe(e,t){const r=Owe[e.type]||e.type,{x:n,y:s}=e0(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Mb(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Fwe(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Mb(o.addedNodes,n),a=a&&!Mb(o.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function Mwe(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Mb(o.removedNodes,n),a=a&&!Mb(o.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const mx=new Map;let CR=0;function _$(){const e=window.devicePixelRatio;e!==CR&&(CR=e,mx.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Bwe(e,t){mx.size||window.addEventListener("resize",_$),mx.set(e,t)}function Uwe(e){mx.delete(e),mx.size||window.removeEventListener("resize",_$)}function $we(e,t,r){const n=e.canvas,s=n&&GT(n);if(!s)return;const i=r$((o,l)=>{const c=s.clientWidth;r(o,l),c<s.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),Bwe(e,i),a}function T3(e,t,r){r&&r.disconnect(),t==="resize"&&Uwe(e)}function zwe(e,t,r){const n=e.canvas,s=r$(i=>{e.ctx!==null&&r(jwe(i,e))},e);return Dwe(n,t,s),s}class qwe extends w${acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Rwe(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[Sw])return!1;const n=r[Sw].initial;["height","width"].forEach(i=>{const a=n[i];vn(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[Sw],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const s=t.$proxies||(t.$proxies={}),a={attach:Fwe,detach:Mwe,resize:$we}[r]||zwe;s[r]=a(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),s=n[r];if(!s)return;({attach:T3,detach:T3,resize:T3}[r]||Lwe)(t,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,s){return P2e(t,r,n,s)}isAttached(t){const r=t&&GT(t);return!!(r&&r.isConnected)}}function Hwe(e){return!VT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Pwe:qwe}var q2;let bd=(q2=class{constructor(){_t(this,"x");_t(this,"y");_t(this,"active",!1);_t(this,"options");_t(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return dx(this.x)&&dx(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const s={};return t.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},_t(q2,"defaults",{}),_t(q2,"defaultRoutes"),q2);function Wwe(e,t){const r=e.options.ticks,n=Vwe(e),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Kwe(t):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return Ywe(t,c,i,a/s),c;const u=Gwe(i,t,s);if(a>0){let h,p;const m=a>1?Math.round((l-o)/(a-1)):null;for(F2(t,c,u,vn(m)?0:o-m,o),h=0,p=a-1;h<p;h++)F2(t,c,u,i[h],i[h+1]);return F2(t,c,u,l,vn(m)?t.length:l+m),c}return F2(t,c,u),c}function Vwe(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),s=e._maxLength/r;return Math.floor(Math.min(n,s))}function Gwe(e,t,r){const n=Xwe(e),s=t.length/r;if(!n)return Math.max(s,1);const i=Pve(n);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function Kwe(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function Ywe(e,t,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=r[s*n])}function F2(e,t,r,n,s){const i=Ur(n,0),a=Math.min(Ur(s,e.length),e.length);let o=0,l,c,u;for(r=Math.ceil(r),s&&(l=s-n,r=l/Math.floor(l/r)),u=i;u<0;)o++,u=Math.round(i+o*r);for(c=Math.max(i,0);c<a;c++)c===u&&(t.push(e[c]),o++,u=Math.round(i+o*r))}function Xwe(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const Qwe=e=>e==="left"?"right":e==="right"?"left":e,IR=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,PR=(e,t)=>Math.min(t||e,e);function OR(e,t){const r=[],n=e.length/t,s=e.length;let i=0;for(;i<s;i+=n)r.push(e[Math.floor(i)]);return r}function Zwe(e,t,r){const n=e.ticks.length,s=Math.min(t,n-1),i=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(l-i,a-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<i-o||l>a+o)))return l}function Jwe(e,t){En(e,r=>{const n=r.gc,s=n.length/2;let i;if(s>t){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function E1(e){return e.drawTicks?e.tickLength:0}function RR(e,t){if(!e.display)return 0;const r=na(e.font,t),n=xl(e.padding);return(ai(e.text)?e.text.length:1)*r.lineHeight+n.height}function ebe(e,t){return up(e,{scale:t,type:"scale"})}function tbe(e,t,r){return up(e,{tick:r,index:t,type:"tick"})}function rbe(e,t,r){let n=FT(e);return(r&&t!=="right"||!r&&t==="right")&&(n=Qwe(n)),n}function nbe(e,t,r,n){const{top:s,left:i,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,p,m,x;const y=a-s,b=o-i;if(e.isHorizontal()){if(m=Zi(n,i,o),ln(r)){const v=Object.keys(r)[0],S=r[v];x=u[v].getPixelForValue(S)+y-t}else r==="center"?x=(c.bottom+c.top)/2+y-t:x=IR(e,r,t);p=o-i}else{if(ln(r)){const v=Object.keys(r)[0],S=r[v];m=u[v].getPixelForValue(S)-b+t}else r==="center"?m=(c.left+c.right)/2-b+t:m=IR(e,r,t);x=Zi(n,a,s),h=r==="left"?-li:li}return{titleX:m,titleY:x,maxWidth:p,rotation:h}}class kg extends bd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return t=Wc(t,Number.POSITIVE_INFINITY),r=Wc(r,Number.NEGATIVE_INFINITY),n=Wc(n,Number.POSITIVE_INFINITY),s=Wc(s,Number.NEGATIVE_INFINITY),{min:Wc(t,n),max:Wc(r,s),minDefined:yl(t),maxDefined:yl(r)}}getMinMax(t){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:Wc(r,Wc(n,r)),max:Wc(n,Wc(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Hn(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c2e(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?OR(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Wwe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Hn(this.options.afterUpdate,[this])}beforeSetDimensions(){Hn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Hn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Hn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Hn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n],i.label=Hn(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Hn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Hn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=PR(this.ticks.length,t.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,m=ra(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/n:m/(n-1),h+6>o&&(o=m/(n-(t.offset?.5:1)),l=this.maxHeight-E1(t.grid)-r.padding-RR(t.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),a=Lve(Math.min(Math.asin(ra((u.highest.height+6)/o,-1,1)),Math.asin(ra(l/c,-1,1))-Math.asin(ra(p/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Hn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Hn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=RR(s,r.options.font);if(o?(t.width=this.maxWidth,t.height=E1(i)+l):(t.height=this.maxHeight,t.width=E1(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:p}=this._getLabelSizes(),m=n.padding*2,x=Ju(this.labelRotation),y=Math.cos(x),b=Math.sin(x);if(o){const v=n.mirror?0:b*h.width+y*p.height;t.height=Math.min(this.maxHeight,t.height+v+m)}else{const v=n.mirror?0:y*h.width+b*p.height;t.width=Math.min(this.maxWidth,t.width+v+m)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?c?(p=s*t.width,m=n*r.height):(p=n*t.height,m=s*r.width):i==="start"?m=r.width:i==="end"?p=t.width:i!=="inner"&&(p=t.width/2,m=r.width/2),this.paddingLeft=Math.max((p-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let u=r.height/2,h=t.height/2;i==="start"?(u=0,h=t.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Hn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)vn(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=OR(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(r/PR(r,n));let c=0,u=0,h,p,m,x,y,b,v,S,_,T,R;for(h=0;h<r;h+=l){if(x=t[h].label,y=this._resolveTickFontOptions(h),s.font=b=y.string,v=i[b]=i[b]||{data:{},gc:[]},S=y.lineHeight,_=T=0,!vn(x)&&!ai(x))_=aR(s,v.data,v.gc,_,x),T=S;else if(ai(x))for(p=0,m=x.length;p<m;++p)R=x[p],!vn(R)&&!ai(R)&&(_=aR(s,v.data,v.gc,_,R),T+=S);a.push(_),o.push(T),c=Math.max(_,c),u=Math.max(T,u)}Jwe(i,r);const B=a.indexOf(c),j=o.indexOf(u),P=F=>({width:a[F]||0,height:o[F]||0});return{first:P(0),last:P(r-1),widest:P(B),highest:P(j),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return Fve(this._alignToPixels?Kh(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=tbe(this.getContext(),t,n))}return this.$context||(this.$context=ebe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Ju(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*n>o*s?o/n:l/s:l*s<o*n?l/n:o/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=E1(i),m=[],x=o.setContext(this.getContext()),y=x.display?x.width:0,b=y/2,v=function(Y){return Kh(n,Y,y)};let S,_,T,R,B,j,P,F,N,k,C,H;if(a==="top")S=v(this.bottom),j=this.bottom-p,F=S-b,k=v(t.top)+b,H=t.bottom;else if(a==="bottom")S=v(this.top),k=t.top,H=v(t.bottom)-b,j=S+b,F=this.top+p;else if(a==="left")S=v(this.right),B=this.right-p,P=S-b,N=v(t.left)+b,C=t.right;else if(a==="right")S=v(this.left),N=t.left,C=v(t.right)-b,B=S+b,P=this.left+p;else if(r==="x"){if(a==="center")S=v((t.top+t.bottom)/2+.5);else if(ln(a)){const Y=Object.keys(a)[0],W=a[Y];S=v(this.chart.scales[Y].getPixelForValue(W))}k=t.top,H=t.bottom,j=S+b,F=j+p}else if(r==="y"){if(a==="center")S=v((t.left+t.right)/2);else if(ln(a)){const Y=Object.keys(a)[0],W=a[Y];S=v(this.chart.scales[Y].getPixelForValue(W))}B=S-b,P=B-p,N=t.left,C=t.right}const z=Ur(s.ticks.maxTicksLimit,h),K=Math.max(1,Math.ceil(h/z));for(_=0;_<h;_+=K){const Y=this.getContext(_),W=i.setContext(Y),Z=o.setContext(Y),ne=W.lineWidth,ee=W.color,X=Z.dash||[],I=Z.dashOffset,U=W.tickWidth,G=W.tickColor,V=W.tickBorderDash||[],Q=W.tickBorderDashOffset;T=Zwe(this,_,l),T!==void 0&&(R=Kh(n,T,ne),c?B=P=N=C=R:j=F=k=H=R,m.push({tx1:B,ty1:j,tx2:P,ty2:F,x1:N,y1:k,x2:C,y2:H,width:ne,color:ee,borderDash:X,borderDashOffset:I,tickWidth:U,tickColor:G,tickBorderDash:V,tickBorderDashOffset:Q}))}return this._ticksLength=h,this._borderValue=S,m}_computeLabelItems(t){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=i,p=E1(n.grid),m=p+u,x=h?-u:m,y=-Ju(this.labelRotation),b=[];let v,S,_,T,R,B,j,P,F,N,k,C,H="middle";if(s==="top")B=this.bottom-x,j=this._getXAxisLabelAlignment();else if(s==="bottom")B=this.top+x,j=this._getXAxisLabelAlignment();else if(s==="left"){const K=this._getYAxisLabelAlignment(p);j=K.textAlign,R=K.x}else if(s==="right"){const K=this._getYAxisLabelAlignment(p);j=K.textAlign,R=K.x}else if(r==="x"){if(s==="center")B=(t.top+t.bottom)/2+m;else if(ln(s)){const K=Object.keys(s)[0],Y=s[K];B=this.chart.scales[K].getPixelForValue(Y)+m}j=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")R=(t.left+t.right)/2-m;else if(ln(s)){const K=Object.keys(s)[0],Y=s[K];R=this.chart.scales[K].getPixelForValue(Y)}j=this._getYAxisLabelAlignment(p).textAlign}r==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const z=this._getLabelSizes();for(v=0,S=o.length;v<S;++v){_=o[v],T=_.label;const K=i.setContext(this.getContext(v));P=this.getPixelForTick(v)+i.labelOffset,F=this._resolveTickFontOptions(v),N=F.lineHeight,k=ai(T)?T.length:1;const Y=k/2,W=K.color,Z=K.textStrokeColor,ne=K.textStrokeWidth;let ee=j;a?(R=P,j==="inner"&&(v===S-1?ee=this.options.reverse?"left":"right":v===0?ee=this.options.reverse?"right":"left":ee="center"),s==="top"?c==="near"||y!==0?C=-k*N+N/2:c==="center"?C=-z.highest.height/2-Y*N+N:C=-z.highest.height+N/2:c==="near"||y!==0?C=N/2:c==="center"?C=z.highest.height/2-Y*N:C=z.highest.height-k*N,h&&(C*=-1),y!==0&&!K.showLabelBackdrop&&(R+=N/2*Math.sin(y))):(B=P,C=(1-k)*N/2);let X;if(K.showLabelBackdrop){const I=xl(K.backdropPadding),U=z.heights[v],G=z.widths[v];let V=C-I.top,Q=0-I.left;switch(H){case"middle":V-=U/2;break;case"bottom":V-=U;break}switch(j){case"center":Q-=G/2;break;case"right":Q-=G;break;case"inner":v===S-1?Q-=G:v>0&&(Q-=G/2);break}X={left:Q,top:V,width:G+I.width,height:U+I.height,color:K.backdropColor}}b.push({label:T,font:F,textOffset:C,options:{rotation:y,color:W,strokeColor:Z,strokeWidth:ne,textAlign:ee,textBaseline:H,translation:[R,B],backdrop:X}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Ju(this.labelRotation))return t==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=t+i,l=a.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,s,i,a),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const l=s[i];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,p;this.isHorizontal()?(c=Kh(t,this.left,a)-a/2,u=Kh(t,this.right,o)+o/2,h=p=l):(h=Kh(t,this.top,a)-a/2,p=Kh(t,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,h),r.lineTo(u,p),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&UT(n,s);const i=this.getLabelItems(t);for(const a of i){const o=a.options,l=a.font,c=a.label,u=a.textOffset;px(n,c,0,u,l,o)}s&&$T(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=na(n.font),a=xl(n.padding),o=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||ln(r)?(l+=a.bottom,ai(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:h,rotation:p}=nbe(this,l,r,o);px(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:p,textAlign:rbe(o,r,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=Ur(t.grid&&t.grid.z,-1),s=Ur(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==kg.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const o=r[i];o[n]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return na(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class M2{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;abe(r)&&(n=this.register(r));const s=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,sbe(t,a,n),this.override&&Ms.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,s=this.scope;n in r&&delete r[n],s&&n in Ms[s]&&(delete Ms[s][n],this.override&&delete Q0[n])}}function sbe(e,t,r){const n=cx(Object.create(null),[r?Ms.get(r):{},Ms.get(t),e.defaults]);Ms.set(t,n),e.defaultRoutes&&ibe(t,e.defaultRoutes),e.descriptors&&Ms.describe(t,e.descriptors)}function ibe(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),s=n.pop(),i=[e].concat(n).join("."),a=t[r].split("."),o=a.pop(),l=a.join(".");Ms.route(i,s,l,o)})}function abe(e){return"id"in e&&"defaults"in e}class obe{constructor(){this.controllers=new M2(L0,"datasets",!0),this.elements=new M2(bd,"elements"),this.plugins=new M2(Object,"plugins"),this.scales=new M2(kg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):En(s,a=>{const o=n||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,r,n){const s=LT(t);Hn(n["before"+s],[],n),r[t](n),Hn(n["after"+s],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const s=r.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Qc=new obe;class lbe{constructor(){this._init=[]}notify(t,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,r,n,s){s=s||{};for(const i of t){const a=i.plugin,o=a[n],l=[r,s,i.options];if(Hn(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){vn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,s=Ur(n.options&&n.options.plugins,{}),i=cbe(n);return s===!1&&!r?[]:dbe(t,i,s,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(r,n),t,"stop"),this._notify(s(n,r),t,"start")}}function cbe(e){const t={},r=[],n=Object.keys(Qc.plugins.items);for(let i=0;i<n.length;i++)r.push(Qc.getPlugin(n[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),t[a.id]=!0)}return{plugins:r,localIds:t}}function ube(e,t){return!t&&e===!1?null:e===!0?{}:e}function dbe(e,{plugins:t,localIds:r},n,s){const i=[],a=e.getContext();for(const o of t){const l=o.id,c=ube(n[l],s);c!==null&&i.push({plugin:o,options:fbe(e.config,{plugin:o,local:r[l]},c,a)})}return i}function fbe(e,{plugin:t,local:r},n,s){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(n,i);return r&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function FA(e,t){const r=Ms.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function hbe(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function pbe(e,t){return e===t?"_index_":"_value_"}function DR(e){if(e==="x"||e==="y"||e==="r")return e}function mbe(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function MA(e,...t){if(DR(e))return e;for(const r of t){const n=r.axis||mbe(r.position)||e.length>1&&DR(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function LR(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function gbe(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return LR(e,"x",r[0])||LR(e,"y",r[0])}return{}}function ybe(e,t){const r=Q0[e.type]||{scales:{}},n=t.scales||{},s=FA(e.type,t),i=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!ln(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=MA(a,o,gbe(a,e),Ms.scales[o.type]),c=pbe(l,s),u=r.scales||{};i[a]=gy(Object.create(null),[{axis:l},o,u[l],u[c]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||FA(o,t),u=(Q0[o]||{}).scales||{};Object.keys(u).forEach(h=>{const p=hbe(h,l),m=a[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),gy(i[m],[{axis:p},n[m],u[h]])})}),Object.keys(i).forEach(a=>{const o=i[a];gy(o,[Ms.scales[o.type],Ms.scale])}),i}function S$(e){const t=e.options||(e.options={});t.plugins=Ur(t.plugins,{}),t.scales=ybe(e,t)}function A$(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function xbe(e){return e=e||{},e.data=A$(e.data),S$(e),e}const jR=new Map,E$=new Set;function B2(e,t){let r=jR.get(e);return r||(r=t(),jR.set(e,r),E$.add(r)),r}const N1=(e,t,r)=>{const n=X0(t,r);n!==void 0&&e.add(n)};class vbe{constructor(t){this._config=xbe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=A$(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),S$(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return B2(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return B2(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return B2(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return B2(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let s=n.get(t);return(!s||r)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,r,n){const{options:s,type:i}=this,a=this._cachedScopes(t,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{t&&(l.add(t),u.forEach(h=>N1(l,t,h))),u.forEach(h=>N1(l,s,h)),u.forEach(h=>N1(l,Q0[i]||{},h)),u.forEach(h=>N1(l,Ms,h)),u.forEach(h=>N1(l,LA,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),E$.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:t,type:r}=this;return[t,Q0[r]||{},Ms.datasets[r]||{},{type:r},Ms,LA]}resolveNamedOptions(t,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=FR(this._resolverCache,t,s);let l=a;if(bbe(a,r)){i.$shared=!1,n=sh(n)?n():n;const c=this.createResolver(t,n,o);l=og(a,n,c)}for(const c of r)i[c]=l[c];return i}createResolver(t,r,n=[""],s){const{resolver:i}=FR(this._resolverCache,t,n);return ln(r)?og(i,r,void 0,s):i}}function FR(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=r.join();let i=n.get(s);return i||(i={resolver:qT(t,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(s,i)),i}const wbe=e=>ln(e)&&Object.getOwnPropertyNames(e).some(t=>sh(e[t]));function bbe(e,t){const{isScriptable:r,isIndexable:n}=o$(e);for(const s of t){const i=r(s),a=n(s),o=(a||i)&&e[s];if(i&&(sh(o)||wbe(o))||a&&ai(o))return!0}return!1}var _be="4.5.0";const Sbe=["top","bottom","left","right","chartArea"];function MR(e,t){return e==="top"||e==="bottom"||Sbe.indexOf(e)===-1&&t==="x"}function BR(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function UR(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Hn(r&&r.onComplete,[e],t)}function Abe(e){const t=e.chart,r=t.options.animation;Hn(r&&r.onProgress,[e],t)}function N$(e){return VT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Aw={},$R=e=>{const t=N$(e);return Object.values(Aw).filter(r=>r.canvas===t).pop()};function Ebe(e,t,r){const n=Object.keys(e);for(const s of n){const i=+s;if(i>=t){const a=e[s];delete e[s],(r>0||i>t)&&(e[i+r]=a)}}}function Nbe(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var sf;let Qx=(sf=class{static register(...t){Qc.add(...t),zR()}static unregister(...t){Qc.remove(...t),zR()}constructor(t,r){const n=this.config=new vbe(r),s=N$(t),i=$R(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Hwe(s)),this.platform.updateConfig(n);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=_ve(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lbe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$ve(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Aw[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Fu.listen(this,"complete",UR),Fu.listen(this,"progress",Abe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return vn(t)?r&&i?i:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oR(this.canvas,this.ctx),this}stop(){return Fu.stop(this),this}resize(t,r){Fu.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,uR(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Hn(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};En(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,s=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const o=r[a],l=MA(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),En(i,a=>{const o=a.options,l=o.id,c=MA(l,o),u=Ur(o.type,a.dtype);(o.position===void 0||MR(o.position,c)!==MR(a.dposition))&&(o.position=a.dposition),s[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const p=Qc.getScale(u);h=new p({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,t)}),En(s,(a,o)=>{a||delete n[o]}),En(n,a=>{cl.configure(this,a,a.options),cl.addBox(this,a)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(BR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=i.indexAxis||FA(o,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=Qc.getController(o),{datasetElementType:c,dataElementType:u}=Ms.datasets[o];Object.assign(l,{dataElementType:Qc.getElement(u),datasetElementType:c&&Qc.getElement(c)}),a.controller=new l(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){En(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),p=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||En(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(BR("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){En(this.scales,t=>{cl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Q8(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;Ebe(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!Q8(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cl.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],En(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,sh(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fu.has(this)?this.attached&&!Fu.running(this)&&Fu.start(this):(this.draw(),UR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!t||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},s=V2e(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&UT(r,s),t.controller.draw(),s&&$T(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return hx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,s){const i=Swe.modes[r];return typeof i=="function"?i(this,t,n,s):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=up(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,s);ux(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),a.update(i,{visible:n}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Fu.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),oR(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Aw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),t[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};En(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(r.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){En(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},En(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const s=n?"set":"remove";let i,a,o,l;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Rb(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=i(r,t),o=n?t:i(t,r);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:s=[],options:i}=this,a=r,o=this._getActiveElements(t,s,n,a),l=kve(t),c=Nbe(t,this._lastEvent,n,l);n&&(this._lastEvent=null,Hn(i.onHover,[t,o,this],this),l&&Hn(i.onClick,[t,o,this],this));const u=!Rb(o,s);return(u||r)&&(this._active=o,this._updateHoverStyles(o,s,r)),this._lastEvent=c,u}_getActiveElements(t,r,n,s){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},_t(sf,"defaults",Ms),_t(sf,"instances",Aw),_t(sf,"overrides",Q0),_t(sf,"registry",Qc),_t(sf,"version",_be),_t(sf,"getChart",$R),sf);function zR(){return En(Qx.instances,e=>e._plugins.invalidate())}function Tbe(e,t,r){const{startAngle:n,x:s,y:i,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/a,ec(n-r));if(e.beginPath(),e.arc(s,i,a-c/2,n+h/2,r-h/2),o>0){const p=Math.min(c/o,ec(n-r));e.arc(s,i,o+c/2,r-p/2,n+p/2,!0)}else{const p=Math.min(c/2,a*ec(n-r));if(u==="round")e.arc(s,i,p,r-Tn/2,n+Tn/2,!0);else if(u==="bevel"){const m=2*p*p,x=-m*Math.cos(r+Tn/2)+s,y=-m*Math.sin(r+Tn/2)+i,b=m*Math.cos(n+Tn/2)+s,v=m*Math.sin(n+Tn/2)+i;e.lineTo(x,y),e.lineTo(b,v)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function kbe(e,t,r){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(i,a,o,n-c,r+c),l>s?(c=s/l,e.arc(i,a,l,r+c,n-c,!0)):e.arc(i,a,s,r+li,n-li),e.closePath(),e.clip()}function Cbe(e){return zT(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Ibe(e,t,r,n){const s=Cbe(e.options.borderRadius),i=(r-t)/2,a=Math.min(i,n*t/2),o=l=>{const c=(r-Math.min(i,l))*n/2;return ra(l,0,Math.min(i,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:ra(s.innerStart,0,a),innerEnd:ra(s.innerEnd,0,a)}}function $p(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Bb(e,t,r,n,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+n+r-c,0),p=u>0?u+n+r+c:0;let m=0;const x=s-l;if(n){const K=u>0?u-n:0,Y=h>0?h-n:0,W=(K+Y)/2,Z=W!==0?x*W/(W+n):x;m=(x-Z)/2}const y=Math.max(.001,x*h-r/Tn)/h,b=(x-y)/2,v=l+b+m,S=s-b-m,{outerStart:_,outerEnd:T,innerStart:R,innerEnd:B}=Ibe(t,p,h,S-v),j=h-_,P=h-T,F=v+_/j,N=S-T/P,k=p+R,C=p+B,H=v+R/k,z=S-B/C;if(e.beginPath(),i){const K=(F+N)/2;if(e.arc(a,o,h,F,K),e.arc(a,o,h,K,N),T>0){const ne=$p(P,N,a,o);e.arc(ne.x,ne.y,T,N,S+li)}const Y=$p(C,S,a,o);if(e.lineTo(Y.x,Y.y),B>0){const ne=$p(C,z,a,o);e.arc(ne.x,ne.y,B,S+li,z+Math.PI)}const W=(S-B/p+(v+R/p))/2;if(e.arc(a,o,p,S-B/p,W,!0),e.arc(a,o,p,W,v+R/p,!0),R>0){const ne=$p(k,H,a,o);e.arc(ne.x,ne.y,R,H+Math.PI,v-li)}const Z=$p(j,v,a,o);if(e.lineTo(Z.x,Z.y),_>0){const ne=$p(j,F,a,o);e.arc(ne.x,ne.y,_,v-li,F)}}else{e.moveTo(a,o);const K=Math.cos(F)*h+a,Y=Math.sin(F)*h+o;e.lineTo(K,Y);const W=Math.cos(N)*h+a,Z=Math.sin(N)*h+o;e.lineTo(W,Z)}e.closePath()}function Pbe(e,t,r,n,s){const{fullCircles:i,startAngle:a,circumference:o}=t;let l=t.endAngle;if(i){Bb(e,t,r,n,l,s);for(let c=0;c<i;++c)e.fill();isNaN(o)||(l=a+(o%Ns||Ns))}return Bb(e,t,r,n,l,s),e.fill(),l}function Obe(e,t,r,n,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:p,borderRadius:m}=l,x=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=p,x?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let y=t.endAngle;if(i){Bb(e,t,r,n,y,s);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(y=a+(o%Ns||Ns))}x&&kbe(e,t,y),l.selfJoin&&y-a>=Tn&&m===0&&u!=="miter"&&Tbe(e,t,y),i||(Bb(e,t,r,n,y,s),e.stroke())}class U1 extends bd{constructor(r){super();_t(this,"circumference");_t(this,"endAngle");_t(this,"fullCircles");_t(this,"innerRadius");_t(this,"outerRadius");_t(this,"pixelMargin");_t(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=ZU(i,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,x=Ur(p,c-l),y=fx(a,l,c)&&l!==c,b=x>=Ns||y,v=Rf(o,u+m,h+m);return b&&v}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,h=(i+a)/2,p=(o+l+u+c)/2;return{x:n+Math.cos(h)*p,y:s+Math.sin(h)*p}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Ns?Math.floor(s/Ns):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Tn,s||0)),u=i*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Pbe(r,this,u,a,o),Obe(r,this,u,a,o),r.restore()}}_t(U1,"id","arc"),_t(U1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),_t(U1,"defaultRoutes",{backgroundColor:"backgroundColor"}),_t(U1,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function T$(e,t,r=t){e.lineCap=Ur(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Ur(r.borderDash,t.borderDash)),e.lineDashOffset=Ur(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Ur(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ur(r.borderWidth,t.borderWidth),e.strokeStyle=Ur(r.borderColor,t.borderColor)}function Rbe(e,t,r){e.lineTo(r.x,r.y)}function Dbe(e){return e.stepped?e2e:e.tension||e.cubicInterpolationMode==="monotone"?t2e:Rbe}function k$(e,t,r={}){const n=e.length,{start:s=0,end:i=n-1}=r,{start:a,end:o}=t,l=Math.max(s,a),c=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function Lbe(e,t,r,n){const{points:s,options:i}=t,{count:a,start:o,loop:l,ilen:c}=k$(s,r,n),u=Dbe(i);let{move:h=!0,reverse:p}=n||{},m,x,y;for(m=0;m<=c;++m)x=s[(o+(p?c-m:m))%a],!x.skip&&(h?(e.moveTo(x.x,x.y),h=!1):u(e,y,x,p,i.stepped),y=x);return l&&(x=s[(o+(p?c:0))%a],u(e,y,x,p,i.stepped)),!!l}function jbe(e,t,r,n){const s=t.points,{count:i,start:a,ilen:o}=k$(s,r,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,p,m,x,y,b,v;const S=T=>(a+(c?o-T:T))%i,_=()=>{y!==b&&(e.lineTo(u,b),e.lineTo(u,y),e.lineTo(u,v))};for(l&&(m=s[S(0)],e.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=s[S(p)],m.skip)continue;const T=m.x,R=m.y,B=T|0;B===x?(R<y?y=R:R>b&&(b=R),u=(h*u+T)/++h):(_(),e.lineTo(T,R),x=B,h=0,y=b=R),v=R}_()}function BA(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?jbe:Lbe}function Fbe(e){return e.stepped?R2e:e.tension||e.cubicInterpolationMode==="monotone"?D2e:t0}function Mbe(e,t,r,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,r,n)&&s.closePath()),T$(e,t.options),e.stroke(s)}function Bbe(e,t,r,n){const{segments:s,options:i}=t,a=BA(t);for(const o of s)T$(e,i,o.style),e.beginPath(),a(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const Ube=typeof Path2D=="function";function $be(e,t,r,n){Ube&&!t.options.segment?Mbe(e,t,r,n):Bbe(e,t,r,n)}class $1 extends bd{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;E2e(this._points,n,t,s,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=z2e(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,s=t[r],i=this.points,a=B2e(this,{property:r,start:s,end:s});if(!a.length)return;const o=[],l=Fbe(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:h,end:p}=a[c],m=i[h],x=i[p];if(m===x){o.push(m);continue}const y=Math.abs((s-m[r])/(x[r]-m[r])),b=l(m,x,y,n.stepped);b[r]=t[r],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,r,n){return BA(this)(t,this,r,n)}path(t,r,n){const s=this.segments,i=BA(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of s)a&=i(t,this,o,{start:r,end:r+n-1});return!!a}draw(t,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),$be(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}_t($1,"id","line"),_t($1,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_t($1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_t($1,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function qR(e,t,r,n){const s=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<s.radius+s.hitRadius}class Ew extends bd{constructor(r){super();_t(this,"parsed");_t(this,"skip");_t(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return qR(this,r,"x",n)}inYRange(r,n){return qR(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!hx(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,jA(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}_t(Ew,"id","point"),_t(Ew,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_t(Ew,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function C$(e,t){const{x:r,y:n,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,h;return e.horizontal?(h=a/2,o=Math.min(r,s),l=Math.max(r,s),c=n-h,u=n+h):(h=i/2,o=r-h,l=r+h,c=Math.min(n,s),u=Math.max(n,s)),{left:o,top:c,right:l,bottom:u}}function Df(e,t,r,n){return e?0:ra(t,r,n)}function zbe(e,t,r){const n=e.options.borderWidth,s=e.borderSkipped,i=a$(n);return{t:Df(s.top,i.top,0,r),r:Df(s.right,i.right,0,t),b:Df(s.bottom,i.bottom,0,r),l:Df(s.left,i.left,0,t)}}function qbe(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Pm(s),a=Math.min(t,r),o=e.borderSkipped,l=n||ln(s);return{topLeft:Df(!l||o.top||o.left,i.topLeft,0,a),topRight:Df(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Df(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Df(!l||o.bottom||o.right,i.bottomRight,0,a)}}function Hbe(e){const t=C$(e),r=t.right-t.left,n=t.bottom-t.top,s=zbe(e,r/2,n/2),i=qbe(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function k3(e,t,r,n){const s=t===null,i=r===null,o=e&&!(s&&i)&&C$(e,n);return o&&(s||Rf(t,o.left,o.right))&&(i||Rf(r,o.top,o.bottom))}function Wbe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Vbe(e,t){e.rect(t.x,t.y,t.w,t.h)}function C3(e,t,r={}){const n=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,a=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}class wy extends bd{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=Hbe(this),o=Wbe(a.radius)?jb:Vbe;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),o(t,C3(a,r,i)),t.clip(),o(t,C3(i,-r,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,C3(i,r)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,r,n){return k3(this,t,r,n)}inXRange(t,r){return k3(this,t,null,r)}inYRange(t,r){return k3(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}_t(wy,"id","bar"),_t(wy,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_t(wy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const HR=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},Gbe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class WR extends bd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Hn(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=na(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=HR(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let h=t;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-u;return this.legendItems.forEach((x,y)=>{const b=n+r/2+i.measureText(x.text).width;(y===0||c[c.length-1]+b+2*o>a)&&(h+=u,c[c.length-(y>0?0:1)]=0,m+=u,p++),l[y]={left:0,top:m,row:p,width:b,height:s},c[c.length-1]+=b+o}),h}_fitCols(t,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-t;let h=o,p=0,m=0,x=0,y=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:S,itemHeight:_}=Kbe(n,r,i,b,s);v>0&&m+_+2*o>u&&(h+=p+o,c.push({width:p,height:m}),x+=p+o,y++,p=m=0),l[v]={left:x,top:m,col:y,width:S,height:_},p=Math.max(p,S),m+=_+o}),h+=p,c.push({width:p,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Om(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=Zi(n,this.left+s,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=Zi(n,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+t+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=Zi(n,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=Zi(n,this.top+t+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;UT(t,this),this._draw(),$T(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=t,o=Ms.color,l=Om(t.rtl,this.left,this.width),c=na(a.font),{padding:u}=a,h=c.size,p=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:x,boxHeight:y,itemHeight:b}=HR(a,h),v=function(B,j,P){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;s.save();const F=Ur(P.lineWidth,1);if(s.fillStyle=Ur(P.fillStyle,o),s.lineCap=Ur(P.lineCap,"butt"),s.lineDashOffset=Ur(P.lineDashOffset,0),s.lineJoin=Ur(P.lineJoin,"miter"),s.lineWidth=F,s.strokeStyle=Ur(P.strokeStyle,o),s.setLineDash(Ur(P.lineDash,[])),a.usePointStyle){const N={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:F},k=l.xPlus(B,x/2),C=j+p;i$(s,N,k,C,a.pointStyleWidth&&x)}else{const N=j+Math.max((h-y)/2,0),k=l.leftForLtr(B,x),C=Pm(P.borderRadius);s.beginPath(),Object.values(C).some(H=>H!==0)?jb(s,{x:k,y:N,w:x,h:y,radius:C}):s.rect(k,N,x,y),s.fill(),F!==0&&s.stroke()}s.restore()},S=function(B,j,P){px(s,P.text,B,j+b/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},_=this.isHorizontal(),T=this._computeTitleHeight();_?m={x:Zi(i,this.left+u,this.right-n[0]),y:this.top+u+T,line:0}:m={x:this.left+u,y:Zi(i,this.top+T+u,this.bottom-r[0].height),line:0},f$(this.ctx,t.textDirection);const R=b+u;this.legendItems.forEach((B,j)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;const P=s.measureText(B.text).width,F=l.textAlign(B.textAlign||(B.textAlign=a.textAlign)),N=x+p+P;let k=m.x,C=m.y;l.setWidth(this.width),_?j>0&&k+N+u>this.right&&(C=m.y+=R,m.line++,k=m.x=Zi(i,this.left+u,this.right-n[m.line])):j>0&&C+R>this.bottom&&(k=m.x=k+r[m.line].width+u,m.line++,C=m.y=Zi(i,this.top+T+u,this.bottom-r[m.line].height));const H=l.x(k);if(v(H,C,B),k=zve(F,k+x+p,_?k+N:this.right,t.rtl),S(l.x(k),C,B),_)m.x+=N+u;else if(typeof B.text!="string"){const z=c.lineHeight;m.y+=I$(B,z)+u}else m.y+=R}),h$(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=na(r.font),s=xl(r.padding);if(!r.display)return;const i=Om(t.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=s.top+l;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,h=Zi(t.align,h,this.right-p);else{const x=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+Zi(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const m=Zi(o,h,h+p);a.textAlign=i.textAlign(FT(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,px(a,r.text,m,u,n)}_computeTitleHeight(){const t=this.options.title,r=na(t.font),n=xl(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,s,i;if(Rf(t,this.left,this.right)&&Rf(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Rf(t,s.left,s.left+s.width)&&Rf(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!Qbe(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=Gbe(s,n);s&&!i&&Hn(r.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!i&&Hn(r.onHover,[t,n,this],this)}else n&&Hn(r.onClick,[t,n,this],this)}}function Kbe(e,t,r,n,s){const i=Ybe(n,e,t,r),a=Xbe(s,n,t.lineHeight);return{itemWidth:i,itemHeight:a}}function Ybe(e,t,r,n){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),t+r.size/2+n.measureText(s).width}function Xbe(e,t,r){let n=e;return typeof t.text!="string"&&(n=I$(t,r)),n}function I$(e,t){const r=e.text?e.text.length:0;return t*r}function Qbe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var P$={id:"legend",_element:WR,start(e,t,r){const n=e.legend=new WR({ctx:e.ctx,options:r,chart:e});cl.configure(e,n,r),cl.addBox(e,n)},stop(e){cl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;cl.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=xl(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class O$ extends bd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const s=ai(n.text)?n.text.length:1;this._padding=xl(n.padding);const i=s*na(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:s,right:i,options:a}=this,o=a.align;let l=0,c,u,h;return this.isHorizontal()?(u=Zi(o,n,i),h=r+t,c=i-n):(a.position==="left"?(u=n+t,h=Zi(o,s,r),l=Tn*-.5):(u=i-t,h=Zi(o,r,s),l=Tn*.5),c=s-r),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=na(r.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);px(t,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:FT(r.align),textBaseline:"middle",translation:[a,o]})}}function Zbe(e,t){const r=new O$({ctx:e.ctx,options:t,chart:e});cl.configure(e,r,t),cl.addBox(e,r),e.titleBlock=r}var Jbe={id:"title",_element:O$,start(e,t,r){Zbe(e,r)},stop(e){const t=e.titleBlock;cl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;cl.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const z1={average(e){if(!e.length)return!1;let t,r,n=new Set,s=0,i=0;for(t=0,r=e.length;t<r;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),s+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=e.length;i<a;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=DA(t,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Yc(e,t){return t&&(ai(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Mu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function e_e(e,t){const{element:r,datasetIndex:n,index:s}=t,i=e.getDatasetMeta(n).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function VR(e,t){const r=e.chart.ctx,{body:n,footer:s,title:i}=e,{boxWidth:a,boxHeight:o}=t,l=na(t.bodyFont),c=na(t.titleFont),u=na(t.footerFont),h=i.length,p=s.length,m=n.length,x=xl(t.padding);let y=x.height,b=0,v=n.reduce((T,R)=>T+R.before.length+R.lines.length+R.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const T=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=m*T+(v-m)*l.lineHeight+(v-1)*t.bodySpacing}p&&(y+=t.footerMarginTop+p*u.lineHeight+(p-1)*t.footerSpacing);let S=0;const _=function(T){b=Math.max(b,r.measureText(T).width+S)};return r.save(),r.font=c.string,En(e.title,_),r.font=l.string,En(e.beforeBody.concat(e.afterBody),_),S=t.displayColors?a+2+t.boxPadding:0,En(n,T=>{En(T.before,_),En(T.lines,_),En(T.after,_)}),S=0,r.font=u.string,En(e.footer,_),r.restore(),b+=x.width,{width:b,height:y}}function t_e(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function r_e(e,t,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(e==="left"&&s+i+a>t.width||e==="right"&&s-i-a<0)return!0}function n_e(e,t,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return n==="center"?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),r_e(c,e,t,r)&&(c="center"),c}function GR(e,t,r){const n=r.yAlign||t.yAlign||t_e(e,r);return{xAlign:r.xAlign||t.xAlign||n_e(e,t,r,n),yAlign:n}}function s_e(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function i_e(e,t,r){let{y:n,height:s}=e;return t==="top"?n+=r:t==="bottom"?n-=s+r:n-=s/2,n}function KR(e,t,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:o,yAlign:l}=r,c=s+i,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:m}=Pm(a);let x=s_e(t,o);const y=i_e(t,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(u,p)+s:o==="right"&&(x+=Math.max(h,m)+s),{x:ra(x,0,n.width-t.width),y:ra(y,0,n.height-t.height)}}function U2(e,t,r){const n=xl(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function YR(e){return Yc([],Mu(e))}function a_e(e,t,r){return up(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function XR(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const R$={beforeTitle:ju,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:ju,beforeBody:ju,beforeLabel:ju,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return vn(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ju,afterBody:ju,beforeFooter:ju,footer:ju,afterFooter:ju};function Ha(e,t,r,n){const s=e[t].call(r,n);return typeof s>"u"?R$[t].call(r,n):s}class UA extends bd{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new m$(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=a_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,s=Ha(n,"beforeTitle",this,t),i=Ha(n,"title",this,t),a=Ha(n,"afterTitle",this,t);let o=[];return o=Yc(o,Mu(s)),o=Yc(o,Mu(i)),o=Yc(o,Mu(a)),o}getBeforeBody(t,r){return YR(Ha(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,s=[];return En(t,i=>{const a={before:[],lines:[],after:[]},o=XR(n,i);Yc(a.before,Mu(Ha(o,"beforeLabel",this,i))),Yc(a.lines,Ha(o,"label",this,i)),Yc(a.after,Mu(Ha(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(t,r){return YR(Ha(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,s=Ha(n,"beforeFooter",this,t),i=Ha(n,"footer",this,t),a=Ha(n,"afterFooter",this,t);let o=[];return o=Yc(o,Mu(s)),o=Yc(o,Mu(i)),o=Yc(o,Mu(a)),o}_createItems(t){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(e_e(this.chart,r[l]));return t.filter&&(o=o.filter((u,h,p)=>t.filter(u,h,p,n))),t.itemSort&&(o=o.sort((u,h)=>t.itemSort(u,h,n))),En(o,u=>{const h=XR(t.callbacks,u);s.push(Ha(h,"labelColor",this,u)),i.push(Ha(h,"labelPointStyle",this,u)),a.push(Ha(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(t,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=z1[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=VR(this,n),c=Object.assign({},o,l),u=GR(this.chart,n,c),h=KR(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,s){const i=this.getCaretPosition(t,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Pm(o),{x:p,y:m}=t,{width:x,height:y}=r;let b,v,S,_,T,R;return i==="center"?(T=m+y/2,s==="left"?(b=p,v=b-a,_=T+a,R=T-a):(b=p+x,v=b+a,_=T-a,R=T+a),S=b):(s==="left"?v=p+Math.max(l,u)+a:s==="right"?v=p+x-Math.max(c,h)-a:v=this.caretX,i==="top"?(_=m,T=_-a,b=v-a,S=v+a):(_=m+y,T=_+a,b=v+a,S=v-a),R=_),{x1:b,x2:v,x3:S,y1:_,y2:T,y3:R}}drawTitle(t,r,n){const s=this.title,i=s.length;let a,o,l;if(i){const c=Om(n.rtl,this.x,this.width);for(t.x=U2(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=na(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<i;++l)r.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,r,n,s,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=na(i.bodyFont),h=U2(this,"left",i),p=s.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,x=r.y+m;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(p,c)+c/2,v=x+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,jA(t,y,b,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,jA(t,y,b,v)}else{t.lineWidth=ln(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(p,c),b=s.leftForLtr(s.xPlus(p,1),c-2),v=Pm(a.borderRadius);Object.values(v).some(S=>S!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,jb(t,{x:y,y:x,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),jb(t,{x:b,y:x+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(y,x,c,l),t.strokeRect(y,x,c,l),t.fillStyle=a.backgroundColor,t.fillRect(b,x+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=na(n.bodyFont);let p=h.lineHeight,m=0;const x=Om(n.rtl,this.x,this.width),y=function(P){r.fillText(P,x.x(t.x+m),t.y+p/2),t.y+=p+i},b=x.textAlign(a);let v,S,_,T,R,B,j;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,t.x=U2(this,b,n),r.fillStyle=n.bodyColor,En(this.beforeBody,y),m=o&&b!=="right"?a==="center"?c/2+u:c+2+u:0,T=0,B=s.length;T<B;++T){for(v=s[T],S=this.labelTextColors[T],r.fillStyle=S,En(v.before,y),_=v.lines,o&&_.length&&(this._drawColorBox(r,t,T,x,n),p=Math.max(h.lineHeight,l)),R=0,j=_.length;R<j;++R)y(_[R]),p=h.lineHeight;En(v.after,y)}m=0,p=h.lineHeight,En(this.afterBody,y),t.y-=i}drawFooter(t,r,n){const s=this.footer,i=s.length;let a,o;if(i){const l=Om(n.rtl,this.x,this.width);for(t.x=U2(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=na(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<i;++o)r.fillText(s[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n.footerSpacing}}drawBackground(t,r,n,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:u}=n,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:x}=Pm(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(o+h,l),a==="top"&&this.drawCaret(t,r,n,s),r.lineTo(o+c-p,l),r.quadraticCurveTo(o+c,l,o+c,l+p),a==="center"&&i==="right"&&this.drawCaret(t,r,n,s),r.lineTo(o+c,l+u-x),r.quadraticCurveTo(o+c,l+u,o+c-x,l+u),a==="bottom"&&this.drawCaret(t,r,n,s),r.lineTo(o+m,l+u),r.quadraticCurveTo(o,l+u,o,l+u-m),a==="center"&&i==="left"&&this.drawCaret(t,r,n,s),r.lineTo(o,l+h),r.quadraticCurveTo(o,l,o+h,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=z1[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=VR(this,t),l=Object.assign({},a,this._size),c=GR(r,t,l),u=KR(t,l,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=xl(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,s,r),f$(t,r.textDirection),i.y+=a.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),h$(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,s=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!Rb(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(t,i,r,n),o=this._positionChanged(a,t),l=r||!Rb(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,n,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(t,r){const{caretX:n,caretY:s,options:i}=this,a=z1[i.position].call(this,t,r);return a!==!1&&(n!==a.x||s!==a.y)}}_t(UA,"positioners",z1);var D$={id:"tooltip",_element:UA,positioners:z1,afterInit(e,t,r){r&&(e.tooltip=new UA({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:R$},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const o_e=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function l_e(e,t,r,n){const s=e.indexOf(t);if(s===-1)return o_e(e,t,r,n);const i=e.lastIndexOf(t);return s!==i?r:s}const c_e=(e,t)=>e===null?null:ra(Math.round(e),0,t);function QR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ub extends kg{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(vn(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:l_e(n,t,Ur(r,t),this._addedLabels),c_e(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=t;a<=r;a++)s.push({value:a});return s}getLabelForValue(t){return QR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}_t(Ub,"id","category"),_t(Ub,"defaults",{ticks:{callback:QR}});function u_e(e,t){const r=[],{bounds:s,step:i,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:p}=e,m=i||1,x=u-1,{min:y,max:b}=t,v=!vn(a),S=!vn(o),_=!vn(c),T=(b-y)/(h+1);let R=J8((b-y)/x/m)*m,B,j,P,F;if(R<1e-14&&!v&&!S)return[{value:y},{value:b}];F=Math.ceil(b/R)-Math.floor(y/R),F>x&&(R=J8(F*R/x/m)*m),vn(l)||(B=Math.pow(10,l),R=Math.ceil(R*B)/B),s==="ticks"?(j=Math.floor(y/R)*R,P=Math.ceil(b/R)*R):(j=y,P=b),v&&S&&i&&Rve((o-a)/i,R/1e3)?(F=Math.round(Math.min((o-a)/R,u)),R=(o-a)/F,j=a,P=o):_?(j=v?a:j,P=S?o:P,F=c-1,R=(P-j)/F):(F=(P-j)/R,yy(F,Math.round(F),R/1e3)?F=Math.round(F):F=Math.ceil(F));const N=Math.max(eR(R),eR(j));B=Math.pow(10,vn(l)?N:l),j=Math.round(j*B)/B,P=Math.round(P*B)/B;let k=0;for(v&&(p&&j!==a?(r.push({value:a}),j<a&&k++,yy(Math.round((j+k*R)*B)/B,a,ZR(a,T,e))&&k++):j<a&&k++);k<F;++k){const C=Math.round((j+k*R)*B)/B;if(S&&C>o)break;r.push({value:C})}return S&&p&&P!==o?r.length&&yy(r[r.length-1].value,o,ZR(o,T,e))?r[r.length-1].value=o:r.push({value:o}):(!S||P===o)&&r.push({value:P}),r}function ZR(e,t,{horizontal:r,minRotation:n}){const s=Ju(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class d_e extends kg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return vn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=r?s:l,o=l=>i=n?i:l;if(t){const l=pu(s),c=pu(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),t||a(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=u_e(s,i);return t.bounds==="ticks"&&Dve(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-r)/Math.max(t.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return BT(t,this.chart.options.locale,this.options.ticks.format)}}class $b extends d_e{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=yl(t)?t:0,this.max=yl(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Ju(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}_t($b,"id","linear"),_t($b,"defaults",{ticks:{callback:s$.formatters.numeric}});const M_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ka=Object.keys(M_);function JR(e,t){return e-t}function eD(e,t){if(vn(t))return null;const r=e._adapter,{parser:n,round:s,isoWeekday:i}=e._parseOpts;let a=t;return typeof n=="function"&&(a=n(a)),yl(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(dx(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function tD(e,t,r,n){const s=Ka.length;for(let i=Ka.indexOf(e);i<s-1;++i){const a=M_[Ka[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-t)/(o*a.size))<=n)return Ka[i]}return Ka[s-1]}function f_e(e,t,r,n,s){for(let i=Ka.length-1;i>=Ka.indexOf(r);i--){const a=Ka[i];if(M_[a].common&&e._adapter.diff(s,n,a)>=t-1)return a}return Ka[r?Ka.indexOf(r):0]}function h_e(e){for(let t=Ka.indexOf(e)+1,r=Ka.length;t<r;++t)if(M_[Ka[t]].common)return Ka[t]}function rD(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:s}=jT(r,t),i=r[n]>=t?r[n]:r[s];e[i]=!0}}function p_e(e,t,r,n){const s=e._adapter,i=+s.startOf(t[0].value,n),a=t[t.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,n))l=r[o],l>=0&&(t[l].major=!0);return t}function nD(e,t,r){const n=[],s={},i=t.length;let a,o;for(a=0;a<i;++a)o=t[a],s[o]=a,n.push({value:o,major:!1});return i===0||!r?n:p_e(e,n,s,r)}class zb extends kg{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),s=this._adapter=new xwe._date(t.adapters.date);s.init(r),gy(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:eD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=yl(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=yl(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=Bve(s,i,a);return this._unit=r.unit||(n.autoSkip?tD(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):f_e(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:h_e(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),nD(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?r=1-s:r=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;r=ra(r,0,a),n=ra(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||tD(i.minUnit,r,n,this._getLabelCapacity(r)),o=Ur(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=dx(l)||l===!0,u={};let h=r,p,m;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":a),t.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=h,m=0;p<n;p=+t.add(p,o,a),m++)rD(u,p,x);return(p===n||s.bounds==="ticks"||m===1)&&rD(u,p,x),Object.keys(u).sort(JR).map(y=>+y)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(t,a)}_tickFormatFunction(t,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return Hn(a,[t,r,n],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],h=c&&o[c],p=n[r],m=c&&h&&p&&p.major;return this._adapter.format(t,s||(m?h:u))}generateTickLabels(t){let r,n,s;for(r=0,n=t.length;r<n;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,s=Ju(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,nD(this,[t],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)t.push(eD(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return e$(t.sort(JR))}}_t(zb,"id","time"),_t(zb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $2(e,t,r){let n=0,s=e.length-1,i,a,o,l;r?(t>=e[n].pos&&t<=e[s].pos&&({lo:n,hi:s}=p0(e,"pos",t)),{pos:i,time:o}=e[n],{pos:a,time:l}=e[s]):(t>=e[n].time&&t<=e[s].time&&({lo:n,hi:s}=p0(e,"time",t)),{time:i,pos:o}=e[n],{time:a,pos:l}=e[s]);const c=a-i;return c?o+(l-o)*(t-i)/c:o}class sD extends zb{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=$2(r,this.min),this._tableRange=$2(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,s=[],i=[];let a,o,l,c,u;for(a=0,o=t.length;a<o;++a)c=t[a],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return($2(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return $2(this._table,n*this._tableRange+this._minPos,!0)}}_t(sD,"id","timeseries"),_t(sD,"defaults",zb.defaults);const L$="label";function iD(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function m_e(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function j$(e,t){e.labels=t}function F$(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L$;const n=[];e.datasets=t.map(s=>{const i=e.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function g_e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L$;const r={labels:[],datasets:[]};return j$(r,e.labels),F$(r,e.datasets,t),r}function y_e(e,t){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...p}=e,m=L.useRef(null),x=L.useRef(null),y=()=>{m.current&&(x.current=new Qx(m.current,{type:a,data:g_e(o,i),options:l&&{...l},plugins:c}),iD(t,x.current))},b=()=>{iD(t,null),x.current&&(x.current.destroy(),x.current=null)};return L.useEffect(()=>{!s&&x.current&&l&&m_e(x.current,l)},[s,l]),L.useEffect(()=>{!s&&x.current&&j$(x.current.config.data,o.labels)},[s,o.labels]),L.useEffect(()=>{!s&&x.current&&o.datasets&&F$(x.current.config.data,o.datasets,i)},[s,o.datasets]),L.useEffect(()=>{x.current&&(s?(b(),setTimeout(y)):x.current.update(h))},[s,l,o.labels,o.datasets,h]),L.useEffect(()=>{x.current&&(b(),setTimeout(y))},[a]),L.useEffect(()=>(y(),()=>b()),[]),Hr.createElement("canvas",{ref:m,role:"img",height:r,width:n,...p},u)}const x_e=L.forwardRef(y_e);function YT(e,t){return Qx.register(t),L.forwardRef((r,n)=>Hr.createElement(x_e,{...r,ref:n,type:e}))}const v_e=YT("line",_w),Nw=YT("bar",bw),aD=YT("doughnut",M1);Qx.register(Ub,$b,wy,Jbe,D$,P$);const oD=()=>{const{t:e}=Yn(),{user:t}=ps(),[r,n]=L.useState([]),[s,i]=L.useState([]),[a,o]=L.useState([]),[l,c]=L.useState({branchSales:[],productSales:[],departmentSales:[]}),[u,h]=L.useState(""),[p,m]=L.useState(""),[x,y]=L.useState(""),[b,v]=L.useState(!0),[S,_]=L.useState(""),[T,R]=L.useState([]),[B,j]=L.useState(""),[P,F]=L.useState((t==null?void 0:t.role)==="branch"&&(t!=null&&t.branchId)?t.branchId:""),N=L.useCallback(async()=>{if(!(t!=null&&t.role)||!["branch","admin"].includes(t.role)){_(e("errors.unauthorized_access")),ke.error(e("errors.unauthorized_access")),v(!1);return}if(t.role==="branch"&&!t.branchId&&!P){_(e("errors.no_branch_assigned")),ke.error(e("errors.no_branch_assigned")),v(!1);return}v(!0);try{const ne={page:1,limit:100};t.role==="branch"?ne.branch=t.branchId||P:u&&(ne.branch=u),p&&(ne.startDate=p),x&&(ne.endDate=x);const[ee,X,I,U,G]=await Promise.all([oS.getAll(ne),t.role==="admin"?Ri.getAll():Promise.resolve({branches:[]}),uf.getInventory({branch:t.branchId||P,lowStock:!1}),Uy.getAll(ne),t.role==="admin"?oS.getAnalytics(ne):Promise.resolve({branchSales:[],productSales:[],departmentSales:[]})]),V=new Map;Array.isArray(U.returns)&&U.returns.forEach(Q=>{var Se;const ge=((Se=Q.order)==null?void 0:Se._id)||Q.order;V.has(ge)||V.set(ge,[]),V.get(ge).push({_id:Q._id,returnNumber:Q.returnNumber,status:Q.status,items:Array.isArray(Q.items)?Q.items.map(pe=>{var oe;return{product:((oe=pe.product)==null?void 0:oe._id)||pe.product,quantity:pe.quantity,reason:pe.reason}}):[],reason:Q.reason,createdAt:new Date(Q.createdAt).toLocaleDateString(e("locale"),{year:"numeric",month:"long",day:"numeric"})})}),n(ee.sales.map(Q=>({_id:Q._id,orderNumber:Q.orderNumber,branch:Q.branch||{_id:"unknown",name:e("branches.unknown")},items:Array.isArray(Q.items)?Q.items.map(ge=>{var Se,pe;return{product:((Se=ge.product)==null?void 0:Se._id)||ge.productId,productName:((pe=ge.product)==null?void 0:pe.name)||ge.productName||e("products.unknown"),quantity:ge.quantity,unitPrice:ge.unitPrice}}):[],totalAmount:Q.totalAmount||0,createdAt:new Date(Q.createdAt).toLocaleDateString(e("locale"),{year:"numeric",month:"long",day:"numeric"}),notes:Q.notes,returns:V.get(Q._id)||[]}))),i(Array.isArray(X.branches)?X.branches.map(Q=>({_id:Q._id,name:Q.name})):[]),o(Array.isArray(I)?I.filter(Q=>{var ge,Se;return Q.currentStock>0&&((ge=Q.product)==null?void 0:ge._id)&&((Se=Q.product)==null?void 0:Se.name)}).map(Q=>{var ge,Se,pe,oe;return{_id:Q._id,product:{_id:((ge=Q.product)==null?void 0:ge._id)||"unknown",name:((Se=Q.product)==null?void 0:Se.name)||e("products.unknown"),price:((pe=Q.product)==null?void 0:pe.price)||0,department:((oe=Q.product)==null?void 0:oe.department)||{_id:"unknown",name:e("departments.unknown")}},currentStock:Q.currentStock||0}}):[]),c({branchSales:G.branchSales||[],productSales:G.productSales||[],departmentSales:G.departmentSales||[]}),_("")}catch(ne){_(ne.message||e("errors.fetch_sales")),ke.error(ne.message||e("errors.fetch_sales")),n([])}finally{v(!1)}},[u,p,x,P,t,e]),k=ne=>{if(ne.currentStock<1){_(e("errors.insufficient_stock")),ke.error(e("errors.insufficient_stock"));return}R(ee=>{const X=ee.find(I=>I.productId===ne.product._id);return X?X.quantity>=ne.currentStock?(_(e("errors.exceeds_max_quantity")),ke.error(e("errors.exceeds_max_quantity")),ee):ee.map(I=>I.productId===ne.product._id?{...I,quantity:I.quantity+1}:I):[...ee,{productId:ne.product._id,productName:ne.product.name,quantity:1,unitPrice:ne.product.price}]}),_("")},C=(ne,ee)=>{const X=a.find(I=>I.product._id===ne);if(!X||ee<1||ee>X.currentStock){_(ee<1?e("errors.invalid_quantity"):e("errors.exceeds_max_quantity")),ke.error(ee<1?e("errors.invalid_quantity"):e("errors.exceeds_max_quantity"));return}R(I=>I.map(U=>U.productId===ne?{...U,quantity:ee}:U)),_("")},H=ne=>{R(ee=>ee.filter(X=>X.productId!==ne)),_("")},z=async()=>{if((t==null?void 0:t.role)==="branch"&&!t.branchId&&!P){_(e("errors.no_branch_assigned")),ke.error(e("errors.no_branch_assigned"));return}if(T.length===0){_(e("errors.empty_cart")),ke.error(e("errors.empty_cart"));return}try{const ne={items:T.map(ee=>({productId:ee.productId,quantity:ee.quantity,unitPrice:ee.unitPrice})),branch:(t==null?void 0:t.role)==="branch"&&t.branchId||P,notes:B};await oS.create(ne),ke.success(e("salesReport.sale_success")),R([]),j(""),F((t==null?void 0:t.role)==="branch"&&(t!=null&&t.branchId)?t.branchId:""),await N()}catch(ne){_(ne.message||e("errors.create_sale_failed")),ke.error(ne.message||e("errors.create_sale_failed"))}};L.useEffect(()=>{N()},[N]);const K=T.reduce((ne,ee)=>ne+ee.quantity*ee.unitPrice,0),Y={labels:l.branchSales.map(ne=>ne.branchName),datasets:[{label:e("salesReport.branchSales"),data:l.branchSales.map(ne=>ne.totalSales),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},W={labels:l.productSales.map(ne=>ne.productName),datasets:[{label:e("salesReport.productSales"),data:l.productSales.map(ne=>ne.totalRevenue),backgroundColor:"rgba(153, 102, 255, 0.6)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},Z={labels:l.departmentSales.map(ne=>ne.departmentName),datasets:[{label:e("salesReport.departmentSales"),data:l.departmentSales.map(ne=>ne.totalRevenue),backgroundColor:"rgba(255, 159, 64, 0.6)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]};return d.jsxs("div",{className:"container mx-auto px-4 py-6 min-h-screen bg-gradient-to-br from-amber-50 to-teal-50",dir:"rtl",children:[d.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[d.jsx(tb,{className:"w-8 h-8 text-amber-600"}),e("salesReport.title")]}),d.jsx("p",{className:"text-gray-600",children:e("salesReport.subtitle")})]}),S&&d.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600",children:S})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs(tr,{className:"p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("salesReport.filters")}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(es,{value:u,onChange:ne=>h(ne.target.value),options:[{value:"",label:e("branches.all_branches")},...s.map(ne=>({value:ne._id,label:ne.name}))],placeholder:e("branches.select_branch"),className:"w-full sm:w-40"}),d.jsx(Mt,{type:"date",value:p,onChange:ne=>m(ne.target.value),placeholder:e("salesReport.startDate"),className:"w-full sm:w-40"}),d.jsx(Mt,{type:"date",value:x,onChange:ne=>y(ne.target.value),placeholder:e("salesReport.endDate"),className:"w-full sm:w-40"})]})]}),(t==null?void 0:t.role)==="branch"&&d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[d.jsxs("div",{className:"lg:w-3/4",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("salesReport.availableProducts")}),t.role==="branch"&&!t.branchId&&d.jsx(es,{value:P,onChange:ne=>F(ne.target.value),options:s.map(ne=>({value:ne._id,label:ne.name})),placeholder:e("branches.select_branch"),className:"w-full sm:w-48 mb-4",required:!0}),a.length===0?d.jsx(tr,{className:"p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:e("salesReport.noProducts")})}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(ne=>{var ee;return d.jsxs(tr,{className:"p-5",children:[d.jsx("h3",{className:"font-semibold",children:ne.product.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("salesReport.department"),": ",((ee=ne.product.department)==null?void 0:ee.name)||e("departments.unknown")]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("salesReport.availableStock"),": ",ne.currentStock," ",e("units.kg")]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("salesReport.unitPrice"),": ",ne.product.price," ",e("currency")]}),d.jsxs(dt,{onClick:()=>k(ne),disabled:ne.currentStock<1,className:"mt-3 flex items-center gap-2",children:[d.jsx(nI,{className:"w-5 h-5"}),e("salesReport.addToCart")]})]},ne._id)})})]}),d.jsx("div",{className:"lg:w-1/4",children:d.jsxs(tr,{className:"p-6 sticky top-4",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("salesReport.cart")}),T.length===0?d.jsx("p",{className:"text-gray-600",children:e("salesReport.emptyCart")}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"space-y-3 mb-4",children:T.map(ne=>d.jsxs("li",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:ne.productName}),d.jsxs("p",{className:"text-sm text-gray-600",children:[ne.quantity," ",e("units.kg"),"  ",ne.unitPrice," ",e("currency")]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(dt,{onClick:()=>C(ne.productId,ne.quantity-1),size:"sm",variant:"outline",children:d.jsx(Nte,{className:"w-4 h-4"})}),d.jsx("span",{children:ne.quantity}),d.jsx(dt,{onClick:()=>C(ne.productId,ne.quantity+1),size:"sm",variant:"outline",children:d.jsx(nI,{className:"w-4 h-4"})}),d.jsx(dt,{onClick:()=>H(ne.productId),size:"sm",variant:"outline",className:"text-red-600",children:d.jsx(ch,{className:"w-4 h-4"})})]})]},ne.productId))}),d.jsxs("p",{className:"text-lg font-semibold",children:[e("salesReport.total"),": ",K.toFixed(2)," ",e("currency")]}),d.jsx(Mt,{type:"textarea",value:B,onChange:ne=>j(ne.target.value),placeholder:e("salesReport.notes"),className:"w-full mt-4"}),d.jsx(dt,{onClick:z,disabled:T.length===0||(t==null?void 0:t.role)==="branch"&&!t.branchId&&!P,className:"w-full mt-4",children:e("salesReport.submitSale")})]})]})})]}),(t==null?void 0:t.role)==="admin"&&d.jsxs("div",{className:"mt-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("salesReport.analytics")}),d.jsxs(tr,{className:"p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:e("salesReport.branchSales")}),d.jsx(Nw,{data:Y,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e("salesReport.branchSales")}}}})]}),d.jsxs(tr,{className:"p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:e("salesReport.productSales")}),d.jsx(Nw,{data:W,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e("salesReport.productSales")}}}})]}),d.jsxs(tr,{className:"p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:e("salesReport.departmentSales")}),d.jsx(Nw,{data:Z,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e("salesReport.departmentSales")}}}})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:e("salesReport.previousSales")}),b?d.jsx(wl,{size:"lg"}):r.length===0?d.jsxs(tr,{className:"p-8 text-center",children:[d.jsx(tb,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:e("salesReport.noSales")})]}):r.map(ne=>d.jsx(tr,{className:"p-5",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold",children:[ne.orderNumber," - ",ne.branch.name]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("salesReport.date"),": ",ne.createdAt]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e("salesReport.total"),": ",ne.totalAmount," ",e("currency")]}),ne.notes&&d.jsxs("p",{className:"text-sm text-gray-500",children:[e("salesReport.notes"),": ",ne.notes]}),d.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mt-2",children:ne.items.map((ee,X)=>d.jsxs("li",{children:[ee.productName," - ",e("salesReport.quantity"),": ",ee.quantity," ",e("units.kg"),","," ",e("salesReport.unitPrice"),": ",ee.unitPrice," ",e("currency")]},X))}),ne.returns&&ne.returns.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[e("salesReport.returns"),":"]}),d.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:ne.returns.map((ee,X)=>d.jsxs("li",{children:[e("salesReport.return")," #",ee.returnNumber," (",e(`returns.status.${ee.status}`),") -"," ",e("salesReport.reason"),": ",ee.reason,d.jsx("ul",{className:"list-circle list-inside ml-4",children:ee.items.map((I,U)=>d.jsxs("li",{children:[e("salesReport.quantity"),": ",I.quantity," ",e("units.kg"),","," ",e("salesReport.reason"),": ",I.reason]},U))})]},X))})]})]})})},ne._id))]})]})};var Cg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z0=typeof window>"u"||"Deno"in globalThis;function Ea(){}function w_e(e,t){return typeof e=="function"?e(t):e}function $A(e){return typeof e=="number"&&e>=0&&e!==1/0}function M$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kf(e,t){return typeof e=="function"?e(t):e}function nl(e,t){return typeof e=="function"?e(t):e}function lD(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==XT(a,t.options))return!1}else if(!gx(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function cD(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(J0(t.options.mutationKey)!==J0(i))return!1}else if(!gx(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function XT(e,t){return((t==null?void 0:t.queryKeyHashFn)||J0)(e)}function J0(e){return JSON.stringify(e,(t,r)=>zA(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function gx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>gx(e[r],t[r])):!1}function B$(e,t){if(e===t)return e;const r=uD(e)&&uD(t);if(r||zA(e)&&zA(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<a;u++){const h=r?u:i[u];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,c++):(o[h]=B$(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&c++)}return s===a&&c===s?e:o}return t}function qb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function uD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zA(e){if(!dD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!dD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dD(e){return Object.prototype.toString.call(e)==="[object Object]"}function b_e(e){return new Promise(t=>{setTimeout(t,e)})}function qA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?B$(e,t):t}function __e(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function S_e(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var QT=Symbol();function U$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===QT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $$(e,t){return typeof e=="function"?e(...t):!!e}var m0,pf,Rm,xD,A_e=(xD=class extends Cg{constructor(){super();ir(this,m0);ir(this,pf);ir(this,Rm);$t(this,Rm,t=>{if(!Z0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ie(this,pf)||this.setEventListener(Ie(this,Rm))}onUnsubscribe(){var t;this.hasListeners()||((t=Ie(this,pf))==null||t.call(this),$t(this,pf,void 0))}setEventListener(t){var r;$t(this,Rm,t),(r=Ie(this,pf))==null||r.call(this),$t(this,pf,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ie(this,m0)!==t&&($t(this,m0,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ie(this,m0)=="boolean"?Ie(this,m0):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},m0=new WeakMap,pf=new WeakMap,Rm=new WeakMap,xD),ZT=new A_e,Dm,mf,Lm,vD,E_e=(vD=class extends Cg{constructor(){super();ir(this,Dm,!0);ir(this,mf);ir(this,Lm);$t(this,Lm,t=>{if(!Z0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ie(this,mf)||this.setEventListener(Ie(this,Lm))}onUnsubscribe(){var t;this.hasListeners()||((t=Ie(this,mf))==null||t.call(this),$t(this,mf,void 0))}setEventListener(t){var r;$t(this,Lm,t),(r=Ie(this,mf))==null||r.call(this),$t(this,mf,t(this.setOnline.bind(this)))}setOnline(t){Ie(this,Dm)!==t&&($t(this,Dm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ie(this,Dm)}},Dm=new WeakMap,mf=new WeakMap,Lm=new WeakMap,vD),Hb=new E_e;function HA(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function N_e(e){return Math.min(1e3*2**e,3e4)}function z$(e){return(e??"online")==="online"?Hb.isOnline():!0}var q$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function H$(e){let t=!1,r=0,n;const s=HA(),i=()=>s.status!=="pending",a=y=>{var b;i()||(p(new q$(y)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},l=()=>{t=!1},c=()=>ZT.isFocused()&&(e.networkMode==="always"||Hb.isOnline())&&e.canRun(),u=()=>z$(e.networkMode)&&e.canRun(),h=y=>{i()||(n==null||n(),s.resolve(y))},p=y=>{i()||(n==null||n(),s.reject(y))},m=()=>new Promise(y=>{var b;n=v=>{(i()||c())&&y(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(i())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var B;if(i())return;const S=e.retry??(Z0?0:3),_=e.retryDelay??N_e,T=typeof _=="function"?_(r,v):_,R=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,v);if(t||!R){p(v);return}r++,(B=e.onFail)==null||B.call(e,r,v),b_e(T).then(()=>c()?void 0:m()).then(()=>{t?p(v):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?x():m().then(x),s)}}var T_e=e=>setTimeout(e,0);function k_e(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=T_e;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ii=k_e(),g0,wD,W$=(wD=class{constructor(){ir(this,g0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$A(this.gcTime)&&$t(this,g0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Z0?1/0:5*60*1e3))}clearGcTimeout(){Ie(this,g0)&&(clearTimeout(Ie(this,g0)),$t(this,g0,void 0))}},g0=new WeakMap,wD),jm,Fm,el,y0,gi,yx,x0,Xl,Bu,bD,C_e=(bD=class extends W${constructor(t){super();ir(this,Xl);ir(this,jm);ir(this,Fm);ir(this,el);ir(this,y0);ir(this,gi);ir(this,yx);ir(this,x0);$t(this,x0,!1),$t(this,yx,t.defaultOptions),this.setOptions(t.options),this.observers=[],$t(this,y0,t.client),$t(this,el,Ie(this,y0).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$t(this,jm,I_e(this.options)),this.state=t.state??Ie(this,jm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ie(this,gi))==null?void 0:t.promise}setOptions(t){this.options={...Ie(this,yx),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ie(this,el).remove(this)}setData(t,r){const n=qA(this.state.data,t,this.options);return Fr(this,Xl,Bu).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Fr(this,Xl,Bu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Ie(this,gi))==null?void 0:n.promise;return(s=Ie(this,gi))==null||s.cancel(t),r?r.then(Ea).catch(Ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ie(this,jm))}isActive(){return this.observers.some(t=>nl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Kf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!M$(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ie(this,gi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ie(this,gi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ie(this,el).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ie(this,gi)&&(Ie(this,x0)?Ie(this,gi).cancel({revert:!0}):Ie(this,gi).cancelRetry()),this.scheduleGc()),Ie(this,el).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fr(this,Xl,Bu).call(this,{type:"invalidate"})}async fetch(t,r){var l,c,u,h,p,m,x,y,b,v,S,_;if(this.state.fetchStatus!=="idle"&&((l=Ie(this,gi))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ie(this,gi))return Ie(this,gi).continueRetry(),Ie(this,gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(R=>R.options.queryFn);T&&this.setOptions(T.options)}const n=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>($t(this,x0,!0),n.signal)})},i=()=>{const T=U$(this.options,r),B=(()=>{const j={client:Ie(this,y0),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return $t(this,x0,!1),this.options.persister?this.options.persister(T,B,this):T(B)},o=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ie(this,y0),state:this.state,fetchFn:i};return s(T),T})();(c=this.options.behavior)==null||c.onFetch(o,this),$t(this,Fm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Fr(this,Xl,Bu).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),$t(this,gi,H$({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(T,R)=>{Fr(this,Xl,Bu).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Fr(this,Xl,Bu).call(this,{type:"pause"})},onContinue:()=>{Fr(this,Xl,Bu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await Ie(this,gi).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(m=(p=Ie(this,el).config).onSuccess)==null||m.call(p,T,this),(y=(x=Ie(this,el).config).onSettled)==null||y.call(x,T,this.state.error,this),T}catch(T){if(T instanceof q$){if(T.silent)return Ie(this,gi).promise;if(T.revert){if(this.setState({...Ie(this,Fm),fetchStatus:"idle"}),this.state.data===void 0)throw T;return this.state.data}}throw Fr(this,Xl,Bu).call(this,{type:"error",error:T}),(v=(b=Ie(this,el).config).onError)==null||v.call(b,T,this),(_=(S=Ie(this,el).config).onSettled)==null||_.call(S,this.state.data,T,this),T}finally{this.scheduleGc()}}},jm=new WeakMap,Fm=new WeakMap,el=new WeakMap,y0=new WeakMap,gi=new WeakMap,yx=new WeakMap,x0=new WeakMap,Xl=new WeakSet,Bu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...V$(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $t(this,Fm,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ii.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ie(this,el).notify({query:this,type:"updated",action:t})})},bD);function V$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function I_e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jc,_D,P_e=(_D=class extends Cg{constructor(t={}){super();ir(this,Jc);this.config=t,$t(this,Jc,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??XT(s,r);let a=this.get(i);return a||(a=new C_e({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){Ie(this,Jc).has(t.queryHash)||(Ie(this,Jc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ie(this,Jc).get(t.queryHash);r&&(t.destroy(),r===t&&Ie(this,Jc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ii.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ie(this,Jc).get(t)}getAll(){return[...Ie(this,Jc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>lD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>lD(t,n)):r}notify(t){ii.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ii.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ii.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jc=new WeakMap,_D),eu,wa,v0,tu,of,SD,O_e=(SD=class extends W${constructor(t){super();ir(this,tu);ir(this,eu);ir(this,wa);ir(this,v0);this.mutationId=t.mutationId,$t(this,wa,t.mutationCache),$t(this,eu,[]),this.state=t.state||G$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ie(this,eu).includes(t)||(Ie(this,eu).push(t),this.clearGcTimeout(),Ie(this,wa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$t(this,eu,Ie(this,eu).filter(r=>r!==t)),this.scheduleGc(),Ie(this,wa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ie(this,eu).length||(this.state.status==="pending"?this.scheduleGc():Ie(this,wa).remove(this))}continue(){var t;return((t=Ie(this,v0))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,u,h,p,m,x,y,b,v,S,_,T,R,B,j,P;const r=()=>{Fr(this,tu,of).call(this,{type:"continue"})};$t(this,v0,H$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,N)=>{Fr(this,tu,of).call(this,{type:"failed",failureCount:F,error:N})},onPause:()=>{Fr(this,tu,of).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ie(this,wa).canRun(this)}));const n=this.state.status==="pending",s=!Ie(this,v0).canStart();try{if(n)r();else{Fr(this,tu,of).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=Ie(this,wa).config).onMutate)==null?void 0:a.call(i,t,this));const N=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));N!==this.state.context&&Fr(this,tu,of).call(this,{type:"pending",context:N,variables:t,isPaused:s})}const F=await Ie(this,v0).start();return await((u=(c=Ie(this,wa).config).onSuccess)==null?void 0:u.call(c,F,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,F,t,this.state.context)),await((x=(m=Ie(this,wa).config).onSettled)==null?void 0:x.call(m,F,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,F,null,t,this.state.context)),Fr(this,tu,of).call(this,{type:"success",data:F}),F}catch(F){try{throw await((S=(v=Ie(this,wa).config).onError)==null?void 0:S.call(v,F,t,this.state.context,this)),await((T=(_=this.options).onError)==null?void 0:T.call(_,F,t,this.state.context)),await((B=(R=Ie(this,wa).config).onSettled)==null?void 0:B.call(R,void 0,F,this.state.variables,this.state.context,this)),await((P=(j=this.options).onSettled)==null?void 0:P.call(j,void 0,F,t,this.state.context)),F}finally{Fr(this,tu,of).call(this,{type:"error",error:F})}}finally{Ie(this,wa).runNext(this)}}},eu=new WeakMap,wa=new WeakMap,v0=new WeakMap,tu=new WeakSet,of=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ii.batch(()=>{Ie(this,eu).forEach(n=>{n.onMutationUpdate(t)}),Ie(this,wa).notify({mutation:this,type:"updated",action:t})})},SD);function G$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wu,Ql,xx,AD,R_e=(AD=class extends Cg{constructor(t={}){super();ir(this,Wu);ir(this,Ql);ir(this,xx);this.config=t,$t(this,Wu,new Set),$t(this,Ql,new Map),$t(this,xx,0)}build(t,r,n){const s=new O_e({mutationCache:this,mutationId:++Dv(this,xx)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Ie(this,Wu).add(t);const r=z2(t);if(typeof r=="string"){const n=Ie(this,Ql).get(r);n?n.push(t):Ie(this,Ql).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ie(this,Wu).delete(t)){const r=z2(t);if(typeof r=="string"){const n=Ie(this,Ql).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Ie(this,Ql).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=z2(t);if(typeof r=="string"){const n=Ie(this,Ql).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=z2(t);if(typeof r=="string"){const s=(n=Ie(this,Ql).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ii.batch(()=>{Ie(this,Wu).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ie(this,Wu).clear(),Ie(this,Ql).clear()})}getAll(){return Array.from(Ie(this,Wu))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cD(r,n))}findAll(t={}){return this.getAll().filter(r=>cD(t,r))}notify(t){ii.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ii.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ea))))}},Wu=new WeakMap,Ql=new WeakMap,xx=new WeakMap,AD);function z2(e){var t;return(t=e.options.scope)==null?void 0:t.id}function fD(e){return{onFetch:(t,r)=>{var u,h,p,m,x;const n=t.options,s=(p=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=U$(t.options,t.fetchOptions),S=async(_,T,R)=>{if(y)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:T,direction:R?"backward":"forward",meta:t.options.meta};return b(k),k})(),P=await v(j),{maxPages:F}=t.options,N=R?S_e:__e;return{pages:N(_.pages,P,F),pageParams:N(_.pageParams,T,F)}};if(s&&i.length){const _=s==="backward",T=_?D_e:hD,R={pages:i,pageParams:a},B=T(n,R);o=await S(R,B,_)}else{const _=e??i.length;do{const T=l===0?a[0]??n.initialPageParam:hD(n,o);if(l>0&&T==null)break;o=await S(o,T),l++}while(l<_)}return o};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function hD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function D_e(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var bs,gf,yf,Mm,Bm,xf,Um,$m,ED,L_e=(ED=class{constructor(e={}){ir(this,bs);ir(this,gf);ir(this,yf);ir(this,Mm);ir(this,Bm);ir(this,xf);ir(this,Um);ir(this,$m);$t(this,bs,e.queryCache||new P_e),$t(this,gf,e.mutationCache||new R_e),$t(this,yf,e.defaultOptions||{}),$t(this,Mm,new Map),$t(this,Bm,new Map),$t(this,xf,0)}mount(){Dv(this,xf)._++,Ie(this,xf)===1&&($t(this,Um,ZT.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,bs).onFocus())})),$t(this,$m,Hb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,bs).onOnline())})))}unmount(){var e,t;Dv(this,xf)._--,Ie(this,xf)===0&&((e=Ie(this,Um))==null||e.call(this),$t(this,Um,void 0),(t=Ie(this,$m))==null||t.call(this),$t(this,$m,void 0))}isFetching(e){return Ie(this,bs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ie(this,gf).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ie(this,bs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ie(this,bs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Kf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ie(this,bs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Ie(this,bs).get(n.queryHash),i=s==null?void 0:s.state.data,a=w_e(t,i);if(a!==void 0)return Ie(this,bs).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ii.batch(()=>Ie(this,bs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ie(this,bs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ie(this,bs);ii.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ie(this,bs);return ii.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ii.batch(()=>Ie(this,bs).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ea).catch(Ea)}invalidateQueries(e,t={}){return ii.batch(()=>(Ie(this,bs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ii.batch(()=>Ie(this,bs).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ea)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ea)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ie(this,bs).build(this,t);return r.isStaleByTime(Kf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ea).catch(Ea)}fetchInfiniteQuery(e){return e.behavior=fD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ea).catch(Ea)}ensureInfiniteQueryData(e){return e.behavior=fD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hb.isOnline()?Ie(this,gf).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ie(this,bs)}getMutationCache(){return Ie(this,gf)}getDefaultOptions(){return Ie(this,yf)}setDefaultOptions(e){$t(this,yf,e)}setQueryDefaults(e,t){Ie(this,Mm).set(J0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ie(this,Mm).values()],r={};return t.forEach(n=>{gx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ie(this,Bm).set(J0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ie(this,Bm).values()],r={};return t.forEach(n=>{gx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ie(this,yf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=XT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===QT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ie(this,yf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ie(this,bs).clear(),Ie(this,gf).clear()}},bs=new WeakMap,gf=new WeakMap,yf=new WeakMap,Mm=new WeakMap,Bm=new WeakMap,xf=new WeakMap,Um=new WeakMap,$m=new WeakMap,ED),Wa,Zr,vx,ba,w0,zm,Vu,vf,wx,qm,Hm,b0,_0,wf,Wm,wn,q1,WA,VA,GA,KA,YA,XA,QA,K$,ND,j_e=(ND=class extends Cg{constructor(t,r){super();ir(this,wn);ir(this,Wa);ir(this,Zr);ir(this,vx);ir(this,ba);ir(this,w0);ir(this,zm);ir(this,Vu);ir(this,vf);ir(this,wx);ir(this,qm);ir(this,Hm);ir(this,b0);ir(this,_0);ir(this,wf);ir(this,Wm,new Set);this.options=r,$t(this,Wa,t),$t(this,vf,null),$t(this,Vu,HA()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ie(this,Zr).addObserver(this),pD(Ie(this,Zr),this.options)?Fr(this,wn,q1).call(this):this.updateResult(),Fr(this,wn,KA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ZA(Ie(this,Zr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ZA(Ie(this,Zr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fr(this,wn,YA).call(this),Fr(this,wn,XA).call(this),Ie(this,Zr).removeObserver(this)}setOptions(t){const r=this.options,n=Ie(this,Zr);if(this.options=Ie(this,Wa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nl(this.options.enabled,Ie(this,Zr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fr(this,wn,QA).call(this),Ie(this,Zr).setOptions(this.options),r._defaulted&&!qb(this.options,r)&&Ie(this,Wa).getQueryCache().notify({type:"observerOptionsUpdated",query:Ie(this,Zr),observer:this});const s=this.hasListeners();s&&mD(Ie(this,Zr),n,this.options,r)&&Fr(this,wn,q1).call(this),this.updateResult(),s&&(Ie(this,Zr)!==n||nl(this.options.enabled,Ie(this,Zr))!==nl(r.enabled,Ie(this,Zr))||Kf(this.options.staleTime,Ie(this,Zr))!==Kf(r.staleTime,Ie(this,Zr)))&&Fr(this,wn,WA).call(this);const i=Fr(this,wn,VA).call(this);s&&(Ie(this,Zr)!==n||nl(this.options.enabled,Ie(this,Zr))!==nl(r.enabled,Ie(this,Zr))||i!==Ie(this,wf))&&Fr(this,wn,GA).call(this,i)}getOptimisticResult(t){const r=Ie(this,Wa).getQueryCache().build(Ie(this,Wa),t),n=this.createResult(r,t);return M_e(this,n)&&($t(this,ba,n),$t(this,zm,this.options),$t(this,w0,Ie(this,Zr).state)),n}getCurrentResult(){return Ie(this,ba)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&Ie(this,Vu).status==="pending"&&Ie(this,Vu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){Ie(this,Wm).add(t)}getCurrentQuery(){return Ie(this,Zr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ie(this,Wa).defaultQueryOptions(t),n=Ie(this,Wa).getQueryCache().build(Ie(this,Wa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Fr(this,wn,q1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ie(this,ba)))}createResult(t,r){var F;const n=Ie(this,Zr),s=this.options,i=Ie(this,ba),a=Ie(this,w0),o=Ie(this,zm),c=t!==n?t.state:Ie(this,vx),{state:u}=t;let h={...u},p=!1,m;if(r._optimisticResults){const N=this.hasListeners(),k=!N&&pD(t,r),C=N&&mD(t,n,r,s);(k||C)&&(h={...h,...V$(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:y,status:b}=h;m=h.data;let v=!1;if(r.placeholderData!==void 0&&m===void 0&&b==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(N=i.data,v=!0):N=typeof r.placeholderData=="function"?r.placeholderData((F=Ie(this,Hm))==null?void 0:F.state.data,Ie(this,Hm)):r.placeholderData,N!==void 0&&(b="success",m=qA(i==null?void 0:i.data,N,r),p=!0)}if(r.select&&m!==void 0&&!v)if(i&&m===(a==null?void 0:a.data)&&r.select===Ie(this,wx))m=Ie(this,qm);else try{$t(this,wx,r.select),m=r.select(m),m=qA(i==null?void 0:i.data,m,r),$t(this,qm,m),$t(this,vf,null)}catch(N){$t(this,vf,N)}Ie(this,vf)&&(x=Ie(this,vf),m=Ie(this,qm),y=Date.now(),b="error");const S=h.fetchStatus==="fetching",_=b==="pending",T=b==="error",R=_&&S,B=m!==void 0,P={status:b,fetchStatus:h.fetchStatus,isPending:_,isSuccess:b==="success",isError:T,isInitialLoading:R,isLoading:R,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:T&&!B,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&B,isStale:JT(t,r),refetch:this.refetch,promise:Ie(this,Vu),isEnabled:nl(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=H=>{P.status==="error"?H.reject(P.error):P.data!==void 0&&H.resolve(P.data)},k=()=>{const H=$t(this,Vu,P.promise=HA());N(H)},C=Ie(this,Vu);switch(C.status){case"pending":t.queryHash===n.queryHash&&N(C);break;case"fulfilled":(P.status==="error"||P.data!==C.value)&&k();break;case"rejected":(P.status!=="error"||P.error!==C.reason)&&k();break}}return P}updateResult(){const t=Ie(this,ba),r=this.createResult(Ie(this,Zr),this.options);if($t(this,w0,Ie(this,Zr).state),$t(this,zm,this.options),Ie(this,w0).data!==void 0&&$t(this,Hm,Ie(this,Zr)),qb(r,t))return;$t(this,ba,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Ie(this,Wm).size)return!0;const a=new Set(i??Ie(this,Wm));return this.options.throwOnError&&a.add("error"),Object.keys(Ie(this,ba)).some(o=>{const l=o;return Ie(this,ba)[l]!==t[l]&&a.has(l)})};Fr(this,wn,K$).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fr(this,wn,KA).call(this)}},Wa=new WeakMap,Zr=new WeakMap,vx=new WeakMap,ba=new WeakMap,w0=new WeakMap,zm=new WeakMap,Vu=new WeakMap,vf=new WeakMap,wx=new WeakMap,qm=new WeakMap,Hm=new WeakMap,b0=new WeakMap,_0=new WeakMap,wf=new WeakMap,Wm=new WeakMap,wn=new WeakSet,q1=function(t){Fr(this,wn,QA).call(this);let r=Ie(this,Zr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ea)),r},WA=function(){Fr(this,wn,YA).call(this);const t=Kf(this.options.staleTime,Ie(this,Zr));if(Z0||Ie(this,ba).isStale||!$A(t))return;const n=M$(Ie(this,ba).dataUpdatedAt,t)+1;$t(this,b0,setTimeout(()=>{Ie(this,ba).isStale||this.updateResult()},n))},VA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ie(this,Zr)):this.options.refetchInterval)??!1},GA=function(t){Fr(this,wn,XA).call(this),$t(this,wf,t),!(Z0||nl(this.options.enabled,Ie(this,Zr))===!1||!$A(Ie(this,wf))||Ie(this,wf)===0)&&$t(this,_0,setInterval(()=>{(this.options.refetchIntervalInBackground||ZT.isFocused())&&Fr(this,wn,q1).call(this)},Ie(this,wf)))},KA=function(){Fr(this,wn,WA).call(this),Fr(this,wn,GA).call(this,Fr(this,wn,VA).call(this))},YA=function(){Ie(this,b0)&&(clearTimeout(Ie(this,b0)),$t(this,b0,void 0))},XA=function(){Ie(this,_0)&&(clearInterval(Ie(this,_0)),$t(this,_0,void 0))},QA=function(){const t=Ie(this,Wa).getQueryCache().build(Ie(this,Wa),this.options);if(t===Ie(this,Zr))return;const r=Ie(this,Zr);$t(this,Zr,t),$t(this,vx,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},K$=function(t){ii.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ie(this,ba))}),Ie(this,Wa).getQueryCache().notify({query:Ie(this,Zr),type:"observerResultsUpdated"})})},ND);function F_e(e,t){return nl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pD(e,t){return F_e(e,t)||e.state.data!==void 0&&ZA(e,t,t.refetchOnMount)}function ZA(e,t,r){if(nl(t.enabled,e)!==!1&&Kf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&JT(e,t)}return!1}function mD(e,t,r,n){return(e!==t||nl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&JT(e,r)}function JT(e,t){return nl(t.enabled,e)!==!1&&e.isStaleByTime(Kf(t.staleTime,e))}function M_e(e,t){return!qb(e.getCurrentResult(),t)}var bf,_f,Va,Gu,id,Tw,JA,TD,B_e=(TD=class extends Cg{constructor(r,n){super();ir(this,id);ir(this,bf);ir(this,_f);ir(this,Va);ir(this,Gu);$t(this,bf,r),this.setOptions(n),this.bindMethods(),Fr(this,id,Tw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Ie(this,bf).defaultMutationOptions(r),qb(this.options,n)||Ie(this,bf).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ie(this,Va),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&J0(n.mutationKey)!==J0(this.options.mutationKey)?this.reset():((s=Ie(this,Va))==null?void 0:s.state.status)==="pending"&&Ie(this,Va).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ie(this,Va))==null||r.removeObserver(this)}onMutationUpdate(r){Fr(this,id,Tw).call(this),Fr(this,id,JA).call(this,r)}getCurrentResult(){return Ie(this,_f)}reset(){var r;(r=Ie(this,Va))==null||r.removeObserver(this),$t(this,Va,void 0),Fr(this,id,Tw).call(this),Fr(this,id,JA).call(this)}mutate(r,n){var s;return $t(this,Gu,n),(s=Ie(this,Va))==null||s.removeObserver(this),$t(this,Va,Ie(this,bf).getMutationCache().build(Ie(this,bf),this.options)),Ie(this,Va).addObserver(this),Ie(this,Va).execute(r)}},bf=new WeakMap,_f=new WeakMap,Va=new WeakMap,Gu=new WeakMap,id=new WeakSet,Tw=function(){var n;const r=((n=Ie(this,Va))==null?void 0:n.state)??G$();$t(this,_f,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},JA=function(r){ii.batch(()=>{var n,s,i,a,o,l,c,u;if(Ie(this,Gu)&&this.hasListeners()){const h=Ie(this,_f).variables,p=Ie(this,_f).context;(r==null?void 0:r.type)==="success"?((s=(n=Ie(this,Gu)).onSuccess)==null||s.call(n,r.data,h,p),(a=(i=Ie(this,Gu)).onSettled)==null||a.call(i,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=Ie(this,Gu)).onError)==null||l.call(o,r.error,h,p),(u=(c=Ie(this,Gu)).onSettled)==null||u.call(c,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(Ie(this,_f))})})},TD),Y$=L.createContext(void 0),ek=e=>{const t=L.useContext(Y$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},U_e=({client:e,children:t})=>(L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(Y$.Provider,{value:e,children:t})),X$=L.createContext(!1),$_e=()=>L.useContext(X$);X$.Provider;function z_e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var q_e=L.createContext(z_e()),H_e=()=>L.useContext(q_e),W_e=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},V_e=e=>{L.useEffect(()=>{e.clearReset()},[e])},G_e=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||$$(r,[e.error,n])),K_e=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Y_e=(e,t)=>e.isLoading&&e.isFetching&&!t,X_e=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,gD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Q_e(e,t,r){var h,p,m,x,y;const n=$_e(),s=H_e(),i=ek(),a=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",K_e(a),W_e(a,s),V_e(s);const o=!i.getQueryCache().get(a.queryHash),[l]=L.useState(()=>new t(i,a)),c=l.getOptimisticResult(a),u=!n&&e.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(b=>{const v=u?l.subscribe(ii.batchCalls(b)):Ea;return l.updateResult(),v},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),L.useEffect(()=>{l.setOptions(a)},[a,l]),X_e(a,c))throw gD(a,l,s);if(G_e({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,a,c),a.experimental_prefetchInRender&&!Z0&&Y_e(c,n)){const b=o?gD(a,l,s):(y=i.getQueryCache().get(a.queryHash))==null?void 0:y.promise;b==null||b.catch(Ea).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function I3(e,t){return Q_e(e,j_e)}function Z_e(e,t){const r=ek(),[n]=L.useState(()=>new B_e(r,e));L.useEffect(()=>{n.setOptions(e)},[n,e]);const s=L.useSyncExternalStore(L.useCallback(a=>n.subscribe(ii.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=L.useCallback((a,o)=>{n.mutate(a,o).catch(Ea)},[n]);if(s.error&&$$(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}Qx.register(U1,$1,wy,Ub,$b,Ew,D$,P$);const yD=e=>({pending:{label:"item_pending",color:"bg-gray-100 text-gray-700",icon:cc,progress:0},assigned:{label:"item_assigned",color:"bg-blue-100 text-blue-700",icon:cc,progress:25},in_progress:{label:"item_in_progress",color:"bg-yellow-100 text-yellow-700",icon:jo,progress:50},completed:{label:"item_completed",color:"bg-green-100 text-green-700",icon:eb,progress:100}})[e]||{label:e,color:"bg-gray-100 text-gray-700",icon:cc,progress:0},J_e=({statsData:e,t})=>e?d.jsxs(wt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs(tr,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 shadow-md rounded-lg border border-blue-200 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:t("tasks.pending")}),d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.pending})]}),d.jsxs(tr,{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 shadow-md rounded-lg border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:t("tasks.in_progress")}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.inProgress})]}),d.jsxs(tr,{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 shadow-md rounded-lg border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800",children:t("tasks.completed")}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.completed})]}),d.jsxs(tr,{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 shadow-md rounded-lg border border-purple-200 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:t("tasks.performance_score")}),d.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[e.performanceScore.toFixed(1),"%"]})]})]}):null,e5e=({statsData:e,t,language:r})=>{const n=r==="ar",s={labels:[t("orders.item_pending"),t("orders.item_in_progress"),t("orders.item_completed")],datasets:[{label:t("tasks.distribution"),data:[(e==null?void 0:e.pending)||0,(e==null?void 0:e.inProgress)||0,(e==null?void 0:e.completed)||0],backgroundColor:["#f59e0b","#3b82f6","#10b981"],borderColor:["#d97706","#2563eb","#059669"],borderWidth:1}]},i={labels:(e==null?void 0:e.dailyCompletions.map(l=>new Date(l.date).toLocaleDateString(r)))||[],datasets:[{label:t("tasks.completed"),data:(e==null?void 0:e.dailyCompletions.map(l=>l.count))||[],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.2)",fill:!0,tension:.4}]},a={labels:(e==null?void 0:e.topProducts.map(l=>l.productName))||[],datasets:[{label:t("tasks.top_products"),data:(e==null?void 0:e.topProducts.map(l=>l.count))||[],backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:1}]},o={labels:(e==null?void 0:e.productTypes.map(l=>l.type))||[],datasets:[{label:t("tasks.product_types"),data:(e==null?void 0:e.productTypes.map(l=>l.count))||[],backgroundColor:["#ef4444","#eab308","#22c55e","#3b82f6","#a855f7"],borderColor:["#dc2626","#ca8a04","#16a34a","#2563eb","#9333ea"],borderWidth:1}]};return e?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs(tr,{className:"p-4 bg-white shadow-md rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("tasks.distribution")}),d.jsx("div",{className:"relative h-64",children:d.jsx(aD,{data:s,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:n?"right":"left",labels:{font:{size:14,family:n?"Tajawal, sans-serif":"inherit"}}},tooltip:{enabled:!0,backgroundColor:"#fff",titleFont:{family:n?"Tajawal, sans-serif":"inherit"},bodyFont:{family:n?"Tajawal, sans-serif":"inherit"}}},animation:{duration:1e3,easing:"easeOutQuart"}}})})]}),d.jsxs(tr,{className:"p-4 bg-white shadow-md rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("tasks.progress")}),d.jsx("div",{className:"relative h-64",children:d.jsx(v_e,{data:i,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:14,family:n?"Tajawal, sans-serif":"inherit"}}},tooltip:{enabled:!0,backgroundColor:"#fff",titleFont:{family:n?"Tajawal, sans-serif":"inherit"},bodyFont:{family:n?"Tajawal, sans-serif":"inherit"}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:t("tasks.count"),font:{family:n?"Tajawal, sans-serif":"inherit"}}},x:{title:{display:!0,text:t("common.date"),font:{family:n?"Tajawal, sans-serif":"inherit"}}}},animation:{duration:1e3,easing:"easeOutQuart"}}})})]}),d.jsxs(tr,{className:"p-4 bg-white shadow-md rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("tasks.top_products")}),d.jsx("div",{className:"relative h-64",children:d.jsx(Nw,{data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:14,family:n?"Tajawal, sans-serif":"inherit"}}},tooltip:{enabled:!0,backgroundColor:"#fff",titleFont:{family:n?"Tajawal, sans-serif":"inherit"},bodyFont:{family:n?"Tajawal, sans-serif":"inherit"}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:t("tasks.count"),font:{family:n?"Tajawal, sans-serif":"inherit"}}},x:{title:{display:!0,text:t("products.name"),font:{family:n?"Tajawal, sans-serif":"inherit"}}}},animation:{duration:1e3,easing:"easeOutQuart"}}})})]}),d.jsxs(tr,{className:"p-4 bg-white shadow-md rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("tasks.product_types_distribution")}),d.jsx("div",{className:"relative h-64",children:d.jsx(aD,{data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:n?"right":"left",labels:{font:{size:14,family:n?"Tajawal, sans-serif":"inherit"}}},tooltip:{enabled:!0,backgroundColor:"#fff",titleFont:{family:n?"Tajawal, sans-serif":"inherit"},bodyFont:{family:n?"Tajawal, sans-serif":"inherit"}}},animation:{duration:1e3,easing:"easeOutQuart"}}})})]})]}):null},t5e=({topProducts:e,t})=>d.jsxs(tr,{className:"p-4 mb-6 bg-white shadow-md rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("tasks.top_products_table")}),d.jsxs("table",{className:"w-full table-auto",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100",children:[d.jsx("th",{className:"px-4 py-2 text-left",children:t("products.name")}),d.jsx("th",{className:"px-4 py-2 text-left",children:t("tasks.count")})]})}),d.jsx("tbody",{children:e.map((r,n)=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"px-4 py-2",children:r.productName}),d.jsx("td",{className:"px-4 py-2",children:r.count})]},n))})]})]}),r5e=()=>{const{t:e,language:t}=Yn(),r=t==="ar",{user:n}=ps(),s=yc(),{socket:i,emit:a,isConnected:o}=vd(),{notifications:l,addNotification:c,markAsRead:u,markAllAsRead:h}=Dx(),p=ek(),[m,x]=L.useState({status:"",searchQuery:"",dateRange:{start:"",end:""},productType:"",sortBy:"updatedAt",sortOrder:"desc",branch:""}),[y,b]=L.useState(1),[v,S]=L.useState(null),_=10,{data:T,error:R}=I3({queryKey:["chefProfile",(n==null?void 0:n.id)||(n==null?void 0:n._id)],queryFn:()=>rc.getByUserId((n==null?void 0:n.id)||(n==null?void 0:n._id)||""),enabled:!!n&&!!/^[0-9a-fA-F]{24}$/.test((n==null?void 0:n.id)||(n==null?void 0:n._id)||""),onError:()=>{ke.error(e("errors.chefProfileError"),{toastId:`error-chefProfile-${Date.now()}`,position:r?"top-right":"top-left"}),s("/login")}}),{data:B,isLoading:j}=I3({queryKey:["tasks",T==null?void 0:T._id,y,m],queryFn:()=>Qu.getChefTasks((T==null?void 0:T._id)||"",{page:y,limit:_,...m}),enabled:!!(T!=null&&T._id),select:C=>({tasks:C.filter(z=>{var K,Y;return z._id&&((K=z.order)==null?void 0:K._id)&&((Y=z.product)==null?void 0:Y._id)&&z.quantity>0}).map(z=>{var K;return{id:z._id,orderId:z.order._id||"unknown",orderNumber:z.order.orderNumber||"N/A",productId:z.product._id||"unknown",productName:z.product.name||e("products.unknown"),quantity:z.quantity,status:z.status,createdAt:z.createdAt||new Date().toISOString(),updatedAt:z.updatedAt||new Date().toISOString(),progress:yD(z.status).progress,priority:z.priority||"medium",productType:z.product.type||"unknown",branchName:((K=z.order.branch)==null?void 0:K.name)||e("branches.unknown")}}),totalPages:Math.ceil(C.total/_)||1}),onError:()=>{ke.error(e("errors.fetch_tasks"),{toastId:`error-fetchTasks-${Date.now()}`,position:r?"top-right":"top-left"})}}),{data:P,isLoading:F}=I3({queryKey:["stats",T==null?void 0:T._id],queryFn:async()=>{const H=(await Qu.getChefTasks((T==null?void 0:T._id)||"",{limit:1e3})).filter(Q=>{var ge,Se;return Q._id&&((ge=Q.order)==null?void 0:ge._id)&&((Se=Q.product)==null?void 0:Se._id)&&Q.quantity>0}).map(Q=>{var ge;return{id:Q._id,orderId:Q.order._id||"unknown",orderNumber:Q.order.orderNumber||"N/A",productId:Q.product._id||"unknown",productName:Q.product.name||e("products.unknown"),quantity:Q.quantity,status:Q.status,createdAt:Q.createdAt||new Date().toISOString(),updatedAt:Q.updatedAt||new Date().toISOString(),progress:yD(Q.status).progress,priority:Q.priority||"medium",productType:Q.product.type||"unknown",branchName:((ge=Q.order.branch)==null?void 0:ge.name)||e("branches.unknown")}}),z=H.filter(Q=>Q.status==="pending"||Q.status==="assigned").length,K=H.filter(Q=>Q.status==="in_progress").length,Y=H.filter(Q=>Q.status==="completed").length,W=H.length,Z=W>0?Y/W*100:0,ne=H.filter(Q=>Q.status==="completed"&&Q.createdAt&&Q.updatedAt).reduce((Q,ge)=>Q+(new Date(ge.updatedAt).getTime()-new Date(ge.createdAt).getTime())/1e3/60,0)/(Y||1),ee=H.filter(Q=>Q.status==="completed").reduce((Q,ge)=>{const Se=new Date(ge.updatedAt).toISOString().split("T")[0];return Q[Se]=(Q[Se]||0)+1,Q},{}),X=Object.entries(ee).map(([Q,ge])=>({date:Q,count:ge})).sort((Q,ge)=>new Date(Q.date).getTime()-new Date(ge.date).getTime()).slice(-7),I=H.filter(Q=>Q.status==="completed").reduce((Q,ge)=>(Q[ge.productName]=(Q[ge.productName]||0)+1,Q),{}),U=Object.entries(I).map(([Q,ge])=>({productName:Q,count:ge})).sort((Q,ge)=>ge.count-Q.count).slice(0,5),G=H.filter(Q=>Q.status==="completed").reduce((Q,ge)=>{const Se=ge.productType||"unknown";return Q[Se]=(Q[Se]||0)+1,Q},{}),V=Object.entries(G).map(([Q,ge])=>({type:Q,count:ge}));return{pending:z,inProgress:K,completed:Y,avgCompletionTime:ne,dailyCompletions:X,topProducts:U,productTypes:V,performanceScore:Z}},enabled:!!(T!=null&&T._id),onError:()=>{ke.error(e("errors.fetch_stats"),{toastId:`error-fetchStats-${Date.now()}`,position:r?"top-right":"top-left"})}}),N=Z_e({mutationFn:({orderId:C,taskId:H,status:z})=>Qu.updateTaskStatus(C,H,{status:z}),onSuccess:(C,H)=>{var z,K;p.invalidateQueries(["tasks"]),p.invalidateQueries(["stats"]),a("itemStatusUpdated",{orderId:H.orderId,itemId:H.taskId,status:H.status,chefId:T==null?void 0:T._id,productName:((z=B==null?void 0:B.tasks.find(Y=>Y.id===H.taskId))==null?void 0:z.productName)||e("products.unknown"),orderNumber:((K=B==null?void 0:B.tasks.find(Y=>Y.id===H.taskId))==null?void 0:K.orderNumber)||"N/A",eventId:`${H.taskId}-taskStatusUpdated-${H.status}`}),ke.success(e("orders.status_updated",{status:e(`orders.item_${H.status}`)}),{position:r?"top-right":"top-left"})},onError:()=>{ke.error(e("errors.update_task_status"),{position:r?"top-right":"top-left"})}});L.useEffect(()=>{if(!i||!(T!=null&&T._id)||!n||!o)return;const C=Y=>{if(Y.chefId===T._id&&Y.orderId&&Y.taskId&&Y.productName){const W={_id:crypto.randomUUID(),type:"info",message:e("socket.task_assigned",{productName:Y.productName,orderNumber:Y.orderNumber}),data:{orderId:Y.orderId,taskId:Y.taskId,chefId:Y.chefId,eventId:Y.eventId},read:!1,createdAt:new Date().toLocaleString(t),sound:"/sounds/task-assigned.mp3",vibrate:[200,100,200]};c(W),p.invalidateQueries(["tasks"]),p.invalidateQueries(["stats"])}},H=Y=>{if(Y.chefId===T._id&&Y.orderId&&Y.itemId&&Y.status){p.invalidateQueries(["tasks"]),p.invalidateQueries(["stats"]);const W={_id:crypto.randomUUID(),type:"info",message:e("orders.status_updated",{status:e(`orders.item_${Y.status}`)}),data:{orderId:Y.orderId,taskId:Y.itemId,chefId:Y.chefId,eventId:Y.eventId},read:!1,createdAt:new Date().toLocaleString(t),sound:"/sounds/status-updated.mp3",vibrate:[200,100,200]};c(W)}},z=Y=>{if(Y.chefId===T._id&&Y.orderId&&Y.taskId){p.invalidateQueries(["tasks"]),p.invalidateQueries(["stats"]);const W={_id:crypto.randomUUID(),type:"success",message:e("socket.task_completed",{product:Y.productName,order:Y.orderNumber}),data:{orderId:Y.orderId,taskId:Y.taskId,chefId:Y.chefId,eventId:Y.eventId},read:!1,createdAt:new Date().toLocaleString(t),sound:"/sounds/task-completed.mp3",vibrate:[400,100,400]};c(W)}},K=Y=>{if(Y.orderId&&(B!=null&&B.tasks.some(W=>W.orderId===Y.orderId))){p.invalidateQueries(["tasks"]),p.invalidateQueries(["stats"]);const W={_id:crypto.randomUUID(),type:"success",message:e("socket.order_completed",{orderNumber:Y.orderNumber}),data:{orderId:Y.orderId,eventId:Y.eventId},read:!1,createdAt:new Date().toLocaleString(t),sound:"/sounds/order-completed.mp3",vibrate:[400,100,400]};c(W)}};return i.on("taskAssigned",C),i.on("itemStatusUpdated",H),i.on("taskCompleted",z),i.on("orderCompleted",K),()=>{i.off("taskAssigned",C),i.off("itemStatusUpdated",H),i.off("taskCompleted",z),i.off("orderCompleted",K)}},[i,o,T==null?void 0:T._id,n,e,t,c,p,B]),L.useMemo(()=>hc.debounce(C=>x(H=>({...H,searchQuery:C})),300),[]),L.useMemo(()=>[...new Set((B==null?void 0:B.tasks.map(C=>C.branchName))||[])],[B]);const k=L.useMemo(()=>((B==null?void 0:B.tasks)||[]).filter(C=>(m.status?C.status===m.status:!0)&&(m.searchQuery?C.orderNumber.toLowerCase().includes(m.searchQuery.toLowerCase())||C.productName.toLowerCase().includes(m.searchQuery.toLowerCase()):!0)&&(m.dateRange.start&&m.dateRange.end?new Date(C.createdAt)>=new Date(m.dateRange.start)&&new Date(C.createdAt)<=new Date(m.dateRange.end):!0)&&(m.productType?C.productType===m.productType:!0)&&(m.branch?C.branchName===m.branch:!0)).sort((C,H)=>{if(m.sortBy==="updatedAt")return m.sortOrder==="asc"?new Date(C.updatedAt).getTime()-new Date(H.updatedAt).getTime():new Date(H.updatedAt).getTime()-new Date(C.updatedAt).getTime();if(m.sortBy==="quantity")return m.sortOrder==="asc"?C.quantity-H.quantity:H.quantity-C.quantity;if(m.sortBy==="priority"){const z={urgent:4,high:3,medium:2,low:1};return m.sortOrder==="asc"?z[C.priority||"medium"]-z[H.priority||"medium"]:z[H.priority||"medium"]-z[C.priority||"medium"]}return 0}),[B==null?void 0:B.tasks,m]);return L.useMemo(()=>k.slice((y-1)*_,y*_),[k,y,_]),Math.ceil(k.length/_),L.useCallback((C,H,z)=>{S({taskId:C,orderId:H,status:z})},[]),L.useCallback(()=>{v&&(N.mutate({orderId:v.orderId,taskId:v.taskId,status:v.status}),S(null))},[v,N]),d.jsxs("div",{className:`mx-auto  px-3 sm:px-5 py-6 min-h-screen ${r?"rtl":"ltr"}`,children:[d.jsx(MF,{position:r?"top-right":"top-left",autoClose:4e3}),R?d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[d.jsx(Ar,{className:"w-8 h-8 text-red-500 mx-auto"}),d.jsx("p",{className:"mt-2 text-red-500",children:e("errors.chefProfileError")}),d.jsx(dt,{onClick:()=>s("/login"),className:"mt-4",children:e("login")})]}):j||F?d.jsx(wl,{className:"mx-auto"}):d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:e("chefDashboard.title")}),d.jsx(J_e,{statsData:P,t:e}),d.jsx(e5e,{statsData:P,t:e,language:t}),d.jsx(t5e,{topProducts:(P==null?void 0:P.topProducts)||[],t:e})]})]})},n5e=(e,t)=>{var r,n,s,i,a,o;switch(t.type){case"UPDATE_FIELD":return{...e,[t.field]:t.value};case"UPDATE_USER_FIELD":return{...e,user:{...e.user,[t.field]:t.value}};case"RESET":return{name:t.data.name||"",nameEn:t.data.nameEn||"",code:t.data.code||"",address:t.data.address||"",addressEn:t.data.addressEn||"",city:t.data.city||"",cityEn:t.data.cityEn||"",phone:t.data.phone||"",isActive:t.data.isActive??!0,user:{name:((r=t.data.user)==null?void 0:r.name)||"",nameEn:((n=t.data.user)==null?void 0:n.nameEn)||"",username:((s=t.data.user)==null?void 0:s.username)||"",email:((i=t.data.user)==null?void 0:i.email)||"",phone:((a=t.data.user)==null?void 0:a.phone)||"",isActive:((o=t.data.user)==null?void 0:o.isActive)??!0}};default:return e}},s5e={ar:{branchDetails:" ",name:"  ()",nameEn:"  ()",code:"",address:"",addressEn:" ()",city:"",cityEn:" ()",phone:" ",user:"",userName:"  ()",userNameEn:"  ()",username:" ",email:"",userPhone:" ",userStatus:" ",isActive:"",active:"",inactive:" ",createdBy:"  ",createdAt:" ",updatedAt:" ",editBranch:" ",deleteBranch:" ",resetPassword:"   ",save:"",cancel:"",back:"",newPassword:"  ",confirmPassword:"  ",passwordMismatch:"    ",passwordTooShort:"     6   ",passwordRequired:"  ",branchNotFound:"  ",serverError:"  ",branchUpdated:"   ",branchDeleted:"   ",passwordReset:"     ",emailInUse:"     ",usernameInUse:"      ",codeInUse:"      ",requiredField:"  ",deleteWarning:"            .",deleteRestricted:"        ",confirmDelete:"  "},en:{branchDetails:"Branch Details",name:"Branch Name (Arabic)",nameEn:"Branch Name (English)",code:"Code",address:"Address",addressEn:"Address (English)",city:"City",cityEn:"City (English)",phone:"Phone",user:"User",userName:"User Name (Arabic)",userNameEn:"User Name (English)",username:"Username",email:"Email",userPhone:"User Phone",userStatus:"User Status",isActive:"Status",active:"Active",inactive:"Inactive",createdBy:"Created By",createdAt:"Created At",updatedAt:"Updated At",editBranch:"Edit Branch",deleteBranch:"Delete Branch",resetPassword:"Reset Password",save:"Save",cancel:"Cancel",back:"Back",newPassword:"New Password",confirmPassword:"Confirm Password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",passwordRequired:"Password is required",branchNotFound:"Branch not found",serverError:"Server error",branchUpdated:"Branch updated successfully",branchDeleted:"Branch deleted successfully",passwordReset:"Password reset successfully",emailInUse:"Email is already in use, choose another",usernameInUse:"Username is already in use, choose another",codeInUse:"Branch code is already in use, choose another",requiredField:"This field is required",deleteWarning:"Are you sure you want to delete this branch? This action cannot be undone.",deleteRestricted:"Cannot delete branch with associated orders or inventory",confirmDelete:"Confirm Branch Deletion"}},i5e=()=>{const{id:e}=Kj(),t=yc(),{language:r}=Yn(),{user:n}=ps(),s=r==="ar",i=s5e[s?"ar":"en"],[a,o]=L.useState(null),[l,c]=L.useState(!1),[u,h]=L.useState(!1),[p,m]=L.useState(!1),[x,y]=L.useState({password:"",confirmPassword:""}),[b,v]=L.useState({}),[S,_]=L.useState(!1),[T,R]=L.useState(""),[B,j]=L.useReducer(n5e,{name:"",nameEn:"",code:"",address:"",addressEn:"",city:"",cityEn:"",phone:"",isActive:!0,user:{name:"",nameEn:"",username:"",email:"",phone:"",isActive:!0}}),P=L.useCallback(async()=>{var ee,X;if(!e){ke.error(i.branchNotFound,{position:s?"top-right":"top-left"});return}try{_(!0);const I=await Ri.getById(e),U={...I,displayName:s?I.name:I.nameEn||I.name,displayAddress:s?I.address:I.addressEn||I.address,displayCity:s?I.city:I.cityEn||I.city,user:I.user?{...I.user,displayName:s?I.user.name:I.user.nameEn||I.user.name}:void 0,createdBy:I.createdBy?{...I.createdBy,displayName:s?I.createdBy.name:I.createdBy.nameEn||I.createdBy.name}:void 0};o(U),j({type:"RESET",data:U}),R("")}catch(I){console.error(`[${new Date().toISOString()}] Fetch branch error:`,I),R(((X=(ee=I.response)==null?void 0:ee.data)==null?void 0:X.message)||i.branchNotFound),ke.error(i.branchNotFound,{position:s?"top-right":"top-left"})}finally{_(!1)}},[e,s,i]);L.useEffect(()=>{P()},[P]);const F=L.useCallback(async ee=>{try{return(await Ri.checkEmail(ee)).available}catch{return!1}},[]),N=L.useCallback(async()=>{var X;const ee={};return B.name.trim()||(ee.name=i.requiredField),B.nameEn.trim()||(ee.nameEn=i.requiredField),B.code.trim()||(ee.code=i.requiredField),B.address.trim()||(ee.address=i.requiredField),B.addressEn.trim()||(ee.addressEn=i.requiredField),B.city.trim()||(ee.city=i.requiredField),B.cityEn.trim()||(ee.cityEn=i.requiredField),B.user.name.trim()||(ee["user.name"]=i.requiredField),B.user.nameEn.trim()||(ee["user.nameEn"]=i.requiredField),B.user.username.trim()||(ee["user.username"]=i.requiredField),B.user.email.trim()&&!await F(B.user.email)&&B.user.email!==((X=a==null?void 0:a.user)==null?void 0:X.email)&&(ee["user.email"]=i.emailInUse),v(ee),Object.keys(ee).length===0},[B,F,i,a]),k=L.useCallback((ee,X,I=!1)=>{I?(j({type:"UPDATE_USER_FIELD",field:X,value:ee}),v(U=>({...U,[`user.${X}`]:""}))):(j({type:"UPDATE_FIELD",field:X,value:ee}),v(U=>({...U,[X]:""})))},[]),C=L.useCallback(async ee=>{var X,I;if(ee.preventDefault(),!await N()){ke.error(i.requiredField,{position:s?"top-right":"top-left"});return}try{_(!0);const U={name:B.name.trim(),nameEn:B.nameEn.trim()||void 0,code:B.code.trim(),address:B.address.trim(),addressEn:B.addressEn.trim()||void 0,city:B.city.trim(),cityEn:B.cityEn.trim()||void 0,phone:B.phone.trim()||void 0,isActive:B.isActive,user:{name:B.user.name.trim(),nameEn:B.user.nameEn.trim()||void 0,username:B.user.username.trim(),email:B.user.email.trim()||void 0,phone:B.user.phone.trim()||void 0,isActive:B.user.isActive}};await Ri.update(e,U),o(G=>G?{...G,...U,displayName:s?U.name:U.nameEn||U.name,displayAddress:s?U.address:U.addressEn||U.address,displayCity:s?U.city:U.cityEn||U.city,user:{...G.user,...U.user,displayName:s?U.user.name:U.user.nameEn||U.user.name}}:null),ke.success(i.branchUpdated,{position:s?"top-right":"top-left"}),c(!1),R("")}catch(U){console.error(`[${new Date().toISOString()}] Update branch error:`,U);let G=i.serverError;if((I=(X=U.response)==null?void 0:X.data)!=null&&I.message){const V=U.response.data.message;G=V==="Branch code already exists"?i.codeInUse:V==="Username already exists"?i.usernameInUse:V.includes("")||V.includes("email")?i.emailInUse:V}R(G),ke.error(G,{position:s?"top-right":"top-left"})}finally{_(!1)}},[B,e,s,i]),H=L.useCallback(async ee=>{var X,I;if(ee.preventDefault(),!x.password||!x.confirmPassword){R(i.passwordRequired),ke.error(i.passwordRequired,{position:s?"top-right":"top-left"});return}if(x.password!==x.confirmPassword){R(i.passwordMismatch),ke.error(i.passwordMismatch,{position:s?"top-right":"top-left"});return}if(x.password.length<6){R(i.passwordTooShort),ke.error(i.passwordTooShort,{position:s?"top-right":"top-left"});return}try{_(!0),await Ri.resetPassword(e,x.password),ke.success(i.passwordReset,{position:s?"top-right":"top-left"}),h(!1),y({password:"",confirmPassword:""}),R("")}catch(U){console.error(`[${new Date().toISOString()}] Reset password error:`,U);const G=((I=(X=U.response)==null?void 0:X.data)==null?void 0:I.message)||i.serverError;R(G),ke.error(G,{position:s?"top-right":"top-left"})}finally{_(!1)}},[x,e,i,s]),z=L.useCallback(async()=>{var ee,X;try{_(!0),await Ri.delete(e),ke.success(i.branchDeleted,{position:s?"top-right":"top-left"}),t("/branches")}catch(I){console.error(`[${new Date().toISOString()}] Delete branch error:`,I);let U=i.serverError;(X=(ee=I.response)==null?void 0:ee.data)!=null&&X.message&&(U=I.response.data.message==="Cannot delete branch with associated orders or inventory"?i.deleteRestricted:I.response.data.message),R(U),ke.error(U,{position:s?"top-right":"top-left"})}finally{_(!1)}},[e,t,i,s]),K=L.useCallback(()=>{a&&(j({type:"RESET",data:a}),c(!0),v({}),R(""))},[a]),Y=L.useCallback(()=>{y({password:"",confirmPassword:""}),h(!0),R("")},[]),W=L.useCallback(()=>{m(!0),R("")},[]),Z=L.useMemo(()=>{var ee;return[{label:i.name,value:a==null?void 0:a.name},{label:i.nameEn,value:(a==null?void 0:a.nameEn)||(a==null?void 0:a.name)},{label:i.code,value:a==null?void 0:a.code},{label:i.address,value:a==null?void 0:a.displayAddress},{label:i.addressEn,value:(a==null?void 0:a.addressEn)||(a==null?void 0:a.address)},{label:i.city,value:a==null?void 0:a.displayCity},{label:i.cityEn,value:(a==null?void 0:a.cityEn)||(a==null?void 0:a.city)},{label:i.phone,value:(a==null?void 0:a.phone)||"-"},{label:i.isActive,value:a!=null&&a.isActive?i.active:i.inactive,className:a!=null&&a.isActive?"text-green-600":"text-red-600"},{label:i.createdAt,value:a?new Date(a.createdAt).toLocaleString():"-"},{label:i.updatedAt,value:a?new Date(a.updatedAt).toLocaleString():"-"},{label:i.createdBy,value:((ee=a==null?void 0:a.createdBy)==null?void 0:ee.displayName)||"-"}]},[a,i]),ne=L.useMemo(()=>a!=null&&a.user?[{label:i.userName,value:a.user.displayName},{label:i.userNameEn,value:a.user.nameEn||a.user.name},{label:i.username,value:a.user.username},{label:i.email,value:a.user.email||"-"},{label:i.userPhone,value:a.user.phone||"-"},{label:i.userStatus,value:a.user.isActive?i.active:i.inactive,className:a.user.isActive?"text-green-600":"text-red-600"}]:[],[a,i]);return S?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(wl,{size:"lg"})}):a?d.jsxs("div",{className:`mx-auto max-w-7xl p-4 sm:p-6 min-h-screen bg-gray-50 ${s?"rtl font-arabic":"ltr font-sans"}`,children:[d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(dt,{variant:"outline",icon:U4,onClick:()=>t("/branches"),className:"bg-amber-100 text-amber-800 hover:bg-amber-200 rounded-lg px-4 py-2 transition-transform transform hover:scale-105",children:i.back}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-amber-900 flex items-center gap-2",children:[d.jsx(C0,{className:"w-8 h-8 text-amber-600"}),a.displayName]})]}),(n==null?void 0:n.role)==="admin"&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx(dt,{variant:"outline",icon:rp,onClick:K,className:"text-amber-600 hover:text-amber-800 border-amber-600 rounded-lg px-4 py-2 transition-transform transform hover:scale-105",children:i.editBranch}),d.jsx(dt,{variant:"outline",icon:q0,onClick:Y,className:"text-blue-500 hover:text-blue-700 border-blue-500 rounded-lg px-4 py-2 transition-transform transform hover:scale-105",children:i.resetPassword}),d.jsx(dt,{variant:"outline",icon:ch,onClick:W,className:"text-red-500 hover:text-red-700 border-red-500 rounded-lg px-4 py-2 transition-transform transform hover:scale-105",children:i.deleteBranch})]})]}),d.jsx(Bn,{children:T&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-8 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 shadow-sm",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:T})]})}),d.jsx(tr,{className:"p-6 bg-white rounded-lg shadow-md",children:d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center gap-2",children:[d.jsx(C0,{className:"w-5 h-5 text-amber-600"}),i.branchDetails]}),d.jsx("div",{className:"space-y-4",children:Z.map((ee,X)=>d.jsxs(wt.div,{initial:{opacity:0,x:s?20:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:X*.1},children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:ee.label}),d.jsx("p",{className:`text-gray-800 ${ee.className||""}`,children:ee.value})]},X))})]}),a.user&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center gap-2",children:[d.jsx(C0,{className:"w-5 h-5 text-amber-600"}),i.user]}),d.jsx("div",{className:"space-y-4",children:ne.map((ee,X)=>d.jsxs(wt.div,{initial:{opacity:0,x:s?20:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:X*.1},children:[d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:ee.label}),d.jsx("p",{className:`text-gray-800 ${ee.className||""}`,children:ee.value})]},X))})]})]})}),d.jsx(Fs,{isOpen:l,onClose:()=>c(!1),title:i.editBranch,size:"lg",children:d.jsxs("form",{onSubmit:C,className:"space-y-6",dir:s?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:i.branchDetails}),d.jsx(Mt,{label:i.name,value:B.name,onChange:ee=>k(ee,"name"),placeholder:i.name,required:!0,error:b.name,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.nameEn,value:B.nameEn,onChange:ee=>k(ee,"nameEn"),placeholder:i.nameEn,required:!0,error:b.nameEn,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.code,value:B.code,onChange:ee=>k(ee,"code"),placeholder:i.code,required:!0,error:b.code,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.address,value:B.address,onChange:ee=>k(ee,"address"),placeholder:i.address,required:!0,error:b.address,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.addressEn,value:B.addressEn,onChange:ee=>k(ee,"addressEn"),placeholder:i.addressEn,required:!0,error:b.addressEn,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.city,value:B.city,onChange:ee=>k(ee,"city"),placeholder:i.city,required:!0,error:b.city,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.cityEn,value:B.cityEn,onChange:ee=>k(ee,"cityEn"),placeholder:i.cityEn,required:!0,error:b.cityEn,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.phone,value:B.phone,onChange:ee=>k(ee,"phone"),placeholder:i.phone,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(es,{label:i.isActive,options:[{value:!0,label:i.active},{value:!1,label:i.inactive}],value:B.isActive,onChange:ee=>k(ee==="true","isActive"),className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:i.user}),d.jsx(Mt,{label:i.userName,value:B.user.name,onChange:ee=>k(ee,"name",!0),placeholder:i.userName,required:!0,error:b["user.name"],className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.userNameEn,value:B.user.nameEn,onChange:ee=>k(ee,"nameEn",!0),placeholder:i.userNameEn,required:!0,error:b["user.nameEn"],className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.username,value:B.user.username,onChange:ee=>k(ee,"username",!0),placeholder:i.username,required:!0,error:b["user.username"],className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.email,value:B.user.email,onChange:ee=>k(ee,"email",!0),placeholder:i.email,error:b["user.email"],className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.userPhone,value:B.user.phone,onChange:ee=>k(ee,"phone",!0),placeholder:i.userPhone,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(es,{label:i.userStatus,options:[{value:!0,label:i.active},{value:!1,label:i.inactive}],value:B.user.isActive,onChange:ee=>k(ee==="true","isActive",!0),className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]})]}),d.jsx(Bn,{children:T&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 shadow-sm",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:T})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"submit",variant:"primary",disabled:S,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:i.save}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>c(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:i.cancel})]})]})}),d.jsx(Fs,{isOpen:u,onClose:()=>h(!1),title:i.resetPassword,size:"sm",children:d.jsxs("form",{onSubmit:H,className:"space-y-6",dir:s?"rtl":"ltr",children:[d.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-6",children:[d.jsx(Mt,{label:i.newPassword,value:x.password,onChange:ee=>y({...x,password:ee}),placeholder:i.newPassword,type:"password",required:!0,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"}),d.jsx(Mt,{label:i.confirmPassword,value:x.confirmPassword,onChange:ee=>y({...x,confirmPassword:ee}),placeholder:i.confirmPassword,type:"password",required:!0,className:"border-amber-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 bg-amber-50 transition-colors"})]}),d.jsx(Bn,{children:T&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 shadow-sm",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:T})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"submit",variant:"primary",disabled:S,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:i.save}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>h(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:i.cancel})]})]})}),d.jsx(Fs,{isOpen:p,onClose:()=>m(!1),title:i.confirmDelete,size:"sm",children:d.jsxs("div",{className:"space-y-6",dir:s?"rtl":"ltr",children:[d.jsx("p",{className:"text-gray-600",children:i.deleteWarning}),d.jsx(Bn,{children:T&&d.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-3 shadow-sm",children:[d.jsx(Ar,{className:"w-5 h-5 text-red-600"}),d.jsx("span",{className:"text-red-600 font-medium",children:T})]})}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx(dt,{type:"button",variant:"danger",onClick:z,disabled:S,className:"flex-1 bg-red-600 hover:bg-red-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:i.deleteBranch}),d.jsx(dt,{type:"button",variant:"secondary",onClick:()=>m(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-amber-900 rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:i.cancel})]})]})})]}):d.jsx("div",{className:`mx-auto p-4 sm:p-6 min-h-screen bg-gray-50 ${s?"rtl font-arabic":"ltr font-sans"}`,children:d.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-semibold text-amber-900",children:i.branchNotFound}),d.jsx(dt,{variant:"primary",icon:U4,onClick:()=>t("/branches"),className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white rounded-lg px-6 py-3 shadow-md transition-transform transform hover:scale-105",children:i.back})]})})},a5e=new L_e({defaultOptions:{queries:{staleTime:5*60*1e3,retry:2},mutations:{retry:2}}});function o5e({children:e}){const{isAuthenticated:t}=ps();return t?d.jsx(d.Fragment,{children:e}):d.jsx(eN,{to:"/login",replace:!0})}function l5e(){return d.jsx(SX,{children:d.jsxs(S6,{children:[d.jsx(_n,{path:"/login",element:d.jsx(loe,{})}),d.jsx(_n,{path:"/*",element:d.jsx(o5e,{children:d.jsx(ooe,{children:d.jsxs(S6,{children:[d.jsx(_n,{path:"/",element:d.jsx(eN,{to:"/dashboard",replace:!0})}),d.jsx(_n,{path:"/dashboard",element:d.jsx(doe,{})}),d.jsx(_n,{path:"/products",element:d.jsx(poe,{})}),d.jsx(_n,{path:"/orders",element:d.jsx($8,{})}),d.jsx(_n,{path:"/orders/:id",element:d.jsx(cxe,{})}),d.jsx(_n,{path:"/orders/new",element:d.jsx(fxe,{})}),d.jsx(_n,{path:"/orders/review",element:d.jsx($8,{})}),d.jsx(_n,{path:"/returns",element:d.jsx(y3,{})}),d.jsx(_n,{path:"/returns/new",element:d.jsx(y3,{})}),d.jsx(_n,{path:"/returns/review",element:d.jsx(y3,{})}),d.jsx(_n,{path:"/production-tasks",element:d.jsx(gxe,{})}),d.jsx(_n,{path:"/branches",element:d.jsx(Oxe,{})}),d.jsx(_n,{path:"/branch-inventory",element:d.jsx(Jxe,{})}),d.jsx(_n,{path:"/branch-sales",element:d.jsx(oD,{})}),d.jsx(_n,{path:"/branch-returns",element:d.jsx(Kxe,{})}),d.jsx(_n,{path:"/branch-orders",element:d.jsx(Gxe,{})}),d.jsx(_n,{path:"/chefstatics",element:d.jsx(r5e,{})}),d.jsx(_n,{path:"/chefs",element:d.jsx(kxe,{})}),d.jsx(_n,{path:"/users",element:d.jsx(Xxe,{})}),d.jsx(_n,{path:"/profile",element:d.jsx(hoe,{})}),d.jsx(_n,{path:"/branches/:id",element:d.jsx(i5e,{})}),d.jsx(_n,{path:"/departments",element:d.jsx(Cxe,{})}),d.jsx(_n,{path:"/inventory",element:d.jsx("div",{className:"p-8 text-center",children:":  "})}),d.jsx(_n,{path:"/sales",element:d.jsx(oD,{})}),d.jsx(_n,{path:"/reports",element:d.jsx("div",{className:"p-8 text-center",children:":  "})}),d.jsx(_n,{path:"/settings",element:d.jsx("div",{className:"p-8 text-center",children:": "})})]})})})})]})})}function c5e(){return d.jsx(nJ,{children:d.jsx(rJ,{children:d.jsx(U_e,{client:a5e,children:d.jsx(ZJ,{children:d.jsxs(ete,{children:[d.jsx(l5e,{}),d.jsx(MF,{position:"top-left",autoClose:4e3,newestOnTop:!0,rtl:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",className:"font-arabic"})]})})})})})}Uj(document.getElementById("root")).render(d.jsx(L.StrictMode,{children:d.jsx(c5e,{})}));export{Bn as A,dt as B,Ar as C,Mt as I,tF as L,Fs as M,jo as P,es as S,yre as T,v_ as X,Nn as _,xte as a,cc as b,ar as c,eb as d,Yn as e,Ku as f,eE as g,d as j,wt as m,L as r,ps as u};
